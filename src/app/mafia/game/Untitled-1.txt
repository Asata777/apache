<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-US" lang="en-US">
<head>
<title>Мафия</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport" content="width=1000" />
<script type="text/javascript" src="/js/jquery-1.6.4.js"></script>
<script type="text/javascript" src="/js/jquery-ui-1.11.4.js"></script>
<script type="text/javascript" src="/js/jquery-smartupdater.js"></script>
<script type="text/javascript" src="/js/realplexor.js?13"></script>
<script type="text/javascript" src="/js/jquery-ajax-postup.js"></script>

<style>
	body { 
		-webkit-touch-callout: none;
		-webkit-text-size-adjust: none;
		-webkit-user-select: none;
		-webkit-highlight: none;
		-webkit-tap-highlight-color: rgba(0,0,0,0);
	}
</style>
<script type="text/javascript">
var isIE = (/MSIE (\d+\.\d+);/.test(navigator.userAgent) ? true : false);
var isMobile          = false; if( /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ) { isMobile = true }
var isMobileApp       = false;

var rpxMode = 0;
try{
	rpxMode = (isIE ? (XDomainRequest ? 2 : 1) : (EventSource ? 0 : 1));
}catch(e){
	rpxMode = 1;
}
//if (/GT\-S7580/.test(navigator.userAgent)) rpxMode = 1;
//if (/Android 4.2/.test(navigator.userAgent)) rpxMode = 1;

var RPX = {};

function RPX_create(idx, url, wf){
	if (RPX[idx]) return false;
	RPX[idx] = new Dklab_Realplexor(idx, url, rpxMode, null, wf);
	return true;
}

function RPX_destroy(idx){
	if (!RPX[idx]) return false;
	RPX[idx].disconnect();
	RPX[idx] = null;
	$("#rpx_frame_"+ idx).remove();
	delete RPX[idx];
	return true;
}

function RPX_shutdown(){
	for (var r in RPX) RPX_destroy(r);
	RPX = null;
	RPX = {};
}

RPX_create("def", "http://rpx.www.mafia-rules.net/", false);

function EVT_chk_backspace(e){

	if (!e)	var e = window.event;
	try{
		var _k = (navigator.appName.indexOf("Netscape") == -1 ? e.keyCode : (e.which ? e.which : null));
		if (_k != null && _k == 8){
			var _t = (e.target ? e.target : (e.srcElement ? e.srcElement : null));
			return (_t != null && (_t.tagName == 'INPUT' || _t.tagName == 'TEXTAREA') ? true : false);
		}
	}catch(_x){
	}
}

$(document).bind("contextmenu", function(e){
	if (!e) var e = window.event;
	var _t = (e.target ? e.target : (e.srcElement ? e.srcElement : null));
	return (_t != null && (_t.tagName == 'INPUT' || _t.tagName == 'TEXTAREA') ? true : false);
});

if (isIE){
	$(document).bind("selectstart", function(e){
		if (!e) var e = window.event;
		var _t = (e.target ? e.target : (e.srcElement ? e.srcElement : null));
		return (_t != null && (_t.tagName == 'INPUT' || _t.tagName == 'TEXTAREA') ? true : false);
	});
	String.prototype.trim = function() {
		return (this.replace(/^[\s\xA0]+/, '').replace(/[\s\xA0]|[\\n]+$/, '').replace(/(\&nbsp\;|\<br\>)+$/, ''));
	}
}
</script>
<script type="text/javascript" src="/js/jquery-tinyscrollbar.js?5"></script>
<script type="text/javascript" src="/js/soundmanager.js"></script>
<script type="text/javascript" src="/js/maf-ptip.js?6"></script>
<script type="text/javascript" src="/js/jquery.countdown.js?2"></script>
<script src="/js/jquery.eraser.js" type="text/javascript"></script>
<script type="text/javascript">
var evt_prefix = "arena_winter_2020";
var __ers_id = 20;
function __ERASER_throw(_i){
	var _ers_id = "ers_obj_"+ __ers_id;
	if (typeof _i == "undefined"){
		var _rnd = Math.floor((Math.random() * 6) + 1);
	}else{
		var _rnd = _i;
	}	
	var _wh = (_rnd == 7 ? 700 : 200);
	var _x = Math.floor((Math.random() * (960 - _wh)) + 1);
	var _y = Math.floor((Math.random() * (760 - _wh)) + 1);
	__ers_id ++;
	var _ers_src = '<div id="'+ _ers_id +'" class="containerEraser" style="z-index:'+ __ers_id +';width:'+ _wh +'px;height:'+ _wh +'px;left:'+ _x +'px;top:'+ _y +'px;"><img label="'+ _ers_id +'" src="/images/events/'+ evt_prefix +'/eraser/'+ _rnd +'.png?1" /></div>';
	$("body").append(_ers_src);
	var __image = $("#"+ _ers_id).children("img");
	var __ers_div = $("#"+ _ers_id);
	__image.load(function() {
		__ers_div.show(80,
			function(){
				__image.eraser({
					completeRatio: ".23",
					completeFunction: function(){
						var _eid = $(this.source).attr("label");
						$("#"+ _eid).fadeOut("slow", function(){
							$(this).remove();
						});
					}
				});
			});
	});
}
var _language = "ru";
</script>
<script type="text/javascript" src="/js/maf-autoscroll.js"></script>
<script type="text/javascript" src="/js/maf-quest.js"></script>
<script type="text/javascript" src="/js/jquery.swfobject.1-1-1.js?1"></script>
<script type="text/javascript" src="/hints/hints.js?72"></script>
<link rel="stylesheet" type="text/css" href="/templates/new.css?169" />
<link rel="stylesheet" type="text/css" href="/templates/layout.css?117" />
<link rel="stylesheet" type="text/css" href="/templates/popups.css?195" />
<link rel="stylesheet" type="text/css" href="/templates/anim.css?107" /> 
<link rel="stylesheet" type="text/css" href="/templates/bookmarks.css" />
<link href="/hints/global.css?29" rel="stylesheet" type="text/css" />
<link href="/templates/quest.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="/templates/newevents.css?49" />
<link rel="stylesheet" type="text/css" href="/templates/event_arena_winter_2020.css?10" />
<script type="text/javascript" src="/js/maf-new.js?17"></script>
<script src="/js/TweenMax.min.js"></script>
<script src="/js/CSSPlugin.min.js" async></script>
</head>

<body class=" arena_winter_2020 bigsize gray-bg" onkeydown="return EVT_chk_backspace(event)" data-mode="winter">



<script type="text/javascript">

function _EventScene(id, cmd, args){

	var _id = (!id || id == '' ? my_id : id);
	var _is_my = (_id == my_id ? true : false);
	var _cmd = (!cmd || cmd == '' ? 'def' : cmd);
	switch (_cmd){
		case 'collect':
			if (_is_my){
				var _obj = args[0];
				if ($(_obj).length){
					if (!_SOUND_err) _SOUND_arr['sfx']['collect_gift'].play();
					$(_obj).find("div.name").remove();
					$(_obj).removeClass("show").addClass("hide").animate({
						left: 0,
						top: 0
					}, 500, function() {
						$(this).remove();
						if (!$("#event_scene_"+ _id +" .itemContainer").length) {
							$("#event_scene_"+ _id +" .darkeningDiv").hide();
							$("#event_scene_"+ _id +" button.collectAll").addClass("off");
						}
						if (!$("#evt_onscreen .itemContainer").length) {
							$("#evt_onscreen button.collectAll").addClass("off");
						}
					});
				}
			}
			break;
		case 'collect_all':
			if (_is_my){
				$("#event_scene_"+ _id +" .itemContainer").each(function(){
					_EventScene(_id, "collect", [$(this)]);
				});
			}
			break;
		case 'open_items':
			//var _obj = $("#event_scene_"+ _id +" div.openChest.chest"+ _chest).parent();
			if (args.length){
				$.each(args, function(_i, _v) {
					_EventScene(_id, 'open_item', [[0, 0], _v[0], _v[1], _v[2]]);
				});
			}
			break;
		case 'open_item':
			if (_is_my){
				var _frameSizeX = 100;
				var _frameSizeY = 120;
				var _randomRangeX = 1000 - Math.floor(_frameSizeX * 1.5);
				var _randomRangeY = 750 - Math.floor(_frameSizeY * 1.5);
				function isPositionValid(randomX, randomY) {
					var isValid = true;
					$("#event_scene_"+ _id +" .itemContainer").each(function() {
						var targetX = parseInt($(this).attr("targetX"));
						var targetY = parseInt($(this).attr("targetY"));
						if ((randomX > (targetX - _frameSizeX) && randomX < targetX + _frameSizeX) && (randomY > (targetY - _frameSizeY) && randomY < targetY + _frameSizeY)){
							isValid = false;
							return false;
						}
					});
					return isValid;
				}
				var item_cnt = parseInt($("#event_scene_"+ _id +" .itemContainer").length);
				var random_X = Math.floor(Math.random() * _randomRangeX + (_frameSizeX / 2));
				var random_Y = Math.floor(Math.random() * _randomRangeY + (_frameSizeY / 2));
				while (!isPositionValid(random_X, random_Y) && item_cnt < 8){
					random_X = Math.floor(Math.random() * _randomRangeX + (_frameSizeX / 2));
					random_Y = Math.floor(Math.random() * _randomRangeY + (_frameSizeY / 2));
				}	
				var start_X = args[0][0] + 60;
				var start_Y = args[0][1] + 60;
				var isDrop = true;
				if (args[1] == 'extra'){
					_GM_action("gxt", "exts", (!$("#gxt_"+ args[2]).length ? "add" : "set"), [args[2], args[3]]);
					_GM_action("exl", "exts", "upd", [args[2]]);
					var elem = '<div class="itemContainer" targetX="'+ random_X +'" targetY="'+ random_Y +'" style="left: '+ start_X +'px; top: '+ start_Y +'px" onclick="_EventScene(\''+ _id +'\', \'collect\', [this])"><div class="borderContainer"><img src="/img/extras/'+ args[2] +'.png" class="extraIco" /><div class="border"></div></div><div class="name"><span>'+ __store[args[2]].title +'</span></div></div>';
				}else{
					switch(args[1]){
						case 'coins':
							var _t = args[2] +' монет';
							var _k = '/img/extras/onscreen/'+ (args[2] >= 500 ? 'coins_4' : (args[2] == 250 ? 'coins_3' : (args[2] == 100 ? 'coins_2' : 'coins_1'))) +'.png';
							break;
						case 'ruby':
							var _t = args[2] +(args[2] == 1 ? ' рубин' : (args[2] < 5 ? ' рубина' : ' рубинов'));
							var _k = '/img/extras/onscreen/'+ args[1] +'.png';
							break;
						case 'tal_pts':
							var _t = args[2] +' талант';
							var _k = '/img/extras/onscreen/'+ args[1] +'.png';
							if (args[3] == 1) {
								_WND_proc("are_inf", "tal_pcs");
								isDrop = false;
							}
							break;	
						case 'stars':
							var _t = args[2] +' звёзд';
							var _k = '/img/extras/onscreen/'+ args[1] +'.png';
							break;
						case 'tal_frag':
							var _t = 'Фрагмент уникального таланта';
							var _k = '/img/extras/onscreen/tal_frags.png';
							break;
						case 'tal_pcs':
							var _t = args[2] +' осколков таланта';
							var _k = '/img/extras/onscreen/'+ args[1] +'.png';
							break;	
						case 'talent':
							_EvtPopup("talent");
							isDrop = false;
							break;
						case 'coupon':
							var _t = 'Купон на мега-подарок';
							var _k = '/img/extras/onscreen/'+ args[1] +'.png';
							break;
						case 'offer':
							var _t = 'Уникальная акция';
							var _k = '/img/extras/onscreen/'+ args[1] +'.png';
							_WND_proc('offers');
							break;
						case 'uniq_e':
							_EvtPopup("emblem", args[2]);
							isDrop = false;
							break;
					}
					if (isDrop) {
						var elem = '<div class="itemContainer" targetX="'+ random_X +'" targetY="'+ random_Y +'" style="left: '+ start_X +'px; top: '+ start_Y +'px" onclick="_EventScene(\''+ _id +'\', \'collect\', [this])"><div class="borderContainer" style="padding:0 0 10px 0"><img src="'+ _k +'" /><div class="name"><span>'+ _t +'</span></div></div>';
					}
				}
				if (isDrop) {
					if ($("#event_scene_"+ _id).length){
						//$("#event_scene_"+ _id +" .darkeningDiv").show();
						$("#event_scene_"+ _id +" button.collectAll").removeClass("off");
						$(elem).appendTo("#event_scene_"+ _id +" .eventScene").addClass("show").animate({
							top: random_Y,
							left: random_X
						}, 500, "swing", function() {
							$(this).find(".name").fadeIn();
						});
					}else{
						$("#evt_onscreen button.collectAll").removeClass("off");
						$(elem).appendTo("#evt_onscreen").addClass("show").animate({
							top: random_Y,
							left: random_X
						}, 500, "swing", function() {
							$(this).find(".name").fadeIn();
						});
					}
				}
			}
			break;
		case 'shop_buy':
			if (_is_my){
				var _obj = args[2];
				if ($(_obj).parent().parent().parent().hasClass("complete")) break;
				if (!Res.buttonResponse("epicArenaToken", args[1])) {
					_OHINT('Недостаточно жетонов');
				}else{
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "evArena_shop_buy", item_id: args[0]},
						dataType: "json",
						success: function(data) {
							if (typeof data.err != "undefined"){
								switch(data.err){
									case 1: _OHINT('Недостаточно жетонов'); break;
									case 2: _OHINT('Лимит на покупку исчерпан'); break;
								}
							}
							if (typeof data.ret != "undefined"){
								if ($("#event_scene_"+ _id).length && $(_obj).length){
									if (data.ret){
										$.each(data.ret, function(_i, _v) {
											if (_v[0] == 'extra') {
												for (i = 0; i < _v[3]; i ++) _EventScene(_id, 'open_item', [[parseInt($(_obj).offset().left), parseInt($(_obj).offset().top)], _v[0], _v[1], _v[2]]);
											} else
											if (_v[0] == 'coupon') {
												for (i = 0; i < _v[1]; i ++) _EventScene(_id, 'open_item', [[parseInt($(_obj).offset().left), parseInt($(_obj).offset().top)], _v[0], _v[1], _v[2]]);
											} else {
												_EventScene(_id, 'open_item', [[parseInt($(_obj).offset().left), parseInt($(_obj).offset().top)], _v[0], _v[1], _v[2]]);
											}
										});
									}
									if (data.chs){
										updateChestAwards(data.chs);
									}
									if ($(_obj).closest('li').find('em.qty')) {
										var cnt = parseInt($(_obj).closest('li').find('em.qty').html());
										cnt --;
										$(_obj).closest('li').find('em.qty').html(cnt);
										if (cnt == 0) {
											$(_obj).closest('li').addClass('complete');
										}
									}
									if (!_SOUND_err) _SOUND_arr['sfx']['bag_open'].play();
								}
							}
							if (typeof data.tpcs != "undefined"){
								_WND_proc("are_inf", "tal_pcs");
							}
							if (typeof data.tfrgs != "undefined"){
								_EvtPopup("talent");
							}
						}
					});
				}
			}
			break;
		case 'atour_join':
			if (_is_my){
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "atour_join"},
					dataType: "json",
					success: function(data){
						if (typeof data.tcnt != "undefined"){
							$("#event_scene_"+ _id +" .joinBlock").attr("data-mode", "mode2");
							$("#event_scene_"+ _id +" .joinBlock .switch.mode2 em").html(data.tcnt);
						}
						if (typeof data.tfull != "undefined"){
							_EventScene(_id);
						}
						if (typeof data.err != "undefined"){
							switch(parseInt(data.err)){
								case 1: _OHINT('Арена сейчас закрыта. Проверьте время открытия!'); break;
								case 2: _OHINT('Вы исключены из текущего этапа Арены за неактивность!'); break;
							}
						}
					}
				});
			}
			break;
		case "collect_tok":
			if (_is_my){
				var _obj = args[0];
				if ($(_obj).length){
					if (!_SOUND_err) _SOUND_arr['sfx']['collect_gift'].play();
					$(_obj).find("div.name").remove();
					var $bar = $("#event_scene_"+ _id +" div.tokenQty");
					var barX = $bar.offset().left;
					var barY = $bar.offset().top;
					$(_obj).removeClass("show").addClass("hide").animate({
						left: barX,
						top: barY
					}, 500, function() {
						$(this).remove();
						if (!$("#event_scene_"+ _id +" .itemContainer").length) {
							$("#event_scene_"+ _id +" .darkeningDiv").hide();
						}
						Res.plus('epicArenaToken', args[1]);
					});
				}
			}
			break;
		case "open_atoken":
			if (_is_my){
				var _mx0 = hdr_offset_x + 50; var _mx1 = hdr_offset_x + 940;
				var _my0 = hdr_offset_y; var _my1 = hdr_offset_y + 600;
				var random_X = Math.floor(Math.random() * (_mx1 - _mx0 + 1)) + _mx0;
				var random_Y = Math.floor(Math.random() * (_my1 - _my0 + 1)) + _my0 + 50;
				var item_cnt = parseInt($(".itemContainer").length);
				while (!isPositionValid(random_X, random_Y) && item_cnt < 20){
					random_X = Math.floor(Math.random() * (_mx1 - _mx0 + 1)) + _mx0;
					random_Y = Math.floor(Math.random() * (_my1 - _my0 + 1)) + _my0 + 50;
				}
				function isPositionValid(randomX, randomY) {
					var isValid = true;
					$(".itemContainer").each(function() {
						var targetX = parseInt($(this).attr("targetX"));
						var targetY = parseInt($(this).attr("targetY"));
						if ((randomX > (targetX - 100) && randomX < targetX + 100) && (randomY > (targetY - 120) && randomY < targetY + 120)){
							isValid = false;
							return false;
						}
					});
					return isValid;
				}
				var start_X = 0;
				var start_Y = 0;
				$("#event_scene_"+ _id +" .darkeningDiv").show();
				var _ttl = args+ ' Жетонов';
				var _pix = '/images/events/epic_arena/scene/awards/tokens.png"';
				var elem = '<div class="itemContainer" targetX="'+ random_X +'" targetY="'+ random_Y +'" style="left: '+ start_X +'px; top: '+ start_Y +'px" onclick="_EventScene(\''+ _id +'\', \'collect_tok\', [this, '+ args +']);return false"><div class="borderContainer" style="padding:0 0 10px 0"><img src="'+ _pix +'" /><div class="name"><span>'+ _ttl +'</span></div></div>';
				$(elem).appendTo("#event_scene_"+ _id).addClass("show").animate({
						top: random_Y,
						left: random_X
					}, 500, "swing", function() {
					$(this).find(".name").fadeIn();
				});
			}
			break;
		case "take_atokens":
			if (_is_my){
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "take_atokens"},
					dataType: "json",
					success: function(data){
						if (typeof data.uniq_e != "undefined"){
							_EvtPopup("emblem", data.uniq_e);
						}
						if (typeof data.ret != "undefined"){
							_EventScene(_id, 'reload', data.ret);
						}
					}
				});
			}
			break;
		case "use_boosters":
			if (_is_my){
				var _val = ($("#event_scene_"+ _id +" #useRatingBooster").is(":checked") ? 1 : 0);
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "evArena_use_boosters", val: _val},
					dataType: "json"
				});
			}
			break;
		case 'reload':
		case 'def':
			if (_is_my && my_play_c < 12){
				_OHINT(MainMenu.gamesLeftText(12, my_play_c)); 
				return false;
			} 
			$.ajax({
				async: false,
				cache: false,
				type: "POST",
				url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
				data: {method: "evArena_scene", id: _id},
				dataType: "json",
				success: function(data) {
					if (typeof data.err != "undefined"){
						switch (data.err){
							case 'blocked':
								_OHINT('Вы не можете просмотреть раздел, игрок вас заблокировал!');
								break;
							case 'hidden':
								_OHINT('Вы не можете смотреть этот раздел пока игрок в партии!');
								break;
						}
						$("#event_scene_"+ _id).remove();
					}else if (typeof data.aret != "undefined"){
						var _init = false;
						if (!$("#event_scene_"+ _id).length){
							$("#popup_container").append('<div id="event_scene_'+ _id +'" class="popup-move eventPopup fullScreenPopup not-displayed'+ (_is_my ? '' : ' notMy') +'">'+
								'<a href="#" onclick="$(\'#event_scene_'+ _id +'\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" hidefocus="true" class="popupClose2"></a>'+
								'<div class="darkeningDiv"></div>'+
								'<div class="eventScene arenaScreen tournament">'+
								'</div>'+
								'<button onclick="_EventScene(\''+ _id +'\', \'collect_all\');return false" ondblclick="return false" hidefocus="true" class="cssGreenButton2 collectAll off">Собрать всё</button>'+
							'</div>');
							$("#event_scene_"+ _id).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							});
							_init = true;
						}else{
							$("#event_scene_"+ _id).mousedown();
						}
						var _cdn = -1;
						var _mode = 0;
						if (data.aret[0] == 'run' || data.aret[0] == 'fin'){
							_mode = 1;
							var _list = '';
							var _my_dt = [0, 0, 0];
							$.each(data.aret[3], function(_i, _row){
								if (_row[0] == my_id) _my_dt = [(_i + 1), _row[2], _row[4]];
								_list += '<tr'+ (_row[0] == my_id ? ' class="my"' : '') +'>'+
									'<td><div class="num">'+ (_i + 1) +'.</div></td>'+
									'<td class="playerName">'+
										'<div class="playerData'+ (_row[6] > 0 ? ' online' : '') +'">'+
											'<span class="playerNick" onclick="_PRF(\''+ _row[0] +'\');return false">'+ _row[1] +'</span>'+
											(clx_data[_row[5]] ? '<span class="playerClan"> '+ (clx_data[_row[5]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[5]][0] +'.gif" alt="" class="clanIco">' : '') + (clx_data[_row[5]][1] != '' ? '<span class="abbr">'+ clx_data[_row[5]][1] +'</span>' : '') +'</span>' : '')+
										'</div>'+
									'</td>'+
									'<td class="games">'+ _row[2] +'</td>'+
									'<td>'+ _row[3] +'</td>'+
								'</tr>';
							});
							var _tok_places = data.aret[4];
							var _tok_wins = [(typeof _tok_places[_my_dt[0]] != "undefined" ? _tok_places[_my_dt[0]] : 0), 0, 0];
							var _tg_data = '';
							_tok_wins[1] = (_my_dt[1] * 5);
							_tok_wins[2] = (_my_dt[2] * 5);
							var _tok_win = (_tok_wins[0] + _tok_wins[1] + _tok_wins[2]);
							var _html = '<div class="leftBlock">'+
								'<h3 class="arenaHeader yellow">Топ участников</h3>'+
								'<h2>Играйте игры на Арене для получения рейтинга</h2>'+
								'<div class="endArenaTimer">'+
									'Турнир закончится через: '+
									'<div id="cdn_tournament_timer" class="shortTimer">'+
										'<p class="off"><span class="hours"></span><em>ч</em></p>'+
										'<p><span class="minutes"></span><em>м</em></p>'+
										'<p><span class="seconds"></span><em>с</em></p>'+
									'</div>'+
								'</div>'+
								'<div class="scrollContainer">'+
									'<table class="arenaTop">'+
										'<tr>'+
											'<th class="place">Место</th>'+
											'<th class="playerName">Игрок</th>'+
											'<th class="games">Сыграно игр</th>'+
											'<th>Рейтинг</th>'+
										'</tr>'+
										_list +
									'</table>'+
								'</div>'+
							'</div>'+
							'<div class="rightBlock" data-mode="mode'+ (data.aret[0] == 'fin' ? '1' : '3') +'">'+
								'<div class="content">'+
									'<div class="switch mode1">'+
										'<h2>Битва окончена!<br />Пора забирать полученные жетоны!</h2>'+
										'<ul class="arenaTokenAward">'+
											'<li>'+
												'<div>Место в топе: '+ _my_dt[0] +'</div>'+
												'<em class="tokenQty">'+ _tok_wins[0] +'</em>'+
											'</li>'+
											'<li>'+
												'<div>Игр сыграно: '+ _my_dt[1] +'</div>'+
												'<em class="tokenQty">'+ _tok_wins[1] +'</em>'+
											'</li>'+
										'</ul>'+
										'<div class="tokenAward">'+
											'<em class="tokenQty">'+ _tok_win +'</em>'+
											'жетонов арены'+
											'<button class="cssGreenButton2 sizeXXXX" ondblclick="return false" onclick="_EventScene(\''+ _id +'\', \'take_atokens\');return false" hidefocus="true">'+ (_tok_win > 0 ? 'Забрать жетоны' : 'Завершить турнир') +'</button>'+
										'</div>'+
									'</div>'+
									'<div class="switch mode3">'+
										'<h4>По итогам арены игроки получают жетоны<br />за занятые места и сыгранные игры</h4>'+
										'<div class="tokenInfo left">'+
											'<h5>Жетоны за место в топе:</h5>'+
											'<ul class="placeTokenInfo">'+
												'<li>1 место <em class="tokenQty">'+ _tok_places[1] +'</em></li>'+
												'<li>2 место <em class="tokenQty">'+ _tok_places[2] +'</em></li>'+
												'<li>3 место <em class="tokenQty">'+ _tok_places[3] +'</em></li>'+
												'<li>4-6 место <em class="tokenQty">'+ _tok_places[4] +'</em></li>'+
												'<li>7-9 место <em class="tokenQty">'+ _tok_places[7] +'</em></li>'+
											'</ul>'+
										'</div>'+
										'<div class="tokenInfo right">'+
											'<h5 style="text-align: center">За каждую игру вы получаете жетоны</h5>'+
											'<img src="/images/events/epic_arena/scene/tokens.png" style="margin-top: -33px" />'+
											'<div style="font-size: 35px; font-weight: bold; text-align: center; margin-top: -39px; padding-right: 12px">+5</div>'+
										'</div>'+
										'<div class="arenaExtraBlock">'+
											'<h3 style="margin-bottom: 0;">Экстры арены</h3>'+
											'<ul class="arenaExtrasList">'+
												'<li>'+
													'<div class="extraTemplate">'+
														'<div id="exl_320" class="extraIco hoverGlow" ondblclick="return false" onclick="_WND_proc(\'extras\', \'buy\', {id: 320}, event);return false" hidefocus="true" label="">'+
															'<img src="/img/extras/320.png" class="ico">'+
															'<span class="count">'+ ($("#gxt_320").length ? parseInt($("#gxt_320").attr("label")) : '') +'</span>'+
															'<div class="hover-hint">'+ __store[320].descr +' 10шт.<div class="arrow"></div></div>'+
														'</div>'+
														'<p class="name">'+ __store[320].title +'</p>'+
														'<em class="price ruby">10</em>'+
													'</div>'+
												'</li>'+
											'</ul>'+
											'<div style="text-align: center; margin-top: 7px"><input type="checkbox" id="useRatingBooster" onclick="_EventScene(\''+ _id +'\', \'use_boosters\');" style="vertical-align: -2px" '+ (parseInt(data.ret[4]) ? ' checked' : '') +' /><label for="useRatingBooster" style="cursor: pointer">Использовать бустеры на рейтинг</label></div>'+
										'</div>'+
									'</div>'+
								'</div>'+
							'</div>';
							_cdn = parseInt(data.aret[2]);
							if (_cdn < 0) _cdn = 0;
							$("#roomsListContainer .roomsList .arenaRoom .gamesQty span").html(_my_dt[1]);
							$("#roomsListContainer .roomsList .arenaRoom .players span").html('');
							if ($("#roomsListContainer .roomsList").attr("data-arena") == "false"){
								$("#roomsListContainer .roomsList").attr("data-arena", "true");
								$("#roomsListContainer .roomsList .arenaRoom").removeClass("off");
								$("#cdn_atour_timer").countdown(data.aret[2] * 1000, function(event) {
									if (event.type == "finished"){
										$("#roomsListContainer .roomsList .arenaRoom").addClass("off");
										$("#roomsListContainer .roomsList").attr("data-arena", "false");
									}
								});
							}
						}else{
							var _tokens = parseInt(data.ret[0]);
							var _prc = Math.min(100, Math.round(data.ret[1] / 30 * 100));
							var _html = '<div class="epicArenaScene">'+
								'<h1>Эпическая арена</h1>'+
								'<div class="rules">В Эпической Арене игроки могут встретить разные ивентовые роли, играющие друг против друга.</div>'+
								'<div class="tokenQty">'+
									'<p>Ваши Жетоны арены:</p>'+
									'<em class="tokenCurrQty">'+ _tokens +'</em>'+
								'</div>'+
								'<div class="joinBlock asTable" data-mode="mode'+ (data.aret[0] == 'init' ? '2' : '1') +'">'+
									'<div class="asCell">'+
										'<div class="switch mode1">'+
											'<button class="join'+ (!_is_my ? ' grayscale' : '') +'" onclick="_EventScene(\''+ _id +'\', \'atour_join\');">Принять участие</button>'+		
										'</div>'+
										'<div class="switch mode2">'+
											'<h4><span>Идёт поиск игроков для арены:</span> <em>'+ data.aret[2] +'</em> / '+ data.aret[1] +'</h4>'+
											'<img src="/img/popups/arena/loading.png" class="loadingIco" />'+
										'</div>'+
									'</div>'+
								'</div>'+
								'<div class="progressBlock" data-complete="'+ (_prc >= 100 ? 'true' : 'false') +'">'+
									'<div class="progressRules">Займи 1-9 места в 30 турнирах для получения эмблемы!</div>'+
									'<div class="progressBar"><div class="progress" style="width: '+ _prc +'%;"></div><span class="progressText"><em class="current">'+ data.ret[1] +'</em><span class="separator">/</span><em class="need">30</em></span><div class="startIco"></div><div class="endIco"></div></div>'+
								'</div>'+
								'<div class="shopBlock">'+
									'<p class="header">Магазин Эпической Арены</p>'+
									'<ul class="shopList">'+
										'<li>'+
											'<p class="available">доступно: <em class="qty">'+ data.shop_limits[0] +'</em></p>'+
											'<div class="asTable awardImg"><div class="asCell"><div class="extraIco hoverGlow withFrame" data-size="3" ondblclick="return false" onclick="_EventScene(\''+ _id +'\', \'shop_buy\', [0, '+ data.shop_prices[0] +', this]);return false" hidefocus="true" label=""><img src="/img/extras/extra_event.png" class="ico"></div></div></div>'+
											'<p class="name">3 ивентовые экстры</p>'+
											'<em class="price">'+ data.shop_prices[0] +'</em>'+
										'</li>'+
										'<li>'+
											'<p class="available">доступно: <em class="qty">'+ data.shop_limits[1] +'</em></p>'+
											'<div class="asTable awardImg"><div class="asCell"><div class="extraIco hoverGlow withFrame" data-size="3" ondblclick="return false" onclick="_EventScene(\''+ _id +'\', \'shop_buy\', [1, '+ data.shop_prices[1] +', this]);return false" hidefocus="true" label=""><img src="/img/extras/coins.png" class="ico"></div></div></div>'+
											'<p class="name">500 монет</p>'+
											'<em class="price">'+ data.shop_prices[1] +'</em>'+
										'</li>'+
										'<li>'+
											'<p class="available">доступно: <em class="qty">'+ data.shop_limits[2] +'</em></p>'+
											'<div class="asTable awardImg"><div class="asCell"><div id="exl_123" class="extraIco hoverGlow withFrame" data-size="3" ondblclick="return false" onclick="_EventScene(\''+ _id +'\', \'shop_buy\', [2, '+ data.shop_prices[2] +', this]);return false" hidefocus="true" label=""><img src="/img/extras/stars.png" class="ico"></div></div></div>'+
											'<p class="name">50 Звёзд</p>'+
											'<em class="price">'+ data.shop_prices[2] +'</em>'+
										'</li>'+
										'<li>'+
											'<p class="available">доступно: <em class="qty">'+ data.shop_limits[3] +'</em></p>'+
											'<div class="asTable awardImg"><div class="asCell"><div class="extraIco hoverGlow withFrame" data-size="3" ondblclick="return false" onclick="_EventScene(\''+ _id +'\', \'shop_buy\', [3, '+ data.shop_prices[3] +', this]);return false" hidefocus="true" label=""><img src="/img/extras/tal_pcs.png" class="ico"></div></div></div>'+
											'<p class="name">10 Осколков</p>'+
											'<em class="price">'+ data.shop_prices[3] +'</em>'+
										'</li>'+
										'<li>'+
											'<p class="available">доступно: <em class="qty">'+ data.shop_limits[4] +'</em></p>'+
											'<div class="asTable awardImg"><div class="asCell"><div class="extraIco hoverGlow withFrame" data-size="3" ondblclick="return false" onclick="_EventScene(\''+ _id +'\', \'shop_buy\', [4, '+ data.shop_prices[4] +', this]);return false" hidefocus="true" label=""><img src="/img/extras/rubys2.png" class="ico"></div></div></div>'+
											'<p class="name">3 рубина</p>'+
											'<em class="price">'+ data.shop_prices[4] +'</em>'+
										'</li>'+
										'<li>'+
											'<p class="available">бесконечно</p>'+
											'<div class="asTable awardImg"><div class="asCell"><div class="extraIco hoverGlow withFrame" data-size="3" ondblclick="return false" onclick="_EventScene(\''+ _id +'\', \'shop_buy\', [5, '+ data.shop_prices[5] +', this]);return false" hidefocus="true" label=""><img src="/img/extras/chest1.png" class="ico"></div></div></div>'+
											'<p class="name">Эпический сундук</p>'+
											'<em class="price">'+ data.shop_prices[5] +'</em>'+
										'</li>'+
									'</ul>'+
								'</div>'+
								'<div class="itemAwardsBlock">'+
									'<h3>'+
										'В Эпическом сундуке есть шанс найти:'+
									'</h3>'+		
									'<ul class="awardsList">'+
										'<li>'+
											'<div class="asTable awardImg hoverHint" data-tip="<h2>Тройной бюрократ</h2>Шанс +3/6/9/12/15% лишить игрока голоса на 3 дня при помощи экстры «Бюрократ».<br/><br/>Уникальный талант собирается в виде фрагментов уникального таланта, которые можно найти только в Эпическом сундуке."><div class="asCell"><img src="/images/events/epic_arena/scene/awards/1.png" /></div></div>'+
											'<p class="name">Уникальный талант</p>'+
											'<p class="qty"><em class="qty fragments current">0</em>/<em class="need">5</em></p>'+
										'</li>'+
										'<li>'+
											'<div class="asTable awardImg"><div class="asCell"><img src="/images/events/epic_arena/scene/awards/2.png?2" /></div></div>'+
											'<p class="name">10 купонов на мега-подарки</p>'+
											'<p class="qty"><em class="qty current">3</em>/<em class="need">3</em></p>'+
										'</li>'+
										'<li>'+
											'<div class="asTable awardImg hoverHint" data-tip="<h2>Супер Маньяк:</h2> До конца партии при игре за Маньяка: ваш ночной ход становится мгновенным и пробивным (игнорирует маску, доктора и комиссара). Шанс сбежать из тюрьмы становится 75%, шанс воскреситься становится 75%. Шансы не суммируются с другими талантами или усилениями."><div class="asCell"><img src="/images/events/epic_arena/scene/awards/3.png" /></div></div>'+
											'<p class="name">Мега экстра «Супер Маньяк» 5 шт.</p>'+
											'<p class="qty"><em class="qty current">3</em>/<em class="need">3</em></p>'+
										'</li>'+
										'<li>'+
											'<div class="asTable awardImg"><div class="asCell"><img src="/images/events/epic_arena/scene/awards/4.png" /></div></div>'+
											'<p class="name">Случайные ивент экстры<br>20 шт.</p>'+
											'<p class="qty"><em class="qty current">3</em>/<em class="need">3</em></p>'+
										'</li>'+
										'<li class="big glowBg">'+
											'<div class="asTable awardImg hoverHint" data-tip="Акция: 110 рубинов + 250 звёзд (В 2 раза больше рубинов + звёзды)"><div class="asCell"><img src="/images/events/epic_arena/scene/awards/5.png" /></div></div>'+
											'<p class="name">Уникальная акция</p>'+
										'</li>'+
										'<li>'+
											'<div class="asTable awardImg"><div class="asCell"><img src="/images/events/epic_arena/scene/awards/6.png" /></div></div>'+
											'<p class="name">+1 талант</p>'+
											'<p class="qty"><em class="qty current">3</em>/<em class="need">3</em></p>'+
										'</li>'+
										'<li>'+
											'<div class="asTable awardImg"><div class="asCell"><img src="/images/events/epic_arena/scene/awards/7.png" /></div></div>'+
											'<p class="name">10000 монет</p>'+
											'<p class="qty"><em class="qty current">3</em>/<em class="need">3</em></p>'+
										'</li>'+
										'<li>'+
											'<div class="asTable awardImg"><div class="asCell"><img src="/images/events/epic_arena/scene/awards/8.png" /></div></div>'+
											'<p class="name">25 рубинов</p>'+
											'<p class="qty"><em class="qty current">3</em>/<em class="need">3</em></p>'+
										'</li>'+
										'<li>'+
											'<div class="asTable awardImg"><div class="asCell"><img src="/images/events/epic_arena/scene/awards/9.png" /></div></div>'+
											'<p class="name">250 звезд достижений</p>'+
											'<p class="qty"><em class="qty current">3</em>/<em class="need">3</em></p>'+
										'</li>'+
										'<li class="big">'+
											'<div class="asTable awardImg"><div class="asCell"><img src="/images/events/epic_arena/scene/awards/10.png" /></div></div>'+
											'<p class="talent">Особая эмблема</p>'+
										'</li>'+
									'</ul>'+
								'</div>'+
								'<div class="buyBlock">'+
									'<ul class="buyCardsList">'+
										'<li>'+
											'<p><em>+'+ data.prices.tokens[0] +'</em> жетонов арены</p>'+
											'<button class="button50px" '+ (_is_my ? 'onclick="_EvtBuyTokens(0, this)"' : '') +'><em class="ruby">'+ data.prices.price[0] +'</em></button>'+
										'</li>'+
										'<li>'+
											'<p><em>+'+ data.prices.tokens[1] +'</em> жетонов арены</p>'+
											'<button class="button50px" '+ (_is_my ? 'onclick="_EvtBuyTokens(1, this)"' : '') +'><em class="ruby">'+ data.prices.price[1] +'</em></button>'+
										'</li>'+
										'<li>'+
											'<p><em>+'+ data.prices.tokens[2] +'</em> жетонов арены</p>'+
											'<button class="button50px" '+ (_is_my ? 'onclick="_EvtBuyTokens(2, this)"' : '') +'><em class="ruby">'+ data.prices.price[2] +'</em></button>'+
										'</li>'+
									'</ul>'+
								'</div>'+
							'</div>';
						}
						$("#event_scene_"+ _id +" .eventScene").html(_html);
						if (_cdn >= 0){
							$('div#cdn_tournament_timer').countdown(_cdn * 1000, function(event) {});
						}
						if (_init){
							$("#event_scene_"+ _id).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}
						if (!_mode){
							updateShopItemsStates(data.ret[2]);
							updateChestAwards(data.ret[3]);
							if (cmd == 'reload'){
								_tokens -= parseInt(args[0]);
							}
							Res.set('epicArenaToken', _tokens);
							ptip.init('.eventPopup .hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause', pause_show: 350});
							if (cmd == 'reload'){
								$.each(args[1], function(_i, _v) {
									_EventScene(_id, "open_atoken", _v);
								});
								if (parseInt(args[0]) > 0) {
									if (!_SOUND_err) _SOUND_arr['sfx']['bag_open'].play();
								}
							}
						}
						$(".eventHintHover:not(.done)").hover(
							function() {
								$(this).find(".eventHint").stop(true, true).fadeIn();
							}, function() {
								$(this).find(".eventHint").hide();
							}
						);
					}
				}
			});
			break;
	}
}

function _EventShop(){

	function __renderShopExtra(_i, _dsc, _class){
	
		var _s = '';
		if (__store[_i]){
			var _row = __store[_i];
			if (_row.type == "extra" && typeof _row.clan == "undefined"){
				var _d = '';
				if ($("#gxt_"+ _i).length){
					_d = $("#gxt_"+ _i).html();
				}else{
					_d = '<img src="/img/extras/'+ _i +'.png" class="ico" />';
					_d += '<div class="hover-hint">'+__store[_i].descr + (typeof __store[_i].qty != "undefined" && parseInt(__store[_i].qty) > 1 ? '<br />'+ __store[_i].qty + ' шт.' : '') + (typeof __store[_i].interval != "undefined" ? '<br />'+ __ext_interval_parse(__store[_i].interval) : '') +'<div class="arrow"></div></div>';
				}
				if (_row.method == 'gold_profile'){
					_s += '<li class="bigSlot bank goldprofile" ondblclick="return false" onclick="_WND_proc(\'extras\', \'gold_profile\', {id: '+ _i +'}, event);return false">'+
						'<div id="exl_'+ _i +'" class="not-displayed" label="">'+ _d +'</div>'+
						'<h2>'+ _row.title +'</h2>'+
						'<p id="exi_'+ _i +'" class="info">'+ ($("#gxt_"+ _i).length ? 'Активно: '+ $("#gxt_"+ _i).find(".count.time").html() : 'Получайте больше монет и опыта!') +'</p>'+
						'<button hidefocus="true">Подробнее</button>'+
					'</li>' +"\n";
				}else{
					var _prc = '<img src="/images/icons/coin-micro.png" alt="" /> '+ (_i == _dsc[0] || _i == _dsc[1] ? '<s>'+ _row.price +'</s> '+ Math.round(_row.price / 2) : _row.price);
										if (typeof e_buy_data != "undefined" && typeof e_buy_data[_i] != "undefined"){
						_prc = '<img src="/images/icons/ruby-micro.png" style="vertical-align:-4px" alt="" /> '+ e_buy_data[_i][0];
					}
										_s += '<li class="'+ (typeof _class != "undefined" ? _class : '') + (_row.only && _row.only == "chat" ? ' only-chat' : '') + (_i == _dsc[0] || _i == _dsc[1] ? ' discount' : '') +'">'+
							(_i == _dsc[0] || _i == _dsc[1] ? '<div class="discount"></div>' : '')+
							'<div id="exl_'+ _i +'" class="extraIco" ondblclick="return false" onclick="_WND_proc(\'extras\', \''+ (_row.method ? _row.method : 'buy') +'\', {id: '+ _i +'}, event);return false"  hidefocus="true" label="">'+ _d +'</div>'+
							'<p class="name">'+ _row.title +'</p>'+
							'<p class="price">'+
								_prc+								
							'</p>'+
						'</li>' +"\n";
				}
			}
		}
		return _s;
	}

	if (!$("#wnd_extras").length){
		$.ajax({
			async: true,
			cache: false,
			type: "POST",
			url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
			data: {method: "extras"},
			dataType: "json",
			success: function(data) {
				var _dsc = [0, 0];
				if (typeof data.dsc != "undefined") _dsc = data.dsc;
				_WARN("extras");
				var _s = "";
				if (typeof data.vis_st != "undefined"){
					$.each(data.vis_st, function(_k, _v){ 
						var _i = parseInt(_v.substr(1));
						_s += __renderShopExtra(_i, _dsc);
					});
				}
								_s += '<li class="bigSlot bank" ondblclick="return false" onclick="_WND_proc(\'extras\', \'bank_m\', false, event);return false"><h2>Банк Мафии</h2><p class="info">'+ (typeof data.sub_exp != "undefined" ? 'Подписка активна до: '+ data.sub_exp : 'Тебя ждут монеты и рубины каждый день!') +'</p><button>Подробнее</button></li>';
								var _rot = '';
				if (typeof data.rot != "undefined"){
					$.each(data.rot, function(_k, _v){ 
						_rot += __renderShopExtra(_v, _dsc, 'num'+ (_k + 1));
					});
				}
				$("#popup_container").append('<div id="wnd_extras" class="shopPopup fullScreenPopup arena_winter_2020 not-displayed">'+
						'<div class="header">'+
							'<div class="balance popupBalance">'+
								'У вас:<img src="/images/icons/coin.png" style="margin-left: 10px" alt="" /> <span class="coin">'+ $(".profileBlock").find("span.moneyBalance").html() +'</span>'+
																'<img src="/images/icons/ruby-micro.png" style="margin-left: 10px" alt="" /> <span class="ruby">'+ $(".profileBlock").find("span.rubyBalance").html() +'</span>'+
															'</div>'+
						'</div>'+
						'<div id="eventShop">'+
							'<ul id="eventExtrasList" class="eventExtras">'+
								_rot +
								'<li class="num3">'+
									'<p class="name">Жетоны арены</p><div class="qty">+'+ data.prices.tokens[0] +'</div><button onclick="_EvtBuyTokens(0, this);return false" ondblclick="return false" hidefocus="true" class="newButton size1"><em class="ruby">'+ data.prices.price[0] +'</em></button>'+
								'</li>'+
								'<li class="num4">'+
									'<p class="name">Жетоны арены</p><div class="qty">+'+ data.prices.tokens[1] +'</div><button onclick="_EvtBuyTokens(1, this);return false" ondblclick="return false" hidefocus="true" class="newButton size1"><em class="ruby">'+ data.prices.price[1] +'</em></button>'+
								'</li>'+
								'<li class="num5">'+
									'<p class="name">Жетоны арены</p><div class="qty">+'+ data.prices.tokens[2] +'</div><button onclick="_EvtBuyTokens(2, this);return false" ondblclick="return false" hidefocus="true" class="newButton size1"><em class="ruby">'+ data.prices.price[2] +'</em></button>'+
								'</li>'+
							'</ul>'+
							'<div class="achRubyBlock">'+
								'<h3>Закажите экстр на 100 рубинов из блока выше и получите +150 звёзд!</h3>'+
								'<div class="progressBar achRubyBar">'+
									'<div class="progress" style="width:0%"></div>'+
									'<span class="progressText"><em class="current">0</em> / <em class="need">100</em></span>'+
									'<img src="/images/events/lili/popups/ruby-ico.png" class="ico1" />'+
									'<div class="achStars"><em>+150</em></div>'+
								'</div>'+
							'</div>'+
						'</div>'+
						'<ul class="extraShopList'+(ifc_mode != "chat" ? ' not-chat' : '')+'" ">'+ _s +'</ul>'+
						'<a href="#" onclick="_WND_proc(\'\', \'close\', \'extras\');return false" class="popupClose2" hidefocus="true"></a>'+
				'</div>');
				_WND_proc("extras", "ua_bar", (typeof data.sale != "undefined" ? parseInt(data.sale) : 0));
				ptip.init('.hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause'});

				$("#wnd_extras").mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
				});

			}
		});
	}else{
		$("#wnd_extras").mousedown();
	}
}

function _EvtCollectOnScreenObj(obj, to_X, to_Y){
	
	if ($(obj).length){
		if (!_SOUND_err) _SOUND_arr['sfx']['collect_gift'].play();
		$(obj).removeClass("show").addClass("hide").animate({
			left: (typeof to_X != "undefined" ? to_X : 0),
			top: (typeof to_Y != "undefined" ? to_Y : 0)
		}, 500, function() {
			$(this).remove();
			if (!$("#evt_onscreen .itemContainer").length){
				$("#evt_onscreen button.collectAll").addClass("off");
			}
		});
	}
}

function _EvtCollectOnScreenAll(){

	if ($("#bt_events").length){
		var _to_X = parseInt($("#bt_events").offset().left);
		var _to_Y = parseInt($("#bt_events").offset().top);
	}else{
		var _to_X = 0;
		var _to_Y = 0;
	}
	$("#evt_onscreen .itemContainer").each(function(){
		_EvtCollectOnScreenObj($(this), _to_X, _to_Y);
	});
}

function _EvtPrizeOnScreen(cnt, start_X, start_Y){

	if (!_SOUND_err) _SOUND_arr['sfx']['extra_megaextra'].play();

	var _frameSizeX = 100;
	var _frameSizeY = 120;
	var _randomRangeX = 1000 - Math.floor(_frameSizeX * 1.5);
	var _randomRangeY = 750 - Math.floor(_frameSizeY * 1.5);
	
	if ($("#bt_events").length){
		var _to_X = parseInt($("#bt_events").offset().left);
		var _to_Y = parseInt($("#bt_events").offset().top);
	}else{
		var _to_X = 0;
		var _to_Y = 0;
	}
	
	function isPositionValid(randomX, randomY) {
		var isValid = true;
		$("#evt_onscreen .itemContainer").each(function() {
			var targetX = parseInt($(this).attr("targetX"));
			var targetY = parseInt($(this).attr("targetY"));
			if ((randomX > (targetX - _frameSizeX) && randomX < targetX + _frameSizeX) && (randomY > (targetY - _frameSizeY) && randomY < targetY + _frameSizeY)){
				isValid = false;
				return false;
			}
		});
		return isValid;
	}
	
	var _ttl = cnt +' '+ _postfix(['жетонов','жетон','жетона'], cnt);
	var _items_cnt = parseInt($("#evt_onscreen .itemContainer").length);
	var _x = Math.floor(Math.random() * _randomRangeX + (_frameSizeX / 2));
	var _y = Math.floor(Math.random() * _randomRangeY + (_frameSizeY / 2));
	while (!isPositionValid(_x, _y) && _items_cnt < 10){
		_x = Math.floor(Math.random() * _randomRangeX + (_frameSizeX / 2)); 
		_y = Math.floor(Math.random() * _randomRangeY + (_frameSizeY / 2));
	}
	var elem = '<div class="itemContainer" targetX="'+ _x +'" targetY="'+ _y +'" style="left: '+ start_X +'px; top: '+ start_Y +'px" onclick="_EvtCollectOnScreenObj(this, '+ _to_X +', '+ _to_Y +');return false"><div class="borderContainer" style="padding:0 0 10px 0"><img src="/images/events/epic_arena/scene/awards/tokens.png" /><div class="name"><span>'+ _ttl +'</span></div></div>';
	_items_cnt ++;
	$(elem).appendTo("#evt_onscreen").addClass("show").animate({
		top: _y,
		left: _x
	}, 500, "swing", function() {
		$(this).find(".name").fadeIn();
		if (_items_cnt >= 3){
			$("#evt_onscreen button.collectAll").removeClass("off");
		}
	});
}

function _EvtBuyTokens(type, obj){

	$.ajax({
		async: true,
		cache: false,
		type: "POST",
		url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
		data: {method: "evArena_buy_tokens", type: type},
		dataType: "json",
		success: function(data) {
			if (typeof data.ret != "undefined"){
				if ($('#event_scene_'+ my_id).length) {
					Res.add({type:'epicArenaToken', qty: data.ret[1], start: obj}, {limit: 20});
					_SOUND_arr['sfx']['extra_megaextra'].play();
				} else {
					_EvtPrizeOnScreen(data.ret[0], 0, 0);
				}
			}
			if (typeof data.err != "undefined"){
				_OHINT('Недостаточно рубинов');
				_WND_proc('ruby_buy');
			}
			if (typeof data.uaret != "undefined"){
				_WND_proc("extras", "ua_bar", data.uaret);
			}
		}
	});
}

function _EvtPopupClose(cmd){
	
	if ($("#evt_popup_"+ cmd).length){
		$("#evt_popup_"+ cmd).hide("fade", 100, function(){
			$(this).remove();
			_CHT_focus();
		});
	}
}


function _EvtPopup(cmd, args, evt){

	if (!$("#evt_popup_"+ cmd).length){
		var _body = '';
		var _class = '';
		var _button_timer = 1000;
		var _on_click = '';
		var _close = true;
		var _style = false;
		var _transparent = false;
		switch (cmd){
			case "emblem":
				var _emblem = '';
				switch (args){
					case 1:
						_body = '<h1><em>Награда получена!</em></h1><div class="bottomInfo">Награда: Эмблема!</div>';
						_class = "emblemPopup emblem1";
						break;
					case 2:
						_body = '<h1><em>Награда получена!</em></h1><div class="bottomInfo">Награда: Особая эмблема</div>';
						_class = "emblemPopup emblem2";
						break;
				};
				break;
			case "talent":
				_body = '<h1><em>Фрагменты таланта собраны!</em></h1><div class="bottomInfo">Награда: Уникальный талант</div>';
				_class = "talentPopup";
				break;
			case "start":
				_body = '<h1><em>Турнир начался! Пора в бой на Арену!</em></h1>';
				_class = "startPopup";
				_on_click = '_EventScene();';
				break;
			case "finish":
				_body = '<h1><em>Турнир окончен! Время забирать награду!</em></h1>';
				_class = "finishPopup";
				_on_click = '_EventScene();';
				break;
			default:
				return;
		}
		$("#popup_container").append('<div id="evt_popup_'+ cmd +'" class="popup-move '+ (_transparent ? '' : ' popupShadowNew') +' stepPopup '+ _class +' not-displayed" '+ (_style ? 'style="'+ _style +'"' : '') +'>'+
			_body +
			'<div class="footerButtons">'+
				'<button onclick="'+ _on_click +'_EvtPopupClose(\''+ cmd +'\');return false" ondblclick="return false" class="newButton color1 not-active" hidefocus="true">Продолжить</button>'+
			'</div>'+
			(_close ? '<a href="#" class="popupClose" onclick="_EvtPopupClose(\''+ cmd +'\');return false"></a>' : '')+
		'</div>');
		//console.log("t", $("#evt_popup_"+ cmd).css("left"));
		if ($("#evt_popup_"+ cmd).css("left") == "auto"){
			$("#evt_popup_"+ cmd).css("left", (parseInt($("#rootContainer").outerWidth()) - parseInt($("#evt_popup_"+ cmd).outerWidth())) / 2 +"px");
		}
		
		$("#evt_popup_"+ cmd).draggable({
			containment: "document",
			cancel: "button,.popupClose",
			zIndex: 100,
			stop: function(){
				$(this).mousedown();
			}
		}).mousedown(function(){
			var _i = $(this).attr("id");
			var _z = _POPUP_resort("popup-move", _i);
			$(this).css("z-index", _z);
		}).show("fade", 100, function(){
			$(this).removeClass("not-displayed");
			$(this).mousedown();
			$(this).css("top", ((parseInt($("#rootContainer").outerHeight()) - parseInt($(this).outerHeight())) >>1 ) +"px");
		});
		setTimeout(function(){
			$("#evt_popup_"+ cmd).find("button").removeClass("not-active");
		}, _button_timer);
	}else{
		$("#evt_popup_"+ cmd).mousedown();
	}
}

function updateShopItemsStates(items) {
	var idx = 0;
	$('#popup_container div.shopBlock li').each(function(){
		if ($(this).find('em.qty').length) {
			var cnt = parseInt($(this).find('em.qty').html());
			cnt -= items[idx];
			$(this).find('em.qty').html(cnt);
			if (cnt == 0) {
				$(this).addClass('complete');
			}
		}
		idx ++;
	});
}

function updateChestAwards(items) {
	var idx = 0;
	$('#popup_container div.itemAwardsBlock li').each(function(){
		if ($(this).find('p.qty').length) {
			$(this).find('em.current').html(items[idx]);
			if (parseInt($(this).find('em.need').html()) == items[idx]) {
				$(this).attr('data-complete', true);
			}
		} else {
			if (items[idx] > 0) {
				$(this).attr('data-complete', true);
			}
		}
		idx ++;
	});
}

</script><script type="text/javascript">
var Gadalka = {
	responseArr: '',
	ul: "ul.fortuneCards",
	li: "ul.fortuneCards li",

	init: function(firstAnim){
		var that = this;

		$(".fortuneCardsScreen .popupClose2").hide();

		if (firstAnim === false){
			that.firstStep(that, false);
		} else {
			TweenMax.staggerFrom( $(that.li) , 1, { transform: "translate3d(-100px,550px,0)", transformOrigin : 'left top', ease : Elastic.easeInOut, onStart: playSound }, 0.2, that.firstStep, [that] );
		}

		function playSound(){
			setTimeout(function(){
				if (!_SOUND_err) _SOUND_arr['sfx']['show_card'].play();
			}, 300);
		}		
	},

	//карты выпали
	firstStep: function(classLink, choice){
		var that = classLink;

		if (choice !== false){
			$(that.li).click(function() {
				//rmk
				var id = parseInt($(this).attr("data-id"));
				_GM_action('', 'tel_cards',  'select', id);
			});

			$(that.ul).attr("data-choice", "true");
		}
	},

	openNextCard: function(obj){
		var that = this;

		if (that.responseArr.length){
			var cardArr = that.responseArr.shift();
			var $obj = $(that.ul).find("li:eq("+ cardArr[0] +")");
			
			//если первая карта
			if (that.responseArr.length == 2){
				$obj.addClass("choice");

				var effType = $obj.attr("data-type");

				switch (effType) {
					case 'positive':
						if (!_SOUND_err) _SOUND_arr['sfx']['open_card_positive'].play();
						break;
					case 'negative':
						if (!_SOUND_err) _SOUND_arr['sfx']['open_card_negative'].play();
						break;
				}
			}
			that.openCard($obj);


		} else {
			that.finalStep();
		}
	},

	openCard: function(obj){
		var that = this;

		var tl = new TimelineMax();
		tl.
		to(obj, 0.3,{transform:"rotateY(90deg) rotateZ(25deg)"}).
		call(that.flipCard, [obj], this).
		//to(obj,0.3,{transform:"rotateY(180deg) rotateZ(10deg)"}).
		set(obj,{transform:"rotateY(-90deg) rotateZ(-10deg)"}).
		to(obj,0.8,{transform:"rotateY(0deg) rotateZ(0deg)",ease:Back.easeOut}).
		call(that.openNextCard, [obj], this, "-=0.4");
	},

	//момент переворота рубашки одной карты
	flipCard: function(obj){
		$(obj).removeClass("closed");

		if ($(obj).hasClass("choice")){
			$(obj).find(".choiceGlow").fadeIn();
		}
	},

	choiceComplete: function(responseArr){
		var that = this;

		that.responseArr = responseArr;

		//проверяем на response
		if (!that.responseArr || !$.isArray(that.responseArr)){
			return false;
		}

		//добавляем дату к картам
		$.each(that.responseArr, function( i, arr) {
			var $el = $(that.ul).find("li:eq("+ arr[0] +")");
			$el.find("div.asCell").html(arr[2]);
			$el.attr("data-type", arr[1]);
		});	

		//удаляем event
		$(that.li).unbind("click");
		$(that.ul).attr("data-choice", "false");

		//запускаем анимацию
		that.openNextCard();
	},

	finalStep: function(){
		$(".fortuneCardsScreen .popupClose2").show();
		setTimeout(function(){_GM_action('', 'tel_cards', 'remove')}, 5000);
		//убираем ховер, клик, показываем кнопку закрыть итд
	}
}

function openChestScreen(callback, animationName){
	console.log("animationName", animationName);
	var $chest = $(".openChestScreen .chest");
	var $light = $(".openChestScreen .light");
	var $smokeLeft = $(".openChestScreen .smokeLeft");
	var $smokeRight = $(".openChestScreen .smokeRight");


	var tl = new TimelineMax();

	$chest.click(function() {
		onChestClick(tl);
	});	

	//pavel 
	switch (animationName){
		case "lottery":
			tl.
				set($chest, {scale: "0", top: "+=100px"}).
				set($light, {opacity: "0"}).
				set($smokeLeft, {left: "160px"}).
				set($smokeRight, {left: "160px"}).
				set($light, {scale: "2"}).
				call(smokeAnim, ["param1"], this, "+=0.4").
				to($chest, 1, {scale: "1", top: "140px", ease: Power2.easeOut}, "-=0.4").
				to($chest, 0.5, {scale: "1.5", opacity: "0", ease: Power2.easeOut}).
				call(endAnim, [callback], this, "-=0.2");
			break;
		default:
			tl.
				set($chest, {scale: "0", top: "+=100px"}).
				set($light, {opacity: "0"}).

				set($light, {scale: "2"}).
				to($light, 0.4, {scale: "1", opacity: "0.8"}).


				to($chest, 0.6, {scale: "0.8", top: "-=200px",  ease: Power1.easeIn}, "-=0.7").
				//to($light, 0.5, {repeat: -1, yoyo: true, scale: "-=0.1"}).


				call(smokeAnim, ["param1"], this, "+=0.4").

				to($chest, 1, {scale: "1", top: "140px", ease: Bounce.easeOut}, "-=0.4").


				to($chest, 0.5, {top:"-=140px", scaleY: "1.1", ease: Power2.easeOut}).
				to($chest, 1.5, {top:"+=140px", scale:"1", yoyo: true, ease: Bounce.easeOut}).
				//to($light, 0.4, {scale: "1", opacity: "0.8"}, "-=0.5").
				to($chest, 0.5, {scale: "1.5", opacity: "0", ease: Power2.easeOut}).
				call(endAnim, [callback], this, "-=0.2")
				//to($light, 0.3, {scale: "0", ease: Power2.easeOut}, "-=0.2")
			;
	}



	function onChestClick(tl){
		tl.kill();
		var tl = new TimelineLite();
		tl.
		to($chest, 0.5, {scale: "1.5", opacity: "0", ease: Power2.easeOut}).
		call(endAnim, [callback], this, "-=0.2");
		$(this).remove();	
	}


	function smokeAnim(){
		var tl = new TimelineLite();
		tl.
			set([$smokeLeft, $smokeRight], {opacity: "0.6"}).
			to($light, 0.4, {opacity: "0"}).
			to($smokeLeft, 1.3, {opacity: "0", left: "-=100px", top: "+=100px"}, "-=0.4").
			to($smokeRight, 1.3, {opacity: "0", left: "+=100px", top: "+=100px"}, "-=1.3");
	}


	function endAnim(callback){
		$(".openChestScreen .chest").remove();
		$('button.collectAll').show();
		TweenLite.from($('button.collectAll'), 0.3, {opacity: 0});
		callback();
	}
}


function openChestScreen2(callback){
	var $chest = $(".openChestScreen .chest");
	var $light = $(".openChestScreen .light");
	var $smokeLeft = $(".openChestScreen .smokeLeft");
	var $smokeRight = $(".openChestScreen .smokeRight");


	var tl = new TimelineMax();

	$chest.click(function() {
		onChestClick(tl);
	});	

	tl.
	set($chest, {scale: "0", top: "+=100px"}).
	set($light, {opacity: "0"}).

	set($light, {scale: "2"}).
	to($light, 0.4, {scale: "1", opacity: "0.8"}).


	to($chest, 0.6, {scale: "0.8", top: "-=200px",  ease: Power1.easeIn}, "-=0.7").
	//to($light, 0.5, {repeat: -1, yoyo: true, scale: "-=0.1"}).


	call(smokeAnim, ["param1"], this, "+=0.4").

	to($chest, 1, {scale: "1", top: "140px", ease: Bounce.easeOut}, "-=0.4").


	to($chest, 0.5, {top:"-=140px", scaleY: "1.1", ease: Power2.easeOut}).
	to($chest, 1.5, {top:"+=140px", scale:"1", yoyo: true, ease: Bounce.easeOut}).
	//to($light, 0.4, {scale: "1", opacity: "0.8"}, "-=0.5").
	to($chest, 0.5, {scale: "1.5", opacity: "0", ease: Power2.easeOut}).
	call(endAnim, [callback], this, "-=0.2")
	//to($light, 0.3, {scale: "0", ease: Power2.easeOut}, "-=0.2")
	;

	function onChestClick(tl){
		tl.kill();
		var tl = new TimelineLite();
		tl.
		to($chest, 0.5, {scale: "1.5", opacity: "0", ease: Power2.easeOut}).
		call(endAnim, [callback], this, "-=0.2");
		$(this).remove();	
	}


	function smokeAnim(){
		var tl = new TimelineLite();
		tl.
			set([$smokeLeft, $smokeRight], {opacity: "0.6"}).
			to($light, 0.4, {opacity: "0"}).
			to($smokeLeft, 1.3, {opacity: "0", left: "-=100px", top: "+=100px"}, "-=0.4").
			to($smokeRight, 1.3, {opacity: "0", left: "+=100px", top: "+=100px"}, "-=1.3");
	}


	function endAnim(callback){
		$(".openChestScreen .chest").remove();
		$('button.collectAll').show();
		TweenLite.from($('button.collectAll'), 0.3, {opacity: 0});
		callback();
	}
}


function collectSplinters(obj){
	var $obj = $(obj);

	var $target = $(".talentsBar .progressText");
	var targetOffset = $target.offset();
	//pavel

	$obj.removeClass("show");
	var tl = new TimelineLite();
	tl.
		to($obj, 0.5, {scale: "0.1",  top: targetOffset.top, left: targetOffset.left+45}).
		call(splintersBarUpdate, $obj, this);


	function splintersBarUpdate(obj){
		$(obj).remove();

		var current = $(".talentsBar em.current").html();
		var newVal = parseInt(current) + 5;

		if (newVal >= 100){
			newVal = newVal - 100;
			_WND_proc("are_inf", "tal_pcs");
		}

		$(".talentsBar em.current").html(newVal);
		$(".talentsBar div.progress").width(newVal + "%");


		if (!$(".itemContainer").length){
			$(".blurDiv").fadeOut("slow", function() {$(this).remove()});
		}
	}
}

var leaguesAwardsArr = [
	// {
	// 	rating: 250,
	// 	name: '50 монет', 
	// 	img: '/img/popups/leag/ico/coins.png',
	// 	ico: '/img/popups/leag/small_ico/coins.png',
	// },
	{
		rating: 2500,
		newLeague: 1,
		name: 'Серебряный сундук', 
		img: '/img/popups/leag/ico/chest_1.png', 
		ico: '/img/popups/leag/small_ico/league_2.png',  
		inChest: [
			['/img/popups/league/top/awards/emblema_2.png', 'Серебряная эмблема'],
			['/img/popups/league/top/awards/coins.png', '15 000 монет'],
			['/img/offers/preview/0.png', 'Уникальная акция'],
			['/img/popups/league/top/awards/splinters.png', '20 осколков таланта'],
			['/img/popups/league/top/awards/extra_random.png', 'Случайная экстра', '2 шт.'],
		]
	},
	{
		rating: 5000,
		newLeague: 2,
		name: 'Золотой сундук', 
		img: '/img/popups/leag/ico/chest_2.png',
		ico: '/img/popups/leag/small_ico/league_3.png',  
		inChest: [
			['/img/popups/league/top/awards/emblema_3.png', 'Золотая эмблема'],
			['/img/popups/league/top/awards/coins.png', '30 000 монет'],
			['/img/popups/league/top/awards/role.png', 'Случайный образ'],
			['/img/offers/preview/0.png', 'Уникальная акция'],
			['/img/popups/league/top/awards/frame_3.png', 'Золотая рамка до конца сезона'],
			['/img/popups/league/top/awards/splinters.png', '40 осколков таланта'],
			['/img/popups/league/top/awards/extra_random.png', 'Случайная экстра', '4 шт.'],
		]
	},
	{
		rating: 10000,
		newLeague: 3,
		name: 'Платиновый сундук', 
		img: '/img/popups/leag/ico/chest_3.png', 
		ico: '/img/popups/leag/small_ico/league_4.png', 
		inChest: [
			['/img/popups/league/top/awards/emblema_4.png', 'Платиновая эмблема'],
			['/img/popups/league/top/awards/coins.png', '45 000 монет'],
			['/img/popups/league/top/awards/role.png', 'Случайный образ'],
			['/img/offers/preview/0.png', 'Уникальная акция'],
			['/img/popups/league/top/awards/frame_4.png', 'Платиновая рамка до конца сезона'],
			['/img/popups/league/top/awards/splinters.png', '60 осколков таланта'],
			['/img/popups/league/top/awards/10%_chance.png', 'Шанс на исповедь и карты Таро +10%', '14 дней'],
			['/img/popups/league/top/awards/extra_random.png', 'Случайная экстра', '6 шт.'],
		]
	},
	{
		rating: 25000,
		newLeague: 4,
		name: 'Бриллиантовый сундук', 
		img: '/img/popups/leag/ico/chest_4.png', 
		ico: '/img/popups/leag/small_ico/league_5.png', 
		inChest: [
			['/img/popups/league/top/awards/emblema_5.png', 'Бриллиантовая эмблема'],
			['/img/popups/league/top/awards/coins.png', '60 000 монет'],
			['/img/popups/league/top/awards/role.png', 'Случайный образ'],
			['/img/offers/preview/0.png', 'Уникальная акция'],
			['/img/popups/league/top/awards/frame_5.png', 'Бриллиантовая рамка до конца сезона'],
			['/img/popups/league/top/awards/splinters.png', '80 осколков таланта'],
			['/img/popups/league/top/awards/10%_chance.png', 'Шанс на исповедь и карты Таро +10%', '14 дней'],
			['/img/popups/league/top/awards/discount.png', 'Скидка на случайную экстру', '14 дней'],
			['/img/popups/league/top/awards/extra_random.png', 'Случайная экстра', '8 шт.'],
		]
	},
	{
		rating: 50000,
		newLeague: 5,
		name: 'Чемпионский сундук', 
		img: '/img/popups/leag/ico/chest_5.png', 
		ico: '/img/popups/leag/small_ico/chest_champion.png', 
		inChest: [
			['/img/popups/league/top/awards/emblema_6.png', 'Чемпионская эмблема'],
			['/img/popups/league/top/awards/coins.png', '75 000 монет'],
			['/img/popups/league/top/awards/role.png', 'Случайный образ'],
			['/img/popups/league/top/awards/frame_6.png', 'Чемпионская рамка до конца сезона'],
			['/img/popups/league/top/awards/splinters.png', '100 осколков таланта'],
			['/img/popups/league/top/awards/10%_chance.png', 'Шанс на исповедь и карты Таро +10%', '14 дней'],
			['/img/popups/league/top/awards/discount.png', 'Скидка на случайную экстру', '14 дней'],
			['/img/popups/league/top/awards/resurrect.png', 'Шанс воскреснуть после убийства +10%', '14 дней'],
			['/img/popups/league/top/awards/extra_random.png', 'Случайная экстра', '10 шт.'],
		]
	},		
	{
		rating: 1000000,
		newLeague: 6,
		name: 'Сундук Гроссмейстера', 
		img: '/img/popups/leag/ico/chest_6.png',
		ico: '/img/popups/leag/small_ico/league_7.png', 
		inChest: [
			['/img/popups/league/top/awards/hall_of_fame.png', 'Попадание в «Зал славы»'],
			['/img/popups/league/top/awards/emblema_7.png', 'Эмблема Гроссмейстера текущего сезона'],
			['/img/popups/league/top/awards/frame_7.png', 'Вечная рамка Гроссмейстера в профиле'],
			['/img/popups/league/top/awards/emblema_chat.png', 'Вечная эмблема в общем чате у ника'],
			['/img/popups/league/top/awards/announcement_enter.png', 'Вечный анонс при входе в игру'],
			['/img/popups/league/top/awards/10%_chance.png', 'Вечное усиление: Шанс на исповедь и карты Таро +10%'],
			['/img/popups/league/top/awards/discount.png', 'Вечное усиление: Дополнительная скидка на случайную экстру'],
			['/img/popups/league/top/awards/resurrect.png', 'Вечное усиление: Шанс воскреснуть после убийства +10%'],
			['/img/popups/league/top/awards/announcement_rank.png', 'Анонс в общем чате при достижении лиги'],
			['/img/popups/league/top/awards/personal_role_sticker.png', 'Персональный образ / Стикер'],
			['/img/popups/league/top/awards/talants_points.png', '+25 очков таланта'],
			['/img/popups/league/top/awards/coins.png', '+250 000 монет'],
		] 
	}
]

//pavel
function setMainProgress(rating, higherRating){
	var currentStepRating;
	var nextStepRating;
	var nextAwardRating;
	var nextAwardOnRating; //рейтинг на ближ награду
	var awardInfoObj; // информация о призе

	if (higherRating >= 1000000){
		higherRating = 999999;
	}

	if (rating >= leaguesAwardsArr[leaguesAwardsArr.length - 1].rating){
		$("#leagueBlock .progressBar").addClass("allDone");
		$("#leagueBlock .progressBar em.current").html(rating);
		return false;
	}


	$.each( leaguesAwardsArr, function( i, val ) {
		if (higherRating < val.rating){
			nextStepRating = val.rating;
			if (i >= 1){
				currentStepRating = leaguesAwardsArr[--i].rating;
			} else {
				currentStepRating = 0;
			}

			return false;			
		}
	});


	$.each( leaguesAwardsArr, function( i, val ) {
		if (higherRating < val.rating){
			nextAwardOnRating = val.rating;
			awardInfoObj = leaguesAwardsArr[i];
			return false;			
		}
	});


	if (rating > currentStepRating){
		var percent = (rating - currentStepRating) / (nextAwardOnRating - currentStepRating) * 100;
	} else {
		var percent = 0;
	}
	
	var icoHtml = '<img src="'+ awardInfoObj.ico +'" />';


	$("#leagueBlock .progressBar .progress").width(percent+"%");
	$("#leagueBlock .progressBar em.current").html(rating);
	$("#leagueBlock .progressBar em.need").html(nextAwardOnRating);
	$("#leagueBlock .progressBar .nextAwardIco").html(icoHtml);


	return percent;

}



// возвращает % на сколько пройден уровень
function setProgress(rating){
	var currentStepRating;
	var nextStepRating;
	var nextAwardRating;

	$.each( leaguesAwardsArr, function( i, val ) {
		if (rating < val.rating){
			nextStepRating = val.rating;
			if (i >= 1){
				currentStepRating = leaguesAwardsArr[--i].rating;
			} else {
				currentStepRating = 0;
			}	
			return false;			
		}
	});

	var percent = (rating - currentStepRating) / (nextStepRating - currentStepRating) * 100;

	//прогресс в процентах между шагами
	return percent;

}



function buildLeagueProgress(rating, higherRating){
	var $appendElem = $("ul#leagueList");
	var html = '';
	var currentStep = null;


	$.each( leaguesAwardsArr, function( i, val ) {
		//если все прошел и рейтинг выше последнего шага
		if (rating >= leaguesAwardsArr[leaguesAwardsArr.length - 1].rating){
			currentStep = leaguesAwardsArr.length - 1;
		}


		var awardsList2rowHtml = '';
		var complete = "false";
		var awardDone = "false";
		if (val.rating <= rating) complete = "true";
		if (val.rating <= higherRating) awardDone = "true";
		
		//if (!currentStep && val.rating < rating) currentStep = i;
		if (currentStep == null && complete == "false"){
			currentStep = i;
		}

		
		if (val.inChest){
			var awardsList2rowHtmlLi = '';
			
				$.each( val.inChest, function( i, val ) {
					awardsList2rowHtmlLi += 
						'<li>'+
							'<div class="ico hoverHint" data-tip="<img src='+ val[0] +'></div>">'+
							'<img src="'+ val[0] +'"></div><p class="name asTable"><span class="asCell">'+ val[1] +(val[2] ? ' <em class="qty">('+val[2]+')</em>' : '')+'</span></p>',
						'</li>'
				});
				
			awardsList2rowHtml = '<ul class="awardsList2row">'+ awardsList2rowHtmlLi +'</ul>' 
		}



		html = 
			'<li data-step="'+ i +'" data-complete="'+ complete +'" data-award="'+ awardDone +'"'+
				( currentStep == i ?  'class="current"'  : '' ) +
			'>'+
				'<div class="progress"'+ 
					( currentStep == i ?  'style="height:'+ setProgress(rating) +'%"'  : '' ) +
				'>'+
				( currentStep == i ?  '<div class="currentRating"><em>'+ rating +'</em></div>'  : '' ) +
				'</div>'+
				'<div class="row">'+
					'<div class="bg">'+
						'<div class="headerBg"></div>'+
						'<div class="footerBg"></div>'+
					'</div>'+

					'<div class="content">'+
						'<div class="asTable">'+
							'<div class="asCell ico">'+
								'<img src="'+ val.img +'">'+
							'</div>'+
							'<div class="name asCell">'+
								'<h5>'+ 
									val.name+
									(val.qty ? ' <span class="qty">'+ val.qty +'</span>' : '')+
								'</h5>'+
							'</div>'+
						'</div>'+
						awardsList2rowHtml +
					'</div>'+
				'</div>'+
				'<div class="needRating league">'+val.rating +
					(val.newLeague ? '<div class="leagueIco"><img src="/img/popups/leag/ico/league_'+ val.newLeague +'.png"></div>' : '')+
				'</div>'+
			'</li>';
		;

		$appendElem.prepend(html);
	});


	function scrollToPosition(){
		var $scrollObj = $(".leagueScreen .container li.current");
		var scrollTo =  $scrollObj.offset().top + $scrollObj.outerHeight() - 680;
		$(".leagueScreen .container").animate({scrollTop:scrollTo}, 500, 'swing', function() { });
	}
	setTimeout(scrollToPosition, 900);

}


function closeEventPopup(popupType){
	if ($("#wnd_"+ popupType).length){
		_WARN(popupType);
		$("#wnd_"+ popupType).remove();
		_CHT_focus();
	}
}	
	
function showEventPopup(popupType, args, close){
	if (!$("#wnd_"+ popupType).length){
		var _body = '';
		var _class = '';
		var _button_timer = 1000;
		var _on_click = 'if ($(this).hasClass(\'not-active\')) return false;';
		var _close = false;
		var _style = false;
		var _transparent = false;
		var _img  = false;

		switch (popupType){
			case "start":
				_body = '<h1><em>Братья Бандитос в городе!</em></h1>';
				_class = "startPopup transparentPopup";
				_close = false;
				_transparent = true;
								_c_tm = 3000;
								break;
			case "newSuperPower":
				_body = '<h1>Вы получили супер-силу</h1><div class="box asTable"><div class="asCell"><img src="/images/events/banditos/powers/'+args.imgSrc+'" alt="" /></div></div><div class="text">'+args.hint+'</div>';
				if (args.name == 'Супер-сила Санчо'){
					_HX_hint('bro13');
				} else{
					_HX_hint('bro12');
				}
				break;
			case "prizeMegaGift":
				_body = '<h1>Вы получили мега-подарок!</h1><div class="box asTable"><div class="asCell">'+_SWF_obj(_event_last_prize_id, 96, 96)+'<div class="text">'+__store[_event_last_prize_id].title+'</div></div></div>';
				_class = 'unviersalPrize';
				_HX_hint('bro10');
				break;
			case "prizeSticker":
				_body = '<h1>Вы получили стикер</h1><div class="box asTable"><div class="asCell"><img src="/images/stickers/'+args+'.png" alt="" /></div></div>';
				_class = 'unviersalPrize';
				//_HX_hint('bro9');
				break;
			case "skin":
				_body = '<h1>Подарки собраны!</h1><div class="box asTable"><div class="asCell"><img src="/img/persons/big/'+args.src+'.png" alt="" /><div class="text">'+args.name+'</div></div></div>';
				_class = 'unviersalPrize';
				_HX_hint('gad5');
				break;
			case "prizeRandomSkin":
				_body = '<h1>Подарки собраны!</h1><div class="box asTable"><div class="asCell"><img src="/img/persons/big/'+args+'.png" alt="" /><div class="text">Случайный образ!</div></div></div>';
				_class = 'unviersalPrize';
				//_HX_hint('bro11');
				break;
			case "prizeBanditosSticker":
				_body = '<h1>Подарки собраны!</h1><div class="box asTable"><div class="asCell"><img src="/images/events/carnival2/scene/progress/prizes/'+args+'.png" alt="" /><div class="text">Карнавальный стикер!</div></div></div>';
				_class = 'unviersalPrize';
				_HX_hint('gad4');
				break;
			case "prizeEmblem":
				switch (args) {
					case 1:
						var h1 = 'Уникальная эмблема';
						_HX_hint('gad6');
						break;
					case 2:
						var h1 = 'Золотая эмблема';
						//_HX_hint('bro6');
						break;
					case 3:
						var h1 = 'Бриллиантовая эмблема';
						//_HX_hint('bro7');
						break;
				}		
				_body = '<h1>Подарки собраны!</h1>'+
					'<div class="info bottomInfo">Награда: '+ h1 +'!</div>';
				_class = "emblem"+args;
				_button_timer = 10;
				_on_click = '';
				break;
			case "allCollect":
				_body = '<h1>Вы собрали все подарки!</h1>';
				break;
			case "ready_box":
				_body = '<h1>Открой мешок с морковкой!</h1><div class="box asTable"><div class="asCell">img here</div></div>';
				_class = "extraChestReadyPopup";
								if (typeof __hxda['pas14'] == "undefined"){
					_button_timer = 3000;
				}
								_HX_hint('pas14');
				break;
			case "new_set":
				var _sset = box_sets_stickers[parseInt(args)];
				_body = '<h1>Стали доступны новые стикеры!</h1>'+
				'<ul class="awardsList"><li class="sticker"><img src="/images/events/eas/stickers'+ my_lang_pfx +'/'+ _sset[0] +'.png"></li><li class="sticker"><img src="/images/events/eas/stickers'+ my_lang_pfx +'/'+ _sset[1] +'.png"></li></ul>'+
				'<div class="info bottomInfo">Спеши собрать морковку, чтобы их получить!</div>';
				_class = "awardsChangePopup";
				_button_timer = 10;
				break;
			case "lottery":
				_body = '<h2>Вы выиграли супер-приз в Пасхальной лотерее!</h2><img src="/images/icons/coin.png" style="vertical-align: -4px" /><em>'+ args +'</em>';
				_class = "eventLotteryWinPopup";
				_on_click = '';
				break;
			case "lottery_star":
				_body = '<h1>Поздравляем!</h1>'+
				'<div class="info"> Вы выиграли <em>'+ args +'</em> звёзд в лотерее!</div>';
				_class = "eventLotteryStarPopup";
				_on_click = '';
				break;	
			default:
				return;
		}
		$("#popup_container").append('<div id="wnd_'+ popupType +'" class="popup-move eventtPopup not-displayed '+ popupType +
			(_transparent ? '' : ' popupShadowNew') +
			(_class ? " "+_class : '') +
			(_style ? 'style="'+ _style +'"' : '') +
			'">'+
			_body +
			'<div class="footerButtons">'+
				'<button onclick="'+ _on_click +'closeEventPopup(\''+ popupType +'\');return false" ondblclick="return false" class="newButton not-active" hidefocus="true">Продолжить</button>'+
			'</div>'+
			(_close ? '<a href="#" class="popupClose" onclick="closeEventPopup(\''+ popupType +'\');return false"></a>' : '')+
		'</div>');

		$("#wnd_"+ popupType).draggable({
			containment: "document",
			cancel: "button,.popupClose",
			zIndex: 100,
			stop: function(){
				$(this).mousedown();
			}
		}).mousedown(function(){
			var _i = $(this).attr("id");
			var _z = _POPUP_resort("popup-move", _i);
			$(this).css("z-index", _z);
		}).show("fade", 100, function(){
			$(this).removeClass("not-displayed");
			$(this).mousedown();
			$(this).css("left", (parseInt($("#rootContainer").outerWidth()) - parseInt($("#wnd_"+ popupType).outerWidth())) / 2 +"px");
			$(this).css("top", (parseInt($("#rootContainer").outerHeight()) - parseInt($("#wnd_"+ popupType).outerHeight())) / 2 +"px");
		});
		setTimeout(function(){
			$("#wnd_"+ popupType).find("button").removeClass("not-active");
		}, _button_timer);
	}else{
		$("#wnd_"+ popupType).mousedown();
	}
}


function _EXT_put2(id, text){
	if (!id){
		return false;
	}

	var _frameSize = 150;
	var _randomRangeX = 1000 - _frameSize*2;
	var _randomRangeY = 750 - _frameSize*2;
	var _x = Math.floor(Math.random() * _randomRangeX + _frameSize);
	var _y = Math.floor(Math.random() * _randomRangeY + _frameSize);

	var startX = 100;
	var startY = 100;


	//hack
	if ($(".eventPrizeProgress").length){
		var $elem = $(".eventPrizeProgress li[data-complete='true']").last();
		var startX = parseInt($elem.offset().left) + 100; 
		var startY = parseInt($elem.offset().top) + 50; // + 60
	}


	if (id == "coins"){
		//var $div = '<div class="itemContainer" onclick="_SGF(this, 0, event);return false" style="top:'+ _y +'px;left:'+ _x +'px;background: url(/img/extras/coins_1.png) no-repeat 0 0;"></div>';
		var div = '<div class="itemContainer" style="left: '+ startX +'px; top: '+ startY +'px" onclick="_SGF(this, 0, event);return false"><div class="borderContainer"><img src="/images/events/banditos/gifts/coins_3.png" /><div class="name"><span>'+ text +'</span></div></div>'
		//var $div = '<div class="itemContainer" style="top:'+ _y +'px;left:'+ _x +'px;" onclick="_SGF(this, 0, event);return false"><div class="borderContainer"><img src="/img/extras/coins_1.png" class="extraIco" /></div><div class="name"><span>'+ __store[id].title +'</span></div></div>';
	} 
	else if(id == "splinters") {
		var div = '<div class="itemContainer splinters" style="left:'+ startX +'px; top:'+ startY +'px;" onclick="collectSplinters(this);return false"><img src="/img/extras/onscreen/splinters.png" /><div class="name"><span>5 осколков таланта</span></div></div>';
	}

	else if(id == "stars") {
		var div = '<div class="itemContainer stars" style="left:'+ startX +'px; top:'+ startY +'px;" onclick="_SGF(this, 0, event);return false"><img src="/img/extras/onscreen/stars.png" /><div class="name"><span>25 звёзд</span></div></div>';
	}

	else {
		var div = '<div class="itemContainer" style="left:'+ startX +'px; top:'+ startY +'px;" onclick="_SGF(this, 0, event);return false"><div class="borderContainer"><img src="/img/extras/'+ id +'.png" class="extraIco" /><div class="border"></div></div><div class="name"><span>'+ __store[id].title +'</span></div></div>';
	}
	

	//$(".eventPopup").append($div);


	$(div).appendTo(".eventPopup, #wnd_arena").addClass("show")
	.animate({
			top: _y,
			left: _x
		}, 500, "swing", function() {
		$(this).find(".name").fadeIn();
	});
}

	
	
EventPrizeProgress = {
	$ul: null, //список UL.объект
	userCurrentGiftsCount: null, //текущее количество
	userGiftsCountLimit: null, //максимальное количество подарков
	userCurrentStep: null, //текущий шаг
	scrollStep: null, //первый видимый элемент
	isInit: null,
	scrollCurrentPos: null, //поизиуия куда должен приехать скролл
	showComplete: 0, //сдвиг позиции сколько показать выполненных призов 
	buffer: 5, //количество призов на странице
	page: 4, //виртуальные страницы для прогресса
	maxScrollNum: null, //количество призов
	callback: null,
	runOnLastCollect: null, //отложенный запуск ID popup награды
	prizesList: null,


arenaPrizesList: [
{
	need: 300,
	name: '500 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 600,
	name: '10 осколков таланта',
	qty: 10,
	type: 'splinters',
	imgSrc: 'splinters.png',
	hint: '<h2>Осколки таланта</h2>Собери 100 осколков таланта, чтобы получить +1 очко таланта',
},
{
	need: 900,
	name: 'Случайная экстра x3',
	type: 'extraArena',
	imgSrc: 'extra.png',
},
{
	need: 1200,
	name: '15 осколков таланта',
	qty: 15,
	type: 'splinters',
	imgSrc: 'splinters.png',
	hint: '<h2>Осколки таланта</h2>Собери 100 осколков таланта, чтобы получить +1 очко таланта',
},
{
	need: 1500,
	name: 'Усиление 3 дн.',
	type: 'extraArena',
	imgSrc: 'power1.png',
	hint: 'Шанс на исповедь и карты Таро +10%',
},
{
	need: 1800,
	name: '20 осколков таланта',
	qty: 20,
	type: 'splinters',
	imgSrc: 'splinters.png',
	hint: '<h2>Осколки таланта</h2>Собери 100 осколков таланта, чтобы получить +1 очко таланта',
},
{
	need: 2100,
	name: 'Усиление 3 дн.',
	type: 'extraArena',
	imgSrc: 'power2.png',
	hint: 'Дополнительная скидка на случайную экстру',
},
{
	need: 2400,
	name: '25 осколков таланта',
	qty: 25,
	type: 'splinters',
	imgSrc: 'splinters.png',
	hint: '<h2>Осколки таланта</h2>Собери 100 осколков таланта, чтобы получить +1 очко таланта',
},
{
	need: 2700,
	name: 'Усиление 3 дн.',
	type: 'extraArena',
	imgSrc: 'power3.png',
	hint: 'Шанс воскреснуть после убийства +10%',
},
{
	need: 3000,
	name: '30 осколков таланта',
	qty: 30,
	type: 'splinters',
	imgSrc: 'splinters.png',
	hint: '<h2>Осколки таланта</h2>Собери 100 осколков таланта, чтобы получить +1 очко таланта',
},
{
	need: 3500,
	name: '25 звёзд',
	qty: 25,
	type: 'stars',
	imgSrc: 'stars.png',
},
{
	need: 4000,
	name: 'Усиление 3 дн.',
	type: 'extraArena',
	imgSrc: 'power4.png',
	hint: 'Шанс раскрыть картами Таро соседнюю роль +10%',
},
{
	need: 4500,
	name: '25 звёзд',
	qty: 25,
	type: 'stars',
	imgSrc: 'stars.png',
},
{
	need: 5000,
	name: 'Усиление 3 дн.',
	type: 'extraArena',
	imgSrc: 'power5.png',
	hint: 'Шанс сбежать из тюрьмы +10%',
},
{
	need: 5500,
	name: '50 звёзд',
	qty: 50,
	type: 'stars',
	imgSrc: 'stars.png',
},
{
	need: 6000,
	name: 'Усиление 3 дн.',
	type: 'extraArena',
	imgSrc: 'power6.png',
	hint: 'Шанс на тройной выстрел из АК-47 +15%',
},
{
	need: 6500,
	name: '50 звёзд',
	qty: 50,
	type: 'stars',
	imgSrc: 'stars.png',
},
{
	need: 7000,
	name: 'Усиление 3 дн.',
	type: 'extraArena',
	imgSrc: 'power7.png',
	hint: 'Шанс на двойной приговор или оправдание +15%',
},
{
	need: 7500,
	name: '100 звёзд',
	qty: 100,
	type: 'stars',
	imgSrc: 'stars.png',
},
{
	need: 8000,
	name: 'Усиление 3 дн.',
	type: 'extraArena',
	imgSrc: 'power8.png',
	hint: 'Шанс проснуться после усыпления снотворным +25%',
},
	],


eventPrizesList: [
{
	need: 10,
	name: 'Случайная экстра',
	type: 'randomExtra',
	imgSrc: 'extra.png',
},
{
	need: 20,
	name: '250 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 30,
	name: 'Карнавальный стикер',
	type: 'sticker',
	imgSrc: '101.png',
	hint: '<h2>Карнавальный стикер</h2>Этот стикер можно получить только во время события «Карнавал» 2019',
},
{
	need: 40,
	name: 'Случайная экстра',
	type: 'randomExtra',
	imgSrc: 'extra.png',
},
{
	need: 50,
	name: 'Образ: Гражданин',
	type: 'skin',
	imgSrc: 'citezen_m_92px.png',
	hint: '<h2>Карнавальный образ</h2>Этот образ можно получить только во время события «Карнавал» 2019',
},
{
	need: 60,
	name: '250 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 70,
	name: 'Карнавальный стикер',
	type: 'sticker',
	imgSrc: '102.png',
	hint: '<h2>Карнавальный стикер</h2>Этот стикер можно получить только во время события «Карнавал» 2019',
},
{
	need: 80,
	name: 'Случайная экстра',
	type: 'randomExtra',
	imgSrc: 'extra.png',
},
{
	need: 90,
	name: '250 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 100,
	name: 'Образ: Мафиози',
	type: 'skin',
	imgSrc: 'maf_m_92px.png',
	hint: '<h2>Карнавальный образ</h2>Этот образ можно получить только во время события «Карнавал» 2019',
},
{
	need: 110,
	name: 'Случайная экстра',
	type: 'randomExtra',
	imgSrc: 'extra.png',
},
{
	need: 120,
	name: '500 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 130,
	name: 'Карнавальный стикер',
	type: 'sticker',
	imgSrc: '103.png',
	hint: '<h2>Карнавальный стикер</h2>Этот стикер можно получить только во время события «Карнавал» 2019',
},
{
	need: 140,
	name: 'Случайная экстра',
	type: 'randomExtra',
	imgSrc: 'extra.png',
},
{
	need: 150,
	name: 'Образ: Смертник',
	type: 'skin',
	imgSrc: 'smert_m_92px.png',
	hint: '<h2>Карнавальный образ</h2>Этот образ можно получить только во время события «Карнавал» 2019',
},
{
	need: 160,
	name: '500 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 170,
	name: 'Карнавальный стикер',
	type: 'sticker',
	imgSrc: '104.png',
	hint: '<h2>Карнавальный стикер</h2>Этот стикер можно получить только во время события «Карнавал» 2019',
},
{
	need: 180,
	name: 'Случайная экстра',
	type: 'randomExtra',
	imgSrc: 'extra.png',
},
{
	need: 190,
	name: '500 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 200,
	name: 'Уникальная эмблема',
	type: 'emblem',
	imgSrc: 'emblem1.png',
	hint: '<h2>Уникальная эмблема</h2>Эмблема за участие в Карнавале 2019',
},
{
	need: 210,
	name: 'Образ: Свидетель',
	type: 'skin',
	imgSrc: 'svid_m_92px.png',
	hint: '<h2>Карнавальный образ</h2>Этот образ можно получить только во время события «Карнавал» 2019',
},
{
	need: 220,
	name: 'Случайная экстра',
	type: 'randomExtra',
	imgSrc: 'extra.png',
},
{
	need: 230,
	name: 'Карнавальный стикер',
	type: 'sticker',
	imgSrc: '105.png',
	hint: '<h2>Карнавальный стикер</h2>Этот стикер можно получить только во время события «Карнавал» 2019',
},
{
	need: 240,
	name: '500 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 250,
	name: 'Образ: Доктор',
	type: 'skin',
	imgSrc: 'doc_m_92px.png',
	hint: '<h2>Карнавальный образ</h2>Этот образ можно получить только во время события «Карнавал» 2019',
},
{
	need: 260,
	name: 'Случайная экстра',
	type: 'randomExtra',
	imgSrc: 'extra.png',
},
{
	need: 270,
	name: 'Карнавальный стикер',
	type: 'sticker',
	imgSrc: '106.png',
	hint: '<h2>Карнавальный стикер</h2>Этот стикер можно получить только во время события «Карнавал» 2019',
},
{
	need: 280,
	name: '500 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 290,
	name: 'Случайная экстра',
	type: 'randomExtra',
	imgSrc: 'extra.png',
},
{
	need: 300,
	name: 'Образ: Комиссар',
	type: 'skin',
	imgSrc: 'com_m_92px.png',
	hint: '<h2>Карнавальный образ</h2>Этот образ можно получить только во время события «Карнавал» 2019',
},
{
	need: 310,
	name: '500 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 320,
	name: 'Случайная экстра',
	type: 'randomExtra',
	imgSrc: 'extra.png',
},
{
	need: 330,
	name: 'Карнавальный стикер',
	type: 'sticker',
	imgSrc: '107.png',
	hint: '<h2>Карнавальный стикер</h2>Этот стикер можно получить только во время события «Карнавал» 2019',
},
{
	need: 340,
	name: '500 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 350,
	name: 'Образ: Двуликий',
	type: 'skin',
	imgSrc: 'dvul_m_92px.png',
	hint: '<h2>Карнавальный образ</h2>Этот образ можно получить только во время события «Карнавал» 2019',
},
{
	need: 360,
	name: 'Случайная экстра',
	type: 'randomExtra',
	imgSrc: 'extra.png',
},
{
	need: 370,
	name: 'Карнавальный стикер',
	type: 'sticker',
	imgSrc: '108.png',
	hint: '<h2>Карнавальный стикер</h2>Этот стикер можно получить только во время события «Карнавал» 2019',
},
{
	need: 380,
	name: '500 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 390,
	name: 'Случайная экстра',
	id: 292,
	type: 'extra'
},
{
	need: 400,
	name: 'Золотая эмблема',
	type: 'emblem',
	imgSrc: 'emblem2.png',
	hint: '<h2>Золотая эмблема</h2>Золотая эмблема за участие в Карнавале 2019',
},
{
	need: 410,
	name: 'Образ: Вор',
	type: 'skin',
	imgSrc: 'thief_m_92px.png',
	hint: '<h2>Карнавальный образ</h2>Этот образ можно получить только во время события «Карнавал» 2019',
},
{
	need: 425,
	name: '500 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 440,
	id: 262,
	type: 'extra'
},
{
	need: 450,
	name: 'Образ: Босс мафии',
	type: 'skin',
	imgSrc: 'boss_1_m_92px.png',
	hint: '<h2>Карнавальный образ</h2>Этот образ можно получить только во время события «Карнавал» 2019',
},
{
	need: 460,
	id: 295,
	type: 'extra'
},
{
	need: 475,
	name: '500 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 490,
	id: 127,
	type: 'extra'
},
{
	need: 500,
	name: 'Образ: Маньяк',
	type: 'skin',
	imgSrc: 'maniac_1a_m_92px.png',
	hint: '<h2>Карнавальный образ</h2>Этот образ можно получить только во время события «Карнавал» 2019',
},
{
	need: 525,
	id: 293,
	type: 'extra'
},
{
	need: 550,
	name: '500 монет',
	type: 'coins',
	imgSrc: 'coins.png',
},
{
	need: 575,
	id: 294,
	type: 'extra'
},
{
	need: 600,
	name: 'Бриллиантовая эмблема',
	type: 'emblem',
	imgSrc: 'emblem3.png',
	hint: '<h2>Бриллиантовая эмблема</h2>Бриллиантовая эмблема за участие в Карнавале 2019',
},
	],

	init: function(ul, userGiftCount, callback, template){
		var that = this;

		if (ul != null){
			that.$ul = ul;			
		}

		//userGiftCount = 7999;

		switch (template) {
			case 'arena':
				that.prizesList = that.arenaPrizesList;
				break;
			default:
				that.prizesList = that.eventPrizesList;
				break;
		}	
		

		that.userCurrentGiftsCount = userGiftCount;
		that.scrollStep = that.userCurrentStep;
		that.maxScrollNum = that.prizesList.length - that.buffer;
		that.userGiftsCountLimit = that.prizesList[that.prizesList.length - 1].need;
		that.userCurrentStep = that.findCurrentStep();

		if (callback){
			that.callback = callback;			
		}

		that.scrollCurrentPos = null;

		that.generateList();
		that.setCurrentProgress();

		var $leftButton = that.$ul.parent().parent().find("#prevButton");
		var $rightButton = that.$ul.parent().parent().find("#nextButton");

		$leftButton.click(function() {
			that.navigate("right");
		});

		$rightButton.click(function() {
			that.navigate("left");
		});

		that.isInit = true;	
	},

	//находит текущий прогресс(STEP) из массива
	findCurrentStep: function(userGiftCount){
		var that = this;
		var currentStep;

		$.each(that.prizesList, function(i, val){

			var isStepComplete = (that.userCurrentGiftsCount >= val.need ? true : false);

			if (!isStepComplete){
				currentStep = i;
				return false;
			}
		});

		//limit
		if (that.userGiftsCountLimit <= that.userCurrentGiftsCount){
			currentStep = parseInt(that.prizesList.length);
		}

		return currentStep;
	},

	generateList: function(){
		var that = this;
		var liHtml = '';
		var lastStep = '';

		$.each(that.prizesList, function(i, val){
			var stepComplete = (that.userCurrentGiftsCount >= val.need ? "true" : "false");
			var hintHtml = (val.hint ? 'data-tip="'+val.hint.replace(/"/g, '&quot;')+'" class="hoverHint"' : '');



		switch (val.type) {
			case 'extra':
				var name = '';

				if (typeof __store[val.id] !== "undefined"){
					name = __store[val.id].title;
				}

				//var imgDiv ='<div class="img extra" style="background-image: url(/img/extras/'+val.id+'.png)">';
				var imgDiv ='<div class="img extra"><img src="/img/extras/'+val.id+'.png" class="extraBorder" width="96" /></div>';
				break;
			case 'skin':
				var name = val.name;
				var imgDiv ='<div class="img extra"><img src="/images/events/carnival2/scene/progress/prizes/'+val.imgSrc+'" class="extraBorder" width="96" /></div>';
				break;
			 default:
			 	var name = val.name;
				var imgDiv ='<div class="img" style="background-image: url(/images/events/carnival2/scene/progress/prizes/'+val.imgSrc+')">';
		}



			liHtml += '<li data-step="'+i+'" data-type="'+ val.type +'" data-complete="'+stepComplete+'" '+hintHtml+'>'+
				'<h3>'+name+'</h3>'+
				'<div class="progressBar">'+
					'<div class="progressText">'+
						'<em class="current">'+ that.userCurrentGiftsCount +'</em>'+
						'<span class="separator">/</span>'+
						'<em class="need">'+ val.need +'</em>'+
					'</div>'+
					'<div class="progress"></div>'+
				'</div>'+
				imgDiv +
				'</div>'+
				'<div class="marker"><em>'+val.need+'</em></div>'+
			'</li>';
			lastStep = i;

		});

		var lastStepComplte = (that.userCurrentGiftsCount >= that.userGiftsCountLimit ? "true" : "false");
		liHtml += '<li data-step="'+ ++lastStep +'" data-complete="'+ lastStepComplte +'" class="lastStep current">'+
				'<div class="progressBar">'+
					'<div class="progressText">'+
						'<em class="current">'+ that.userCurrentGiftsCount +'</em>'+
						'<span class="separator">/</span>'+
						'<em class="need">0</em>'+
					'</div>'+
					'<div class="progress"></div>'+
				'</div>'+
		'</li>';	
		

		$(liHtml).appendTo(that.$ul);

		ptip.init('.profile-page.event. .hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause', pause_show: 350});
	},

	//устанавливает текущий прогресс
	setCurrentProgress: function(newQty){
		var that = this;
		var stepDone = false;
		var prevNeed = '';

		if (newQty){
			var prevStep = that.userCurrentStep;
			if (typeof that.prizesList[prevStep] !== 'undefined'){
				prevNeed = that.prizesList[prevStep].need;
			}
			var doneStep = that.userCurrentStep;
			
			//console.log("for test", prevStep, prevNeed, doneStep);


			that.prevQty = that.userCurrentGiftsCount;
			that.userCurrentGiftsCount = parseInt(newQty);

			if (prevNeed && newQty >= prevNeed && that.prevQty <= that.userGiftsCountLimit){
				that.$ul.find("li[data-step="+doneStep+"]").attr("data-complete","true");
				stepDone = true;

				if (that.callback){
					that.call(doneStep, that.callback);
				}

			} else {
				//отложенный запуск награды
				if (that.runOnLastCollect !== null){
					that.call(that.runOnLastCollect, that.callback);			
				}
				//console.log("else отложенный", that.runOnLastCollect);
								
			}

			that.userCurrentStep = that.findCurrentStep();
		}


		// проверка на последний шаг
		if (that.userCurrentGiftsCount < that.userGiftsCountLimit){
			//console.log("tt",  that.userGiftsCountLimit);
			var currentStepNeed = that.prizesList[that.userCurrentStep].need;
		}else{
			that.$ul.find("li[data-step="+prevStep+"]").attr("data-complete","true");
			that.$ul.addClass("allDone");
		}
		


		if (that.prizesList[that.userCurrentStep -1]){
			prevStepNeed = that.prizesList[that.userCurrentStep -1].need;
		}
		else {
			prevStepNeed = 0;
		}

		var totalNeed = currentStepNeed - prevStepNeed;
		var currentClassStep = that.userCurrentStep;


		var $currentEm = that.$ul.find("em.current");
		var $needEm = that.$ul.find("em.need");

		$needEm.html(currentStepNeed);
		$currentEm.html(that.userCurrentGiftsCount);

		var percentComplete = (that.userCurrentGiftsCount - prevStepNeed) / totalNeed * 100;
		var $currentLi = that.$ul.find("li[data-step="+currentClassStep+"]");
		$currentLi.find(".progress").css("width", percentComplete+"%");
		that.$ul.find("li").removeClass("current");

		//console.log("Www", currentClassStep);

		$currentLi.addClass("current");

		that.scrollTo(that.userCurrentStep, true);
	},

	//сбор подарка
	collect: function(qty){
		qty = qty || 1;
		var that = this;
		var setProgressTo = parseInt(that.userCurrentGiftsCount) + qty;
		that.setCurrentProgress(setProgressTo);


		return setProgressTo;
	},


	scrollTo: function(scrollToNum, showCurrentPage){
		var that = this;
		//console.log("scrollTo",scrollToNum, showCurrentPage, that.scrollCurrentPos);

		//проверяем на повторный запрос	
		if (that.scrollCurrentPos == scrollToNum){return false}


		//если показать текущую позицию, то дробим по 4
		if (showCurrentPage && that.userCurrentGiftsCount < that.userGiftsCountLimit){

			if (scrollToNum != 0 && scrollToNum <= that.maxScrollNum){
				//console.log("scrollToNumFirst",scrollToNum, showCurrentPage);

				var pageNumber = Math.floor(scrollToNum / that.page);


				/*если меньше, чем страниц на экране
				if (pageNumber == 1 && scrollToNum < 5){
					return false;
				}
				*/

				scrollToNum = pageNumber * that.page;

				//console.log("scrollToNum22",scrollToNum);

				//если не первая страница отнимаем 1 элемет
				if (scrollToNum > 1){
					scrollToNum = scrollToNum -1; 
				}
			}
		}


		//выставляем ограничители
		if (scrollToNum < 0){ scrollToNum = 0 }
		if (scrollToNum > that.maxScrollNum){ scrollToNum = that.maxScrollNum}
		//console.log("posle delenija", scrollToNum);


		var liWidth = 200;
		var showComplete = 0;
		/*
		//смещение прогресса, чтоба показать часть выполненных
		if (scrollToNum >= that.showComplete){
			showComplete = that.showComplete;
		}
		*/

		var scrollLeft = (scrollToNum - showComplete) * liWidth *-1;



		var minCount = that.prizesList[0].need;

		//hack для первого элемета
		if (that.userCurrentGiftsCount < minCount && scrollToNum == 0){
			scrollLeft = scrollLeft + 150;
		}

	
		//hack для последнего элемета
		if (that.userCurrentGiftsCount > that.userGiftsCountLimit && scrollToNum == that.maxScrollNum){
			scrollLeft = scrollLeft - 150;
		}


		//проверяем на повторный запрос, hack для минусовой позиции при первом месте и перелистывании 
		// pavel if (that.scrollCurrentPos == scrollToNum && scrollToNum != 0){return false}

		that.$ul.stop(false, true).animate({
			left: scrollLeft +"px",
		}, 600, function() {
			// Animation complete.
		});	

		that.scrollCurrentPos = scrollToNum;
	},


	//обновляет <li> за и перед экраном
	navigate: function(direction){
		var that = this;
		if (direction == "left"){
			var destination = that.scrollCurrentPos + 5;
		} else {
			var destination = that.scrollCurrentPos - 5;
		}

		that.scrollTo(destination);
	},


	//get prize
	call: function(id, callback){
		var that = this;
		//callback(id);

		//console.log("call", _event_last_prize_id, _arena_last_prize);

		//hack костыль для того, чтобы все появлялось после всех собранных. Если есть, то откладываем на потом
		if ($(".profile-page .itemContainer, .arenaScreen .itemContainer").length >= 1){
			that.runOnLastCollect = id;
			return false;
		}
		

		if (_event_last_prize_id == -1){
			showEventPopup("allCollect");
			//that.runOnLastCollect = null;
			//return false;
		}

		switch (that.prizesList[id].type) {
			case 'extra':
				_EXT_put2(that.prizesList[id].id);
				break;
			case 'randomExtra':
				_EXT_put2(_event_last_prize_id);
				break;
			case 'extraArena':
				if (Array.isArray(_arena_last_prize)){

					jQuery.each( _arena_last_prize, function( i, extraId ) {
						_EXT_put2(extraId);
					});

					// for (extraId of _arena_last_prize) {
					// 	_EXT_put2(extraId);
					// }

				}else{
					//_EXT_put2(324);
					_EXT_put2(_arena_last_prize);
				}				
				break;
			case 'randomEventGift':
				showEventPopup("prizeMegaGift", that.prizesList[id]);
				break;
			case 'power':
				showEventPopup("newSuperPower", that.prizesList[id]);
				break;
			case 'sticker':
				showEventPopup("prizeBanditosSticker", _event_last_prize_id);
				break;
			case 'randomEventSticker':
				showEventPopup("prizeSticker", _event_last_prize_id);
				break;
			case 'coins':
				_EXT_put2("coins", that.prizesList[id].name);
				//alert("Вы получили монеты"+that.prizesList[id].name);
				break;
			case 'splinters':
				showEventPopup("splinters", that.prizesList[id]);
				var groupQty = that.prizesList[id].qty / 5;

				var i;
				for (i = 0; i < groupQty; i++) { 
					_EXT_put2("splinters");
				}
				break;
			case 'stars':
				var groupQty = that.prizesList[id].qty / 25;

				var i;
				for (i = 0; i < groupQty; i++) { 
					_EXT_put2("stars");
				}
				break;
			case 'skin':
				var skinArgs = that.prizesList[id];
				skinArgs.src = _event_last_prize_id;
				showEventPopup("skin", skinArgs);
				break;
			case 'randomEventSkin':
				showEventPopup("prizeRandomSkin", _event_last_prize_id);
				// proveritj _EXT_put2(_event_last_prize_id);
				break;
			case 'emblem':
				switch (true) {
					case that.userCurrentGiftsCount >= 600:
						var emblem = 3;
						break;
					case that.userCurrentGiftsCount >= 400:
						var emblem = 2;
						break;
					case that.userCurrentGiftsCount >= 200:
						var emblem = 1;
						break;
				}
				showEventPopup("prizeEmblem", emblem);
				break;
		}		
		
		//сбрасываем кэш
		that.runOnLastCollect = null;
	}

};

var RoomsList = {
	isInit: null,
	
	clear: function(){
		$('li.leagueSort').remove();
		RoomsList.isInit = false;
	},

	initLayers: function(league){
		if (RoomsList.isInit === null) RoomsList.clear();
		if (RoomsList.isInit === true){
			if ($('#gml_list .leagueSort').length == 0){
				RoomsList.isInit = false;
			}
		}
		if (RoomsList.isInit === false){
			var ll = (league > 4 ? 4 : league);
			for (var i = ll; i > 0; i--) {
				$("#gml_list").append('<li class="leagueSort" id="leagueGroup'+ i +'"></li>');
			}
			for (var i = (ll + 1); i <= 4; i++) {
				$("#gml_list").append('<li class="leagueSort" id="leagueGroup'+ i +'"></li>');
			}
		}
		RoomsList.isInit = true;
	},

	addRooms: function(obj, arr, my_level, my_lang, room_league, league){
		if (obj != '' && !$("#"+ obj +"_"+ arr[0]).length){
			var _tt = Math.floor(new Date().getTime() / 1000);
			var _hh = parseInt(arr[11]);
			var _dis = (parseInt(arr[7]) >=  parseInt(arr[3]) ? 1 : 0);
			var _can_join = (league >= room_league) || (room_league == 1 && league == 0);
			var _favorite_detected = $("#ufv_"+ arr[2]).length;
						var _maxl = 3;
						var _c = '<li id="'+ obj +'_'+ arr[0] +'" class="'+ (_favorite_detected ? 'favoriteOwner' : '') + (_dis ? ' off' : '') + (_hh > 0 ? ' not-displayed' : '')+'" label="'+ (_hh > 0 ? (_tt + _hh) : 0) +'">'+
				'<div class="name">' +'<span class="link" ondblclick="return false" onclick="_PVT(event, \''+ arr[2] +'\');return false">'+ arr[1] +'</span></div>'+
				(parseFloat(arr[4]) > 0 ? '<div class="rating r'+ parseInt(arr[4]) + '_h league'+ arr[4] +'color" title="'+ league_ttls_w[arr[4]] +'"><img src="/images/icons/league/'+arr[4]+'.png" class="leagueIco" />'+ league_ttls[arr[4]] + (arr[4] == _maxl ? '+' : '') +'</div>' : (parseInt(arr[8]) == 1 ? '<div class="rating anoob_h" title="Требуется минимум 5 уровень">A</div>' : '') + (parseInt(arr[8]) == 2 ? '<div class="rating anoob20_h" title="Требуется минимум 20 уровень">A+</div>' : ''))+
				'<div class="players" ondblclick="return false" onclick="_GM_action(\'\', \'players\', \''+ arr[0] +'\', event);return false" title="Список игроков"><span label="'+ arr[3] +'">'+ arr[7] +'</span>/'+ arr[3] +'</div>'+
				'<div class="coins" title="Ставка">'+ arr[5] +'</div>'+
				'<div class="button"><button class="'+ (_can_join ? 'greenButton size1' : 'greenButton size1 lowRate') + (_dis ? ' disabled' : '') +'" ondblclick="return false" hidefocus="true" onclick="_GM_action(\''+ obj +'\', \'join\', \''+ arr[0] +'\', event);return false">Войти</button></div></li>';
			if (_favorite_detected){
				$("#gml_list").prepend(_c);
			} else {
				$("#leagueGroup"+ room_league).before(_c);			
			}
		}
	}
};
						
	
var MainMenu = {
	update_obj_list: {
		bt_arena: 50,
		bt_extras_bm: 5,
		bt_extras: 5,
		bt_clan: 30,
		bt_events: 12
	},
	
	update: function(games_played){
		if (typeof games_played !== 'undefined'){
			$.each(this.update_obj_list, function(obj_dom_id, game_count){
				var obj = $("#"+ obj_dom_id);
				var gLeft = parseInt(game_count - games_played);
				var text = 'Для открытия сыграй '+ gLeft +' игр'+ _postfix(['','у','ы'], gLeft) +'';
				if (gLeft <= 0){
					MainMenu.removeLock(obj_dom_id);
				} else {
					if (obj.attr("data-tip")){
						obj.attr("data-tip", text);
					}
				}
			});
		}
		//ptip.init('.hoverHint', {preset:'tooltip', cls:'brown'});
	},
	
	removeLock: function(dom_id){
		var obj = $("#"+ dom_id);
		if (obj.hasClass("lock")){
			obj.removeClass("lock hoverHint").removeAttr("data-tip");
		}
	},

	gamesLeftText: function(game_count, games_played){
		if (typeof games_played !== 'undefined'){

				var gLeft = parseInt(game_count - games_played);
				var text = 'Для открытия сыграй '+ gLeft +' игр'+ _postfix(['','у','ы'], gLeft) +'';
				if (gLeft >= 0){
					return text;
				}

		}
		//ptip.init('.hoverHint', {preset:'tooltip', cls:'brown'});
	}
};


							
var ExtraAnim = {
	autoRemoveTimer: {},

	add: function(extraId, userId, stop_animation){	
		if (typeof extraId !== 'undefined' && typeof userId !== 'undefined'){
			if (!$("#upl_" + userId).length){
				return false;
			}
			var positionY = $("#upl_" + userId).position().top;
			var $extraAnimDiv = $('<div class="extraAnim extra_'+ extraId +'" id="extraAnim_'+ userId +'"></div>');
			$("#upl_list").append($extraAnimDiv);
			if (stop_animation !== true){
				$extraAnimDiv.css("top", positionY).animate({
					left: '20px'
				}, 500, function() {
					// Animation complete.
				});			
			} else {
				$extraAnimDiv.css("top", positionY);
			}

		}
	},
	
	move: function(extraId, fromId, toId){	
		var toY = $("#upl_" + toId).position().top;
		var obj = $("#extraAnim_"+ fromId +".extraAnim.extra_"+ extraId);
		if ($(obj).length && !isNaN(toY)){
			$(obj).animate({
				top: toY +"px"
			}, 500, function(){
				$(this).attr("id", "extraAnim_"+ toId);
			});
		}
	},
	
	update: function(extraName){
		if ($("#upl_list div.extraAnim").length){
			$("div.extraAnim").each(function() {
				var obj = $(this);
				var currentPositionY = obj.position().top;
				var userId = obj.attr("id").split("_")[1];
				var needPositionY = $("#upl_"+userId).position().top;			
				var currentPositionY = obj.position().top;
				
				if (currentPositionY != needPositionY){
					obj.css("top",needPositionY + "px");
				}				
			});
		}
	},
	
	remove: function(extraId, userId){
		if ($("#upl_list div.extraAnim").length){
			var extraId = extraId || '';
			var userId  = userId  || '';
			var idTarget = '';
			var extraTarget = '';
					
			if (userId !== ''){
				idTarget = '#extraAnim_'+userId;
			}
			if (extraId !== ''){
				extraTarget = '.extra_'+extraId;
			}			
			
			var $findElem = $("#upl_list div"+ idTarget +".extraAnim"+extraTarget);
			
			if ($findElem.length){
				$findElem.remove();
			}		
		}
	},

	removeAfter: function(extraId, userId, removeAfter) {
		var idx = (typeof extraId != 'undefined' ? extraId : '') +"_"+ (typeof userId != 'undefined' ? userId : '');
		if (typeof this.autoRemoveTimer[idx] != 'undefined') {
			clearTimeout(this.autoRemoveTimer[idx]);
		}
		this.autoRemoveTimer[idx] = setTimeout(function(){
			ExtraAnim.remove(extraId, userId);
		}, removeAfter);
	}
};

var MyExtras = {
	settings: {
		mini_mode_after: 16,
		paging_after: 42,
		qty_per_page: 40
	},
		
	getCurrentState: function(){
		var currentExtrasCount = parseInt($("#gxt_list > li:not(.only-chat)").length);

		var returnArr = [];
			returnArr.miniMode = false;
			returnArr.paging = false;
			returnArr.totalPages = 0;
		
		if (currentExtrasCount >= this.settings.mini_mode_after){
			returnArr.miniMode = true;		
		}
		
		if (currentExtrasCount > this.settings.paging_after){
			returnArr.paging = true;
			returnArr.totalPages = Math.ceil(currentExtrasCount / this.settings.qty_per_page);

		}



		return returnArr;
	},
	
	redraw: function(dom_id){
		var stateArr = this.getCurrentState();
			
		if (stateArr.paging){
			this.paging("init");
		}
	},
	
	useExtra: function(obj, currentCount){
		obj.addClass("anim");
		setTimeout(function(){obj.removeClass("anim")}, 1000);
	},
	
	delExtra: function(){	
		var stateArr = this.getCurrentState();
		
		if (stateArr.paging == false){
			this.paging("remove");			
		}else{
			this.redraw();
		}
	},
	
	paging: function(action, args){
		var that = this;
		
		switch (action) {
		  case 'init':
			init();
			break;
		  case 'redraw':
			redraw();
			break;
		  case 'changePage':
		  	changePage(args[0], args[1]);
		  	break;
		  case 'remove':
			remove();
			break;
		}
	
		function init(){
			redraw();

			//add paging button
			if (!$("#pagingPrevButton").length){
				//add paging class
				$("#gxt_list").addClass("pagingMode").attr("data-page", 1);
				$("#myExtras").addClass("pagingMode");

				$("#gxt_list").append('<button id="pagingPrevButton" class="extraPagingButton disabled"></button><button id="pagingNextButton" class="extraPagingButton"></button>');

				$("#pagingNextButton").click(function() {
					that.paging("changePage", ["next"]);
				});

				$("#pagingPrevButton").click(function() {
					that.paging("changePage", ["prev"]);
				});

			}
			
		}

		function redraw(){
			$( "#gxt_list > li:not(.only-chat)" ).each(function(i) {
				var pageNum = Math.ceil((i+1) / that.settings.qty_per_page);
				$(this).attr("data-page", pageNum);
			});	

			//если такой страницы нету, меняем пейджинг
			var totalPages = that.getCurrentState().totalPages;
			var currentPagingPage = parseInt($("#gxt_list").attr("data-page"));


			if (currentPagingPage > totalPages){
				that.paging("changePage", ["prev"]);
			}

			updateButtons();
		}

		function changePage(pagingDirection){
			
			var totalPages = that.getCurrentState().totalPages;
			var currentPagingPage = parseInt($("#gxt_list").attr("data-page"));

			switch (pagingDirection) {
				case 'prev':
					if (currentPagingPage != 1){ /* if not first page */
						$("#gxt_list").attr("data-paging", pagingDirection);
						$("#gxt_list").attr("data-page", --currentPagingPage);
					}
			
					break;
				case 'next': 
					if (currentPagingPage != totalPages){ /* if last page */
						$("#gxt_list").attr("data-paging", pagingDirection);
						$("#gxt_list").attr("data-page", ++currentPagingPage);
					}
				
					break;
				default:
					return false; 
			}

			updateButtons();
		}


		function updateButtons(){
			var totalPages = that.getCurrentState().totalPages;
			var currentPagingPage = parseInt($("#gxt_list").attr("data-page"));

			$(".extraPagingButton").removeClass("disabled");

			if (currentPagingPage == 1){ /* if first page */
				$("#pagingPrevButton").addClass("disabled");
			} 

			if (currentPagingPage == totalPages){ /* if last page */
				$("#pagingNextButton").addClass("disabled");
			} 
		}

		
		function remove(){
			$("#pagingNextButton, #pagingPrevButton").remove();
			$("#gxt_list").removeClass("pagingMode");
			$("#myExtras").removeClass("pagingMode");
		}
	}
};


var playBonus = {
	settings: {
		default_seconds: 60,
		bonusDiv: '#playBonus .bonusAviable',
		timerDiv: '#playBonus #cnd_hour_bonuss',
		infoDiv: '#playBonus .playBonusInfo'
	},
	
	show: function(){
		$(this.settings.bonusDiv).fadeIn();
		$(this.settings.timerDiv).hide();
		$(this.settings.infoDiv).text("бонус доступен!");
		if (!_SOUND_err) _SOUND_arr['sfx']['hour_bonus'].play();
	},
	
	timer: function(seconds){
		$(this.settings.timerDiv).show().css({ opacity: 1 });
		$(this.settings.bonusDiv).hide();
		$(this.settings.infoDiv).text("");
		
		seconds = seconds || this.settings.default_seconds;
		
		$('div#cnd_hour_bonuss').countdown(seconds * 1000, function(event) {});	
	}
};

var GetText = {
	role_hint_text: {
		citizen:  'Единственное оружие гражданина это умение общаться. Гражданин должен искать союзников среди других игроков и доказывать свою честность.',
		mafiosos: 'Ночью убивает одного игрока. Если в команде несколько мафиози, то для успешного убийства им нужно выбрать одну цель.',
		helper:   'Играет за «Семью Жирного Тони» против граждан, мафии и маньяка. Ночью убивает одного игрока. Если в команде несколько подручных, то для успешного убийства им нужно выбрать одну цель.',
		fattony:  'Играет за семью Жирного Тони. Ночью выбирает одно из действий. Каждое действие помогает выиграть семье Жирного Тони.',
		boss:     'Играет за мафию. Ночью морозит любого игрока, лишая ночного хода, возможности писать в чат и голосовать в течение всего следующего дня. Когда остаётся один, начинает морозить игроков насмерть.',
		deadman:  'Единственное оружие гражданина это умение общаться. Гражданин должен искать союзников среди других игроков и доказывать свою честность.',
		maniac:   'Играет сам за себя. Ночью убивает любого игрока.',
		ripper:   'Играет сам за себя. Ночью убивает любого игрока. Обладает особыми супер-силами, которые помогают убивать игроков.',
		beard:    'Играет за себя против всех. Ночью убивает игроков. Получает случайную супер-силу в начале каждой игры.',
		doctor:   'Играет за граждан. Ночью спасает игрока от убийства. Не спасает в случае одновременного покушения мафии и маньяка.',
		commisar: 'Играет за граждан. Ночью проверяет роль игрока, чтобы найти мафиози. Своим визитом может спасти игрока от убийства.',
		witness:  'Играет за граждан. Ночью посещает игрока. Если ночью посещённого игрока убьют, свидетель раскроет роль убийцы.',
		santa:    'Особая роль! Играет за граждан. Ночью дарит игрокам «Мешки с подарками».',
		grinch:   'Особая Новогодняя роль! Играет за граждан. Ночью дарит игрокам «Гадость от Гринча» и «Коробку с леденцами».',
		valentin: 'Играет за себя против всех. Ночью стреляет из двух пистолетов: первый убивает, а второй стреляет случайным эффектом.',
		costumer: 'Особая роль! Играет за граждан. Ночью дарит игрокам «Шкатулку Костюмера».',
		bunny:    'Особая роль! Играет за граждан. Ночью дарит игрокам подарки.',
		bunny_e:  'Особая Пасхальная роль! Играет за граждан. Ночью дарит игрокам «Гадкие яйца» и «Мешок с морковкой».',
		bunny_n:  'Особая ОЧЕНЬ РЕДКАЯ роль! Играет за граждан. Ночью дарит игрокам подарки.',
		bitch:    'Играет за граждан. Ночью охмуряет игрока, лишая ночного хода. Стерве нужно быть внимательной, так как можно лишить хода не только мафию, но и комиссара с доктором.',
		thief:    'Играет за граждан. Ночью обворовывает игрока, лишая ночного хода. Вору нужно быть внимательным, так как можно лишить хода не только мафию, но и комиссара с доктором.',
		medic:    'Играет за граждан. В случае смерти доктора занимает его должность.',
		sergeant: 'Играет за граждан. Знает комиссара и видит все результаты его проверок. В случае смерти комиссара занимает его должность.',
		bifacial: 'Играет за мафию. Ночью пытается найти любого игрока из команды мафии. Как только находит, сразу получает возможность самостоятельно убивать игроков.',
		killer:   'Играет за мафию. Ночью пытается найти любого игрока из команды мафии. Как только находит, сразу получает возможность самостоятельно убивать игроков.',
		bigman:   'Играет за мафию. Ночью бьёт игроков, нанося удары разной силы от лёгкого шока до летального исхода.',
		marko:    'Играет за семью Жирного Тони. Ночью бьёт игроков, нанося удары разной силы - от лёгкого шока до летального исхода.',
		francesca:'Играет за семью Жирного Тони. Ночью ищет семью Жирного Тони, а когда находит - получает право самостоятельно убивать ночью игроков.',
		f_killer: 'Играет за семью Жирного Тони. Ночью ищет семью Жирного Тони, а когда находит - получает право самостоятельно убивать ночью игроков.',
		rosario:  'Играет за семью Жирного Тони. Ночью раскрывает роли игроков для семьи Жирного Тони. Через 5 ходов ночной ход меняется на убийство.',
		professor:'Играет за команду Профессора. Ночью убивает игроков. Получает случайную супер-силу в начале каждой игры.',
		golem:    'Играет за команду Профессора. Ночью убивает игроков. Голема нельзя ни убить, ни посадить, пока жив Чокнутый Профессор.',
		mutant:   'Играет за команду Профессора. Ночью убивает игроков. Имеет ряд супер-способностей!',
		leen:     'Играет за команду Якудза. Ночью выбирает одно из действий. Каждое действие помогает выиграть команде Якудза.',
		yakuza:   'Ночью убивает одного игрока. Если в команде несколько Якудза, то для успешного убийства им нужно выбрать одну цель.',
		hill:     'Играет за команду Якудза. Ночью выбивает монеты из игрока. Убивает при повторном визите, или когда у игрока заканчиваются монеты.',
		shadow:   'Играет за команду Якудза. Ночью кидает в игрока отравленный сюрикен, который убивает через игровые сутки.',
		fteller:  'Играет за граждан. Ночью гадает игрокам, отправляя три карты судьбы. Какую карту игрок выберет - такую судьбу и получит.',
		peppi:    'Играет за семью Жирного Тони. Ночью ходит к игрокам и закладывает бомбу. С утра у игрока будет выбор: перерезать красный или синий провод. Если игрок угадывает, то остаётся в живых, если нет - взрывается!',
		lili:     'Играет за себя. Ночью убивает игроков. Получает случайную супер-силу в начале каждой игры.',
		migel:    'Играет за команду Бандитос. Ночью убивает игроков. Получает случайную супер-силу в начале каждой игры.',
		sancho:   'Играет за команду Бандитос. Ночью убивает игроков. Получает случайную супер-силу в начале каждой игры.',
		bandit:   'Сбежавший из тюрьмы игрок. Играет за команду Бандитос. Ночью убивает игроков.',
		assassin1:'Уникальная роль Арены. Играет за себя против всех. Ночью убивает игроков.',
		assassin2:'Уникальная роль Арены. Играет за себя против всех. Ночью убивает игроков.',
		assassin3:'Уникальная роль Арены. Играет за себя против всех. Ночью убивает игроков.',
		fakecop:  'Играет за мафию. Ночью раскрывает роли игроков для команды мафии. Через 5 ходов ночной ход меняется на убийство.',
	},
	
	roleHint: function(role){
		if (this.role_hint_text[role]){
			return this.role_hint_text[role];
		} else {
			return '';
		}
	}
}

							
var ExtraEff = {
	autoRemoveTimer: {},

	add: function(extraId){
		if (typeof extraId !== 'undefined'){
						var $container = $("#myMicroExtras");
					
			if ($container.find("#extraMicro_"+ extraId).length){
				return;
			}
					
			var $extraImg = $('<img src="/img/extras-anim/micro/'+ extraId +'.png" class="extraMicro" id="extraMicro_'+ extraId +'" />');
			$container.append($extraImg);
			
			
		}
	},
	
	remove: function(extraId){
		var $container = $("#myMicroExtras");
		if ($("#myMicroExtras img").length && extraId){		
			if (extraId == 'all'){
				$container.html('');
				return;
			}
							
			var $extraTarget = $("#extraMicro_"+ extraId);
			
			if ($extraTarget.length){			
				$extraTarget.animate({
					top: '20px',
					opacity: 0
				}, 500, function() {
					// Animation complete.
					$extraTarget.remove();
				});
						

				
			}		
		}
	},

	removeAfter: function(extraId, userId, removeAfter) {
		var idx = (typeof extraId != 'undefined' ? extraId : '') +"_"+ (typeof userId != 'undefined' ? userId : '');
		if (typeof this.autoRemoveTimer[idx] != 'undefined') {
			clearTimeout(this.autoRemoveTimer[idx]);
		}
		this.autoRemoveTimer[idx] = setTimeout(function(){
			ExtraAnim.remove(extraId, userId);
		}, removeAfter);
	}
};

	
var __fortuneGlobal = {
	startDegVar: 0, // стартовая позиция
	spinActive: false, //крутиться ли колесо
	spinLastExtra: false, // экстра которая выпала последней
	spinLastBonus: false,
	spinPause: false
}

/*
var __startDegVar = 0;
var __spinActive = false;
var __spinLastExtra;
var __spinLastBonus = false;
var __spinPause = false;
*/

// призы
var __prizeArr = [
	{
		name: 'Экстра',
		type: 'extra'
	},
	{
		name: '5 000 монет',
		type: 'coins',
		qty: '5000'
	},
	{
		name: 'Экстра',
		type: 'extra'
	},
	{
		name: 'Экстра',
		type: 'extra'
	},	
	{
		name: '10 000 монет',
		type: 'coins',
		qty: '10000'
	},		 
	{
		name: 'Экстра',
		type: 'extra'
	},	
	{
		name: '100 000 монет',
		type: 'coins',
		qty: '100000'
	},
	{
		name: 'Бонус',
		type: 'bonus'
	}
];

var _bonusReview = [
'',
'<span>Бонус:</span><br /> Бесплатное вращение колеса (3 шт.)',
'<span>Бонус:</span><br /> В 2 раза больше монет (1 шт.)',
'<span>Бонус:</span><br /> В 3 раза больше экстр (3 шт.)'
];


var _bonusHint = [
'',
'Бесплатное вращение колеса (3 шт.)',
'Вы получите в 2 раза больше монет, когда выпадет сектор с монетами! (1 шт.)',
'Вы получите в 3 раза больше экстр, когда выпадет сектор с экстрой! (3 шт.)'
];


	
var FortuneWheel = {
	bla: 'bla bla bla',
	gotKeys: function(qty){
		var that = this;
		var animDelay = 0;
		var animDelayShow = 0;
		
		for (var i = 0; i < qty; i++) {
			var $div = $('<div class="fortuneKey" style="left: 100px; top:100px"></div>');
			var randomPx = Math.floor(Math.random() * 80) + 1;	
			$div.css("left", 160 + randomPx);
			$div.appendTo(".fortunePopup");
			TweenLite.from($div, 0.3, {rotation: 120, top: "-=30px",opacity: 0, delay: animDelayShow,ease: Power1.easeOut});
			animDelay = animDelay + 0.1;
			TweenLite.to($div, 0.6, {rotation: 360, left: 447, top: 339, delay: animDelay,ease: Power1.easeOut, onComplete:barResponse, onCompleteParams:[$div]});
		}
		
		/*$(".fortuneKey").each(function(){
			var id = $(this).attr('id');
			animDelay = animDelay + 0.1;
			TweenLite.to($(this), 0.6, {rotation: 360, left: 465, top: 305, delay: animDelay,ease: Power1.easeOut, onComplete:barResponse, onCompleteParams:[$(this)]});
		});*/

		function barResponse($obj){
			var currentKeysQty = $("#fortuneKeyBar em.current").text();
			currentKeysQty++;
			that.setKeyProgress(currentKeysQty);
			$obj.remove();
		}
	},

	gotBonus: function(bonusId){
		var that = this;
		var animDelay = 0;
		var animDelayShow = 0;
		var qty = 3;
		
		for (var i = 0; i < qty; i++) {
			var $div = $('<div class="bonusIco" style="left: 252px; top:104px"></div>');
			$div.appendTo(".eventScene");
			TweenLite.from($div, 0.3, {rotation: 120, top: "-=30px",opacity: 0, delay: animDelayShow,ease: Power1.easeOut});
			animDelay = animDelay + 0.1;
			var leftPos = parseInt(472 + bonusId*110);
			TweenLite.to($div, 0.6, {rotation: 360, left: leftPos, top: 590, delay: animDelay,ease: Power1.easeOut, onComplete:barResponse, onCompleteParams:[$div]});
		}

		function barResponse($obj){
			var currentKeysQty = $("#fortuneKeyBar").data("current");
			var changeToQty = currentKeysQty++;
			$("#fortuneKeyBar").data("current", changeToQty);
			that.setKeyProgress(changeToQty);
			$obj.remove();
		}
	},

	gotSpin: function(){
		var that = this;
		var animDelay = 0;
		var animDelayShow = 0;
		
		var $div = $('<div class="spinIco" style="left: 100px; top:200px"></div>');
		$div.css("left", 160);
		$div.appendTo(".eventScene");
		TweenLite.from($div, 0.3, {rotation: -120, top: "-=30px",opacity: 0, delay: animDelayShow,ease: Power1.easeOut});
		TweenLite.to($div, 0.6, {rotation: 360, left: 578, top: 304, delay: animDelay,ease: Power1.easeOut, onComplete:barResponse, onCompleteParams:[$div]});
		

		function barResponse($obj){
			var currentKeysQty = $("#fortuneKeyBar").data("current");
			var changeToQty = ++currentKeysQty;
			$("#fortuneKeyBar").data("current", changeToQty);
			that.setKeyProgress(changeToQty);
			$obj.remove();
		}
	},

	gotCoins: function(qty, extraArr){
		var animDelay = 0;
		var animDelayShow = 0;
		
		for (var i = 0; i < qty; i++) {
			var $div = $('<div class="fortuneCoin" style="left: 100px; top:100px"></div>');
			var randomPx = Math.floor(Math.random() * 80) + 1;	
			$div.css("left", 160 + randomPx);
			$div.appendTo(".eventScene");
			TweenLite.from($div, 0.3, {rotation: 120, top: "-=30px",opacity: 0, delay: animDelayShow,ease: Power1.easeOut});
			animDelay = animDelay + 0.1;
			TweenLite.to($div, 0.2, {opacity: 0, left: -20, top: -20, delay: animDelay + 0.4 ,ease: Power1.easeOut, onComplete:barResponse, onCompleteParams:[$div]});
			TweenLite.to($div, 0.6, {rotation: 360, left: -20, top: -20, delay: animDelay,ease: Power1.easeOut, onComplete:barResponse, onCompleteParams:[$div]});
		}
		
		function barResponse($obj){
			$obj.remove();
		}
	},
	
	setKeyProgress: function(qty){
		$("#fortuneKeyBar em.current").html(qty);
		var progress = qty / 30 * 100;
		$("#fortuneKeyBar .progress").width(progress+"%");

		// reset to zero
		if (qty >= 30){ // need
			$("#fortuneKeyBar em.current").html(0);
			$("#fortuneKeyBar").data("current", 0);
			$("#fortuneKeyBar .progress").width(0);

			if ($("#fortuneChestBtnContainer").hasClass("off")){		
				if (!_SOUND_err) _SOUND_arr['sfx']['fortune_chest_get'].play();
				$("#fortuneChestBtnContainer").removeClass("off");
			}

		}
	},

	//устанавливает паузу
	setPause: function(bool){
		if (bool){
			__fortuneGlobal.spinPause = true;
		} else {
			__fortuneGlobal.spinPause = false;
			$("#fortuneSpinBtn").removeClass("gray");
		}
	},

	// возвращает true/false можно ли крутить
	spinPause: function(){
		if (__fortuneGlobal.spinPause){
			return true;
		} else {
			return false;
		}
	},

	spinTo: function(prizeNum, extraId, bonus){ // bonus = 1/0
		var that = this;

		var params = {
			sectorId: prizeNum,
			extraId: extraId, 
			bonus: bonus
		}

		//init
		if (!$("#fortuneKeyBar").data("current")){
			$("#fortuneKeyBar").data("current", parseInt($("#fortuneKeyBar em.current").html()));
		}
		

		//if (__spinActive){ //если колесо еще вращается
		if (__fortuneGlobal.spinActive){ //если колесо еще вращается
			that.onEndSpin();
		}else{
			$(".winBlock").hide();
			if (!_SOUND_err) _SOUND_arr['sfx']['fortune_spin'].play();
		}


		
		var needDeg = prizeNum * 45;
		var actualNeedDeg = needDeg + 360 * 2;

		//__startDegVar = needDeg;
		__fortuneGlobal.startDegVar = needDeg;
		
		var $obj = $("#krug");
		TweenLite.set($obj, {rotation: needDeg});
		TweenLite.set($(".motion"), {opacity: 1});
		TweenLite.to($(".motion"), 0.6, {rotation: 360, ease: Power1.easeOut});
		TweenLite.to($(".motion"), 0.4, {delay: 0.5, opacity: 0, ease: Power1.easeOut});
		TweenLite.to($obj, 1, {rotation: actualNeedDeg, ease: Power1.easeOut, onComplete:FortuneWheel.onEndSpin, onCompleteParams:[prizeNum, extraId, bonus]});

		that.onStartSpin(params);
	},
	
	onStartSpin: function(params){
		if (__prizeArr[params.sectorId].type == 'bonus' || __prizeArr[params.sectorId].type == 'coins'){
			this.setPause(true); // ставим паузу
		}

		__fortuneGlobal.spinActive = params.sectorId;
		__fortuneGlobal.spinLastExtra = params.extraId;
		__fortuneGlobal.spinLastBonus = params.bonus;
		TweenLite.set($(".winBlock"), {scale: 1});
		$("div.spinInfoBlock").fadeOut(200);
		this.gotSpin();	
	},
	
	onEndSpin: function(sectorId, extraId, bonus){
		var that = this;
		//var sectorId = params.sectorId;
		//var extraId = params.extraId;


		//setTimeout(function(){}, 1000);
		FortuneWheel.setPause(false)

		

		if (sectorId){
			__fortuneGlobal.spinActive = false;
		}else{
			sectorId = __fortuneGlobal.spinActive;
			extraId = __fortuneGlobal.spinLastExtra;
			bonus = __fortuneGlobal.spinLastBonus;
		}
			
		
		$(".winBlock").show();
		TweenLite.from($(".winBlock"), 0.1, {scale: 0.5, ease: Power1.easeOut});		
		
		$(".lights").removeClass("animation");
		setTimeout("$('.lights').addClass('animation');",100);
		

		var type = __prizeArr[sectorId].type;

		switch (type) {
			case 'extra': //если экстра
				if (!_SOUND_err) _SOUND_arr['sfx']['fortune_extra'].play();
				break;
			case 'bonus': //если ключи/бонус
				//FortuneWheel.gotKeys(5);
				FortuneWheel.gotBonus(extraId);
				if (!_SOUND_err) _SOUND_arr['sfx']['fortune_key'].play();
				break;
			case 'coins':
				if (__prizeArr[sectorId].qty == 100000){
					FortuneWheel.gotCoins(50);
				}
				else if (__prizeArr[sectorId].qty == 10000){
					FortuneWheel.gotCoins(20);
				} else{
					FortuneWheel.gotCoins(10);
				}
				
				if (!_SOUND_err) _SOUND_arr['sfx']['fortune_coins'].play();
				break;
			default:
				break;
		}


		//если сектор экстра
		if (type == 'extra'){
			$(".winBlock").css('background-image', 'url(/images/events/lili/fortune/prize/win_extra_bg.png)');
			$(".winBlock .extraInfo").html('<div class="extraIco hoverGlow"><img src="/img/extras/'+ extraId +'.png" /><div class="hover-hint">'+ __store[extraId].descr +'<div class="arrow"></div></div></div>');
			$("#fortunePrizeName").html(__store[extraId].title + (bonus == 1 ? ' <em>x3</em>' : '')).removeAttr('class');

			//если выпал бонус
			if (bonus == 1){
				$("#fortuneBonus").html('<div class="fortuneBonus"><div class="ico glowAnim"><img src="/images/events/lili/fortune/bonus3.png"></div><p class="text">В 3 раза больше экстр</p></div>');	
			} else {
				$("#fortuneBonus").html('');
			}
	
		} 

		else if(type == 'bonus'){
			$(".winBlock").css('background-image', 'url(/images/events/lili/fortune/prize/win_bonus_bg.png)');
			$(".winBlock .extraInfo").html('<div class="extraIco"><img src="/images/events/lili/fortune/prize/bonus'+ extraId +'.png" /></div>');
			$("#fortunePrizeName").html(_bonusReview[extraId]).addClass("bonus");
			TweenLite.from($("#fortuneBn"+extraId), 0.4, {scale: 1.35, ease: Power1.easeOut});
			$("#fortuneBonus").html('');
		}

		else {
			//если выпал бонус
			if (bonus == 1){
				$("#fortuneBonus").html('<div class="fortuneBonus"><div class="ico glowAnim"><img src="/images/events/lili/fortune/bonus2.png"></div><p class="text">В 2 раза больше монет</p></div>');	
			} else {
				$("#fortuneBonus").html('');
			}



			$(".winBlock").css('background-image', 'url(/images/events/ny/fortune/prize/'+sectorId+'.png)');
			$(".winBlock .extraInfo").html('');	
			$("#fortunePrizeName").html(__prizeArr[sectorId].name + (bonus == 1 ? ' <em>x2</em>' : '')).removeAttr('class');		
			
		}
	}	
}


Res = {
	templates: {
			coin: {
				finalElement: "#myBars .bar.coin .ico",
				qtyDiv: "#myBars .bar.coin em",
				backgroundPosition: "-300px",
				frames: 6,
				animTime: 0.5
			},
			ruby: {
				finalElement: "#myBars .bar.ruby .ico",
				qtyDiv: "#myBars .bar.ruby em",
				backgroundPosition: "-150px",
				frames: 3,
				animTime: 0.3		
			},
			star: {
				finalElement: "#levelBar .ico.star",
				qtyDiv: "#levelBar .progressText em.current",
				progressBar: "#levelBar",
				backgroundPosition: "-360px",
				frames: 6,
				animTime: 0.5		
			},
			epicArenaToken: {
				bar: ".epicArenaScene em.tokenCurrQty",
				finalElement: ".epicArenaScene em.tokenCurrQty",
				qtyDiv: ".epicArenaScene em.tokenCurrQty",
				backgroundPosition: "0",
				frames: 0,
				animTime: 0.5		
			},
			eventShopToken: {
				bar: ".shopTokenQty em.tokenCurrQty",
				finalElement: ".shopTokenQty em.tokenCurrQty",
				qtyDiv: ".shopTokenQty em.tokenCurrQty",
				backgroundPosition: "0",
				frames: 0,
				animTime: 0.5		
			},
			eventToken: {
				bar: "ul.eventTwoRowProgress",
				finalElement: ".eventTwoRowProgress li.current em.current",
				qtyDiv: ".eventTwoRowProgress li.current em.current",
				backgroundPosition: "0",
				frames: 0,
				animTime: 0.5		
			},
			dinar: {
				bar: ".eventScene em.currQty",
				finalElement: ".eventScene em.currQty",
				qtyDiv: ".eventScene em.currQty",
				backgroundPosition: "0",
				frames: 0,
				animTime: 0.5		
			},
			candy: {
				bar: ".eventScene em.currQty",
				finalElement: ".eventScene em.currQty",
				qtyDiv: ".eventScene em.currQty",
				backgroundPosition: "0",
				frames: 0,
				animTime: 0.5		
			}		
	},
	
	settings: {
		
	},
	
	default_settings: {
		limit: 10,
		container_width: 150, // настройки невидимого контейнера в котором появляются предметы
		container_height: 80,
		container_offset_y: -100, //дополнительные сдвиги по x, y. По умолчанию центр точки
		container_offset_x: 0,
		container_margin: 50, //расстояние между контейнерами
		fly_time: 0.9, //длительность полета, формат 1.1секунд
		queue_time: 100, //промежуток времени появления ms
		callback_delay: null,
		type: null, //coin, ruby, star
		start: null //объект с котого вылетают предметы
	},
	
	add: function(objArr, settings, callback){//объект или массив объектов
		var that = this;

		if (!$.isArray(objArr)){
			objArr = [objArr];
		}
		var objects_count = objArr.length;
		
		that.settings = $.extend( {}, that.default_settings, settings || {});
		
		console.log("res add");
		for (var args_i = 0; args_i < objects_count; args_i++) {		
			var obj = objArr[args_i];
			// console.log(obj.qty);

			var $currentQtyDiv = $(this.templates[obj.type].qtyDiv);
			var $bar = $(this.templates[obj.type].bar);

	
			
			if (!$currentQtyDiv.length){
				//console.error("Res says: bar not found", this.templates[obj.type].qtyDiv);
				return false;
			}
			
			var prevQty = parseInt($bar.data("realQty")) || parseInt($currentQtyDiv.html());
			console.log("prevQty", prevQty)

			var qty = obj.qty - prevQty;

			//обновляем новое значение
			$bar.data("realQty", obj.qty);
			console.log("realQty",$bar.data("realQty"));
			
			if (isNaN(prevQty) || qty == 0 || obj.qty == 0){
				continue;
			}


			console.log("!!!!Res.Add (qty, prevQty, obj.qty)", qty, prevQty, obj.qty);
			
			switch (obj.type) {
				case 'eventToken':
					break;
				default:
					//$currentQtyDiv.data("currentQty", obj.qty);
					break;
			}

			
			if (typeof obj !== 'object'){
				continue;
			}
							
			if ($(obj.start).length){
				// узнать координаты объекта с которого идет лут. Координаты высчитать строго по его центру
				var objectCenterLeft = $(obj.start).offset().left + $(obj.start).width() / 2 + this.settings.container_margin / 2;
				var objectCenterTop = $(obj.start).offset().top   + $(obj.start).height() / 2;
			} else { //показываем по центру
				var objectCenterLeft = 500;
				var objectCenterTop = 400;
			}
				
			// создать невидимый контейнер по центральной точке
			var mainContainerWidth = (this.settings.container_width * objects_count + this.settings.container_margin * objects_count);
			var left = (this.settings.container_width + this.settings.container_margin) * args_i + objectCenterLeft - mainContainerWidth / 2;
			var top = objectCenterTop - this.settings.container_height / 2;

			//звук появления
			switch (obj.type) {
				case 'coin':
					playSound('sfx', 'coins_buy');
					break;
				case 'ruby':
					playSound('sfx', 'crystals_buy');
					break;
			}

			//выводим количество
			this.printQty(qty, obj.type, left, top);
			
			
			// var itemQty = qty / ; 
			var itemQty = (Math.abs(qty) > this.settings.limit ?  this.settings.limit : Math.abs(qty));


			//создаем нужное количество. Если минусовое значение у кубков, то ставим таймер пока все закроется
			createItem(itemQty, qty, obj.type, top, left);


				
			function createItem(itemQty, qty, type, top, left){
				var minus = qty >= 0 ? 1 : -1;
				qty = Math.abs(qty); 
				

				var itemHaveQty = Math.floor(qty / itemQty); // в одном объекте
				var itemHaveQtyLast = qty - itemHaveQty * itemQty; 
				
				var i = 0;
				var addQty = itemHaveQty;
							
				var myInterval = setInterval(function () {	
					i++;
					var last = false;
					  
					itemHaveQty = addQty + (i <= itemHaveQtyLast ? 1 : 0);
				  
					if (itemQty <= i){
						clearInterval(myInterval);
						last = true;
					}
				  
	
					Res.draw(type, left, top, itemHaveQty * minus, last, callback);
					  
				}, that.settings.queue_time);			
			}

			// определить размер контейнера для отображения монет выставив его строго по центру
			// если больше, чем одна позиция, то выстраивать линию с блоков (1,2,3)
			// для каждого блока(группы) запускать анимацию количества монет/рубинов и центровать ее по блоку
		}	
	},

	//добавляет qty
	plus: function(type, qty){
		console.log("add to object", qty);
		var that = this;
		var $currentQtyDiv = $(this.templates[type].qtyDiv);
		console.log("current qty is", $currentQtyDiv.data("realQty"));
		var qty = parseInt(qty) + parseInt($currentQtyDiv.data("realQty"));
		console.log("qty is", qty);
		$currentQtyDiv.html(qty).data("realQty", qty);
	},

	set: function(type, qty){
		var that = this;
		var $currentQtyDiv = $(this.templates[type].qtyDiv);
		var qty = parseInt(qty);
		console.log("set to", qty);
		$currentQtyDiv.html(qty).data("realQty", qty);
	},
	
	draw: function(type, x, y, itemHaveQty, last, callback){ //coin, ruby, rating
		x = x + Math.floor(Math.random() * this.settings.container_width) + this.settings.container_offset_x;
		y = y + Math.floor(Math.random() * this.settings.container_height) + this.settings.container_offset_y;
		var $div = $('<div class="resGet '+ type +'"></div>').css({left: x, top: y}).data("type",type).data("qty",itemHaveQty).appendTo("body");
		
		this.animation($div, last, callback);
		//добавить монету в свой контейнер с рандомом
		//запустить анимацию полета

	},

	buttonResponse: function(type, price, doNotSub){
		var that = this;
		var price = price || 100;
		var $bar = $(that.templates[type].bar);
		
		//console.log("response", parseInt($bar.html()), type);

		


		if (parseInt($bar.html()) >= price){
			//$bar.data("lastQty", currentCount).data("realQty", realQty).html(currentCount);
			
			if (!doNotSub){
				var currentCount = parseInt($bar.data("lastQty")) - price;
				var realQty = $bar.data("realQty") - price; 

				$bar.data("lastQty", currentCount); //????
				that.set(type, realQty);
			}
			return true;
		} else {
			return false;
		}
	},
	
	animation: function($div, last, callback){
		var thatt = this;
		var type = $div.data("type");
		var itemHaveQty = parseInt($div.data("qty"));
		var template = this.templates[type];	
			
	
		//var $div = $($div);
		
		var toLeft = 0;
		var toTop = 0;
		
		if ($(template.finalElement).length){
			toLeft = $(template.finalElement).offset().left;
			toTop = $(template.finalElement).offset().top;			
		}
		
		if (template.frames != 0){
			TweenMax.to($div, template.animTime ,{repeat: -1, backgroundPosition: template.backgroundPosition,ease:SteppedEase.config(template.frames)});	
		}	

		var tl = new TimelineMax({onComplete:animComplete, onCompleteParams: [$div, last]});
		
		tl
		.from($div, 0.2, {opacity:0, top:"-=30", ease:Back.easeOut})
		.to($div, this.settings.fly_time, {top:toTop, left:toLeft, scale: 0.5, ease:Power3.easeIn})
		.to($div, 0, {onComplete:barResponse, onCompleteParams: [$div]}, "-=0.1")
		.to($div, 0.3, {opacity:1}, "-=0.3");
		//по завершению запустить функцию barUpdate	
		
		function animComplete($div, last){
			tl.kill();
			$div.remove();
			if (last){
				console.log("LAST");
				if (typeof callback === "function"){
					//if (this.settings.callback_delay != null){
						//setTimeout(callback(), callback_delay);
					//}
					//else {
						callback();
					//}				
				}
			}
		}
		
		function barResponse($obj){
			var progressBar = thatt.templates[type].progressBar;
			
				
			switch (type) {
				case 'coin':
					playSound('sfx', 'coins_fly');
					break;
				case 'eventToken':
					if (!_SOUND_err) _SOUND_arr['sfx']['cup_fly'].play();
					break;
			}		

			
			var $qtyDiv = $(thatt.templates[type].qtyDiv);
			var $bar = $(thatt.templates[type].bar);
			//var currentCount = parseInt($qtyDiv.html());

			var currentCount = parseInt($bar.data("lastQty")) || parseInt($qtyDiv.html());

			var countAfterUpdate = Math.round(currentCount + itemHaveQty);
			$bar.data("lastQty", countAfterUpdate);
			
			switch (type) {
				case 'eventToken':
					EventPrize2row.setCurrentProgress(countAfterUpdate);
					break;
				default:
					if (progressBar){
						ProgressBar.update(progressBar, countAfterUpdate);
					} else {
						$qtyDiv.html(countAfterUpdate);
					}
					break;
			}	

			//$(template.finalElement).hide();
			
			TweenMax.fromTo($(template.finalElement),0.3,{scale: 1.3},{scale: 1});	
		}
	},
	
	printQty: function(qty, type, left, top){
		if (qty > 0){
			qty = "+" + qty; 
		}
		var $div = $('<div class="resQty '+ type +'">'+ qty +'</div>').css({left: left - 2, top: top - 20}).appendTo("body");
	
	
		var tl = new TimelineMax();
		
		tl
		.to($div,0.4,{top: "-=50px",ease: Expo.easeOut})
		.to($div,1.2,{top: "-=70px",ease: Power1.easeIn})
		.to($div,0.3,{opacity: 0, onComplete:animComplete, onCompleteParams: [$div]},"-=0.2");		

		function animComplete(obj){
			obj.remove();
		}
	}
}
</script>
<script type="text/javascript">

var RPX_event_done = false;
var RPX_data_arr   = new Array();
var RC_node        = Math.floor((Math.random() * 2));
var r_pxx          = "";

var SMU            = null;
var SMU_event_done = false;
var SMU_timeout    = 10000;
var SMU_seconds    = 0;
var SMU_update     = -1;
var SMU_check_tm   = null;
var SMU_check_tf   = false;

var UQWF_ID        = Math.random();

var __ge           = {"VTE_ACT":1,"VTE_INF":2,"VTE_KLL":3,"VTE_KVT":4,"VTE_JAIL":5,"VTE_RECO":6,"VTE_MISS":7,"VTE_RND":8,"VTE_CNT":9,"VTE_SACT":10,"MAF_ACT":21,"MAF_INF":22,"MAF_MISS":23,"MAF_KILL":24,"BOS_ACT":25,"BOS_INF":26,"BOS_FREEZE":27,"BOS_KILL":28,"BOS_FAIL":29,"BOS_OK":30,"MAN_ACT":31,"MAN_INF":32,"MAN_KILL":33,"MAN_TAL":34,"MAN_SKILL":35,"BOS_SKILL":36,"COM_ACT":41,"COM_INF":42,"COM_SAFE":43,"COM_RES":44,"COM_ROLE":45,"COM_SRG":46,"COM_SRG_DO":47,"COM_FAIL":48,"COM_RES_S":49,"DOC_ACT":51,"DOC_INF":52,"DOC_RESCUE":53,"DOC_VISIT":54,"DOC_MED":55,"DOC_MED_DO":56,"DOC_SUPER":57,"WIT_ACT":61,"WIT_INF":62,"WIT_RES":63,"WIT_ROLE":64,"THF_ACT":65,"THF_FAIL":66,"THF_INF":69,"THF_OK":76,"BIC_ACT":67,"BIC_FAIL":68,"BIC_INF":70,"BIC_OK":77,"PL_LEFT":71,"PL_SUICIDE":72,"PL_SPK_WARN":73,"PL_SPK_DIE":74,"PL_WIN":75,"EXT_SAFE":80,"EXT_INF":81,"EXT_KILL":82,"EXT_LOG":83,"ALL_MISS":90,"FRZ_MISS":91,"SAN_ACT":100,"SAN_INF":101,"SAN_GIFT":102,"SAN_FAIL":105,"SAN_OWN":106,"VAL_ACT":110,"VAL_INF":111,"VAL_DIE":112,"VAL_OWN":113,"VAL_EFF":114,"VAL_KILL":115,"VAL_DKILL":116,"VAL_PKILL":117,"BUN_ACT":120,"BUN_INF":121,"BUN_GIFT":122,"BUN_FAIL":125,"BUN_OWN":126,"HLP_ACT":131,"HLP_INF":132,"HLP_KILL":134,"TON_PWR":135,"TON_INF":136,"TON_FRZ":137,"BIF_ACT":160,"BIF_INF":161,"BIF_FAIL":162,"BIF_KIL":163,"BIF_KIL_DO":164,"BIF_KIL_O":165,"KIL_ACT":170,"KIL_INF":171,"KIL_KILL":172,"KIL_TAL":173,"KIL_TKILL":174,"KIL_SKILL":175,"BGM_ACT":180,"BGM_INF":181,"BGM_RES":182,"BGM_RES_DO":183,"BGM_KILL":184,"MRK_ACT":190,"MRK_INF":191,"MRK_RES":192,"MRK_RES_DO":193,"MRK_KILL":194,"FRA_ACT":200,"FRA_INF":201,"FRA_FAIL":202,"FRA_KIL":203,"FRA_KIL_DO":204,"FRA_KIL_O":205,"FKL_ACT":210,"FKL_INF":211,"FKL_KILL":212,"PEP_ACT":213,"PEP_INF":214,"PEP_KILL":215,"PEP_SUCCESS":216,"PEP_DO":217,"ROS_ACT":220,"ROS_INF":221,"ROS_RES":222,"ROS_ROLE":223,"ROS_KILL":224,"RIP_SPOWER":250,"RIP_DKILL":251,"RIP_ACT":252,"RIP_INF":253,"RIP_KILL":254,"PRO_ACT":260,"PRO_INF":261,"PRO_SPOWER":262,"PRO_PKILL":263,"PRO_KILL":264,"PRO_SKILL":265,"PRO_YKILL":266,"PRO_CKILL":267,"GOL_ACT":270,"GOL_INF":271,"GOL_KILL":272,"GOL_PDIE":273,"MUT_ACT":274,"MUT_INF":275,"MUT_KILL":276,"MUT_EFF":277,"YAK_ACT":280,"YAK_INF":281,"YAK_KILL":283,"YAK_OWN":284,"YAK_DIE":285,"YAK_MISS":286,"LEE_PWR":290,"LEE_INF":291,"LEE_MISS":292,"LEE_ROLE":293,"LEE_KILL":294,"LEE_ARES":295,"LEE_FRZ":296,"HIL_ACT":300,"HIL_INF":301,"HIL_KILL":302,"HIL_RES":303,"SHA_ACT":310,"SHA_INF":311,"SHA_PKILL":312,"SHA_RES":313,"COS_ACT":320,"COS_INF":321,"COS_GIFT":322,"COS_FAIL":323,"COS_OWN":324,"BRD_ACT":330,"BRD_INF":331,"BRD_KILL":332,"BRD_SPOWER":333,"BRD_PKILL":334,"BRD_BKILL":335,"BRD_SKILL":336,"BRD_MKILL":337,"BRD_DIE":338,"BRD_OWN":339,"GRN_ACT":350,"GRN_INF":351,"GRN_GIFT":352,"GRN_FAIL":353,"GRN_OWN":354,"LIL_ACT":360,"LIL_INF":361,"LIL_KILL":362,"LIL_SPOWER":363,"LIL_BOMB":364,"LIL_PKILL":365,"LIL_AKILL":366,"LIL_BKILL":367,"LIL_FRZ":368,"LIL_OKILL0":369,"LIL_OKILL1":370,"LIL_TKILL":371,"TAL_KILL":380,"TAL_INF":381,"BUNE_ACT":390,"BUNE_INF":391,"BUNE_GIFT":392,"BUNE_FAIL":393,"BUNE_OWN":394,"BUNN_ACT":395,"BUNN_INF":396,"BUNN_GIFT":397,"BUNN_FAIL":398,"BUNN_OWN":399,"BAN_ACT":400,"BAN_INF":401,"BAN_KILL":402,"MIG_ACT":405,"MIG_INF":406,"MIG_KILL":407,"MIG_MISS":408,"MIG_SPOWER":409,"MIG_HKILL":410,"MIG_MKILL":411,"MIG_MISS2":412,"MIG_DKILL":413,"MIG_PKILL":414,"MIG_RDKILL":420,"MIG_SHKILL":421,"MIG_AKILL":422,"MIG_AAKILL":423,"SNC_ACT":415,"SNC_INF":416,"SNC_KILL":417,"SNC_MISS":418,"SNC_SPOWER":419,"TEL_ACT":430,"TEL_INF":431,"TEL_CARDS":432,"TEL_FAIL":433,"TEL_EFF":434,"TEL_KILL1":435,"TEL_KILL2":436,"TEL_EFF_L":437,"ARE_INF":440,"ARE_SHKILL":441,"ARE_AKILL":442,"ASA_ACT":450,"ASA_INF":451,"ASA_KILL":452,"FCP_ACT":460,"FCP_INF":461,"FCP_RES":462,"FCP_ROLE":463,"FCP_KILL":464,"GEM_CHEST":470,"RIP_CHEST":471};
var __store        = {"258":{"value":"expire","price":999999999,"interval":"01 hour","type":"extra","title":"\u0420\u043e\u043b\u044c \u042f\u043a\u0443\u0434\u0437\u0430","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0434\u043d\u0443 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0443\u044e \u0440\u043e\u043b\u044c \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u042f\u043a\u0443\u0434\u0437\u0430"},"259":{"value":"expire","price":999999999,"interval":"03 hour","type":"extra","title":"\u041e\u0431\u0440\u0430\u0437 \u0432\u0435\u0441\u0451\u043b\u043e\u0433\u043e \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u0432\u0435\u0441\u0451\u043b\u044b\u0439"},"260":{"value":"expire","price":999999999,"interval":"03 hour","type":"extra","title":"\u041e\u0431\u0440\u0430\u0437 \u0441\u0443\u0440\u043e\u0432\u043e\u0433\u043e \u043c\u0430\u0444\u0438\u043e\u0437\u0438","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u043c\u0430\u0444\u0438\u043e\u0437\u0438 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u0441\u0443\u0440\u043e\u0432\u044b\u0439"},"266":{"value":"expire","price":999999999,"interval":"03 hour","type":"extra","title":"\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u0447\u043d\u044b\u0439 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u0447\u043d\u044b\u0439"},"267":{"value":"expire","price":999999999,"interval":"03 hour","type":"extra","title":"\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u0447\u043d\u044b\u0439 \u043c\u0430\u0444\u0438\u043e\u0437\u0438","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u043c\u0430\u0444\u0438\u043e\u0437\u0438 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u0447\u043d\u044b\u0439"},"284":{"value":"count","price":999999999,"type":"extra","title":"\u0420\u043e\u043b\u044c \u0441\u0435\u043c\u044c\u0438 \u0422\u043e\u043d\u0438","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043e\u0434\u043d\u0443 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0443\u044e \u0440\u043e\u043b\u044c \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0422\u043e\u043d\u0438"},"285":{"value":"expire","price":999999999,"interval":"30 minute","type":"extra","title":"\u041a\u0440\u0430\u0441\u043a\u0430","descr":"\u041c\u0435\u043d\u044f\u0435\u0442 \u0444\u043e\u043d \u043a\u0440\u0438\u043a\u0430 \u043d\u0430 \u043a\u0440\u0430\u0441\u043d\u044b\u0439"},"286":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u0421\u0435\u0439\u0444 \u0422\u043e\u043d\u0438","descr":"\u0418\u0441\u043f\u044b\u0442\u0430\u0439 \u0443\u0434\u0430\u0447\u0443, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0435\u0439\u0444! \u041e\u0442\u043a\u0440\u044b\u0432\u0448\u0435\u043c\u0443 - \u044d\u043a\u0441\u0442\u0440\u0430 \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u043a!"},"210":{"value":"expire","price":999999999,"interval":"30 day","type":"extra","title":"\u0423\u0441\u0438\u043b\u0435\u043d\u0438\u0435 ","descr":"\u0428\u0430\u043d\u0441 \u043d\u0430 \u0418\u0441\u043f\u043e\u0432\u0435\u0434\u044c \u0438 \u041a\u0430\u0440\u0442\u044b \u0442\u0430\u0440\u043e +10%"},"211":{"value":"expire","price":999999999,"interval":"30 day","type":"extra","title":"\u0423\u0441\u0438\u043b\u0435\u043d\u0438\u0435 ","descr":"\u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0441\u043a\u0438\u0434\u043a\u0430 \u043d\u0430 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0443\u044e \u044d\u043a\u0441\u0442\u0440\u0443"},"212":{"value":"expire","price":999999999,"interval":"30 day","type":"extra","title":"\u0423\u0441\u0438\u043b\u0435\u043d\u0438\u0435 ","descr":"\u0412 \u0434\u0432\u0430 \u0440\u0430\u0437\u0430 \u0431\u043e\u043b\u044c\u0448\u0435 \u0448\u0430\u043d\u0441 \u043d\u0430 \u0441\u0443\u043f\u0435\u0440\u043f\u0440\u0438\u0437 \u0432 \u043b\u043e\u0442\u0435\u0440\u0435\u0439\u043d\u043e\u043c \u0431\u0438\u043b\u0435\u0442\u0435"},"213":{"value":"expire","price":999999999,"interval":"4 month","type":"extra","title":"\u0417\u043e\u043b\u043e\u0442\u0430\u044f \u0440\u0430\u043c\u043a\u0430 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435","descr":"\u041d\u0430\u0433\u0440\u0430\u0434\u0430 \u0437\u0430 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435 \u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u043b\u0438\u0433\u0438"},"214":{"value":"expire","price":999999999,"interval":"4 month","type":"extra","title":"\u041f\u043b\u0430\u0442\u0438\u043d\u043e\u0432\u0430\u044f \u0440\u0430\u043c\u043a\u0430 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435","descr":"\u041d\u0430\u0433\u0440\u0430\u0434\u0430 \u0437\u0430 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435 \u041f\u043b\u0430\u0442\u0438\u043d\u043e\u0432\u043e\u0439 \u043b\u0438\u0433\u0438"},"215":{"value":"expire","price":999999999,"interval":"4 month","type":"extra","title":"\u0411\u0440\u0438\u043b\u043b\u0438\u0430\u043d\u0442\u043e\u0432\u0430\u044f \u0440\u0430\u043c\u043a\u0430 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435","descr":"\u041d\u0430\u0433\u0440\u0430\u0434\u0430 \u0437\u0430 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435 \u0411\u0440\u0438\u043b\u043b\u0438\u0430\u043d\u0442\u043e\u0432\u043e\u0439 \u043b\u0438\u0433\u0438"},"216":{"value":"expire","price":999999999,"interval":"4 month","type":"extra","title":"\u0420\u0430\u043c\u043a\u0430 \u0447\u0435\u043c\u043f\u0438\u043e\u043d\u0430 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435 ","descr":"\u041d\u0430\u0433\u0440\u0430\u0434\u0430 \u0437\u0430 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435 \u041b\u0438\u0433\u0438 \u0427\u0435\u043c\u043f\u0438\u043e\u043d\u043e\u0432"},"217":{"value":"expire","price":999999999,"interval":"03 hour","type":"extra","title":"\u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0439 \u043e\u0431\u0440\u0430\u0437 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u0447\u043d\u044b\u0439"},"218":{"value":"expire","price":999999999,"interval":"03 hour","type":"extra","title":"\u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0439 \u043e\u0431\u0440\u0430\u0437 \u043c\u0430\u0444\u0438\u043e\u0437\u0438","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u043c\u0430\u0444\u0438\u043e\u0437\u0438 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u0447\u043d\u044b\u0439"},"219":{"value":"expire","price":999999999,"interval":"01 hour","type":"extra","title":"\u0416\u0438\u0440\u043d\u044b\u0439 \u0448\u0440\u0438\u0444\u0442","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0438\u0441\u0430\u0442\u044c \u0442\u0435\u043a\u0441\u0442 \u0436\u0438\u0440\u043d\u044b\u043c \u0448\u0440\u0438\u0444\u0442\u043e\u043c"},"220":{"value":"count","price":800,"limit":2,"type":"extra","title":"\u041f\u0430\u0440\u0430\u043b\u0438\u0437\u0443\u044e\u0449\u0430\u044f \u043b\u043e\u0432\u0443\u0448\u043a\u0430","descr":"\u041f\u0430\u0440\u0430\u043b\u0438\u0437\u0443\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438\u0434\u0451\u0442 \u043a \u0432\u0430\u043c \u043d\u043e\u0447\u044c\u044e"},"221":{"value":"count","price":500,"action":"day_all","limit":2,"type":"extra","title":"\u041d\u0435\u0432\u0438\u0434\u0438\u043c\u043a\u0430","descr":"\u0421\u043d\u0438\u043c\u0430\u0435\u0442 \u0432\u0441\u0435 \u0433\u043e\u043b\u043e\u0441\u0430, \u043f\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0435 \u043f\u0440\u043e\u0442\u0438\u0432 \u0432\u0430\u0441 \u043d\u0430 \u0434\u043d\u0435\u0432\u043d\u043e\u043c \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0438"},"222":{"value":"count","price":500,"limit":2,"type":"extra","title":"\u0421\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u0436\u0430","descr":"\u0412\u044b \u0440\u0438\u043a\u043e\u0448\u0435\u0442\u0438\u0442\u0435 \u043b\u044e\u0431\u0443\u044e \u043f\u0443\u043b\u044e \u0432 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"},"224":{"value":"count","price":400,"action":"day","limit":2,"spc":1,"type":"extra","title":"\u041c\u0435\u0433\u0430\u0448\u043e\u043a\u0435\u0440 9000","descr":"\u041a\u043e\u043d\u0442\u0443\u0437\u0438\u0442 \u0438\u0433\u0440\u043e\u043a\u0430 \u0434\u043e \u043a\u043e\u043d\u0446\u0430 \u0434\u043d\u044f (\u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u0430\u043a \u0436\u0435 \u0438\u0437 \u0440\u0435\u0436\u0438\u043c\u0430 \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f \u0437\u0430 \u0438\u0433\u0440\u043e\u0439)"},"225":{"value":"count","price":1500,"action":"all","limit":2,"spc":1,"type":"extra","title":"\u041a\u043e\u043b\u0431\u0430 \u0441 \u044f\u0434\u043e\u043c","descr":"\u0423\u0431\u0438\u0432\u0430\u0435\u0442 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0447\u0435\u0440\u0435\u0437 \u0441\u0443\u0442\u043a\u0438 (\u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u0430\u043a \u0436\u0435 \u0438\u0437 \u0440\u0435\u0436\u0438\u043c\u0430 \u043d\u0430\u0431\u043b\u044e\u0434\u0435\u043d\u0438\u044f \u0437\u0430 \u0438\u0433\u0440\u043e\u0439)"},"227":{"value":"expire","price":999999999,"interval":"03 hour","type":"extra","title":"\u041e\u0431\u0440\u0430\u0437 \u043e\u0434\u0438\u043d\u043e\u043a\u043e\u0433\u043e \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430 \u043d\u0430 \"\u043c\u0435\u043d\u044f\u043d\u0438\u043a\u0442\u043e\u043d\u0435\u043b\u044e\u0431\u0438\u0442\""},"228":{"value":"expire","price":999999999,"interval":"03 hour","type":"extra","title":"\u041e\u0431\u0440\u0430\u0437 \u0432\u043b\u044e\u0431\u043b\u0451\u043d\u043d\u043e\u0433\u043e \u043c\u0430\u0444\u0438\u043e\u0437\u0438","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u043c\u0430\u0444\u0438\u043e\u0437\u0438 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u0447\u043d\u044b\u0439"},"229":{"value":"expire","price":25000,"interval":"30 day","only":"chat","type":"extra","title":"\u0421\u0431\u0440\u043e\u0441 \u043a\u043e\u0434\u0430","descr":""},"230":{"value":"expire","price":999999999,"interval":"03 hour","type":"extra","title":"\u041f\u0430\u0441\u0445\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0437 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u0447\u043d\u044b\u0439"},"231":{"value":"expire","price":999999999,"interval":"03 hour","type":"extra","title":"\u041f\u0430\u0441\u0445\u0430\u043b\u044c\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0437 \u043c\u0430\u0444\u0438\u043e\u0437\u0438","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u043c\u0430\u0444\u0438\u043e\u0437\u0438 \u043d\u0430 \u0431\u043e\u043b\u0435\u0435 \u043f\u0440\u0430\u0437\u0434\u043d\u0438\u0447\u043d\u044b\u0439"},"232":{"value":"expire","price":999999999,"interval":"30 day","type":"extra","title":"\u041e\u0431\u0440\u0430\u0437 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0438\u0433\u0440\u0430\u0442\u044c \u0441 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u043c \u043e\u0431\u0440\u0430\u0437\u043e\u043c \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430"},"233":{"value":"expire","price":999999999,"interval":"30 day","type":"extra","title":"\u0423\u0441\u0438\u043b\u0435\u043d\u0438\u0435","descr":"\u0428\u0430\u043d\u0441 \u0432\u043e\u0441\u043a\u0440\u0435\u0441\u043d\u0443\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430 +10%"},"501":{"value":"count","price":250,"action":"vote","target":"self","limit":2,"type":"b_ext","title":"\u0420\u0443\u043f\u043e\u0440","descr":"\u0423\u0434\u0432\u0430\u0438\u0432\u0430\u0435\u0442 \u0432\u0430\u0448 \u0433\u043e\u043b\u043e\u0441 \u043d\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0438 \u0437\u0430 \u0441\u043e\u0441\u0442\u0430\u0432 \u0431\u0430\u043d\u0434\u044b"},"101":{"value":"count","price":200,"action":"night","var":"uid","type":"extra","title":"\u0416\u0443\u0447\u043e\u043a","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u0437\u043d\u0430\u0442\u044c, \u0434\u0435\u043b\u0430\u043b \u043b\u0438 \u0438\u0433\u0440\u043e\u043a \u043d\u043e\u0447\u044c\u044e \u0445\u043e\u0434"},"107":{"value":"count","price":200,"var":1,"type":"extra","title":"\u0420\u0430\u0446\u0438\u044f","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0430\u043c \u0432\u0438\u0434\u0435\u0442\u044c, \u043a\u043e\u0433\u043e \u0443\u0431\u044c\u044e\u0442 \u043d\u043e\u0447\u044c\u044e, \u0430 \u043c\u0430\u0444\u0438\u0438 \u0438\u043b\u0438 \u043c\u0430\u043d\u044c\u044f\u043a\u0443 \u0441\u043a\u0440\u044b\u0442\u044c\u0441\u044f \u043e\u0442 \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u043a\u0438"},"502":{"value":"count","price":500,"action":"always","target":"users","limit":1,"type":"b_ext","title":"\u0428\u043e\u043a\u0435\u0440","descr":"\u041a\u043e\u043d\u0442\u0443\u0437\u0438\u0442 \u0438\u0433\u0440\u043e\u043a\u0430, \u0437\u0430\u043f\u0440\u0435\u0449\u0430\u044f \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0438\u043b\u0438 \u043f\u0440\u043e\u0432\u0430\u043b\u0438\u0442\u044c \u0434\u0435\u043b\u043e \u043d\u0430 \u044d\u0442\u043e\u043c \u0445\u043e\u0434\u0443"},"104":{"value":"count","price":200,"action":"all","var":"uid,m","limit":2,"type":"extra","title":"\u0414\u0435\u0442\u0435\u043a\u0442\u043e\u0440 \u043b\u0436\u0438","descr":"\u0412\u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0440\u043e\u043b\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430, \u0435\u0441\u043b\u0438 \u0442\u043e\u0442 \u0447\u0430\u0441\u0442\u043e \u043f\u0438\u0448\u0435\u0442 \u0432 \u0447\u0430\u0442"},"503":{"value":"count","price":750,"use":"vote","limit":1,"type":"b_ext","title":"\u041f\u0440\u043e\u0441\u043b\u0443\u0448\u043a\u0430","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043d\u0430 \u044d\u0442\u0430\u043f\u0435 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f \u0437\u0430 \u0431\u0430\u043d\u0434\u0443 \u0443\u0437\u043d\u0430\u0442\u044c, \u0435\u0441\u0442\u044c \u043b\u0438 \u0442\u0430\u043c \u0441\u043a\u0440\u044b\u0442\u044b\u0439 \u043a\u043e\u043f"},"102":{"value":"count","price":100,"type":"extra","title":"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0440\u043e\u043b\u044c","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0443\u044e \u0430\u043a\u0442\u0438\u0432\u043d\u0443\u044e \u0440\u043e\u043b\u044c, \u043a\u0440\u043e\u043c\u0435 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u043c\u0430\u0444\u0438\u043e\u0437\u0438"},"154":{"value":"count","price":330,"price_own":150,"action":"spk","clan":1,"qty":1,"limit":4,"type":"extra","title":"\u0411\u0443\u0434\u0438\u043b\u044c\u043d\u0438\u043a","descr":"\u0414\u0430\u043d\u043d\u0430\u044f \u044d\u043a\u0441\u0442\u0440\u0430 \u0431\u0443\u0434\u0438\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"},"504":{"value":"count","price":250,"action":"always","limit":1,"type":"b_ext","title":"\u0414\u044b\u043c\u043e\u0432\u0430\u044f \u0448\u0430\u0448\u043a\u0430","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0441\u043a\u0440\u044b\u0442\u044c \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442 \u0445\u043e\u0434\u0430 \u0432 \u0442\u0430\u0439\u043d\u0435 \u0434\u043e \u043a\u043e\u043d\u0446\u0430 \u0438\u0433\u0440\u044b"},"103":{"value":"count","price":500,"action":"vte","var":"uid","limit":2,"type":"extra","title":"\u0414\u0432\u043e\u0439\u043d\u043e\u0439 \u0433\u043e\u043b\u043e\u0441","descr":"\u0423\u0434\u0432\u0430\u0438\u0432\u0430\u0435\u0442 \u0432\u0430\u0448 \u0433\u043e\u043b\u043e\u0441 \u043d\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0438"},"153":{"value":"count","price":5000,"price_own":300,"limit":2,"qty":1,"clan":1,"type":"extra","title":"\u0410\u043d\u0442\u0438\u0444\u0440\u0438\u0437","descr":"\u0421\u043f\u0430\u0441\u0430\u0435\u0442 \u043d\u043e\u0447\u044c\u044e \u043e\u0442 \u0432\u0438\u0437\u0438\u0442\u0430 \u0441\u0442\u0435\u0440\u0432\u044b\/\u0432\u043e\u0440\u0430 \u0438\u043b\u0438 \u0431\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438"},"505":{"value":"count","price":1000,"action":"always","target":"users","limit":1,"type":"b_ext","title":"\u041f\u0430\u044f\u043b\u044c\u043d\u0438\u043a","descr":"\u0412\u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0440\u043e\u043b\u044c \u0438\u0433\u0440\u043e\u043a\u0430"},"109":{"value":"count","price":500,"limit":2,"type":"extra","title":"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c","descr":"\u0421\u043f\u0430\u0441\u0430\u0435\u0442 \u043e\u0442 \u043f\u043e\u0441\u0430\u0434\u043a\u0438 \u0432 \u0442\u044e\u0440\u044c\u043c\u0443 \u043d\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0438"},"155":{"value":"count","price":5000,"price_own":300,"action":"all","limit":2,"qty":1,"clan":1,"type":"extra","title":"\u0418\u0441\u043f\u043e\u0432\u0435\u0434\u044c","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0438\u043d\u043e\u0433\u0434\u0430 \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0441\u0432\u043e\u044e \u0440\u043e\u043b\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u043a\u0443"},"111":{"value":"count","price":500,"qty":10,"type":"extra","title":"\u041c\u0438\u043d\u043e\u0438\u0441\u043a\u0430\u0442\u0435\u043b\u044c","descr":"\u0421\u043f\u0430\u0441\u0430\u0435\u0442 \u043e\u0442 \u0441\u043c\u0435\u0440\u0442\u0438, \u0435\u0441\u043b\u0438 \u0432\u044b \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043b\u0438 \u043f\u0440\u043e\u0442\u0438\u0432 \u0438\u0433\u0440\u043e\u043a\u0430 \u0441 \u044d\u043a\u0441\u0442\u0440\u043e\u0439 \u00ab\u041c\u0438\u043d\u0430\u00bb"},"156":{"value":"count","price":5000,"price_own":300,"action":"all","limit":2,"qty":1,"clan":1,"type":"extra","title":"\u041a\u0430\u0440\u0442\u044b \u0442\u0430\u0440\u043e","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0438\u043d\u043e\u0433\u0434\u0430 \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0440\u043e\u043b\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"},"110":{"value":"count","price":600,"limit":2,"type":"extra","title":"\u041c\u0438\u043d\u0430","descr":"\u0423\u0431\u0438\u0432\u0430\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u0430, \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0432\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u0442\u0438\u0432 \u0432\u0430\u0441"},"157":{"value":"count","price":7500,"price_own":300,"action":"vtb","var":"uid","limit":4,"clan":1,"qty":1,"type":"extra","title":"\u0411\u044e\u0440\u043e\u043a\u0440\u0430\u0442","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043b\u0438\u0448\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c"},"106":{"value":"count","price":600,"limit":2,"type":"extra","title":"\u041c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0430","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043d\u043e\u0447\u044c\u044e \u0441\u043a\u0440\u044b\u0442\u044c\u0441\u044f \u043e\u0442 \u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430 \u0438\u043b\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430"},"171":{"value":"count","price":5000,"price_own":300,"qty":1,"clan":1,"type":"extra","title":"\u0422\u0435\u043b\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435\u043b\u044c","descr":"\u0418\u043d\u043e\u0433\u0434\u0430 \u0441\u043f\u0430\u0441\u0430\u0435\u0442 \u0436\u0438\u0437\u043d\u044c, \u0437\u0430\u0449\u0438\u0449\u0430\u044f \u043e\u0442 \u043a\u0438\u043b\u043b\u0435\u0440\u0430"},"108":{"value":"count","price":1000,"limit":2,"type":"extra","title":"\u041f\u0430\u0441\u043f\u043e\u0440\u0442","descr":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430 \u043f\u043e\u043a\u0430\u0436\u0435\u0442, \u0447\u0442\u043e \u0432\u044b \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d, \u0435\u0441\u043b\u0438 \u0432\u044b \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043c\u0430\u0444\u0438\u0438 \u0438\u043b\u0438 \u043c\u0430\u043d\u044c\u044f\u043a"},"158":{"value":"count","price":5000,"price_own":300,"qty":1,"clan":1,"type":"extra","title":"\u0411\u0440\u043e\u043d\u0435\u0436\u0438\u043b\u0435\u0442","descr":"\u0421\u043f\u0430\u0441\u0430\u0435\u0442 \u0438\u043d\u043e\u0433\u0434\u0430 \u043e\u0442 \u043e\u0434\u043d\u043e\u0433\u043e \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u0430 \u0438\u0437 \u0440\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440\u0430"},"105":{"value":"count","price":3000,"action":"all","limit":2,"type":"extra","title":"\u0420\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440","descr":"\u0423\u0431\u0438\u0432\u0430\u0435\u0442 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"},"170":{"value":"count","price":10000,"price_own":800,"action":"night_all","limit":2,"qty":1,"clan":1,"type":"extra","title":"\u0421\u043d\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0435","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043b\u0438\u0448\u0438\u0442\u044c \u0432\u0441\u044e \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430 \u043d\u043e\u0447\u043d\u044b\u0445 \u0445\u043e\u0434\u043e\u0432"},"159":{"value":"count","price":15000,"price_own":900,"action":"rnd","limit":2,"qty":1,"clan":1,"type":"extra","title":"\u0410\u041a 47","descr":"\u0423\u0431\u0438\u0432\u0430\u0435\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"},"161":{"value":"count","price":300,"type":"extra","title":"\u041f\u0435\u0440\u0447\u0430\u0442\u043a\u0438","descr":"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u044e\u0442 \u0448\u0430\u043d\u0441 \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0432 \u0434\u0440\u0430\u043a\u0435 +100%"},"114":{"value":"count","price":1500,"action":"day","var":"uid","limit":2,"type":"extra","title":"\u041f\u0441\u0438\u0445\u043e\u0437","descr":"\u0412\u0441\u0435 \u0438\u0433\u0440\u043e\u043a\u0438 \u0433\u043e\u043b\u043e\u0441\u0443\u044e\u0442 \u043f\u0440\u043e\u0442\u0438\u0432 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0432\u0430\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430 \u0438 \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0435\u0433\u043e \u043e\u043f\u0440\u0430\u0432\u0434\u0430\u0442\u044c"},"115":{"value":"count","price":3000,"action":"dead","limit":2,"type":"extra","title":"\u041a\u0438\u043b\u043b\u0435\u0440","descr":"\u0423\u0431\u0438\u0432\u0430\u0435\u0442 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430. \u041c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u043c\u0451\u0440\u0442\u0432\u044b\u043c"},"160":{"value":"expire","price":500,"interval":"7 day","method":"guests","only":"chat","type":"extra","title":"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440 \u0433\u043e\u0441\u0442\u0435\u0439","descr":"\u0414\u0430\u043d\u043d\u0430\u044f \u044d\u043a\u0441\u0442\u0440\u0430 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u043f\u0440\u043e\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u0442\u044c \u0432\u0441\u0435\u0445, \u043a\u0442\u043e \u043f\u043e\u0441\u0435\u0449\u0430\u043b \u0432\u0430\u0448 \u043f\u0440\u043e\u0444\u0438\u043b\u044c"},"113":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0421\u0442\u0430\u0440\u044b\u0439 \u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0431\u0443\u0441\u0442\u0435\u0440","descr":"\u041f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0443\u0434\u0432\u0430\u0438\u0432\u0430\u0435\u0442 \u0440\u0435\u0439\u0442\u0438\u043d\u0433, \u043f\u0440\u0438 \u043f\u043e\u0440\u0430\u0436\u0435\u043d\u0438\u0438 \u0441\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u0442 \u0440\u0435\u0439\u0442\u0438\u043d\u0433"},"117":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0431\u0443\u0441\u0442\u0435\u0440","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +15 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"162":{"value":"count","price":15000,"qty":10,"type":"extra","title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d \u0440\u043e\u043b\u0435\u0439","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0434\u043e\u0441\u0440\u043e\u0447\u043d\u043e \u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0440\u043e\u043b\u044c \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435"},"164":{"value":"expire","price":3000,"interval":"12 hour","type":"extra","title":"\u0421\u0442\u0430\u0440\u0430\u044f \u0432\u0430\u043b\u0435\u043d\u0442\u0438\u043d\u043a\u0430","descr":"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u043f\u044b\u0442 +50%"},"165":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0417\u043e\u043b\u043e\u0442\u043e\u0435 \u044f\u0439\u0446\u043e","descr":"\u0412 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 10 \u0438\u0433\u0440 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u043f\u044b\u0442 +100%"},"166":{"value":"expire","price":5000,"interval":"12 hour","type":"extra","title":"\u0421\u0442\u0430\u0440\u044b\u0439 \u043f\u0435\u0440\u0441\u0442\u0435\u043d\u044c \u0422\u043e\u043d\u0438","descr":"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u043f\u044b\u0442 +50%"},"167":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0422\u044b\u043a\u0432\u0430-\u0417\u043e\u043c\u0431\u0438","descr":"\u0412 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 10 \u0438\u0433\u0440 \u0443\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u043f\u044b\u0442 \u0432 \u0434\u0432\u0430 \u0440\u0430\u0437\u0430"},"168":{"value":"expire","price":999999999,"interval":"10 minute","type":"extra","title":"\u0420\u043e\u0437\u043e\u0432\u0430\u044f \u043a\u0440\u0430\u0441\u043a\u0430","descr":"\u041c\u0435\u043d\u044f\u0435\u0442 \u0446\u0432\u0435\u0442 \u0438 \u0444\u043e\u043d \u043a\u0440\u0438\u043a\u0430 \u043d\u0430 \u0431\u0435\u043b\u043e-\u0440\u043e\u0437\u043e\u0432\u044b\u0439!"},"169":{"value":"expire","price":999999999,"interval":"10 minute","type":"extra","title":"\u0410\u043a\u0432\u0430\u043c\u0430\u0440\u0438\u043d\u043e\u0432\u0430\u044f \u043a\u0440\u0430\u0441\u043a\u0430","descr":"\u041c\u0435\u043d\u044f\u0435\u0442 \u0446\u0432\u0435\u0442 \u043d\u0438\u043a\u0430 \u0432 \u043e\u0431\u0449\u0435\u043c \u0447\u0430\u0442\u0435 \u0438 \u043a\u0440\u0438\u043a\u0430 \u043d\u0430 \u0430\u043a\u0432\u0430\u043c\u0430\u0440\u0438\u043d\u043e\u0432\u044b\u0439"},"116":{"value":"expire","price":5000,"interval":"12 hour","type":"extra","title":"\u041f\u0435\u0440\u0447\u0430\u0442\u043a\u0430 \u041f\u043e\u0442\u0440\u043e\u0448\u0438\u0442\u0435\u043b\u044f","descr":"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u043f\u044b\u0442 +50%"},"163":{"value":"expire","price":3000,"interval":"12 hour","type":"extra","title":"\u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u044f\u044f \u0448\u0430\u043f\u043a\u0430","descr":"\u0423\u0432\u0435\u043b\u0438\u0447\u0438\u0432\u0430\u0435\u0442 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0439 \u043e\u043f\u044b\u0442 +50%"},"180":{"value":"count","price":3000,"action":"rnd","type":"extra","title":"\u041c\u0435\u0448\u043e\u043a \u0441 \u043f\u043e\u0434\u0430\u0440\u043a\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 \u044d\u043a\u0441\u0442\u0440\u0443 \u0438 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u0435\u0434\u043c\u0435\u0442 + \u0442\u0440\u0451\u043c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u043f\u043e \u044d\u043a\u0441\u0442\u0440\u0435"},"226":{"value":"count","price":3000,"action":"rnd","type":"extra","title":"\u041a\u043e\u0440\u043e\u0431\u043a\u0430 \u0441 \u0441\u044e\u0440\u043f\u0440\u0438\u0437\u043e\u043c","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 \u044d\u043a\u0441\u0442\u0440\u0443 \u0438 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u0435\u0434\u043c\u0435\u0442 + \u0442\u0440\u0451\u043c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u043f\u043e \u044d\u043a\u0441\u0442\u0440\u0435"},"181":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u041f\u0430\u0441\u0445\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u0440\u0437\u0438\u043d\u043a\u0430","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 \u044d\u043a\u0441\u0442\u0440\u0443 \u0438 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u0440\u0435\u0434\u043c\u0435\u0442 + \u0442\u0440\u0451\u043c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u043f\u043e \u044d\u043a\u0441\u0442\u0440\u0435"},"182":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u042f\u0449\u0438\u043a \u0441 \u043e\u0440\u0443\u0436\u0438\u0435\u043c","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 3 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b. \u041c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u0430\u0441\u0442\u044c \u0440\u0435\u0434\u043a\u0438\u0435 \u0438 \u043e\u0447\u0435\u043d\u044c \u0446\u0435\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b!"},"183":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u0421\u0443\u043d\u0434\u0443\u043a \u0441 \u0442\u0440\u043e\u0444\u0435\u044f\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 3 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b. \u041c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u0430\u0441\u0442\u044c \u0440\u0435\u0434\u043a\u0438\u0435 \u0438 \u043e\u0447\u0435\u043d\u044c \u0446\u0435\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b"},"184":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u0427\u0435\u043c\u043e\u0434\u0430\u043d\u0447\u0438\u043a \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 3 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b. \u041c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u0430\u0441\u0442\u044c \u0440\u0435\u0434\u043a\u0438\u0435 \u0438 \u043e\u0447\u0435\u043d\u044c \u0446\u0435\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b!"},"185":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0428\u0430\u043f\u043a\u0430 \u0414\u0435\u0434\u0430 \u041c\u043e\u0440\u043e\u0437\u0430","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 50 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"186":{"value":"count","price":2500,"action":"rnd","type":"extra","title":"\u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u044f\u044f \u043b\u043e\u0442\u0435\u0440\u0435\u044f","descr":"\u0418\u0441\u043f\u044b\u0442\u0430\u0439 \u0443\u0434\u0430\u0447\u0443, \u0432\u044b\u0438\u0433\u0440\u0430\u0439 \u043e\u0442 5 000 \u0434\u043e 100 000 \u043c\u043e\u043d\u0435\u0442! \u0412\u044b\u0438\u0433\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u0441\u044f\u0442\u044b\u0439 \u0431\u0438\u043b\u0435\u0442!"},"187":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u041b\u0430\u0440\u0435\u0446 \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 3 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b. \u041c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u0430\u0441\u0442\u044c \u0440\u0435\u0434\u043a\u0438\u0435 \u0438 \u043e\u0447\u0435\u043d\u044c \u0446\u0435\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b!"},"2225":{"cat":206,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0416\u0438\u0432\u044b\u0435 \u043a\u043e\u043d\u0444\u0435\u0442\u044b","descr":""},"2226":{"cat":206,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0426\u0432\u0435\u0442\u043e\u043a-\u043b\u043e\u0432\u0443\u0448\u043a\u0430","descr":""},"2227":{"cat":206,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0421\u0435\u0440\u0434\u0435\u0447\u043a\u043e \u0432 \u0431\u0430\u043d\u043a\u0435","descr":""},"2222":{"cat":205,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041d\u0430\u0440\u0446\u0438\u0441\u0441\u044b","descr":""},"2223":{"cat":205,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0412\u0435\u0441\u0435\u043d\u043d\u0438\u0439 \u043a\u043e\u0442","descr":""},"2224":{"cat":205,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0412\u043e\u0437\u0434\u0443\u0448\u043d\u044b\u0439 \u0437\u043c\u0435\u0439","descr":""},"2220":{"cat":204,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0421\u0443\u043d\u0434\u0443\u043a \u0441 \u0437\u043e\u043b\u043e\u0442\u043e\u043c","descr":""},"2221":{"cat":204,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0413\u043e\u0440\u043a\u0430 \u0440\u0443\u0431\u0438\u043d\u043e\u0432","descr":""},"2217":{"cat":202,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0420\u043e\u0436\u0434\u0435\u0441\u0442\u0432\u0435\u043d\u0441\u043a\u0438\u0435 \u0446\u0432\u0435\u0442\u044b","descr":""},"2218":{"cat":202,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0428\u0430\u043f\u043a\u0430 \u0441 \u043c\u044b\u0448\u043a\u043e\u0439","descr":""},"2219":{"cat":202,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0411\u043e\u0441\u0441-\u0441\u043d\u0435\u0433\u043e\u0432\u0438\u043a","descr":""},"2213":{"cat":202,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041e\u043b\u0435\u043d\u044c","descr":""},"2214":{"cat":202,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041a\u0430\u0440\u0430\u043c\u0435\u043b\u044c\u043a\u0438","descr":""},"2215":{"cat":202,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0421\u043d\u0435\u0436\u043e\u043a","descr":""},"2216":{"cat":202,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0421\u044e\u0440\u043f\u0440\u0438\u0437","descr":""},"2209":{"cat":203,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041a\u043e\u043b\u0431\u0430 \u0441 \u044f\u0434\u043e\u043c","descr":""},"2210":{"cat":203,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0427\u0451\u0440\u043d\u0430\u044f \u043a\u043e\u0448\u043a\u0430","descr":""},"2211":{"cat":203,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041a\u043e\u0440\u043e\u0431\u043a\u0430 \u0441 \u0441\u044e\u0440\u043f\u0440\u0438\u0437\u043e\u043c","descr":""},"2212":{"cat":203,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041c\u0440\u0430\u0447\u043d\u044b\u0435 \u0446\u0432\u0435\u0442\u044b","descr":""},"1112":{"cat":10,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0426\u0432\u0435\u0442\u044b","descr":""},"1113":{"cat":10,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0426\u0432\u0435\u0442\u044b","descr":""},"1114":{"cat":10,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0426\u0432\u0435\u0442\u044b","descr":""},"1115":{"cat":10,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0426\u0432\u0435\u0442\u044b","descr":""},"1116":{"cat":11,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0412\u043e\u0437\u0434\u0443\u0448\u043d\u044b\u0435 \u0448\u0430\u0440\u0438\u043a\u0438","descr":""},"1117":{"cat":11,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0411\u0430\u0440\u0431\u0435\u043a\u044e","descr":""},"1118":{"cat":11,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0417\u043d\u0430\u0447\u043e\u043a","descr":""},"1081":{"cat":7,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0413\u0435\u043e\u0440\u0433\u0438\u0435\u0432\u0441\u043a\u0430\u044f \u043b\u0435\u043d\u0442\u0430","descr":""},"1082":{"cat":7,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0417\u0432\u0435\u0437\u0434\u0430","descr":""},"1083":{"cat":7,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0417\u043d\u0430\u0447\u043e\u043a","descr":""},"1084":{"cat":7,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u0440\u0430\u0441\u043d\u0430\u044f \u0437\u0432\u0435\u0437\u0434\u0430","descr":""},"1085":{"cat":7,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041c\u0435\u0434\u0430\u043b\u044c","descr":""},"1086":{"cat":7,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0421\u043e\u043b\u0434\u0430\u0442\u0438\u043a","descr":""},"1087":{"cat":7,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0424\u043b\u0430\u0433","descr":""},"2101":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041f\u043e\u0446\u0435\u043b\u0443\u0439","descr":""},"1095":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0421\u0435\u0440\u0434\u0435\u0447\u043a\u043e","descr":""},"1096":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0421\u0435\u0440\u0434\u0435\u0447\u043a\u043e","descr":""},"1097":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0421\u0435\u0440\u0434\u0435\u0447\u043a\u043e","descr":""},"1098":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0421\u0435\u0440\u0434\u0435\u0447\u043a\u043e","descr":""},"1099":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0421\u0435\u0440\u0434\u0435\u0447\u043a\u043e","descr":""},"1100":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0426\u0432\u0435\u0442\u044b","descr":""},"1101":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0426\u0432\u0435\u0442\u044b","descr":""},"1102":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0426\u0432\u0435\u0442\u044b","descr":""},"1103":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0426\u0432\u0435\u0442\u044b","descr":""},"1104":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0426\u0432\u0435\u0442\u044b","descr":""},"1105":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0426\u0432\u0435\u0442\u044b","descr":""},"1106":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0426\u0432\u0435\u0442\u044b","descr":""},"1107":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u043d\u0444\u0435\u0442\u044b","descr":""},"1108":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u043d\u0444\u0435\u0442\u044b","descr":""},"1109":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u043d\u0444\u0435\u0442\u044b","descr":""},"1110":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u043d\u0444\u0435\u0442\u044b","descr":""},"1111":{"cat":9,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u043d\u0444\u0435\u0442\u044b","descr":""},"1029":{"cat":2,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0417\u043b\u0430\u044f \u0442\u044b\u043a\u0432\u0430","descr":""},"1036":{"cat":22,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0414\u0435\u0434 \u041c\u043e\u0440\u043e\u0437","descr":""},"1050":{"cat":4,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0411\u0443\u043a\u0435\u0442","descr":""},"1057":{"cat":5,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0411\u0435\u043b\u0430\u044f \u0440\u043e\u0437\u0430","descr":""},"1064":{"cat":6,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0417\u0430\u044f\u0446","descr":""},"2103":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041a\u0440\u0430\u0441\u043d\u044b\u0435 \u0440\u043e\u0437\u044b","descr":""},"1088":{"cat":8,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0422\u044b\u043a\u0432\u0430","descr":""},"1030":{"cat":2,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u0442\u0451\u043b","descr":""},"1037":{"cat":22,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0401\u043b\u043e\u0447\u043d\u0430\u044f \u0438\u0433\u0440\u0443\u0448\u043a\u0430","descr":""},"1051":{"cat":4,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0412\u0430\u043b\u0435\u043d\u0442\u0438\u043d\u043a\u0430","descr":""},"1058":{"cat":5,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u0440\u0430\u0441\u0438\u0432\u044b\u0439 \u0446\u0432\u0435\u0442\u043e\u043a","descr":""},"1065":{"cat":6,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u0440\u0437\u0438\u043d\u043a\u0430","descr":""},"1089":{"cat":8,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0428\u043b\u044f\u043f\u0430","descr":""},"1031":{"cat":2,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041c\u0443\u043c\u0438\u044f","descr":""},"1038":{"cat":22,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u0430\u0440\u0430\u043c\u0435\u043b\u044c\u043a\u0430","descr":""},"1052":{"cat":4,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u043d\u0444\u0435\u0442\u044b","descr":""},"1059":{"cat":5,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u0440\u0430\u0441\u0438\u0432\u044b\u0439 \u0446\u0432\u0435\u0442\u043e\u043a","descr":""},"1066":{"cat":6,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u0443\u043b\u0438\u0447","descr":""},"2104":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041a\u043e\u0448\u043a\u0430","descr":""},"1090":{"cat":8,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0427\u0435\u0440\u0435\u043f","descr":""},"1032":{"cat":2,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041f\u0440\u0438\u0432\u0435\u0434\u0435\u043d\u0438\u0435","descr":""},"1039":{"cat":22,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u044f\u044f \u0451\u043b\u043a\u0430","descr":""},"1053":{"cat":4,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u0443\u043f\u0438\u0434\u043e\u043d","descr":""},"1060":{"cat":5,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0414\u0443\u0445\u0438","descr":""},"1067":{"cat":6,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041f\u0430\u0441\u0445\u0430\u043b\u044c\u043d\u043e\u0435 \u044f\u0439\u0446\u043e","descr":""},"2108":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041b\u044e\u0431\u043e\u0432\u043d\u0430\u044f \u0448\u043a\u0430\u0442\u0443\u043b\u043a\u0430","descr":""},"1091":{"cat":8,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u0442\u0451\u043b","descr":""},"1033":{"cat":2,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0425\u0435\u043b\u043b\u043e\u0443\u0438\u043d\u0441\u043a\u0438\u0439 \u043a\u043e\u0442","descr":""},"1040":{"cat":22,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u044f\u044f \u0448\u0430\u043f\u043a\u0430","descr":""},"1054":{"cat":4,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041c\u0438\u0448\u043a\u0430","descr":""},"1061":{"cat":5,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u0440\u0430\u0441\u0438\u0432\u044b\u0439 \u0446\u0432\u0435\u0442\u043e\u043a","descr":""},"1068":{"cat":6,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041f\u0430\u0441\u0445\u0430\u043b\u044c\u043d\u044b\u0435 \u044f\u0439\u0446\u0430","descr":""},"2111":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u0441 \u0437\u0430\u0439\u043a\u0430\u043c\u0438","descr":""},"1092":{"cat":8,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041f\u0440\u0438\u0432\u0438\u0434\u0435\u043d\u0438\u0435","descr":""},"2205":{"cat":202,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u044f\u044f \u0451\u043b\u043a\u0430","descr":""},"1034":{"cat":2,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0427\u0435\u0440\u0435\u043f","descr":""},"1041":{"cat":22,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041f\u0440\u0430\u0437\u0434\u043d\u0438\u0447\u043d\u044b\u0439 \u043d\u043e\u0441\u043e\u043a","descr":""},"1055":{"cat":4,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041f\u043e\u0446\u0435\u043b\u0443\u0439","descr":""},"1062":{"cat":5,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0411\u0443\u0442\u043e\u043d \u0440\u043e\u0437\u044b","descr":""},"1069":{"cat":6,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0426\u0432\u0435\u0442\u043e\u043a","descr":""},"2106":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041b\u0435\u0433\u0435\u043d\u0434\u0430\u0440\u043d\u044b\u0439 \u043c\u043e\u0442\u043e\u0446\u0438\u043a\u043b","descr":""},"1093":{"cat":8,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u0442","descr":""},"2206":{"cat":202,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0421\u0430\u043d\u043a\u0438 \u0441 \u043c\u0430\u043d\u0434\u0430\u0440\u0438\u043d\u0430\u043c\u0438","descr":""},"1035":{"cat":2,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0428\u043b\u044f\u043f\u0430 \u043c\u0430\u0433\u0430","descr":""},"1042":{"cat":22,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0421\u043d\u0435\u0433\u043e\u0432\u0438\u043a","descr":""},"1056":{"cat":4,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0420\u043e\u0437\u0430","descr":""},"1063":{"cat":5,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041f\u043e\u0434\u0441\u043e\u043b\u043d\u0443\u0445","descr":""},"1070":{"cat":6,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0428\u043e\u043a\u043e\u043b\u0430\u0434\u043d\u044b\u0439 \u0437\u0430\u044f\u0446","descr":""},"2102":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0421\u0435\u0440\u0434\u0435\u0447\u043a\u0438","descr":""},"1094":{"cat":8,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041c\u0443\u043c\u0438\u044f","descr":""},"2207":{"cat":202,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0425\u0430\u0441\u043a\u0438","descr":""},"1043":{"cat":22,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0412\u0430\u0440\u0435\u0436\u043a\u0438","descr":""},"2105":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0425\u0430\u043c\u043c\u0435\u0440","descr":""},"2208":{"cat":202,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041c\u0435\u0434\u0432\u0435\u0436\u043e\u043d\u043e\u043a","descr":""},"1044":{"cat":22,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041c\u0435\u0448\u043e\u043a \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432","descr":""},"2107":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041b\u0438\u043b\u0438\u0438","descr":""},"1045":{"cat":22,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0439 \u043a\u043e\u0442\u0451\u043d\u043e\u043a","descr":""},"2109":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0421\u043e\u0431\u0430\u043a\u0430","descr":""},"1046":{"cat":33,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041d\u043e\u0432\u044b\u0439 \u0433\u043e\u0434","descr":""},"2110":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"Rolex","descr":""},"1047":{"cat":33,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041f\u0435\u0447\u0435\u043d\u044c\u043a\u0430","descr":""},"2112":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0422\u044e\u043b\u044c\u043f\u0430\u043d\u044b ","descr":""},"1048":{"cat":33,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0421\u043d\u0435\u0436\u043e\u043a","descr":""},"2113":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0420\u044b\u0431\u043a\u0438","descr":""},"1049":{"cat":33,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0417\u0432\u0435\u0437\u0434\u0430 \u0436\u0435\u043b\u0430\u043d\u0438\u0439","descr":""},"2114":{"cat":100,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0411\u0440\u0435\u043b\u043e\u043a","descr":""},"120":{"value":"count","price":10000,"action":"rnd","limit":1,"type":"extra","title":"\u0417\u0438\u043c\u043d\u0438\u0439 \u0436\u0435\u0442\u043e\u043d \u043d\u0430 \u043e\u043f\u044b\u0442","descr":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +125 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0441\u0442\u0440\u0443 \u0432 \u0438\u0433\u0440\u0435 \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"},"121":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +15 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"122":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u041c\u0435\u0448\u043e\u043a \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 3 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b. \u041c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u0430\u0441\u0442\u044c \u0440\u0435\u0434\u043a\u0438\u0435 \u0438 \u043e\u0447\u0435\u043d\u044c \u0446\u0435\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b!"},"123":{"value":"count","price":15000,"action":"rnd","type":"extra","title":"\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u043c\u0435\u0448\u043e\u043a \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 10 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u044d\u043a\u0441\u0442\u0440 \u0438\u0437 \u043f\u0440\u043e\u0448\u043b\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u041c\u0430\u0444\u0438\u0438. \u0413\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u043e\u0434\u043d\u0430 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0430\u044f \u044d\u043a\u0441\u0442\u0440\u0430 \u043d\u0430 \u0440\u0435\u0439\u0442\u0438\u043d\u0433!"},"124":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u0417\u0430\u043c\u043e\u0440\u043e\u0436\u0435\u043d\u043d\u0430\u044f \u044d\u043a\u0441\u0442\u0440\u0430","descr":"\u0418\u0441\u043f\u044b\u0442\u0430\u0439 \u0443\u0434\u0430\u0447\u0443, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0440\u0430\u0437\u0431\u0438\u0442\u044c \u043b\u0451\u0434! \u0420\u0430\u0437\u0431\u0438\u0432\u0448\u0435\u043c\u0443 - \u044d\u043a\u0441\u0442\u0440\u0430 \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u043a!"},"125":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0435 \u0422\u0430\u0440\u043e","descr":"\u0420\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u044e\u0442 \u0440\u043e\u043b\u0438 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0432 \u043a\u043e\u043c\u043d\u0430\u0442\u0435"},"126":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0417\u0438\u043c\u043d\u0438\u0439 \u041c\u0435\u0433\u0430-\u0436\u0435\u0442\u043e\u043d \u043d\u0430 \u043e\u043f\u044b\u0442","descr":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +500 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0441\u0442\u0440\u0443 \u0432 \u0438\u0433\u0440\u0435 \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"},"127":{"value":"count","price":999999999,"type":"extra","title":"\u0411\u0438\u043b\u0435\u0442 \u043d\u0430 \u041a\u043e\u043b\u0435\u0441\u043e \u0424\u043e\u0440\u0442\u0443\u043d\u044b","descr":"\u0411\u0438\u043b\u0435\u0442 \u043d\u0430 \u043e\u0434\u043d\u043e \u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u041a\u043e\u043b\u0435\u0441\u0430 \u0444\u043e\u0440\u0442\u0443\u043d\u044b"},"128":{"value":"count","price":10000,"qty":10,"type":"extra","title":"\u041a\u043b\u0430\u043d\u043e\u0432\u044b\u0439 \u043e\u043f\u044b\u0442 \u043e\u0442 \u041b\u0438\u043b\u0438","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +20 \u043e\u043f\u044b\u0442\u0430 \u0432 \u043a\u043b\u0430\u043d \u0437\u0430 \u0438\u0433\u0440\u0443"},"129":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u041b\u0438\u043b\u0438","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +15 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"130":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u041a\u043e\u0440\u043e\u0431\u043a\u0430 \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 3 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b. \u041c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u0430\u0441\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u044b \u043d\u0430 \u043e\u043f\u044b\u0442 \u0438\u043b\u0438 \u0440\u0435\u0439\u0442\u0438\u043d\u0433!"},"131":{"value":"count","price":15000,"action":"rnd","type":"extra","title":"\u041e\u0433\u0440\u043e\u043c\u043d\u0430\u044f \u043a\u043e\u0440\u043e\u0431\u043a\u0430 \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 10 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u044d\u043a\u0441\u0442\u0440 \u0438\u0437 \u043f\u0440\u043e\u0448\u043b\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0432 \u041c\u0430\u0444\u0438\u0438. \u0413\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u043e\u0434\u043d\u0430 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0430\u044f \u044d\u043a\u0441\u0442\u0440\u0430 \u043d\u0430 \u0440\u0435\u0439\u0442\u0438\u043d\u0433!"},"132":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0422\u0430\u0440\u043e \u043e\u0442 \u041b\u0438\u043b\u0438","descr":"\u0420\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u044e\u0442 \u0440\u043e\u043b\u0438 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0432 \u043a\u043e\u043c\u043d\u0430\u0442\u0435"},"133":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0416\u0435\u0442\u043e\u043d \u043d\u0430 \u043a\u043b\u0430\u043d\u043e\u0432\u044b\u0439 \u043e\u043f\u044b\u0442","descr":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +100 \u043e\u043f\u044b\u0442\u0430 \u0432 \u043a\u043b\u0430\u043d \u0437\u0430 \u0438\u0433\u0440\u0443. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0441\u0442\u0440\u0443 \u0432 \u0438\u0433\u0440\u0435 \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"},"134":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0416\u0435\u0442\u043e\u043d \u043d\u0430 \u0440\u0435\u0439\u0442\u0438\u043d\u0433","descr":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +75 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430, \u0438\u0433\u0440\u0430\u044f \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0441\u0442\u0440\u0443 \u0432 \u0438\u0433\u0440\u0435 \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"},"135":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u041c\u0435\u0433\u0430-\u0431\u043e\u043c\u0431\u0430","descr":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u0443\u0431\u0438\u0432\u0430\u0435\u0442 5 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432, \u043a\u0440\u043e\u043c\u0435 \u0432\u0430\u0441"},"137":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u0421\u0435\u0439\u0444 \u041b\u0438\u043b\u0438","descr":"\u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0435\u0439\u0444! \u041e\u0442\u043a\u0440\u044b\u0432\u0448\u0435\u043c\u0443 - \u044d\u043a\u0441\u0442\u0440\u0430 \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u043a!"},"138":{"value":"count","price":999999999,"action":"all","limit":1,"type":"extra","title":"\u0418\u0433\u0440\u0430 \u00ab\u0411\u043e\u043d\u0443\u0441\u00bb","descr":"\u0412\u044b\u0431\u0435\u0440\u0438 \u0438\u0433\u0440\u043e\u043a\u0430. \u0412\u0441\u0435 \u0438\u0433\u0440\u043e\u043a\u0438 \u0432 \u043f\u0430\u0440\u0442\u0438\u0438 \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0431\u043e\u043d\u0443\u0441!"},"139":{"value":"count","price":10000,"action":"rnd","limit":1,"type":"extra","title":"\u0412\u0435\u0441\u0435\u043d\u043d\u0438\u0439 \u0436\u0435\u0442\u043e\u043d \u043d\u0430 \u043a\u043b\u0430\u043d\u043e\u0432\u044b\u0439 \u043e\u043f\u044b\u0442","descr":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 50 \u043e\u043f\u044b\u0442\u0430 \u0432 \u043a\u043b\u0430\u043d \u0437\u0430 \u0438\u0433\u0440\u0443. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0441\u0442\u0440\u0443 \u0432 \u0438\u0433\u0440\u0435 \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"},"140":{"value":"count","price":10000,"action":"rnd","type":"extra","title":"\u042d\u043a\u0437\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043a\u043e\u0440\u043e\u0431\u043a\u0430","descr":"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0443\u044e \u044d\u043a\u0441\u0442\u0440\u0443 \u043d\u0430 \u043e\u043f\u044b\u0442 \u0438\u043b\u0438 \u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u0438\u0437 \u043f\u0440\u043e\u0448\u043b\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u041c\u0430\u0444\u0438\u0438. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0441\u0442\u0440\u0443 \u0432 \u0438\u0433\u0440\u0435 \u0434\u043b\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f"},"141":{"value":"count","price":15000,"action":"rnd","type":"extra","title":"\u041e\u0433\u0440\u043e\u043c\u043d\u0430\u044f \u043a\u043e\u0440\u0437\u0438\u043d\u043a\u0430 \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 10 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u044d\u043a\u0441\u0442\u0440 \u0438\u0437 \u043f\u0440\u043e\u0448\u043b\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u041c\u0430\u0444\u0438\u0438. \u0413\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u043e\u0434\u043d\u0430 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0430\u044f \u044d\u043a\u0441\u0442\u0440\u0430 \u043d\u0430 \u043e\u043f\u044b\u0442 \u0438\u043b\u0438 \u0440\u0435\u0439\u0442\u0438\u043d\u0433! \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0441\u0442\u0440\u0443 \u0432 \u0438\u0433\u0440\u0435 \u0434\u043b\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f"},"142":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u0417\u0432\u0451\u0437\u0434\u043d\u0430\u044f \u043b\u043e\u0442\u0435\u0440\u0435\u044f","descr":"\u0418\u0441\u043f\u044b\u0442\u0430\u0439 \u0443\u0434\u0430\u0447\u0443, \u0432\u044b\u0438\u0433\u0440\u0430\u0439 \u043e\u0442 15 \u0434\u043e 1000 \u0437\u0432\u0451\u0437\u0434 \u0432 \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u044f! \u0412\u044b\u0438\u0433\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u0441\u044f\u0442\u044b\u0439 \u0431\u0438\u043b\u0435\u0442!"},"143":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0412\u0435\u0441\u0435\u043d\u043d\u0438\u0439 \u0436\u0435\u0442\u043e\u043d \u043d\u0430 \u0440\u0435\u0439\u0442\u0438\u043d\u0433","descr":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 75 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430, \u0438\u0433\u0440\u0430\u044f \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0441\u0442\u0440\u0443 \u0432 \u0438\u0433\u0440\u0435 \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"},"144":{"value":"count","price":15000,"qty":10,"type":"extra","title":"\u041c\u0435\u0433\u0430-\u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u0417\u0430\u0439\u043a\u0438","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +30 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"145":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u041f\u0430\u0441\u0445\u0430\u043b\u044c\u043d\u044b\u0435 \u0422\u0430\u0440\u043e","descr":"\u0420\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u044e\u0442 \u0440\u043e\u043b\u0438 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0432 \u043a\u043e\u043c\u043d\u0430\u0442\u0435"},"192":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u041f\u0440\u043e\u0444\u0435\u0441\u0441\u043e\u0440\u0430","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +15 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"193":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u041a\u0435\u0439\u0441 \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 3 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b. \u041c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u0430\u0441\u0442\u044c \u0440\u0435\u0434\u043a\u0438\u0435 \u0438 \u043e\u0447\u0435\u043d\u044c \u0446\u0435\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b"},"194":{"value":"count","price":15000,"action":"rnd","type":"extra","title":"\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u043a\u0435\u0439\u0441 \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 10 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u044d\u043a\u0441\u0442\u0440 \u0438\u0437 \u043f\u0440\u043e\u0448\u043b\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u041c\u0430\u0444\u0438\u0438. \u0413\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u043e\u0434\u043d\u0430 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0430\u044f \u044d\u043a\u0441\u0442\u0440\u0430 \u043d\u0430 \u043e\u043f\u044b\u0442 \u0438\u043b\u0438 \u0440\u0435\u0439\u0442\u0438\u043d\u0433!"},"195":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u0421\u0435\u0439\u0444 \u041f\u0440\u043e\u0444\u0435\u0441\u0441\u043e\u0440\u0430","descr":"\u0418\u0441\u043f\u044b\u0442\u0430\u0439 \u0443\u0434\u0430\u0447\u0443, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0435\u0439\u0444! \u041e\u0442\u043a\u0440\u044b\u0432\u0448\u0435\u043c\u0443 - \u044d\u043a\u0441\u0442\u0440\u0430 \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u043a!"},"196":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u041d\u0435\u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u0430\u044f \u0431\u043e\u043c\u0431\u0430","descr":"\u0412\u044b \u0431\u0440\u043e\u0441\u0430\u0435\u0442\u0435 \u0431\u043e\u043c\u0431\u0443 \u0432 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430. \u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u043e! \u0411\u043e\u043c\u0431\u0430 \u043c\u043e\u0436\u0435\u0442 \u0432\u0437\u043e\u0440\u0432\u0430\u0442\u044c\u0441\u044f \u043e\u0442 \u043b\u0438\u0448\u043d\u0435\u0439 \u0432\u0441\u0442\u0440\u044f\u0441\u043a\u0438, \u043a\u0438\u0434\u0430\u0442\u044c \u0431\u0435\u0440\u0435\u0436\u043d\u043e!"},"197":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u042d\u043b\u0438\u043a\u0441\u0438\u0440 \u043f\u0440\u0430\u0432\u0434\u044b","descr":"\u0420\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0440\u043e\u043b\u0438 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0432 \u043a\u043e\u043c\u043d\u0430\u0442\u0435"},"198":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u042d\u043b\u0438\u043a\u0441\u0438\u0440 \u0431\u0435\u0441\u0441\u043c\u0435\u0440\u0442\u0438\u044f","descr":"\u0412\u0430\u0441 \u043d\u0435\u043b\u044c\u0437\u044f \u0443\u0431\u0438\u0442\u044c \u0434\u043e \u043a\u043e\u043d\u0446\u0430 \u043f\u0430\u0440\u0442\u0438\u0438, \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u0430\u0434\u0438\u0442\u044c \u0432 \u0442\u044e\u0440\u044c\u043c\u0443"},"200":{"value":"count","price":3000,"action":"all","limit":1,"type":"extra","title":"\u0421\u043d\u0430\u0439\u043f\u0435\u0440\u0441\u043a\u0430\u044f \u0432\u0438\u043d\u0442\u043e\u0432\u043a\u0430","descr":"\u0423\u0431\u0438\u0432\u0430\u0435\u0442 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430, \u043d\u0435\u043b\u044c\u0437\u044f \u0441\u043f\u0430\u0441\u0442\u0438\u0441\u044c \u0431\u0440\u043e\u043d\u0435\u0436\u0438\u043b\u0435\u0442\u043e\u043c \u0438\u043b\u0438 \u0443\u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043e\u0442 \u043f\u0443\u043b\u0438"},"2201":{"cat":201,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041e\u0431\u0435\u0437\u044c\u044f\u043d\u043a\u0430","descr":""},"201":{"value":"count","price":500,"type":"extra","title":"\u041a\u0430\u0441\u0442\u0435\u0442","descr":"\u0412\u044b \u043f\u043e\u0431\u0435\u0436\u0434\u0430\u0435\u0442\u0435 \u0432 \u0434\u0440\u0430\u043a\u0435 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0431\u0435\u0437 \u043a\u0430\u0441\u0442\u0435\u0442\u0430"},"2202":{"cat":201,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041a\u0440\u0443\u0436\u043a\u0438","descr":""},"202":{"value":"count","price":1000,"limit":1,"type":"extra","title":"\u0420\u0430\u0441\u0442\u044f\u0436\u043a\u0430","descr":"\u041f\u043e\u0434\u0440\u044b\u0432\u0430\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u0430, \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0432\u0448\u0435\u0433\u043e \u043f\u0440\u043e\u0442\u0438\u0432 \u0432\u0430\u0441, \u043d\u0435\u043b\u044c\u0437\u044f \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u0442\u044c \u043c\u0438\u043d\u043e\u0438\u0441\u043a\u0430\u0442\u0435\u043b\u0435\u043c"},"2203":{"cat":201,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u041f\u0440\u0438\u0437\u0440\u0430\u0447\u043d\u044b\u0439 \u0431\u0443\u043a\u0435\u0442","descr":""},"203":{"value":"count","price":500,"action":"all","limit":1,"type":"extra","title":"\u041f\u0430\u044f\u043b\u044c\u043d\u0438\u043a","descr":"\u0412\u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0440\u043e\u043b\u044c \u0438\u0433\u0440\u043e\u043a\u0430"},"2204":{"cat":201,"price":3000,"interval":"12 hour","ext":"swf","type":"gift","title":"\u0421\u0435\u0440\u0434\u0435\u0447\u043a\u043e","descr":""},"204":{"value":"count","price":300,"action":"day","limit":1,"type":"extra","title":"\u0428\u043e\u043a\u0435\u0440","descr":"\u041a\u043e\u043d\u0442\u0443\u0437\u0438\u0442 \u0438\u0433\u0440\u043e\u043a\u0430 \u0434\u043e \u043a\u043e\u043d\u0446\u0430 \u0434\u043d\u044f, \u043b\u0438\u0448\u0430\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c \u0438 \u043f\u0438\u0441\u0430\u0442\u044c \u0432 \u0447\u0430\u0442"},"205":{"value":"count","price":500,"action":"all","limit":1,"type":"extra","title":"\u041c\u0430\u0433\u043d\u0438\u0442","descr":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0433\u0440\u043e\u043a\u0430, \u043b\u044e\u0431\u0430\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u043f\u0443\u043b\u044f \u043f\u043e\u043b\u0435\u0442\u0438\u0442 \u0432 \u044d\u0442\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"},"206":{"value":"count","price":3000,"action":"all","limit":1,"type":"extra","title":"\u041a\u0430\u043d\u0434\u0430\u043b\u044b","descr":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0433\u0440\u043e\u043a\u0430, \u0438\u0433\u0440\u043e\u043a \u043b\u0438\u0448\u0430\u0435\u0442\u0441\u044f \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u044b \u0434\u043e \u043a\u043e\u043d\u0446\u0430 \u0438\u0433\u0440\u044b"},"207":{"value":"count","price":300,"action":"all","limit":1,"type":"extra","title":"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u043c\u0430\u0444\u0438\u043e\u0437\u0438","descr":"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0438\u0433\u0440\u043e\u043a\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430 \u043f\u043e\u043a\u0430\u0436\u0435\u0442, \u0447\u0442\u043e \u0438\u0433\u0440\u043e\u043a \u041c\u0430\u0444\u0438\u044f"},"208":{"value":"count","price":1000,"action":"reanim","limit":1,"type":"extra","title":"\u0420\u0435\u0430\u043d\u0438\u043c\u0430\u0442\u043e\u0440","descr":"\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0438\u0442\u044c \u0441\u0435\u0431\u044f \u0438\u043b\u0438 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 10 \u0441\u0435\u043a\u0443\u043d\u0434 \u043f\u043e\u0441\u043b\u0435 \u0441\u043c\u0435\u0440\u0442\u0438"},"209":{"value":"count","price":10000,"qty":10,"type":"extra","title":"\u0428\u043b\u044f\u043f\u0430 \u0422\u043e\u043d\u0438","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 100 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"223":{"value":"count","price":2000,"action":"all","limit":1,"type":"extra","title":"\u0412\u0438\u0440\u0443\u0441 \u0417\u043e\u043c\u0431\u0438","descr":"\u041f\u0440\u0435\u0432\u0440\u0430\u0449\u0430\u0435\u0442 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0432 \u0417\u043e\u043c\u0431\u0438, \u043b\u0438\u0431\u043e \u0443\u0431\u0438\u0432\u0430\u0435\u0442 \u0435\u0433\u043e"},"188":{"value":"count","price":1500,"action":"near","type":"extra","title":"\u041a\u0430\u0442\u0430\u043d\u0430","descr":"\u0423\u0431\u0438\u0432\u0430\u0435\u0442 \u0441\u043e\u0441\u0435\u0434\u043d\u0435\u0433\u043e \u0441 \u0432\u0430\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430"},"189":{"value":"count","price":500,"action":"all","limit":1,"type":"extra","title":"\u0411\u043e\u0447\u043e\u043d\u043e\u043a \u0441 \u043f\u043e\u0440\u043e\u0445\u043e\u043c","descr":"\u0412\u044b \u043a\u0438\u0434\u0430\u0435\u0442\u0435 \u0431\u043e\u0447\u043e\u043d\u043e\u043a, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043a\u043e\u0440\u043e \u0432\u0437\u043e\u0440\u0432\u0451\u0442\u0441\u044f"},"190":{"value":"count","price":250,"limit":1,"type":"extra","title":"\u0414\u044b\u043c\u043e\u0432\u0430\u044f \u0431\u043e\u043c\u0431\u043e\u0447\u043a\u0430","descr":"\u0412\u044b \u043c\u0435\u043d\u044f\u0435\u0442\u0435 \u0446\u0435\u043b\u044c \u0438\u0433\u0440\u043e\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u0439\u0434\u0451\u0442 \u043a \u0432\u0430\u043c \u043d\u043e\u0447\u044c\u044e"},"238":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u041a\u043e\u043b\u044c\u0446\u043e \u0441 \u0440\u0443\u0431\u0438\u043d\u043e\u043c","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +100% \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"191":{"value":"count","price":10000,"action":"rnd","limit":1,"type":"extra","title":"\u0416\u0435\u0442\u043e\u043d \u042f\u043a\u0443\u0434\u0437\u0430","descr":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +250 \u043e\u043f\u044b\u0442\u0430. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0441\u0442\u0440\u0443 \u0432 \u0438\u0433\u0440\u0435 \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"},"239":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u041a\u043e\u0440\u043e\u0431\u043a\u0430 \u0441 \u0441\u044e\u0440\u043f\u0440\u0438\u0437\u043e\u043c","descr":"\u0412\u044b \u0441\u0442\u0430\u0432\u0438\u0442\u0435 \u043a\u043e\u0440\u043e\u0431\u043a\u0443 \u0441 \u0441\u044e\u0440\u043f\u0440\u0438\u0437\u043e\u043c, \u043a\u043e\u0442\u043e\u0440\u0443\u044e \u043c\u043e\u0433\u0443\u0442 \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0442\u0440\u0438 \u043b\u044e\u0431\u044b\u0445 \u0438\u0433\u0440\u043e\u043a\u0430 \u0432 \u043f\u0430\u0440\u0442\u0438\u0438. \u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u043e! \u0421\u044e\u0440\u043f\u0440\u0438\u0437\u044b \u0431\u044b\u0432\u0430\u044e\u0442 \u043e\u043f\u0430\u0441\u043d\u044b!"},"240":{"value":"count","price":600,"action":"rnd","limit":1,"type":"extra","title":"\u0414\u0436\u043e\u043a\u0435\u0440","descr":"\u0420\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0440\u043e\u043b\u044c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"},"241":{"value":"count","price":400,"action":"night","limit":1,"type":"extra","title":"\u041a\u0440\u0430\u0436\u0430","descr":"\u041b\u0438\u0448\u0430\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u0430 \u043d\u043e\u0447\u043d\u043e\u0433\u043e \u0445\u043e\u0434\u0430"},"242":{"value":"count","price":400,"limit":1,"type":"extra","title":"\u0423\u0434\u0430\u0440 \u0432 \u0441\u043f\u0438\u043d\u0443","descr":"\u041f\u0430\u0440\u0430\u043b\u0438\u0437\u0443\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u0430, \u0433\u043e\u043b\u043e\u0441\u0443\u044e\u0449\u0435\u0433\u043e \u043f\u0440\u043e\u0442\u0438\u0432 \u0432\u0430\u0441"},"243":{"value":"count","price":2000,"action":"all","limit":1,"type":"extra","title":"\u041a\u043e\u043a\u0442\u0435\u0439\u043b\u044c \u041c\u043e\u043b\u043e\u0442\u043e\u0432\u0430","descr":"\u0423\u0431\u0438\u0432\u0430\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u0430 \u0447\u0435\u0440\u0435\u0437 20 \u0441\u0435\u043a\u0443\u043d\u0434. \u0415\u0441\u0442\u044c \u0448\u0430\u043d\u0441 \u043f\u043e\u0434\u0436\u0435\u0447\u044c \u0441\u043e\u0441\u0435\u0434\u043d\u0435\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"},"244":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0412\u0430\u043b\u0435\u043d\u0442\u0438\u043d\u043a\u0430","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 50 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"245":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u0428\u043a\u0430\u0442\u0443\u043b\u043a\u0430 \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 3 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b. \u041c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u0430\u0441\u0442\u044c \u0440\u0435\u0434\u043a\u0438\u0435 \u0438 \u043e\u0447\u0435\u043d\u044c \u0446\u0435\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b"},"246":{"value":"expire","price":999999999,"interval":"2 day","type":"extra","title":"\u041a\u0443\u043f\u043e\u043d \u043d\u0430 \u0441\u0432\u0430\u0434\u044c\u0431\u0443","descr":"\u041a\u0443\u043f\u043e\u043d \u043d\u0430 \u043e\u0434\u043d\u043e \u0431\u0435\u0441\u043f\u043b\u0430\u0442\u043d\u043e\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0440\u0443\u043a\u0438 \u0438 \u0441\u0435\u0440\u0434\u0446\u0430"},"247":{"value":"count","price":10000,"qty":10,"type":"extra","title":"\u0414\u043d\u0435\u0432\u043d\u0438\u043a \u041f\u0440\u043e\u0444\u0435\u0441\u0441\u043e\u0440\u0430","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 100 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"248":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u041f\u0430\u0441\u0445\u0430\u043b\u044c\u043d\u0430\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0430","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 50 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"249":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u041f\u0430\u0441\u0445\u0430\u043b\u044c\u043d\u0430\u044f \u043b\u043e\u0442\u0435\u0440\u0435\u044f","descr":"\u0418\u0441\u043f\u044b\u0442\u0430\u0439 \u0443\u0434\u0430\u0447\u0443, \u0432\u044b\u0438\u0433\u0440\u0430\u0439 \u043e\u0442 5000 \u0434\u043e 100 000 \u043c\u043e\u043d\u0435\u0442! \u0412\u044b\u0438\u0433\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u0441\u044f\u0442\u044b\u0439 \u0431\u0438\u043b\u0435\u0442!"},"250":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u041a\u043e\u0440\u0437\u0438\u043d\u043a\u0430 \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 3 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0441\u0442\u0440\u0443 \u0432 \u0438\u0433\u0440\u0435 \u0434\u043b\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f"},"251":{"value":"count","price":400,"action":"day","limit":1,"type":"extra","title":"\u0427\u0451\u0440\u043d\u0430\u044f \u043c\u0435\u0442\u043a\u0430","descr":"\u0423\u0431\u0438\u0432\u0430\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u0430, \u0435\u0441\u043b\u0438 \u0442\u043e\u0442 \u0441\u043e\u0432\u0435\u0440\u0448\u0438\u0442 \u043d\u043e\u0447\u043d\u043e\u0439 \u0445\u043e\u0434 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u043d\u043e\u0447\u044c\u044e"},"252":{"value":"count","price":600,"action":"all","limit":1,"type":"extra","title":"\u041a\u0440\u0435\u043f\u043a\u0438\u0439 \u0440\u043e\u043c","descr":"\u0412\u0441\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0431\u0443\u0434\u0443\u0442 \u0438\u043c\u0435\u0442\u044c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0443\u044e \u0446\u0435\u043b\u044c \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 1 \u043c\u0438\u043d\u0443\u0442\u044b"},"253":{"value":"count","price":600,"action":"rnd","limit":1,"type":"extra","title":"\u041a\u043e\u0440\u0430\u0431\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u0443\u0448\u043a\u0430","descr":"\u0423\u0431\u0438\u0432\u0430\u0435\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043d\u0435 \u0443\u0441\u043f\u0435\u0435\u0442 \u043d\u0430\u0436\u0430\u0442\u044c \u043d\u0430 \u043a\u043d\u043e\u043f\u043a\u0443 \"\u0412 \u0443\u043a\u0440\u044b\u0442\u0438\u0435!\""},"254":{"value":"count","price":10000,"qty":10,"type":"extra","title":"\u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u043a\u0440\u044e\u043a","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 100 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"255":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0410\u043c\u0443\u043b\u0435\u0442 \u0434\u0440\u0430\u043a\u043e\u043d\u0430","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 50 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"256":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u042f\u0449\u0438\u043a \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 3 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b. \u041c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u0430\u0441\u0442\u044c \u0440\u0435\u0434\u043a\u0438\u0435 \u0438 \u043e\u0447\u0435\u043d\u044c \u0446\u0435\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b"},"257":{"value":"count","price":200,"type":"extra","title":"\u041d\u043e\u0447\u043d\u043e\u0435 \u0437\u0440\u0435\u043d\u0438\u0435","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \"\u041c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0430\" \u043f\u0440\u0438 \u0445\u043e\u0434\u0435 \u043a \u0438\u0433\u0440\u043e\u043a\u0443"},"261":{"value":"count","price":10000,"qty":10,"type":"extra","title":"\u0424\u043b\u0430\u043a\u043e\u043d \u0434\u0443\u0445\u043e\u0432","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 100 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"262":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0421\u0430\u043b\u044e\u0442","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 50 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"263":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u041a\u0430\u0440\u043d\u0430\u0432\u0430\u043b\u044c\u043d\u0430\u044f \u043b\u043e\u0442\u0435\u0440\u0435\u044f","descr":"\u0418\u0441\u043f\u044b\u0442\u0430\u0439 \u0443\u0434\u0430\u0447\u0443, \u0432\u044b\u0438\u0433\u0440\u0430\u0439 \u043e\u0442 5000 \u0434\u043e 100000 \u043c\u043e\u043d\u0435\u0442! \u0412\u044b\u0438\u0433\u0440\u044b\u0432\u0430\u0435\u0442 \u043a\u0430\u0436\u0434\u044b\u0439 \u0434\u0435\u0441\u044f\u0442\u044b\u0439 \u0431\u0438\u043b\u0435\u0442!"},"264":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u041c\u0435\u0448\u043e\u043a \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 3 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b. \u041c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u0430\u0441\u0442\u044c \u0440\u0435\u0434\u043a\u0438\u0435 \u0438 \u043e\u0447\u0435\u043d\u044c \u0446\u0435\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b"},"265":{"value":"expire","price":999999999,"interval":"15 minute","type":"extra","title":"\u041a\u0430\u0440\u043d\u0430\u0432\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u0440\u0430\u0441\u043a\u0430","descr":"\u041a\u0430\u0436\u0434\u044b\u0439 \u0440\u0430\u0437 \u043c\u0435\u043d\u044f\u0435\u0442 \u0446\u0432\u0435\u0442 \u043a\u0440\u0438\u043a\u0430 \u043d\u0430 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u0446\u0432\u0435\u0442"},"268":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u041d\u0438\u0442\u043a\u0438","descr":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +25 \u043d\u0438\u0442\u043e\u043a \u0432 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u043f\u043e \u043e\u0431\u0440\u0430\u0437\u0443"},"269":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u0422\u043a\u0430\u043d\u044c","descr":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +25 \u0442\u043a\u0430\u043d\u0438 \u0432 \u0442\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0440\u043e\u0433\u0440\u0435\u0441\u0441 \u043f\u043e \u043e\u0431\u0440\u0430\u0437\u0443"},"270":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u041f\u0438\u0440\u0430\u0442\u0441\u043a\u0438\u0439 \u0444\u043b\u0430\u0433","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 50 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"271":{"value":"count","price":5000,"action":"rnd","type":"extra","title":"\u041a\u043b\u0430\u0434 \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 3 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b. \u041c\u043e\u0433\u0443\u0442 \u0432\u044b\u043f\u0430\u0441\u0442\u044c \u0440\u0435\u0434\u043a\u0438\u0435 \u0438 \u043e\u0447\u0435\u043d\u044c \u0446\u0435\u043d\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b!"},"272":{"value":"expire","price":999999999,"interval":"15 minute","type":"extra","title":"\u0424\u043e\u0441\u0444\u043e\u0440\u043d\u0430\u044f \u043a\u0440\u0430\u0441\u043a\u0430","descr":"\u0421\u0432\u0435\u0442\u0438\u0442\u0441\u044f \u0432 \u0442\u0435\u043c\u043d\u043e\u0442\u0435"},"273":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0421\u0442\u0430\u0440\u0430\u044f \u0431\u043e\u043c\u0431\u0430","descr":"\u0412\u044b \u0431\u0440\u043e\u0441\u0430\u0435\u0442\u0435 \u0441\u0442\u0430\u0440\u0443\u044e \u0431\u043e\u043c\u0431\u0443 \u0432 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430. \u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u043e! \u0411\u043e\u043c\u0431\u0430 \u043c\u043e\u0436\u0435\u0442 \u0432\u0437\u043e\u0440\u0432\u0430\u0442\u044c\u0441\u044f \u043e\u0442 \u043b\u0438\u0448\u043d\u0435\u0439 \u0432\u0441\u0442\u0440\u044f\u0441\u043a\u0438, \u043a\u0438\u0434\u0430\u0442\u044c \u0431\u0435\u0440\u0435\u0436\u043d\u043e!"},"274":{"value":"expire","price":999999999,"interval":"03 hour","type":"extra","title":"\u041f\u0440\u0438\u0437\u0440\u0430\u0447\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0437 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430"},"275":{"value":"expire","price":999999999,"interval":"03 hour","type":"extra","title":"\u041f\u0440\u0438\u0437\u0440\u0430\u0447\u043d\u044b\u0439 \u043e\u0431\u0440\u0430\u0437 \u043c\u0430\u0444\u0438\u043e\u0437\u0438","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u043c\u0430\u0444\u0438\u043e\u0437\u0438"},"276":{"value":"count","price":10000,"qty":10,"type":"extra","title":"\u0422\u0430\u043b\u0438\u0441\u043c\u0430\u043d \u0443\u0434\u0430\u0447\u0438","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 100 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"277":{"value":"expire","price":999999999,"interval":"15 minute","type":"extra","title":"\u0417\u0438\u043c\u043d\u044f\u044f \u043a\u0440\u0430\u0441\u043a\u0430","descr":"\u041c\u0435\u043d\u044f\u0435\u0442 \u0446\u0432\u0435\u0442 \u0438 \u0444\u043e\u043d \u043a\u0440\u0438\u043a\u0430 \u043d\u0430 \u0437\u0438\u043c\u043d\u0438\u0439, \u0431\u0440\u0440\u0440\u0440!"},"278":{"value":"count","price":999999999,"action":"all","type":"extra","title":"\u0421\u043d\u0435\u0436\u043d\u0430\u044f \u0431\u043e\u043c\u0431\u0430","descr":"\u0412\u044b \u0431\u0440\u043e\u0441\u0430\u0435\u0442\u0435 \u0441\u043d\u0435\u0436\u043d\u0443\u044e \u0431\u043e\u043c\u0431\u0443 \u0432 \u0438\u0433\u0440\u043e\u043a\u0430. \u041f\u0440\u0438 \u0432\u0437\u0440\u044b\u0432\u0435 \u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d \u0438\u0433\u0440\u043e\u043a\u0430 \u043f\u043e\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0441\u043d\u0435\u0433\u043e\u043c!"},"279":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u041f\u0430\u0441\u0445\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +15 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"280":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u0421\u043c\u044f\u0442\u043a\u0430-\u0431\u043e\u043c\u0431\u0430","descr":"\u0412\u044b \u0431\u0440\u043e\u0441\u0430\u0435\u0442\u0435 \u044f\u0438\u0447\u043d\u0443\u044e \u0431\u043e\u043c\u0431\u0443 \u0432 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430. \u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u043e! \u0411\u043e\u043c\u0431\u0430 \u043c\u043e\u0436\u0435\u0442 \u0432\u0437\u043e\u0440\u0432\u0430\u0442\u044c\u0441\u044f \u043e\u0442 \u043b\u0438\u0448\u043d\u0435\u0439 \u0432\u0441\u0442\u0440\u044f\u0441\u043a\u0438, \u043a\u0438\u0434\u0430\u0442\u044c \u0431\u0435\u0440\u0435\u0436\u043d\u043e"},"281":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u041e\u043a\u0430\u043c\u0435\u043d\u0435\u043b\u043e\u0435 \u044f\u0439\u0446\u043e","descr":"\u0418\u0441\u043f\u044b\u0442\u0430\u0439 \u0443\u0434\u0430\u0447\u0443, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0440\u0430\u0437\u0431\u0438\u0442\u044c \u044f\u0439\u0446\u043e! \u0420\u0430\u0437\u0431\u0438\u0432\u0448\u0435\u043c\u0443 - \u044d\u043a\u0441\u0442\u0440\u0430 \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u043a!"},"282":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u041f\u0435\u0440\u0441\u0442\u0435\u043d\u044c \u0422\u043e\u043d\u0438","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 50 \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"283":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0422\u043e\u043d\u0438","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +15 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"287":{"value":"count","price":999999999,"action":"all","type":"extra","title":"\u041a\u0443\u0432\u0430\u043b\u0434\u0430 \u041c\u0430\u0440\u043a\u043e","descr":"\u0412\u044b \u0431\u044c\u0451\u0442\u0435 \u0438\u0433\u0440\u043e\u043a\u0430 \u043a\u0443\u0432\u0430\u043b\u0434\u043e\u0439! \u041f\u0440\u0438 \u0443\u0434\u0430\u0440\u0435 \u0432\u0435\u0441\u044c \u044d\u043a\u0440\u0430\u043d \u0438\u0433\u0440\u043e\u043a\u0430 \u043f\u043e\u043a\u0440\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u0442\u0440\u0435\u0449\u0438\u043d\u0430\u043c\u0438!"},"288":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u0417\u043e\u043b\u043e\u0442\u0430\u044f \u043b\u043e\u0442\u0435\u0440\u0435\u044f","descr":"\u0418\u0441\u043f\u044b\u0442\u0430\u0439 \u0443\u0434\u0430\u0447\u0443, \u0432\u044b\u0438\u0433\u0440\u0430\u0439 \u043c\u043e\u043d\u0435\u0442\u044b \u0438\u043b\u0438 \u044d\u043a\u0441\u0442\u0440\u044b! \u041c\u043e\u043d\u0435\u0442\u044b \u0432 \r\n\u043a\u0430\u0436\u0434\u043e\u043c \u0434\u0435\u0441\u044f\u0442\u043e\u043c \u0431\u0438\u043b\u0435\u0442\u0435!"},"289":{"value":"count","price":15000,"qty":10,"type":"extra","title":"\u041c\u0435\u0433\u0430-\u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u0412\u0430\u043b\u0435\u043d\u0442\u0438\u043d\u0430","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +30 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"290":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u041f\u0438\u043d\u044c\u044f\u0442\u0430","descr":"\u0418\u0441\u043f\u044b\u0442\u0430\u0439 \u0443\u0434\u0430\u0447\u0443, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u0440\u0430\u0437\u0431\u0438\u0442\u044c \u043f\u0438\u043d\u044c\u044f\u0442\u0443! \u0420\u0430\u0437\u0431\u0438\u0432\u0448\u0435\u043c\u0443 - \u044d\u043a\u0441\u0442\u0440\u0430 \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u043a!"},"291":{"value":"count","price":999999999,"action":"dice","type":"extra","title":"\u0418\u0433\u0440\u0430 \u0432 \u043a\u043e\u0441\u0442\u0438","descr":"\u0418\u0441\u043f\u044b\u0442\u0430\u0439 \u0443\u0434\u0430\u0447\u0443, \u0441\u044b\u0433\u0440\u0430\u0439 \u0441 \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u0433\u0440\u043e\u043a\u043e\u043c \u043d\u0430 \u043c\u043e\u043d\u0435\u0442\u044b! \u041a\u0442\u043e \u0432\u044b\u043a\u0438\u043d\u0435\u0442 \u0431\u043e\u043b\u044c\u0448\u0435\u0435 \u0447\u0438\u0441\u043b\u043e - \u0442\u043e\u0442 \u0438 \u043f\u043e\u0431\u0435\u0434\u0438\u0442!"},"292":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u041a\u0430\u0440\u043d\u0430\u0432\u0430\u043b\u044c\u043d\u044b\u0435 \u0422\u0430\u0440\u043e","descr":"\u0420\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u044e\u0442 \u0440\u043e\u043b\u0438 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0432 \u043a\u043e\u043c\u043d\u0430\u0442\u0435"},"293":{"value":"count","price":10000,"qty":10,"type":"extra","title":"\u041c\u0435\u0433\u0430-\u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u041a\u043e\u0441\u0442\u044e\u043c\u0435\u0440\u0430","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +30 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"294":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u041a\u0430\u0440\u043d\u0430\u0432\u0430\u043b\u044c\u043d\u044b\u0439 \u0436\u0435\u0442\u043e\u043d \u043d\u0430 \u043e\u043f\u044b\u0442","descr":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u043f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +250 \u043e\u043f\u044b\u0442\u0430. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0441\u0442\u0440\u0443 \u0432 \u0438\u0433\u0440\u0435 \u0434\u043b\u044f \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"},"295":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u041a\u0430\u0440\u043d\u0430\u0432\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +15 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"296":{"value":"count","price":15000,"action":"rnd","type":"extra","title":"\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u043c\u0435\u0448\u043e\u043a \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 10 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u044d\u043a\u0441\u0442\u0440 \u0438\u0437 \u043f\u0440\u043e\u0448\u043b\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u041c\u0430\u0444\u0438\u0438. \u0413\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u043e\u0434\u043d\u0430 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0430\u044f \u044d\u043a\u0441\u0442\u0440\u0430  \u0440\u0435\u0439\u0442\u0438\u043d\u0433!"},"297":{"value":"expire","price":999999999,"interval":"06 hour","type":"extra","title":"\u041e\u0431\u0440\u0430\u0437 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430"},"298":{"value":"expire","price":999999999,"interval":"06 hour","type":"extra","title":"\u041e\u0431\u0440\u0430\u0437 \u043c\u0430\u0444\u0438\u043e\u0437\u0438","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u043e \u0441\u043c\u0435\u043d\u0438\u0442\u044c \u043e\u0431\u0440\u0430\u0437 \u043c\u0430\u0444\u0438\u043e\u0437\u0438"},"299":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0421\u0430\u043c\u043e\u0446\u0432\u0435\u0442 \u0438\u0441\u0442\u043e\u0449\u0435\u043d\u0438\u044f","descr":"\u0414\u043e \u043a\u043e\u043d\u0446\u0430 \u043f\u0430\u0440\u0442\u0438\u0438 \u043e\u0442\u043a\u043b\u044e\u0447\u0430\u0435\u0442 \u0432\u0441\u0435 \u0438\u0433\u0440\u043e\u0432\u044b\u0435 \u0442\u0430\u043b\u0430\u043d\u0442\u044b \u0443 \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u043e\u0432"},"136":{"value":"count","price":999999999,"action":"day","limit":1,"type":"extra","title":"\u0418\u0433\u0440\u0430 \u00ab\u041d\u0430\u043a\u0430\u0437\u0430\u043d\u0438\u0435\u00bb","descr":"\u0412\u044b\u0431\u0435\u0440\u0438 \u0438\u0433\u0440\u043e\u043a\u0430. \u0412\u0441\u0435 \u0438\u0433\u0440\u043e\u043a\u0438 \u0432 \u043f\u0430\u0440\u0442\u0438\u0438 \u0431\u0443\u0434\u0443\u0442 \u0432\u044b\u0431\u0438\u0440\u0430\u0442\u044c \u0434\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u043d\u0430\u043a\u0430\u0437\u0430\u043d\u0438\u0435!"},"301":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u041e\u0433\u043d\u0435\u043c\u0451\u0442 \u0422\u043e\u043d\u0438","descr":"\u041f\u043e\u0434\u0436\u0438\u0433\u0430\u0435\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430. \u0418\u0433\u0440\u043e\u043a\u0438 \u0441\u0433\u043e\u0440\u044f\u0442 \u0447\u0435\u0440\u0435\u0437 30 \u0441\u0435\u043a\u0443\u043d\u0434. \u0415\u0441\u0442\u044c \u0448\u0430\u043d\u0441 \u043f\u043e\u0434\u0436\u0435\u0447\u044c \u0441\u043e\u0441\u0435\u0434\u043d\u0435\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430."},"302":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0423\u0442\u044e\u0433 \u0422\u043e\u043d\u0438","descr":"\u0420\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0440\u043e\u043b\u0435\u0439"},"303":{"value":"count","price":999999999,"action":"day_all","limit":1,"type":"extra","title":"\u0428\u043e\u043a\u043e\u0432\u0430\u044f \u0433\u0440\u0430\u043d\u0430\u0442\u0430","descr":"\u041f\u0430\u0440\u0430\u043b\u0438\u0437\u0443\u0435\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432, \u043a\u0440\u043e\u043c\u0435 \u0441\u0435\u0431\u044f"},"304":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u041f\u043e\u0434\u0434\u0435\u043b\u044c\u043d\u044b\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430","descr":"\u0412\u0441\u0435 \u0432 \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u044d\u0444\u0444\u0435\u043a\u0442 \u00ab\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u00bb, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0440\u043e\u043b\u044c \u043e\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430. \u041d\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u0433\u0440\u0430\u0436\u0434\u0430\u043d"},"305":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0420\u0435\u0430\u043d\u0438\u043c\u0430\u0442\u043e\u0440\u044b \u0422\u043e\u043d\u0438","descr":"\u0412\u0441\u0435 \u0432 \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u044d\u0444\u0444\u0435\u043a\u0442 \u00ab\u0420\u0435\u0430\u043d\u0438\u043c\u0430\u0442\u043e\u0440\u00bb, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0432\u043e\u0441\u043a\u0440\u0435\u0448\u0430\u0435\u0442 \u0438\u0433\u0440\u043e\u043a\u0430 \u0441\u0440\u0430\u0437\u0443 \u043f\u043e\u0441\u043b\u0435 \u0441\u043c\u0435\u0440\u0442\u0438. \u041d\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u0433\u0440\u0430\u0436\u0434\u0430\u043d"},"306":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u041c\u0438\u043d\u043d\u043e\u0435 \u043f\u043e\u043b\u0435","descr":"\u0412\u0441\u0435 \u0432 \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u044d\u0444\u0444\u0435\u043a\u0442 \u00ab\u0420\u0430\u0441\u0442\u044f\u0436\u043a\u0430\u00bb, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0443\u0431\u0438\u0432\u0430\u0435\u0442 \u043b\u044e\u0431\u043e\u0433\u043e, \u043a\u0442\u043e \u043f\u044b\u0442\u0430\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0442\u0438\u0432 \u0441\u043e\u044e\u0437\u043d\u0438\u043a\u0430. \u041d\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u0433\u0440\u0430\u0436\u0434\u0430\u043d"},"307":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u00ab\u041b\u0438\u043f\u0430\u00bb \u0422\u043e\u043d\u0438","descr":"\u0412\u0441\u0435 \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0438 \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u044d\u0444\u0444\u0435\u043a\u0442 \u00ab\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u043c\u0430\u0444\u0438\u043e\u0437\u0438\u00bb, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u043e\u043a\u0430\u0436\u0435\u0442 \u0440\u043e\u043b\u044c \u041c\u0430\u0444\u0438\u043e\u0437\u0438 \u043f\u0440\u0438 \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430. \u041d\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u0433\u0440\u0430\u0436\u0434\u0430\u043d"},"308":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0422\u0430\u0447\u043a\u0438 \u0422\u043e\u043d\u0438","descr":"\u0412\u0441\u0435 \u0432 \u0432\u0430\u0448\u0435\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u044e\u0442 \u044d\u0444\u0444\u0435\u043a\u0442 \u00ab\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c\u00bb, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0441\u043f\u0430\u0441\u0430\u0435\u0442 \u043e\u0442 \u043f\u043e\u0441\u0430\u0434\u043a\u0438 \u0432 \u0442\u044e\u0440\u044c\u043c\u0443. \u041d\u0435 \u0434\u0435\u0439\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u0433\u0440\u0430\u0436\u0434\u0430\u043d"},"310":{"value":"count","price":10000,"qty":10,"type":"extra","title":"\u041a\u043b\u0430\u043d\u043e\u0432\u044b\u0439 \u043e\u043f\u044b\u0442 \u043e\u0442 \u0411\u0430\u043d\u0434\u0438\u0442\u043e\u0441","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +20 \u043e\u043f\u044b\u0442\u0430 \u0432 \u043a\u043b\u0430\u043d \u0437\u0430 \u0438\u0433\u0440\u0443"},"311":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u0411\u0430\u043d\u0434\u0438\u0442\u043e\u0441","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +15 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"312":{"value":"count","price":15000,"action":"rnd","type":"extra","title":"\u0411\u043e\u043b\u044c\u0448\u043e\u0439 \u043d\u0430\u0431\u043e\u0440 \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0412\u044b \u0434\u0430\u0440\u0438\u0442\u0435 \u0441\u0435\u0431\u0435 10 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u044d\u043a\u0441\u0442\u0440 \u0438\u0437 \u043f\u0440\u043e\u0448\u043b\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u0432 \u041c\u0430\u0444\u0438\u0438. \u0413\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0430 \u043e\u0434\u043d\u0430 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0430\u044f \u044d\u043a\u0441\u0442\u0440\u0430 \u043d\u0430 \u043e\u043f\u044b\u0442 \u0438\u043b\u0438 \u0440\u0435\u0439\u0442\u0438\u043d\u0433!"},"313":{"value":"count","price":999999999,"action":"rnd","type":"extra","title":"\u0421\u0435\u0439\u0444","descr":"\u0418\u0441\u043f\u044b\u0442\u0430\u0439 \u0443\u0434\u0430\u0447\u0443, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439 \u043e\u0442\u043a\u0440\u044b\u0442\u044c \u0441\u0435\u0439\u0444! \u041e\u0442\u043a\u0440\u044b\u0432\u0448\u0435\u043c\u0443 - \u044d\u043a\u0441\u0442\u0440\u0430 \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u043a!"},"314":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u041d\u0430\u043f\u0430\u043b\u043c","descr":"\u041f\u043e\u0434\u0436\u0438\u0433\u0430\u0435\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430. \u0418\u0433\u0440\u043e\u043a\u0438 \u0441\u0433\u043e\u0440\u044f\u0442 \u0447\u0435\u0440\u0435\u0437 30 \u0441\u0435\u043a\u0443\u043d\u0434. \u0415\u0441\u0442\u044c \u0448\u0430\u043d\u0441 \u043f\u043e\u0434\u0436\u0435\u0447\u044c \u0441\u043e\u0441\u0435\u0434\u043d\u0435\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430."},"315":{"value":"count","price":999999999,"action":"reanim_j","limit":1,"type":"extra","title":"\u041e\u0442\u043c\u044b\u0447\u043a\u0438","descr":"\u041e\u0441\u0432\u043e\u0431\u043e\u0436\u0434\u0430\u044e\u0442 1 \u0440\u0430\u0437 \u0438\u0437 \u0442\u044e\u0440\u044c\u043c\u044b"},"316":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0411\u0435\u0441\u0441\u043c\u0435\u0440\u0442\u0438\u0435","descr":"\u0412\u0430\u0441 \u043d\u0435\u043b\u044c\u0437\u044f \u0443\u0431\u0438\u0442\u044c \u0434\u043e \u043a\u043e\u043d\u0446\u0430 \u043f\u0430\u0440\u0442\u0438\u0438, \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u0441\u0430\u0434\u0438\u0442\u044c \u0432 \u0442\u044e\u0440\u044c\u043c\u0443"},"317":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0422\u0430\u0440\u043e \u043e\u0442 \u0411\u0430\u043d\u0434\u0438\u0442\u043e\u0441","descr":"\u0420\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u044e\u0442 \u0440\u043e\u043b\u0438 \u0432\u0441\u0435\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0432 \u043a\u043e\u043c\u043d\u0430\u0442\u0435"},"318":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0414\u0438\u043d\u0430\u043c\u0438\u0442","descr":"\u0412\u044b \u0431\u0440\u043e\u0441\u0430\u0435\u0442\u0435 \u0434\u0438\u043d\u0430\u043c\u0438\u0442 \u0432 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430. \u041e\u0441\u0442\u043e\u0440\u043e\u0436\u043d\u043e! \u0414\u0438\u043d\u0430\u043c\u0438\u0442 \u043c\u043e\u0436\u0435\u0442 \u0432\u0437\u043e\u0440\u0432\u0430\u0442\u044c\u0441\u044f \u0432 \u043b\u044e\u0431\u043e\u0439 \u043c\u043e\u043c\u0435\u043d\u0442!"},"319":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0416\u0435\u0442\u043e\u043d \u0431\u0443\u0441\u0442\u0435\u0440","descr":"+5 \u0436\u0435\u0442\u043e\u043d\u043e\u0432 \u0430\u0440\u0435\u043d\u044b \u0437\u0430 \u043a\u0430\u0436\u0434\u0443\u044e \u0441\u044b\u0433\u0440\u0430\u043d\u043d\u0443\u044e \u0438\u0433\u0440\u0443 \u043d\u0430 \u0430\u0440\u0435\u043d\u0435"},"320":{"value":"count","price":10000,"qty":10,"type":"extra","title":"\u0412\u044b\u0431\u043e\u0440 \u0440\u043e\u043b\u0435\u0439","descr":"\u041f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0443\u0447\u0430\u0441\u0442\u0432\u043e\u0432\u0430\u0442\u044c \u0432 \u0432\u044b\u0431\u043e\u0440\u0435 \u0440\u043e\u043b\u0435\u0439 \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u043f\u0430\u0440\u0442\u0438\u0438 \u043d\u0430 \u0430\u0440\u0435\u043d\u0435"},"321":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u041a\u043b\u0435\u0432\u0435\u0440 \u0443\u0434\u0430\u0447\u0438","descr":"\u041c\u0435\u043d\u044f\u0435\u0442 \u043b\u044e\u0431\u043e\u0439 \u043d\u0435\u0433\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u044d\u0444\u0444\u0435\u043a\u0442 \u0413\u0430\u0434\u0430\u043b\u043a\u0438 \u043d\u0430 \u043f\u043e\u0437\u0438\u0442\u0438\u0432\u043d\u044b\u0439"},"322":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0428\u0430\u0440 \u0437\u0430\u043f\u0440\u0435\u0442\u0430 \u043f\u0440\u0435\u0434\u0441\u043a\u0430\u0437\u0430\u043d\u0438\u0439","descr":"\u0414\u043e \u043a\u043e\u043d\u0446\u0430 \u043f\u0430\u0440\u0442\u0438\u0438 \u0437\u0430\u043f\u0440\u0435\u0449\u0430\u0435\u0442 \u0432\u0441\u0435\u043c \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430\u043c: \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043b\u044e\u0431\u043e\u0435 \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u0435 \u0447\u0443\u0436\u043e\u0439 \u0440\u043e\u043b\u0438 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438"},"323":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u041c\u0430\u0433\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u043e\u043a\u043e\u0432\u044b","descr":"\u0414\u043e \u043a\u043e\u043d\u0446\u0430 \u043f\u0430\u0440\u0442\u0438\u0438 \u0437\u0430\u043f\u0440\u0435\u0449\u0430\u0435\u0442 \u0432\u0441\u0435\u043c \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430\u043c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u044b: \u0420\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440, \u041a\u0438\u043b\u043b\u0435\u0440, \u0421\u043d\u0430\u0439\u043f\u0435\u0440\u0441\u043a\u0430\u044f \u0432\u0438\u043d\u0442\u043e\u0432\u043a\u0430 \u0438 \u0410\u041a-47"},"324":{"value":"expire","price":999999999,"interval":"30 day","type":"extra","title":"\u0422\u0430\u0440\u043e \u0431\u0443\u0441\u0442\u0435\u0440","descr":"\u0428\u0430\u043d\u0441 \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u0430\u043c\u0438 \u0422\u0430\u0440\u043e \u0441\u043e\u0441\u0435\u0434\u043d\u044e\u044e \u0440\u043e\u043b\u044c +10%"},"325":{"value":"expire","price":999999999,"interval":"30 day","type":"extra","title":"\u041f\u043e\u0431\u0435\u0433","descr":"\u0428\u0430\u043d\u0441 \u0441\u0431\u0435\u0436\u0430\u0442\u044c \u0438\u0437 \u0442\u044e\u0440\u044c\u043c\u044b +10%"},"326":{"value":"expire","price":999999999,"interval":"30 day","type":"extra","title":"\u0422\u0440\u043e\u0439\u043d\u043e\u0439 \u0432\u044b\u0441\u0442\u0440\u0435\u043b","descr":"\u0428\u0430\u043d\u0441 \u043d\u0430 \u0442\u0440\u043e\u0439\u043d\u043e\u0439 \u0432\u044b\u0441\u0442\u0440\u0435\u043b \u0438\u0437 \u0410\u041a-47 +15%"},"327":{"value":"expire","price":999999999,"interval":"30 day","type":"extra","title":"\u0412\u0435\u0441\u043e\u043c\u044b\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442","descr":"\u0428\u0430\u043d\u0441 \u043d\u0430 \u0434\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u0440\u0438\u0433\u043e\u0432\u043e\u0440 \u0438\u043b\u0438 \u043e\u043f\u0440\u0430\u0432\u0434\u0430\u043d\u0438\u0435 +15%"},"328":{"value":"expire","price":999999999,"interval":"30 day","type":"extra","title":"\u0411\u0435\u0441\u0441\u043e\u043d\u043d\u0438\u0446\u0430","descr":"\u0428\u0430\u043d\u0441 \u043f\u0440\u043e\u0441\u043d\u0443\u0442\u044c\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u0443\u0441\u044b\u043f\u043b\u0435\u043d\u0438\u044f \u0441\u043d\u043e\u0442\u0432\u043e\u0440\u043d\u044b\u043c +25%"},"329":{"value":"count","price":5000,"action":"all","qty":10,"type":"extra","title":"\u041d\u0435\u0433\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u044d\u0444\u0444\u0435\u043a\u0442","descr":"\u0412\u044b \u0441\u0442\u0430\u0432\u0438\u0442\u0435 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0439 \u043d\u0435\u0433\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u044d\u0444\u0444\u0435\u043a\u0442 \u043d\u0430 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"},"330":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u041f\u043e\u0442\u0440\u043e\u0448\u0438\u0442\u0435\u043b\u044f","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +15 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"331":{"value":"count","price":15000,"qty":10,"type":"extra","title":"\u041c\u0435\u0433\u0430-\u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u041f\u043e\u0442\u0440\u043e\u0448\u0438\u0442\u0435\u043b\u044f","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +30 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"332":{"value":"count","price":15000,"qty":10,"type":"extra","title":"\u041c\u0435\u0433\u0430-\u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u0414\u0435\u0434\u0430 \u041c\u043e\u0440\u043e\u0437\u0430","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +30 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"333":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0421\u043c\u0435\u0440\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430","descr":"\u0417\u0430\u043c\u043e\u0440\u0430\u0436\u0438\u0432\u0430\u0435\u0442 \u043d\u0430\u0441\u043c\u0435\u0440\u0442\u044c \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0435 \u043a\u043e\u043b-\u0432\u043e \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043a\u0440\u043e\u043c\u0435 \u0432\u0430\u0441"},"334":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0421\u0443\u043f\u0435\u0440 \u0411\u043e\u0441\u0441 \u041c\u0430\u0444\u0438\u0438","descr":"\u0414\u043e \u043a\u043e\u043d\u0446\u0430 \u043f\u0430\u0440\u0442\u0438\u0438 \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u0411\u043e\u0441\u0441\u0430 \u041c\u0430\u0444\u0438\u0438: \u0432\u0430\u0448 \u043d\u043e\u0447\u043d\u043e\u0439 \u0445\u043e\u0434 \u0437\u0430\u043c\u043e\u0440\u0430\u0436\u0438\u0432\u0430\u0435\u0442 \u043d\u0430\u0441\u043c\u0435\u0440\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0438 \u0437\u0430\u043c\u043e\u0440\u0430\u0436\u0438\u0432\u0430\u0435\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430. \u0428\u0430\u043d\u0441 \u0441\u0431\u0435\u0436\u0430\u0442\u044c \u0438\u0437 \u0442\u044e\u0440\u044c\u043c\u044b \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f 75%, \u0448\u0430\u043d\u0441 \u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0438\u0442\u044c\u0441\u044f \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f 75%. \u0428\u0430\u043d\u0441\u044b \u043d\u0435 \u0441\u0443\u043c\u043c\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0442\u0430\u043b\u0430\u043d\u0442\u0430\u043c\u0438 \u0438\u043b\u0438 \u0443\u0441\u0438\u043b\u0435\u043d\u0438\u044f\u043c\u0438"},"335":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u0412\u0430\u043b\u0435\u043d\u0442\u0438\u043d\u0430","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +15 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"336":{"value":"count","price":10000,"action":"rnd","type":"extra","title":"\u041c\u0435\u0448\u043e\u043a \u0441 \u043c\u0435\u0433\u0430-\u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438","descr":"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 5 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u0438\u0432\u0435\u043d\u0442\u043e\u0432\u044b\u0445 \u044d\u043a\u0441\u0442\u0440 \u0438 \u043e\u0434\u043d\u0443 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0443\u044e \u043c\u0435\u0433\u0430-\u044d\u043a\u0441\u0442\u0440\u0443. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0441\u0442\u0440\u0443 \u0432 \u0438\u0433\u0440\u0435 \u0434\u043b\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f."},"337":{"value":"count","price":10000,"action":"rnd","type":"extra","title":"\u041c\u0435\u0448\u043e\u043a \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438 \u043d\u0430 \u0440\u0435\u0439\u0442\u0438\u043d\u0433","descr":"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 5 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u0438\u0432\u0435\u043d\u0442\u043e\u0432\u044b\u0445 \u044d\u043a\u0441\u0442\u0440 \u0438 \u043e\u0434\u043d\u0443 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u0443\u044e \u044d\u043a\u0441\u0442\u0440\u0443 \u043d\u0430 \u0440\u0435\u0439\u0442\u0438\u043d\u0433. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0430 \u044d\u043a\u0441\u0442\u0440\u0443 \u0432 \u0438\u0433\u0440\u0435 \u0434\u043b\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f."},"338":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0421\u0443\u043f\u0435\u0440 \u041c\u0430\u043d\u044c\u044f\u043a","descr":"\u0414\u043e \u043a\u043e\u043d\u0446\u0430 \u043f\u0430\u0440\u0442\u0438\u0438 \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u041c\u0430\u043d\u044c\u044f\u043a\u0430: \u0432\u0430\u0448 \u043d\u043e\u0447\u043d\u043e\u0439 \u0445\u043e\u0434 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u044b\u043c \u0438 \u043f\u0440\u043e\u0431\u0438\u0432\u043d\u044b\u043c (\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442 \u043c\u0430\u0441\u043a\u0443, \u0434\u043e\u043a\u0442\u043e\u0440\u0430 \u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430). \u0428\u0430\u043d\u0441 \u0441\u0431\u0435\u0436\u0430\u0442\u044c \u0438\u0437 \u0442\u044e\u0440\u044c\u043c\u044b \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f 75%, \u0448\u0430\u043d\u0441 \u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0438\u0442\u044c\u0441\u044f \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f 75%. \u0428\u0430\u043d\u0441\u044b \u043d\u0435 \u0441\u0443\u043c\u043c\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0442\u0430\u043b\u0430\u043d\u0442\u0430\u043c\u0438 \u0438\u043b\u0438 \u0443\u0441\u0438\u043b\u0435\u043d\u0438\u044f\u043c\u0438."},"339":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0417\u0435\u043b\u044c\u0435 \u0430\u0434\u0440\u0435\u043d\u0430\u043b\u0438\u043d\u0430","descr":"\u0412\u044b \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u0442\u0440\u0435\u043b\u044f\u0442\u044c \u0432 \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u043e\u0432. \u0421 \u043a\u0430\u0436\u0434\u044b\u043c \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u043c \u043f\u043e\u0432\u044b\u0448\u0430\u0435\u0442\u0441\u044f \u0448\u0430\u043d\u0441 \u0443\u0431\u0438\u0442\u044c \u0441\u0435\u0431\u044f"},"340":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u041f\u0435\u0441\u043e\u0447\u043d\u044b\u0435 \u0447\u0430\u0441\u044b","descr":"\u0427\u0435\u0440\u0435\u0437 4 \u0434\u043d\u044f \u043f\u043e\u0441\u043b\u0435 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f, \u0432\u0430\u0448\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043f\u043e\u0431\u0435\u0434\u0438\u0442 \u0432 \u043f\u0430\u0440\u0442\u0438\u0438"},"341":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0416\u0438\u0432\u043e\u0439 \u0449\u0438\u0442","descr":"\u0422\u0440\u0438 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u044b\u0445 \u0438\u0433\u0440\u043e\u043a\u0430 \u0441\u0442\u0430\u043d\u043e\u0432\u044f\u0442\u0441\u044f \u0436\u0438\u0432\u0438\u043c \u0449\u0438\u0442\u043e\u043c. \u041f\u0440\u0438 \u0432\u0430\u0448\u0435\u0439 \u0441\u043c\u0435\u0440\u0442\u0438 \u0442\u0430\u043a\u043e\u0439 \u0438\u0433\u0440\u043e\u043a \u0443\u043c\u0438\u0440\u0430\u0435\u0442, \u0430 \u0432\u044b \u0432\u043e\u0441\u043a\u0440\u0435\u0448\u0430\u0435\u0442\u0435\u0441\u044c"},"342":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0442\u043e\u0440\u0433\u043e\u0432\u0446\u0430","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +15 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"343":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0421\u0443\u043f\u0435\u0440 \u0414\u0432\u0443\u043b\u0438\u043a\u0438\u0439","descr":"\u0414\u043e \u043a\u043e\u043d\u0446\u0430 \u043f\u0430\u0440\u0442\u0438\u0438 \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e: \u0432\u044b \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e \u043f\u0440\u0438\u0441\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u0442\u0435\u0441\u044c \u043a \u043a\u043e\u043c\u0430\u043d\u0434\u0435 \u043c\u0430\u0444\u0438\u0438, \u0432\u0430\u0448 \u043d\u043e\u0447\u043d\u043e\u0439 \u0445\u043e\u0434 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u044b\u043c \u0438 \u043f\u0440\u043e\u0431\u0438\u0432\u043d\u044b\u043c (\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442 \u043c\u0430\u0441\u043a\u0443, \u0434\u043e\u043a\u0442\u043e\u0440\u0430 \u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430). \u0428\u0430\u043d\u0441 \u0441\u0431\u0435\u0436\u0430\u0442\u044c \u0438\u0437 \u0442\u044e\u0440\u044c\u043c\u044b \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f 75%, \u0448\u0430\u043d\u0441 \u0432\u043e\u0441\u043a\u0440\u0435\u0441\u0438\u0442\u044c\u0441\u044f \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f 75%. \u0428\u0430\u043d\u0441\u044b \u043d\u0435 \u0441\u0443\u043c\u043c\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0442\u0430\u043b\u0430\u043d\u0442\u0430\u043c\u0438 \u0438\u043b\u0438 \u0443\u0441\u0438\u043b\u0435\u043d\u0438\u044f\u043c\u0438."},"344":{"value":"count","price":5000,"qty":10,"type":"extra","title":"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u042f\u043a\u0443\u0434\u0437\u0430","descr":"\u041f\u0440\u0438\u0431\u0430\u0432\u043b\u044f\u0435\u0442 +15 \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"345":{"value":"count","price":999999999,"action":"all","limit":1,"type":"extra","title":"\u0412\u0438\u0440\u0443\u0441","descr":"\u0423\u0431\u0438\u0432\u0430\u0435\u0442 \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0447\u0435\u0440\u0435\u0437 \u0441\u0443\u0442\u043a\u0438. \u041f\u043e\u0441\u043b\u0435 \u0441\u043c\u0435\u0440\u0442\u0438 \u043f\u0435\u0440\u0435\u043a\u0438\u0434\u044b\u0432\u0430\u0435\u0442\u0441\u044f \u043d\u0430 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430, \u0438 \u0442\u0430\u043a \u0434\u0430\u043b\u0435\u0435, \u043f\u043e\u043a\u0430 \u043d\u0435 \u0431\u0443\u0434\u0443\u0442 \u0443\u0431\u0438\u0442\u044b \u0432\u0441\u0435 \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0438"},"346":{"value":"count","price":999999999,"action":"rnd","limit":1,"type":"extra","title":"\u0421\u0438\u043b\u043e\u0432\u043e\u0435 \u043f\u043e\u043b\u0435","descr":"\u0417\u0430\u0449\u0438\u0449\u0430\u0435\u0442 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u0442\u0440\u0451\u0445 \u043c\u0438\u043d\u0443\u0442 \u043e\u0442 \u043b\u044e\u0431\u044b\u0445 \u044d\u043a\u0441\u0442\u0440, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u043c\u044b\u0445 \u043d\u0430 \u0432\u0430\u0441 \u0434\u0440\u0443\u0433\u0438\u043c\u0438 \u0438\u0433\u0440\u043e\u043a\u0430\u043c\u0438"},"1004":{"cat":1,"price":1000,"interval":"12 hour","ext":"gif","type":"gift","title":"\u0421\u0443\u043f\u0435\u0440 \u0440\u043e\u0437\u0430","descr":""},"1017":{"cat":1,"price":1000,"interval":"12 hour","ext":"gif","type":"gift","title":"\u0421\u0443\u043f\u0435\u0440 \u0441\u0435\u0440\u0434\u0446\u0435","descr":""},"1018":{"cat":1,"price":1000,"interval":"12 hour","ext":"gif","type":"gift","title":"\u0421\u043e\u043b\u043d\u044b\u0448\u043a\u043e","descr":""},"1019":{"cat":1,"price":1000,"interval":"12 hour","ext":"gif","type":"gift","title":"\u041b\u044e\u0431\u043e\u0432\u044c","descr":""},"1002":{"cat":1,"price":1000,"interval":"12 hour","ext":"gif","type":"gift","title":"\u0411\u0443\u0434\u0438\u043b\u044c\u043d\u0438\u043a","descr":""},"1020":{"cat":1,"price":1000,"interval":"10 minute","ext":"png","silence":1,"type":"gift","title":"\u041c\u043e\u043b\u0447\u0430\u043d\u043a\u0430","descr":""},"1021":{"cat":1,"price":3000,"interval":"30 minute","ext":"gif","silence":2,"type":"gift","title":"\u0421\u043e\u0441\u043a\u0430","descr":""},"1071":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0411\u0438\u0442\u0430","descr":""},"1072":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u043d\u0444\u0435\u0442\u043a\u0438","descr":""},"1073":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041b\u0430\u043c\u043f\u043e\u0447\u043a\u0430","descr":""},"1074":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041c\u0430\u0448\u0438\u043d\u0430","descr":""},"1075":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041c\u0430\u0448\u0438\u043d\u0430","descr":""},"1076":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041c\u043e\u043b\u043e\u0442\u043e\u043a","descr":""},"1077":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041c\u044f\u0447","descr":""},"1078":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041f\u0438\u043d\u0433\u0432\u0438\u043d","descr":""},"1079":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041f\u0442\u0435\u043d\u0435\u0446","descr":""},"1080":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0423\u043b\u0438\u0442\u043a\u0430","descr":""},"112":{"value":"expire","price":15000,"interval":"7 day","method":"gold_profile","only":"chat","type":"extra","title":"\u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c","descr":"\u0414\u0430\u0451\u0442 \u0440\u044f\u0434 \u043f\u0440\u0435\u0438\u043c\u0443\u0449\u0435\u0441\u0442\u0432. \u041d\u0430\u0436\u043c\u0438\u0442\u0435 \u0434\u043b\u044f \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430"},"1001":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u0440\u043e\u043d\u0430","descr":""},"1003":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0427\u0451\u0440\u0442\u0438\u043a","descr":""},"1005":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041f\u0438\u0441\u0442\u043e\u043b\u0435\u0442","descr":""},"1006":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041b\u0438\u0437\u0443\u043d","descr":""},"1007":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0420\u043e\u0437\u0430","descr":""},"1008":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041f\u043e\u0446\u0435\u043b\u0443\u0439","descr":""},"1009":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041c\u0438\u0448\u043a\u0430","descr":""},"1010":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"Trollface","descr":""},"1011":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"Okay guy","descr":""},"1012":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0411\u0430\u0431\u043e\u0447\u043a\u0430","descr":""},"1013":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u0443\u0431\u043e\u043a","descr":""},"1014":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043b\u0443\u0431\u043d\u0438\u043a\u0430","descr":""},"1015":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u0448\u043a\u0430","descr":""},"1016":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0421\u0435\u0440\u0434\u0435\u0447\u043a\u043e","descr":""},"1022":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0411\u0440\u0438\u043b\u043b\u0438\u0430\u043d\u0442","descr":""},"1023":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u043e\u043b\u044c\u0446\u043e","descr":""},"1024":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u041f\u0438\u0432\u043e","descr":""},"1025":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0421\u044e\u0440\u043f\u0440\u0438\u0437","descr":""},"1026":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0421\u0435\u0440\u0434\u0435\u0447\u043a\u043e","descr":""},"1027":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0426\u0432\u0435\u0442\u043e\u043a","descr":""},"1028":{"cat":0,"price":500,"interval":"12 hour","ext":"png","type":"gift","title":"\u0428\u0430\u0440\u0438\u043a\u0438","descr":""},"999":{"cat":0,"price":325000,"interval":"12 hour","ext":"png","type":"gift","title":"\u041a\u0440\u0443\u0442\u043e\u0439 \u043f\u043e\u0434\u0430\u0440\u043e\u043a","descr":""}};
var __store_sort   = [258,259,260,266,267,284,285,286,210,211,212,213,214,215,216,217,218,219,220,221,222,224,225,227,228,229,230,231,232,233,501,101,107,502,104,503,102,154,504,103,153,505,109,155,111,156,110,157,106,171,108,158,105,170,159,161,114,115,160,113,117,162,164,165,166,167,168,169,116,163,180,226,181,182,183,184,185,186,187,2225,2226,2227,2222,2223,2224,2220,2221,2217,2218,2219,2213,2214,2215,2216,2209,2210,2211,2212,1112,1113,1114,1115,1116,1117,1118,1081,1082,1083,1084,1085,1086,1087,2101,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1029,1036,1050,1057,1064,2103,1088,1030,1037,1051,1058,1065,1089,1031,1038,1052,1059,1066,2104,1090,1032,1039,1053,1060,1067,2108,1091,1033,1040,1054,1061,1068,2111,1092,2205,1034,1041,1055,1062,1069,2106,1093,2206,1035,1042,1056,1063,1070,2102,1094,2207,1043,2105,2208,1044,2107,1045,2109,1046,2110,1047,2112,1048,2113,1049,2114,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,137,138,139,140,141,142,143,144,145,192,193,194,195,196,197,198,200,2201,201,2202,202,2203,203,2204,204,205,206,207,208,209,223,188,189,190,238,191,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,261,262,263,264,265,268,269,270,271,272,273,274,275,276,277,278,279,280,281,282,283,287,288,289,290,291,292,293,294,295,296,297,298,299,136,301,302,303,304,305,306,307,308,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,1004,1017,1018,1019,1002,1020,1021,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080,112,1001,1003,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1022,1023,1024,1025,1026,1027,1028,999];
var __ach          = {"1":{"limits":"5,15,50,100","points":"5,25,50,75","flag":"0","title":"\u0420\u0430\u0446\u0438\u044f","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0440\u0430\u0446\u0438\u044e %s \u0440\u0430\u0437"},"2":{"limits":"3,10,25,50","points":"5,25,50,75","flag":"0","title":"\u0414\u0432\u043e\u0439\u043d\u043e\u0439 \u0433\u043e\u043b\u043e\u0441","text":"\u041f\u043e\u0441\u0430\u0434\u0438\u0442\u044c %s \u043c\u0430\u0444\u0438\u043e\u0437\u0438, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0434\u0432\u043e\u0439\u043d\u043e\u0439 \u0433\u043e\u043b\u043e\u0441"},"3":{"limits":"1,5,15,30","points":"5,25,50,75","flag":"0","title":"\u0414\u0432\u043e\u0439\u043d\u043e\u0439 \u0433\u043e\u043b\u043e\u0441","text":"\u041f\u043e\u0441\u0430\u0434\u0438\u0442\u044c %s \u043c\u0430\u043d\u044c\u044f\u043a[\u043e\u0432,\u0430,\u043e\u0432], \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0434\u0432\u043e\u0439\u043d\u043e\u0439 \u0433\u043e\u043b\u043e\u0441"},"4":{"limits":"3,10,25,50","points":"5,25,50,75","flag":"0","title":"\u041c\u0438\u043d\u0430","text":"\u041f\u043e\u0434\u043e\u0440\u0432\u0430\u0442\u044c \u043d\u0430 \u043c\u0438\u043d\u0435 %s \u043c\u0430\u0444\u0438\u043e\u0437\u0438"},"5":{"limits":"3,10,25,50","points":"5,25,50,75","flag":"0","title":"\u041c\u0438\u043d\u0430","text":"\u041f\u043e\u0434\u043e\u0440\u0432\u0430\u0442\u044c \u043d\u0430 \u043c\u0438\u043d\u0435 %s \u043c\u0430\u043d\u044c\u044f\u043a\u043e\u0432"},"6":{"limits":"5,15,50,100","points":"5,25,50,75","flag":"0","title":"\u0414\u0435\u0442\u0435\u043a\u0442\u043e\u0440 \u043b\u0436\u0438","text":"\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u044c %s \u0440\u043e\u043b\u0435\u0439, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440 \u043b\u0436\u0438"},"7":{"limits":"1,3,10,20","points":"5,25,50,75","flag":"0","title":"\u0414\u0435\u0442\u0435\u043a\u0442\u043e\u0440 \u043b\u0436\u0438","text":"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c %s \u0431\u043e\u0441\u0441[\u043e\u0432,\u0430,\u043e\u0432] \u043c\u0430\u0444\u0438\u0438, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0434\u0435\u0442\u0435\u043a\u0442\u043e\u0440 \u043b\u0436\u0438"},"8":{"limits":"5,15,50,100","points":"5,25,50,75","flag":"0","title":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0441\u043b\u043e\u0432\u043e","text":"\u0412\u044b\u0441\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f %s \u0440\u0430\u0437 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0433\u043e \u0441\u043b\u043e\u0432\u0430"},"9":{"limits":"1,3,10,30","points":"5,25,50,75","flag":"0","title":"\u0416\u0443\u0447\u043e\u043a","text":"\u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u0442\u044c %s \u043c\u0430\u043d\u044c\u044f\u043a[\u043e\u0432,\u0430,\u0430] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0436\u0443\u0447\u043a\u0430"},"10":{"limits":"3,10,25,50","points":"5,25,50,75","flag":"0","title":"\u0416\u0443\u0447\u043e\u043a","text":"\u041e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u0442\u044c %s \u0431\u043e\u0441\u0441[\u043e\u0432,\u0430,\u043e\u0432] \u043c\u0430\u0444\u0438\u0438 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0436\u0443\u0447\u043a\u0430"},"11":{"limits":"3,10,25,50","points":"5,25,50,75","flag":"0","title":"\u041c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0430","text":"\u0417\u0430\u043c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f %s \u0440\u0430\u0437[,,\u0430]"},"12":{"limits":"3,10,25,50","points":"5,25,50,75","flag":"0","title":"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c","text":"\u0421\u043f\u0430\u0441\u0442\u0438\u0441\u044c %s \u0440\u0430\u0437[,,\u0430] \u043e\u0442 \u0442\u044e\u0440\u044c\u043c\u044b \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044f"},"13":{"limits":"1,3,10,20","points":"5,25,50,75","flag":"0","title":"\u041f\u0430\u0441\u043f\u043e\u0440\u0442","text":"\u0417\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f %s \u0440\u0430\u0437[,,\u0430] \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043e\u043c, \u0431\u0443\u0434\u0443\u0447\u0438 \u043c\u0430\u043d\u044c\u044f\u043a\u043e\u043c"},"14":{"limits":"1,5,15,30","points":"5,25,50,75","flag":"0","title":"\u041f\u0430\u0441\u043f\u043e\u0440\u0442","text":"\u0417\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f %s \u0440\u0430\u0437[,,\u0430] \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043e\u043c, \u0431\u0443\u0434\u0443\u0447\u0438 \u043c\u0430\u0444\u0438\u043e\u0437\u0438"},"15":{"limits":"5,15,50,100","points":"5,25,50,75","flag":"0","title":"\u041c\u0438\u043d\u043e\u0438\u0441\u043a\u0430\u0442\u0435\u043b\u044c","text":"\u0421\u043f\u0430\u0441\u0442\u0438\u0441\u044c \u043e\u0442 %s \u043c\u0438\u043d \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u043c\u0438\u043d\u043e\u0438\u0441\u043a\u0430\u0442\u0435\u043b\u044f"},"16":{"limits":"3,10,25,50","points":"5,25,50,75","flag":"0","title":"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0440\u043e\u043b\u044c","text":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c %s \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0440\u043e\u043b[\u0435\u0439,\u044c,\u0438] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0440\u043e\u043b\u044c\""},"17":{"limits":"1,3,5,15","points":"5,25,50,75","flag":"0","title":"\u0420\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440","text":"\u0423\u0431\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432] \u0438\u0437 \u0440\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440\u0430"},"18":{"limits":"1,3,10,30,50","points":"25,100,250,300,500","flag":"0","title":"\u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u041f\u0440\u043e\u0444\u0438\u043b\u044c","text":"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u0437\u043e\u043b\u043e\u0442\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c %s \u0440\u0430\u0437[,,\u0430]"},"19":{"limits":"1500,5000,25000,75000,325000","points":"25,100,250,300,500","flag":"0","title":"\u041c\u043e\u043d\u0435\u0442\u044b","text":"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c %s \u043c\u043e\u043d\u0435\u0442 \u0447\u0435\u0440\u0435\u0437 \u0441\u043e\u0446. \u0441\u0435\u0442\u044c"},"22":{"limits":"5,15,50,150,200","points":"5,25,50,75,100","flag":"0","title":"\u0411\u043e\u0441\u0441","text":"\u0421\u0432\u0435\u0440\u0433\u043d\u0443\u0442\u044c %s \u0431\u043e\u0441\u0441\u043e\u0432"},"23":{"limits":"1000,5000,15000,50000,75000","points":"5,25,50,75,100","flag":"1","title":"\u0411\u043e\u0441\u0441","text":"\u041f\u0435\u0440\u0435\u0431\u0438\u0442\u044c \u0441\u0442\u0430\u0432\u043a\u0443 \u0432 %s \u043c\u043e\u043d\u0435\u0442"},"24":{"limits":"5,15,60,120,240","points":"5,25,50,75,100","flag":"1","title":"\u0411\u043e\u0441\u0441","text":"\u041f\u0440\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c\u0441\u044f \u0431\u043e\u0441\u0441\u043e\u043c %s \u043c\u0438\u043d\u0443\u0442"},"25":{"limits":"10,50,100,200,500","points":"5,25,50,75,100","flag":"0","title":"\u041f\u043e\u0434\u0430\u0440\u043a\u0438","text":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c %s \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432"},"26":{"limits":"3,5,10,20","points":"5,25,50,75","flag":"0","title":"\u0414\u0440\u0443\u0437\u044c\u044f","text":"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0434\u0440\u0443\u0437\u0435\u0439 \u0432 \u041c\u0430\u0444\u0438\u0438: %s"},"28":{"limits":"1,10,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u041f\u0440\u0430\u0432\u043e\u0441\u0443\u0434\u0438\u0435","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0433\u0440\u0430\u0436\u0434\u0430\u043d, \u043f\u043e\u0441\u0430\u0434\u0438\u0442\u044c \u043c\u0430\u043d\u044c\u044f\u043a\u0430 %s \u0440\u0430\u0437 \u0432 \u043f\u0435\u0440\u0432\u044b\u0439 \u0434\u0435\u043d\u044c \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f"},"30":{"limits":"1,24,100,200,500","points":"5,25,50,75,100","flag":"1","title":"\u041e\u043f\u044b\u0442\u043d\u044b\u0439 \u0438\u0433\u0440\u043e\u043a","text":"\u041d\u0430\u0431\u0440\u0430\u0442\u044c %s \u0447\u0430\u0441[\u043e\u0432,,\u0430] \u0438\u0433\u0440\u043e\u0432\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438"},"31":{"limits":"5,15,50,100,300","points":"5,25,50,75,100","flag":"0","title":"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430"},"32":{"limits":"5,15,50,100,300","points":"5,25,50,75,100","flag":"0","title":"\u041c\u0430\u0444\u0438\u043e\u0437\u0438","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u043c\u0430\u0444\u0438\u043e\u0437\u0438"},"33":{"limits":"5,15,50,100,250","points":"5,25,50,75,100","flag":"0","title":"\u0414\u043e\u043a\u0442\u043e\u0440","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u0434\u043e\u043a\u0442\u043e\u0440\u0430"},"34":{"limits":"5,15,50,100,200","points":"5,25,50,75,100","flag":"0","title":"\u041c\u0430\u043d\u044c\u044f\u043a","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u043c\u0430\u043d\u044c\u044f\u043a\u0430"},"35":{"limits":"5,15,50,100,250","points":"5,25,50,75,100","flag":"0","title":"\u041a\u043e\u043c\u0438\u0441\u0441\u0430\u0440","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430"},"36":{"limits":"5,15,50,100,150","points":"5,25,50,75,100","flag":"0","title":"\u0421\u043c\u0435\u0440\u0442\u043d\u0438\u043a","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u0441\u043c\u0435\u0440\u0442\u043d\u0438\u043a\u0430"},"37":{"limits":"5,10,25,50,200","points":"5,25,50,75,100","flag":"0","title":"\u0411\u043e\u0441\u0441 \u043c\u0430\u0444\u0438\u0438","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u0431\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438"},"38":{"limits":"5,10,25,50,200","points":"5,25,50,75,100","flag":"0","title":"\u0412\u043e\u0440\/\u0421\u0442\u0435\u0440\u0432\u0430","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u0432\u043e\u0440\u0430\/\u0441\u0442\u0435\u0440\u0432\u0443"},"39":{"limits":"5,10,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u041c\u0435\u0434\u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u043c\u0435\u0434\u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0430"},"40":{"limits":"5,10,25,50,200","points":"5,25,50,75,100","flag":"0","title":"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044f"},"41":{"limits":"1,5,25,50,150","points":"5,25,50,75,100","flag":"0","title":"\u0418\u0437\u0432\u043e\u0440\u043e\u0442\u043b\u0438\u0432\u044b\u0439 \u043c\u0430\u0444\u0438\u043e\u0437\u0438","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043c\u0430\u0444\u0438\u043e\u0437\u0438, \u0431\u044b\u0442\u044c \u043e\u043f\u0440\u0430\u0432\u0434\u0430\u043d\u043d\u044b\u043c \u043d\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0438 %s \u0440\u0430\u0437"},"42":{"limits":"1,5,25,50,150","points":"5,25,50,75,100","flag":"0","title":"\u041e\u0445\u043e\u0442\u0430 \u043d\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043c\u0430\u0444\u0438\u043e\u0437\u0438, \u0443\u0431\u0438\u0442\u044c \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430 \u0432 \u043f\u0435\u0440\u0432\u0443\u044e \u0430\u043a\u0442\u0438\u0432\u043d\u0443\u044e \u043d\u043e\u0447\u044c %s \u0440\u0430\u0437"},"43":{"limits":"1,5,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043c\u0430\u0444\u0438\u043e\u0437\u0438, \u0443\u0431\u0438\u0442\u044c \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u043c %s \u0440\u0430\u0437"},"44":{"limits":"1,5,25,50,150","points":"5,25,50,75,100","flag":"0","title":"\u0418\u0437\u0432\u043e\u0440\u043e\u0442\u043b\u0438\u0432\u044b\u0439 \u043c\u0430\u043d\u044c\u044f\u043a","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043c\u0430\u043d\u044c\u044f\u043a\u0430, \u0431\u044b\u0442\u044c \u043e\u043f\u0440\u0430\u0432\u0434\u0430\u043d\u043d\u044b\u043c \u043d\u0430 \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0438 %s \u0440\u0430\u0437"},"45":{"limits":"1,2,3,4","points":"5,25,50,75","flag":"0","title":"\u0416\u0435\u0441\u0442\u043e\u043a\u0438\u0439 \u043c\u0430\u043d\u044c\u044f\u043a","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043c\u0430\u043d\u044c\u044f\u043a\u0430, \u0443\u0431\u0438\u0442\u044c %s \u043c\u0430\u0444\u0438\u043e\u0437\u0438 \u0437\u0430 \u043e\u0434\u043d\u0443 \u0438\u0433\u0440\u0443"},"46":{"limits":"10,50,250,500,1000","points":"5,25,50,75,100","flag":"0","title":"\u0421\u043f\u0440\u0430\u0432\u0435\u0434\u043b\u0438\u0432\u044b\u0439 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430, \u043e\u0441\u0443\u0434\u0438\u0442\u044c \u043c\u0430\u0444\u0438\u043e\u0437\u0438 \u0438\u043b\u0438 \u043c\u0430\u043d\u044c\u044f\u043a\u0430 %s \u0440\u0430\u0437"},"47":{"limits":"5,15,50,100,250","points":"5,25,50,75,100","flag":"0","title":"\u0411\u043e\u043b\u0442\u0443\u043d","text":"\u0412 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 %s \u0438\u0433\u0440 \u043f\u043e\u0434\u0440\u044f\u0434 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \"\u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043c\u043e\u043b\u0447\u0438\u0442\u201d"},"48":{"limits":"3,15,50,100,200","points":"5,25,50,75,100","flag":"0","title":"\u0416\u0435\u0440\u0442\u0432\u0430","text":"\u041e\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f \u043f\u0435\u0440\u0432\u043e\u0439 \u0436\u0435\u0440\u0442\u0432\u043e\u0439 \u043c\u0430\u043d\u044c\u044f\u043a\u0430 %s \u0440\u0430\u0437[,,\u0430]"},"49":{"limits":"1,10,25,50,150","points":"5,25,50,75,100","flag":"0","title":"\u0411\u043e\u043b\u044c\u0448\u043e\u0439 \u043a\u0443\u0448","text":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c %s \u0440\u0430\u0437 \u0432 \u0438\u0433\u0440\u0435 \u0441\u043e \u0441\u0442\u0430\u0432\u043a\u043e\u0439 200 \u0438 \u0432\u044b\u0448\u0435"},"50":{"limits":"5000,15000,50000,150000,325000","points":"5,25,50,75,100","flag":"0","title":"\u0422\u0440\u0430\u043d\u0436\u0438\u0440\u0430","text":"\u041f\u043e\u0442\u0440\u0430\u0442\u0438\u0442\u044c %s \u041c\u043e\u043d\u0435\u0442"},"51":{"limits":"2,3,4,5","points":"5,25,50,75","flag":"0","title":"\u041e\u0442\u043b\u0438\u0447\u043d\u044b\u0439 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c %s \u0440\u0430\u0437\u043d\u044b\u0445 \u043c\u0430\u0444\u0438\u043e\u0437\u0438 \u0437\u0430 \u043e\u0434\u043d\u0443 \u0438\u0433\u0440\u0443"},"52":{"limits":"3,5,7,10,30","points":"5,25,50,75,100","flag":"0","title":"\u0410\u043a\u0442\u0438\u0432\u043d\u0430\u044f \u0440\u043e\u043b\u044c","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u043f\u043e\u0434\u0440\u044f\u0434 \u0441 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u0440\u043e\u043b\u044c\u044e"},"53":{"limits":"2,3,4,5","points":"5,25,50,75","flag":"0","title":"\u041b\u0443\u0447\u0448\u0438\u0439 \u0434\u043e\u043a\u0442\u043e\u0440","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0434\u043e\u043a\u0442\u043e\u0440\u0430, \u0441\u043f\u0430\u0441\u0442\u0438 %s \u0433\u0440\u0430\u0436\u0434\u0430\u043d[,,\u0438\u043d\u0430] \u0437\u0430 \u043e\u0434\u043d\u0443 \u0438\u0433\u0440\u0443"},"54":{"limits":"10,25,50,100,150","points":"5,25,50,75,100","flag":"0","title":"\u0413\u0435\u043d\u0438\u0430\u043b\u044c\u043d\u044b\u0439 \u0434\u043e\u043a\u0442\u043e\u0440","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0434\u043e\u043a\u0442\u043e\u0440\u0430, \u0441\u043f\u0430\u0441\u0442\u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430 \u043e\u0442 \u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430 %s \u0440\u0430\u0437"},"55":{"limits":"50,100,250,500,1000","points":"5,25,50,75,100","flag":"0","title":"\u0413\u0440\u043e\u0437\u043d\u044b\u0439 \u043c\u0430\u0444\u0438\u043e\u0437\u0438","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043c\u0430\u0444\u0438\u043e\u0437\u0438, \u0443\u0431\u0438\u0442\u044c %s \u0433\u0440\u0430\u0436\u0434\u0430\u043d"},"57":{"limits":"5,15,50,100,250","points":"5,25,50,75,100","flag":"0","title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 %s \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0440\u043e\u043b\u0435\u0439"},"58":{"limits":"100,1000,3000,5000,10000","points":"5,25,50,75,100","flag":"1","title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0430\u0443\u043a\u0446\u0438\u043e\u043d \u0441\u043e \u0441\u0442\u0430\u0432\u043a\u043e\u0439 %s \u043c\u043e\u043d\u0435\u0442"},"59":{"limits":"1,10,25,75,200","points":"25,100,250,300,500","flag":"0","title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0430\u0443\u043a\u0446\u0438\u043e\u043d \u0434\u043e\u0441\u0440\u043e\u0447\u043d\u043e %s \u0440\u0430\u0437"},"60":{"limits":"1,5,15,30,60","points":"5,25,50,75,100","flag":"0","title":"\u041f\u043e\u0440\u0430\u0436\u0435\u043d\u044b \u0442\u0432\u043e\u0435\u0439 \u043d\u0435\u0443\u0434\u0430\u0447\u0435\u0439","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0432 \u0440\u043e\u043b\u044c \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435, \u0441\u0442\u0430\u0442\u044c \u043f\u0435\u0440\u0432\u043e\u0439 \u0436\u0435\u0440\u0442\u0432\u043e\u0439 \u043c\u0430\u043d\u044c\u044f\u043a\u0430 \u0438\u043b\u0438 \u043c\u0430\u0444\u0438\u043e\u0437\u0438 %s \u0440\u0430\u0437"},"62":{"limits":"3,10,25,75,150","points":"5,25,50,75,100","flag":"0","title":"\u0410\u043d\u0442\u0438\u0444\u0440\u0438\u0437","text":"\u0421\u043f\u0430\u0441\u0442\u0438\u0441\u044c \u043e\u0442 \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0438 %s \u0440\u0430\u0437[,,\u0430] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0430\u043d\u0442\u0438\u0444\u0440\u0438\u0437\u0430"},"63":{"limits":"10,25,100,300,500","points":"5,25,50,75,100","flag":"0","title":"\u0411\u0443\u0434\u0438\u043b\u044c\u043d\u0438\u043a","text":"\u0420\u0430\u0437\u0431\u0443\u0434\u0438\u0442\u044c \u0431\u0443\u0434\u0438\u043b\u044c\u043d\u0438\u043a\u043e\u043c %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},"64":{"limits":"3,10,25,75,150","points":"5,25,50,75,100","flag":"0","title":"\u0418\u0441\u043f\u043e\u0432\u0435\u0434\u044c","text":"\u0418\u0441\u043f\u043e\u0432\u0435\u0434\u0430\u0442\u044c\u0441\u044f \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u043a\u0443 %s \u0440\u0430\u0437[,,\u0430]"},"65":{"limits":"3,10,25,75,150","points":"5,25,50,75,100","flag":"0","title":"\u041a\u0430\u0440\u0442\u044b \u0442\u0430\u0440\u043e","text":"\u0412\u0441\u043a\u0440\u044b\u0442\u044c \u0440\u043e\u043b\u044c \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u043a\u0430\u0440\u0442\u0430\u043c\u0438 \u0442\u0430\u0440\u043e %s \u0440\u0430\u0437[,,\u0430]"},"66":{"limits":"5,15,50,150,300","points":"5,25,50,75,100","flag":"0","title":"\u0411\u044e\u0440\u043e\u043a\u0440\u0430\u0442","text":"\u041b\u0438\u0448\u0438\u0442\u044c \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u0433\u043e\u043b\u043e\u0441\u0430 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0431\u044e\u0440\u043e\u043a\u0440\u0430\u0442\u0430 %s \u0440\u0430\u0437"},"67":{"limits":"1,3,10,30,75","points":"5,25,50,75,100","flag":"0","title":"\u0411\u0440\u043e\u043d\u0435\u0436\u0438\u043b\u0435\u0442","text":"\u0421\u043f\u0430\u0441\u0442\u0438\u0441\u044c \u043e\u0442 \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u043e\u0432 \u0438\u0437 \u0440\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440\u0430 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0431\u0440\u043e\u043d\u0435\u0436\u0438\u043b\u0435\u0442\u0430 %s \u0440\u0430\u0437[,,\u0430]"},"68":{"limits":"1,5,15,45,100","points":"5,25,50,75,100","flag":"0","title":"\u0410\u041a-47","text":"\u0420\u0430\u0441\u0441\u0442\u0440\u0435\u043b\u044f\u0442\u044c \u0441\u0430\u043c\u043e\u0433\u043e \u0441\u0435\u0431\u044f \u0438\u0437 \u0410\u041a-47 %s \u0440\u0430\u0437"},"69":{"limits":"3,10,30,50,150","points":"5,25,50,75,100","flag":"0","title":"\u041b\u0435\u0432\u0435\u043b \u0430\u043f","text":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c %s \u0443\u0440\u043e\u0432\u0435\u043d\u044c"},"70":{"limits":"1,10,25,75,150","points":"25,100,250,300,500","flag":"0","title":"\u0421\u0440\u044b\u0432\u0430\u0435\u043c \u043f\u043e\u043a\u0440\u043e\u0432\u044b","text":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c %s \u043f\u0440\u043e\u0444\u0438\u043b[\u0435\u0439,\u044c,\u043b\u044f] \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0432 \u0441\u043e\u0446 \u0441\u0435\u0442\u0438"},"71":{"limits":"25,100,150,200","points":"5,25,50,75","flag":"1","title":"\u0423\u043b\u044b\u0431\u0430\u0439\u0442\u0435\u0441\u044c","text":"\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u043a\u043e\u043b\u043b\u0435\u043a\u0446\u0438\u044e \u0438\u0437 %s \u0434\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0445 \u0441\u043c\u0430\u0439\u043b\u0438\u043a\u043e\u0432"},"74":{"limits":"3,15,60,120,240","points":"5,25,50,75,100","flag":"1","title":"\u041a\u0440\u0435\u043f\u043a\u0438\u0439 \u0431\u0440\u0430\u043a","text":"\u0411\u044b\u0442\u044c \u0432 \u0431\u0440\u0430\u043a\u0435 %s \u0434[\u043d\u0435\u0439,\u0435\u043d\u044c,\u043d\u044f]"},"75":{"limits":"10,50,100,200,400","points":"5,25,50,75,100","flag":"0","title":"\u0412\u0442\u043e\u0440\u0430\u044f \u043f\u043e\u043b\u043e\u0432\u0438\u043d\u043a\u0430","text":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0441\u0443\u043f\u0440\u0443\u0433\u0443\/\u0441\u0443\u043f\u0440\u0443\u0433\u0435 %s \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432"},"80":{"limits":"5,15,50,100,200","points":"5,25,50,75,100","flag":"0","title":"\u0411\u043e\u043a\u0441\u0451\u0440\u0441\u043a\u0438\u0435 \u043f\u0435\u0440\u0447\u0430\u0442\u043a\u0438","text":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0432 \u0434\u0440\u0430\u043a\u0435 %s \u0440\u0430\u0437, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u044f \u0431\u043e\u043a\u0441\u0451\u0440\u0441\u043a\u0438\u0435 \u043f\u0435\u0440\u0447\u0430\u0442\u043a\u0438"},"101":{"limits":"1500,5000,25000,75000","points":"25,100,250,300","flag":"0","title":"\u041c\u043e\u043d\u0435\u0442\u044b BestMafia","text":"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c %s \u043c\u043e\u043d\u0435\u0442 \u0447\u0435\u0440\u0435\u0437 \u043d\u0430\u0448 \u0441\u0430\u0439\u0442 www.bestmafia.com"},"102":{"limits":"10,50,150,300,1000","points":"5,25,50,75,100","flag":"0","title":"\u0418\u0433\u0440\u043e\u043a BestMafia","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0447\u0435\u0440\u0435\u0437 \u043d\u0430\u0448 \u0441\u0430\u0439\u0442 www.bestmafia.com"},"103":{"limits":"5,15,50,100,200","points":"5,25,50,75,100","flag":"0","title":"\u041f\u0441\u0438\u0445\u043e\u0437","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u041f\u0441\u0438\u0445\u043e\u0437 %s \u0440\u0430\u0437"},"104":{"limits":"3,10,25,75,150","points":"5,25,50,75,100","flag":"0","title":"\u0421\u043d\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0435","text":"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044c %s \u043d\u043e\u0447[\u0435\u0439,\u044c,\u0438] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0441\u043d\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0433\u043e"},"117":{"limits":"25,100,500,1000,5000","points":"5,25,50,75,100","flag":"0","title":"\u041e\u043f\u044b\u0442 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u043f\u0440\u0438\u043d\u0435\u0441\u0442\u0438 \u0432 \u043a\u043b\u0430\u043d %s \u043e\u043f\u044b\u0442\u0430"},"119":{"limits":"15,50,150,300,500","points":"5,25,50,75,100","flag":"0","title":"\u041c\u0430\u0441\u043a\u0438 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0441\u043e\u0440\u0432\u0430\u0442\u044c %s \u043c\u0430\u0441\u043e\u043a \u0441 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},"120":{"limits":"5,15,50,100,300","points":"5,25,50,75,100","flag":"0","title":"\u0420\u043e\u043b\u0438 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0440\u043e\u043b\u0435\u0439 \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435"},"121":{"limits":"5,15,30,60,100","points":"5,25,50,75,100","flag":"0","title":"\u0411\u043e\u0441\u0441\u044b \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0443\u0431\u0438\u0442\u044c %s \u0431\u043e\u0441\u0441\u043e\u0432 \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435"},"122":{"limits":"3000,50000,150000,325000,500000","points":"25,100,250,300,500","flag":"0","title":"\u0417\u0430\u043a\u0430\u0437 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0437\u0430\u043a\u0430\u0437\u0430\u0442\u044c %s \u043c\u043e\u043d\u0435\u0442 \u0447\u0435\u0440\u0435\u0437 \u043d\u0430\u0448 \u0441\u0430\u0439\u0442 bestmafia.com"},"123":{"limits":"3,10,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u0420\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0443\u0431\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0438\u0437 \u0440\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440\u0430"},"124":{"limits":"10,50,100,200,500","points":"5,25,50,75,100","flag":"0","title":"\u041f\u043e\u0434\u0430\u0440\u043a\u0438 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c %s \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432"},"125":{"limits":"5,15,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u0410\u041a-47 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0437\u0430\u0441\u0442\u0440\u0435\u043b\u0438\u0442\u044c \u043b\u044e\u0431\u044b\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0438\u0437 \u0410\u041a-47 %s \u0440\u0430\u0437"},"127":{"limits":"2,4,10,20,30","points":"5,25,50,75,100","flag":"0","title":"\u0422\u0432\u043e\u0439 \u043a\u043b\u0430\u043d \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c \u0437\u0430 \u043e\u0434\u0438\u043d \u043a\u043b\u0430\u043d \u0432 %s \u0434\u0443\u044d\u043b\u044f\u0445, \u043d\u0435 \u043f\u043e\u043a\u0438\u0434\u0430\u044f \u043a\u043b\u0430\u043d"},"129":{"limits":"5,15,50,100,300","points":"5,25,50,75,100","flag":"0","title":"\u0413\u0430\u0434\u0430\u043d\u0438\u0435 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c %s \u0440\u043e\u043b\u0435\u0439 \u043a\u0430\u0440\u0442\u0430\u043c\u0438 \u0442\u0430\u0440\u043e"},"146":{"limits":"3,10,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u041c\u0435\u0433\u0430-\u043f\u043e\u0434\u0430\u0440\u043a\u0438","text":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c %s \u043c\u0435\u0433\u0430-\u043f\u043e\u0434\u0430\u0440[\u043a\u043e\u0432,\u043e\u043a,\u043a\u0430]"},"147":{"limits":"3,10,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u0420\u044f\u0434 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432","text":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c %s \u0440\u044f\u0434[\u043e\u0432,,\u0430] \u0438\u0437 \u043b\u044e\u0431\u044b\u0445 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432"},"148":{"limits":"10,50,300,1000,2500","points":"25,100,250,300,500","flag":"0","title":"\u0420\u0443\u0431\u0438\u043d\u044b","text":"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c %s \u0440\u0443\u0431\u0438\u043d\u043e\u0432 (\u0442\u043e\u043b\u044c\u043a\u043e \u0447\u0435\u0440\u0435\u0437 Bestmafia.com)"},"161":{"limits":"5,25,75,150,200","points":"5,25,50,75,100","flag":"0","title":"\u041a\u0438\u043b\u043b\u0435\u0440","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u041a\u0438\u043b\u043b\u0435\u0440 \u043d\u0430 %s \u0438\u0433\u0440\u043e\u043a\u0430\u0445"},"162":{"limits":"50,150,500,1000,2000","points":"5,25,50,75,100","flag":"0","title":"\u0421\u043d\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0435 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0443\u0441\u044b\u043f\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},"163":{"limits":"3,10,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u041c\u0435\u0433\u0430-\u043f\u043e\u0434\u0430\u0440\u043a\u0438 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c %s \u043c\u0435\u0433\u0430-\u043f\u043e\u0434\u0430\u0440[\u043a\u043e\u0432,\u043e\u043a,\u043a\u0430]"},"164":{"limits":"3,10,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u0420\u044f\u0434 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c %s \u0440\u044f\u0434[\u043e\u0432,,\u0430] \u0438\u0437 \u043b\u044e\u0431\u044b\u0445 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432"},"165":{"limits":"5,15,50,100,150","points":"5,25,50,75,100","flag":"0","title":"\u041f\u043e\u0431\u0435\u0434\u044b \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u043d\u0430 20 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},"166":{"limits":"5,25,75,150,300","points":"5,25,50,75,100","flag":"0","title":"\u0416\u0443\u0447\u043a\u0438 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c %s \u0436\u0443\u0447\u043a\u043e\u0432 \u0434\u0440\u0443\u0433\u0438\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c \u0441 \u0436\u0443\u0447\u043a\u0430\u043c\u0438"},"168":{"limits":"5,15,50,100,200","points":"5,25,50,75,100","flag":"0","title":"\u0421\u0432\u044f\u0449\u0435\u043d\u043d\u0438\u043a","text":"\u041f\u0440\u0438\u043d\u044f\u0442\u044c %s \u0438\u0441\u043f\u043e\u0432\u0435\u0434\u0435\u0439"},"169":{"limits":"10,25,50,100,150","points":"5,25,50,75,100","flag":"0","title":"\u041e\u043f\u044b\u0442\u043d\u044b\u0439 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044f, \u0443\u0432\u0438\u0434\u0435\u0442\u044c \u043d\u0430 \u043c\u0435\u0441\u0442\u0435 \u043f\u0440\u0435\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f \u043c\u0430\u0444\u0438\u044e \u0438\u043b\u0438 \u043c\u0430\u043d\u044c\u044f\u043a\u0430 %s \u0440\u0430\u0437"},"171":{"limits":"10,25,50,150,300","points":"5,25,50,75,100","flag":"0","title":"\u0420\u0430\u0441\u043f\u0440\u043e\u0434\u0430\u0436\u0430!","text":"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c %s \u043b\u044e\u0431\u044b\u0445 \u044d\u043a\u0441\u0442\u0440 \u0441\u043e \u0441\u043a\u0438\u0434\u043a\u043e\u0439"},"172":{"limits":"3,10,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u0427\u0443\u043f\u0430-\u0427\u0443\u043f\u0441","text":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c %s \u0441\u043e\u0441[\u043e\u043a,\u043a\u0443,\u043a\u0438] \u043b\u044e\u0431\u044b\u043c \u0438\u0433\u0440\u043e\u043a\u0430\u043c"},"173":{"limits":"25,100,500,1000,2000","points":"5,25,50,75,100","flag":"0","title":"\u041b\u043e\u044f\u043b\u044c\u043d\u043e\u0441\u0442\u044c","text":"\u041f\u0440\u0438\u043d\u0435\u0441\u0442\u0438 %s \u043e\u043f\u044b\u0442\u0430, \u0438\u0433\u0440\u0430\u044f \u0437\u0430 \u043e\u0434\u0438\u043d \u043a\u043b\u0430\u043d"},"174":{"limits":"100,500,1500,5000,10000","points":"5,25,50,75,100","flag":"0","title":"\u0414\u0435\u043b\u043e \u0432\u0441\u0435\u0439 \u0436\u0438\u0437\u043d\u0438","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0441\u043c\u0435\u0440\u0442\u043d\u0438\u043a\u0430, \u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u043c\u043e\u043d\u0435\u0442"},"175":{"limits":"3,5,10,20,40","points":"5,25,50,75,100","flag":"0","title":"\u0421\u0443\u043f\u0435\u0440\u043c\u0435\u043d","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0430,\u044b] \u043f\u043e\u0434\u0440\u044f\u0434 \u0431\u0435\u0437 \u0441\u043c\u0435\u0440\u0442\u0435\u0439"},"176":{"limits":"10,25,50,100,150","points":"5,25,50,75,100","flag":"0","title":"\u041a\u0430\u0440\u044c\u0435\u0440\u0438\u0441\u0442","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043c\u0435\u0434\u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0430\/\u0441\u0435\u0440\u0436\u0430\u043d\u0442\u0430, \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043f\u043e\u0432\u044b\u0448\u0435\u043d\u0438\u0435 %s \u0440\u0430\u0437"},"177":{"limits":"5,10,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u0411\u043e\u0441\u0441 \u0441\u043c\u043e\u0440\u043e\u0437\u0438\u043b","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0431\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438, \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u043d\u0430\u0441\u043c\u0435\u0440\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},"209":{"limits":"1,3,10,30,60","points":"5,25,50,75,100","flag":"0","title":"\u0422\u0435\u043b\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435\u043b\u044c","text":"\u0421\u043f\u0430\u0441\u0442\u0438\u0441\u044c \u043e\u0442 \u043a\u0438\u043b\u043b\u0435\u0440\u0430 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0442\u0435\u043b\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u0435\u043b\u044f %s \u0440\u0430\u0437[,,\u0430]"},"210":{"limits":"10,25,50,100,250","points":"5,25,50,75,100","flag":"0","title":"\u0417\u0430\u0434\u0430\u043d\u0438\u044f","text":"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c %s \u0437\u0430\u0434\u0430\u043d\u0438\u0439 \u0432 \u043a\u043b\u0430\u043d\u0435"},"211":{"limits":"3,10,15,25,50","points":"5,25,50,75,100","flag":"0","title":"\u041d\u0443\u0436\u043d\u043e \u0431\u043e\u043b\u044c\u0448\u0435 \u0437\u043e\u043b\u043e\u0442\u0430!","text":"\u041f\u0440\u0438\u043d\u0435\u0441\u0442\u0438 %s \u0441\u043b\u0438\u0442[\u043a\u043e\u0432,\u043e\u043a,\u043a\u0430] \u0437\u043e\u043b\u043e\u0442\u0430 \u0432 \u043a\u043b\u0430\u043d \u0437\u0430 \u0437\u0430\u0434\u0430\u043d\u0438\u044f"},"212":{"limits":"3,5,10,15,30","points":"25,100,250,300,500","flag":"0","title":"\u0421\u043b\u0438\u0442\u043e\u043a \u0437\u043e\u043b\u043e\u0442\u0430","text":"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u043b\u0430\u043d\u043e\u0432\u0443\u044e \u044d\u043a\u0441\u0442\u0440\u0443 \u0421\u043b\u0438\u0442\u043e\u043a \u0437\u043e\u043b\u043e\u0442\u0430 %s \u0440\u0430\u0437[,,\u0430]"},"250":{"limits":"5,25,50,100,300","points":"5,25,50,75,100","flag":"0","title":"\u0418\u0433\u0440\u044b \u043d\u0430 8 \u0438\u0433\u0440\u043e\u043a\u043e\u0432","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u043d\u0430 8 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},"251":{"limits":"5,25,50,100,300","points":"5,25,50,75,100","flag":"0","title":"\u0418\u0433\u0440\u044b \u043d\u0430 12 \u0438\u0433\u0440\u043e\u043a\u043e\u0432","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u043d\u0430 12 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},"252":{"limits":"3,10,15,50,100","points":"5,25,50,75,100","flag":"0","title":"\u0412\u044b\u0441\u043e\u043a\u0438\u0435 \u0441\u0442\u0430\u0432\u043a\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0441\u043e \u0441\u0442\u0430\u0432\u043a\u043e\u0439 1000 \u0438 \u0432\u044b\u0448\u0435"},"253":{"limits":"5,15,50,100,200","points":"5,25,50,75,100","flag":"0","title":"\u041f\u043e\u0431\u0435\u0434\u0430 \u043d\u0430 16","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u043d\u0430 16 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},"254":{"limits":"5,15,50,100,300","points":"5,25,50,75,100","flag":"0","title":"\u041f\u043e\u0431\u0435\u0434\u0430 \u043d\u0430 12","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u043d\u0430 12 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},"255":{"limits":"5,15,50,100,300","points":"5,25,50,75,100","flag":"0","title":"\u0412\u0441\u0435\u0433\u0434\u0430 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0439","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0441\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0441 \u0430\u043a\u0442\u0438\u0432\u043d\u043e\u0439 \u0440\u043e\u043b\u044c\u044e"},"256":{"limits":"5,15,50,100,300","points":"5,25,50,75,100","flag":"0","title":"\u0422\u044e\u0440\u044c\u043c\u0430","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u043f\u043e\u0441\u0430\u0434\u0438\u0442\u044c \u0437\u0430 \u0440\u0435\u0448\u0451\u0442\u043a\u0443 %s \u043c\u0430\u0444\u0438\u043e\u0437\u0438"},"257":{"limits":"3,10,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u041d\u0438\u0447\u0435\u0433\u043e \u043b\u0438\u0447\u043d\u043e\u0433\u043e","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0443\u0431\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,,\u0430] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u041a\u0438\u043b\u043b\u0435\u0440\u0430"},"258":{"limits":"5,25,75,150,300","points":"5,25,50,75,100","flag":"0","title":"\u041f\u0440\u043e\u0441\u043b\u0443\u0448\u043a\u0430","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u043d\u0430\u0439\u0442\u0438 %s \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0440\u043e\u043b\u0435\u0439 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0436\u0443\u0447\u043a\u0430"},"259":{"limits":"500,2500,5000,15000,50000","points":"5,25,50,75,100","flag":"0","title":"\u0412\u0441\u0435\u0445 \u043a\u0443\u043f\u043b\u044e","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u043f\u043e\u0442\u0440\u0430\u0442\u0438\u0442\u044c \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 %s \u043c\u043e\u043d\u0435\u0442"},"260":{"limits":"5,15,50,100,250","points":"5,25,50,75,100","flag":"0","title":"\u0414\u0432\u0443\u043b\u0438\u043a\u0438\u0439","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e"},"261":{"limits":"3,10,25,50,75","points":"5,25,50,75,100","flag":"0","title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d \u043d\u0430 \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0440\u043e\u043b\u044c \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 %s \u0440\u0430\u0437[,,\u0430]"},"262":{"limits":"3,10,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u0420\u0430\u043d\u043d\u0435\u0435 \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e, \u043d\u0430\u0439\u0442\u0438 \u043c\u0430\u0444\u0438\u044e \u0438\u043b\u0438 \u0411\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438 \u0432 \u043f\u0435\u0440\u0432\u0443\u044e \u0430\u043a\u0442\u0438\u0432\u043d\u0443\u044e \u043d\u043e\u0447\u044c %s \u0440\u0430\u0437[,,\u0430]"},"263":{"limits":"3,5,10,25,50","points":"5,25,50,75,100","flag":"0","title":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0439","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e, \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c \u0432\u044b\u0436\u0438\u0432\u0448\u0438\u043c %s \u0440\u0430\u0437[,,\u0430]"},"264":{"limits":"10,25,50,150,300","points":"5,25,50,75,100","flag":"0","title":"\u0421\u0430\u0436\u0430\u0439 \u0441\u043a\u043e\u0440\u0435\u0435","text":"\u041f\u043e\u0441\u0430\u0434\u0438\u0442\u044c \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e %s \u0440\u0430\u0437[,,\u0430] \u0434\u043e \u0435\u0433\u043e \u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u044f"},"265":{"limits":"3,10,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u0414\u0432\u0443\u043b\u0438\u043a\u0438\u0439 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e, \u0437\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f \u043e\u0442 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043e\u043c %s \u0440\u0430\u0437[,,\u0430]"},"282":{"limits":"5,25,50,100,300","points":"5,25,50,75,100","flag":"0","title":"\u0418\u0433\u0440\u044b \u043d\u0430 16 \u0438\u0433\u0440\u043e\u043a\u043e\u0432","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u043d\u0430 16 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},"774":{"limits":"1,2,3,4,5","points":"25,100,250,300,500","flag":"0","title":"\u0411\u0430\u043d\u043a \u041c\u0430\u0444\u0438\u0438","text":"\u0411\u044b\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u043c \u043d\u0430 \u0411\u0430\u043d\u043a \u041c\u0430\u0444\u0438\u0438 %s \u043d\u0435\u0434\u0435\u043b[\u044c,\u044e,\u0438]"},"775":{"limits":"25,50,150,300,600","points":"5,25,50,75,100","flag":"0","title":"\u041c\u0438\u0440\u043d\u044b\u0435 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0433\u0440\u0430\u0436\u0434\u0430\u043d %s \u0440\u0430\u0437[,,\u0430]"},"776":{"limits":"10,25,75,150,300","points":"5,25,50,75,100","flag":"0","title":"\u041c\u0430\u0444\u0438\u043e\u0437\u0438 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u043c\u0430\u0444\u0438\u0438 %s \u0440\u0430\u0437[,,\u0430]"},"777":{"limits":"50,100,250,500,1000","points":"5,25,50,75,100","flag":"0","title":"\u0418\u0433\u0440\u044b \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u043b\u044e\u0431\u044b\u0445 \u0438\u0433\u0440"},"778":{"limits":"3,10,25,75,150","points":"5,25,50,75,100","flag":"0","title":"\u0414\u0440\u0430\u043a\u0430 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432] \u0432 \u0434\u0440\u0430\u043a\u0435"},"779":{"limits":"10,25,75,150,300","points":"5,25,50,75,100","flag":"0","title":"\u041b\u044e\u0431\u043e\u0432\u044c \u044d\u0442\u043e... \u0438\u0433\u0440\u0430\u0442\u044c \u0432\u043c\u0435\u0441\u0442\u0435 \u0432\u0441\u044e \u0434\u0443\u044d\u043b\u044c","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0441\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0441 \u043c\u0443\u0436\u0435\u043c\/\u0436\u0435\u043d\u043e\u0439 \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u043c\u0430\u0444\u0438\u0438"},"780":{"limits":"25,50,150,300,600","points":"5,25,50,75,100","flag":"0","title":"\u0420\u0430\u0441\u043f\u0440\u0430\u0432\u0430 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0443\u0431\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043d\u043e\u0447\u044c\u044e, \u0438\u0433\u0440\u0430\u044f \u0437\u0430 \u043c\u0430\u0444\u0438\u043e\u0437\u0438"},"781":{"limits":"3,10,25,75,150","points":"5,25,50,75,100","flag":"0","title":"\u0421\u043c\u0435\u0440\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u043d\u0430\u0441\u043c\u0435\u0440\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432, \u0438\u0433\u0440\u0430\u044f \u0437\u0430 \u0411\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438"},"782":{"limits":"5,15,50,100,200","points":"5,25,50,75,100","flag":"0","title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d \u0437\u0430 \u043c\u043e\u043d\u0435\u0442\u044b \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u0432\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0440\u043e\u043b\u0435\u0439 \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 \u0437\u0430 \u043c\u043e\u043d\u0435\u0442\u044b"},"783":{"limits":"3,10,25,50,100","points":"5,25,50,75,100","flag":"0","title":"\u041b\u044e\u0431\u043e\u0432\u044c \u044d\u0442\u043e... \u0434\u0430\u0440\u0438\u0442\u044c \u043f\u043e\u0434\u0430\u0440\u043a\u0438 \u0432 \u0434\u0443\u044d\u043b\u0438","text":"\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432, \u043f\u043e\u0434\u0430\u0440\u0438\u0442\u044c %s \u043c\u0435\u0433\u0430-\u043f\u043e\u0434\u0430\u0440[\u043a\u043e\u0432,\u043e\u043a,\u043a\u0430] \u043c\u0443\u0436\u0443\/\u0436\u0435\u043d\u0435"},"1441":{"limits":"50,100,200,350,500","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u041b\u0438\u0433\u0430: \u0421\u0435\u0437\u043e\u043d","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0441\u0435\u0437\u043e\u043d\u0430 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1442":{"limits":"2500,5000,10000,25000,50000","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u041b\u0438\u0433\u0430: \u0420\u0435\u0439\u0442\u0438\u043d\u0433","text":"\u0414\u043e\u0441\u0442\u0438\u0447\u044c %s \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0441\u0435\u0437\u043e\u043d\u0430 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1443":{"limits":"10,50,75,150,200","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u041b\u0438\u0433\u0430: \u041c\u0443\u0436 \u0438 \u0416\u0435\u043d\u0430","text":"\u041d\u0430\u0445\u043e\u0434\u044f\u0441\u044c \u0432 \u043e\u0434\u043d\u043e\u0439 \u043b\u0438\u0433\u0435 \u0438 \u0438\u0433\u0440\u0430\u044f \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435, \u0441\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0441 \u043c\u0443\u0436\u0435\u043c\/\u0436\u0435\u043d\u043e\u0439 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1444":{"limits":"3,5,7,10,15","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u041b\u0438\u0433\u0430: \u0414\u0440\u0430\u043a\u0430","text":"\u0418\u0433\u0440\u0430\u044f \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435, \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0432 \u0434\u0440\u0430\u043a\u0435 %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1445":{"limits":"5,10,25,50,75","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u041b\u0438\u0433\u0430: \u0410\u0443\u043a\u0446\u0438\u043e\u043d","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u043b\u044e\u0431\u0443\u044e \u0440\u043e\u043b\u044c \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 %s \u0440\u0430\u0437 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1446":{"limits":"3,10,15,30,50","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u041b\u0438\u0433\u0430: \u0420\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440","text":"\u0418\u0433\u0440\u0430\u044f \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435, \u0437\u0430\u0441\u0442\u0440\u0435\u043b\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0420\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440\u0430 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1447":{"limits":"3,10,15,30,50","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u041b\u0438\u0433\u0430: \u041a\u0438\u043b\u043b\u0435\u0440","text":"\u0418\u0433\u0440\u0430\u044f \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435, \u0443\u0431\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u041a\u0438\u043b\u043b\u0435\u0440\u0430 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1448":{"limits":"3,5,10,15,30","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u041b\u0438\u0433\u0430: \u0410\u041a-47","text":"\u0418\u0433\u0440\u0430\u044f \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435, \u0440\u0430\u0441\u0441\u0442\u0440\u0435\u043b\u044f\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0410\u041a-47 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1449":{"limits":"3,10,25,75,100","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u041b\u0438\u0433\u0430: \u0422\u0430\u0440\u043e","text":"\u0418\u0433\u0440\u0430\u044f \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435, \u0432\u0441\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u0430\u043c\u0438 \u0442\u0430\u0440\u043e \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043c\u0430\u0444\u0438\u0438 %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1450":{"limits":"5,25,50,100,150","points":"25,100,250,300,500","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u041b\u0438\u0433\u0430: \u041b\u0438\u0433\u0430 \u0431\u0443\u0441\u0442\u0435\u0440","text":"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \"\u041b\u0438\u0433\u0430 \u0431\u0443\u0441\u0442\u0435\u0440\" %s  \u0440\u0430\u0437 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1451":{"limits":"1,1,1,1,1","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u0417\u0430\u0432\u0441\u0435\u0433\u0434\u0430\u0442\u0430\u0439","text":"\u041f\u0440\u0438\u043d\u044f\u0442\u044c \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0432 %s \u0410\u0440\u0435\u043d[\u0430\u0445,\u0435,\u0430\u0445] \u0441\u0435\u0437\u043e\u043d\u0430 (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1452":{"limits":"3,5,15,30,50","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u0422\u0443\u0440\u043d\u0438\u0440","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c 5+ \u0438\u0433\u0440 \u0432 %s \u0440\u0430\u0437\u043d\u044b\u0445 \u0442\u0443\u0440\u043d\u0438\u0440\u0430\u0445 \u043d\u0430 \u0410\u0440\u0435\u043d\u0435 (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1453":{"limits":"5,10,25,50,75","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c","text":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0432 %s \u0438\u0433\u0440\u0430\u0445 \u043d\u0430 \u0410\u0440\u0435\u043d\u0435 (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1454":{"limits":"1,3,5,15,30","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u0422\u043e\u043f 3","text":"\u0417\u0430\u043d\u044f\u0442\u044c 1-3 \u043c\u0435\u0441\u0442\u043e \u0432 \u0442\u0443\u0440\u043d\u0438\u0440\u0435 %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1455":{"limits":"1,3,5,10,15","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u041c\u0430\u043d\u044c\u044f\u043a","text":"\u0418\u0433\u0440\u0430\u044f \u043d\u0430 \u0430\u0440\u0435\u043d\u0435, \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0430\u043d\u044c\u044f\u043a\u0430 %s \u0440\u0430\u0437[,,\u0430]  (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1456":{"limits":"25,50,150,250,300","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u041e\u0441\u043a\u043e\u043b\u043a\u0438","text":"\u0421\u043e\u0431\u0440\u0430\u0442\u044c %s \u043e\u0441\u043a\u043e\u043b\u043a\u043e\u0432 \u0442\u0430\u043b\u0430\u043d\u0442\u0430 \u043d\u0430 \u0410\u0440\u0435\u043d\u0435 (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1457":{"limits":"3,5,10,15,25","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u0411\u0435\u0437 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439","text":"\u041d\u0430 \u0410\u0440\u0435\u043d\u0435 \u0431\u0435\u0437 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0439 \u043f\u043e \u0438\u0433\u0440\u0430\u043c \u0441\u044b\u0433\u0440\u0430\u0442\u044c 25+ \u0438\u0433\u0440 \u0437\u0430 \u043e\u0434\u0438\u043d \u0442\u0443\u0440\u043d\u0438\u0440 %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1458":{"limits":"1,3,5,7,10","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: 5 \u0438\u0433\u0440","text":"\u041d\u0430 \u0410\u0440\u0435\u043d\u0435 \u0441 \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u0435\u043c \u0432 5 \u0438\u0433\u0440, \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c 150+ \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0437\u0430 \u043e\u0434\u0438\u043d \u0442\u0443\u0440\u043d\u0438\u0440 %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1459":{"limits":"25,50,150,250,300","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u0417\u0432\u0451\u0437\u0434\u044b","text":"\u0421\u043e\u0431\u0440\u0430\u0442\u044c %s \u0437\u0432\u0451\u0437\u0434 \u043d\u0430 \u0410\u0440\u0435\u043d\u0435 (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1460":{"limits":"5,10,25,50,75","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u041e\u0441\u043e\u0431\u044b\u0435 \u0440\u043e\u043b\u0438","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u043b\u044e\u0431\u044b\u0435 \u043e\u0441\u043e\u0431\u044b\u0435 \u0440\u043e\u043b\u0438, \u043a\u043e\u0442\u043e\u0440\u044b\u0435 \u0438\u043d\u043e\u0433\u0434\u0430 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0432 \u0410\u0440\u0435\u043d\u0435 (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1461":{"limits":"3,5,10,15,25","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u0411\u0435\u0437 \u044d\u043a\u0441\u0442\u0440","text":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0432 \u0410\u0440\u0435\u043d\u0435, \u0433\u0434\u0435 \u0437\u0430\u043f\u0440\u0435\u0449\u0435\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u044b %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1462":{"limits":"1,3,5,10,15","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u041f\u0435\u0440\u0435\u0441\u0442\u0440\u0435\u043b\u043a\u0430","text":"\u0418\u0433\u0440\u0430\u044f \u0432 \u0410\u0440\u0435\u043d\u0435 \"\u041f\u0435\u0440\u0435\u0441\u0442\u0440\u0435\u043b\u043a\u0430\", \u043f\u0435\u0440\u0435\u0436\u0438\u0442\u044c 3 \u043f\u0435\u0440\u0435\u0441\u0442\u0440\u0435\u043b\u043a\u0438 %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1463":{"limits":"1,2,3,4,5","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u0411\u043e\u0439\u043d\u044f","text":"\u0418\u0433\u0440\u0430\u044f \u0432 \u0410\u0440\u0435\u043d\u0435 \"\u0411\u043e\u0439\u043d\u044f\", \u0437\u0430\u043d\u044f\u0442\u044c 1-9 \u043c\u0435\u0441\u0442\u043e %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1464":{"limits":"10,20,30,60,100","points":"25,100,250,300,500","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u0416\u0435\u0442\u043e\u043d \u0431\u0443\u0441\u0442\u0435\u0440","text":"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \"\u0416\u0435\u0442\u043e\u043d \u0431\u0443\u0441\u0442\u0435\u0440\" %s \u0440\u0430\u0437 (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1465":{"limits":"5,10,15,30,50","points":"25,100,250,300,500","flag":"0","start_t":1571648400,"stop_t":1578261600,"title":"\u0410\u0440\u0435\u043d\u0430: \u0412\u044b\u0431\u043e\u0440 \u0440\u043e\u043b\u0435\u0439","text":"\u0417\u0430\u043a\u0430\u0437\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \"\u0412\u044b\u0431\u043e\u0440 \u0440\u043e\u043b\u0435\u0439\" %s \u0440\u0430\u0437 (\u0434\u043e 6 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1466":{"limits":"15,30,75,100,150","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u0414\u0443\u044d\u043b\u044c: \u0418\u0433\u0440\u044b","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440, \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1467":{"limits":"10,25,50,75,100","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u0414\u0443\u044d\u043b\u044c: \u0411\u0440\u043e\u043d\u0437\u0430","text":"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c %s \u0411\u0440\u043e\u043d\u0437\u043e\u0432\u044b\u0445 \u043a\u0432\u0435\u0441\u0442\u043e\u0432, \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1468":{"limits":"5,15,30,50,75","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u0414\u0443\u044d\u043b\u044c: \u0417\u043e\u043b\u043e\u0442\u043e","text":"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c %s \u0417\u043e\u043b\u043e\u0442\u044b\u0445 \u043a\u0432\u0435\u0441\u0442\u043e\u0432, \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1469":{"limits":"3,10,15,30,50","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u0414\u0443\u044d\u043b\u044c: \u0411\u0440\u0438\u043b\u043b\u0438\u0430\u043d\u0442","text":"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c %s [\u0411\u0440\u0438\u043b\u043b\u0438\u0430\u043d\u0442\u043e\u0432\u044b\u0445 \u043a\u0432\u0435\u0441\u0442\u043e\u0432,\u0411\u0440\u0438\u043b\u043b\u0438\u0430\u043d\u0442\u043e\u0432\u044b\u0439 \u043a\u0432\u0435\u0441\u0442,\u0411\u0440\u0438\u043b\u043b\u0438\u0430\u043d\u0442\u043e\u0432\u044b\u0445 \u043a\u0432\u0435\u0441\u0442\u0430], \u0443\u0447\u0430\u0441\u0442\u0432\u0443\u044f \u0432 \u0434\u0443\u044d\u043b\u0438 \u043a\u043b\u0430\u043d\u043e\u0432 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1470":{"limits":"2,3,3,4,4","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u0414\u0443\u044d\u043b\u044c: \u041f\u043e\u0441\u0442\u043e\u044f\u043d\u0441\u0442\u0432\u043e","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c \u0437\u0430 \u043e\u0434\u0438\u043d \u043a\u043b\u0430\u043d \u0432 %s \u0434\u0443\u044d\u043b\u044f\u0445, \u043d\u0435 \u043f\u043e\u043a\u0438\u0434\u0430\u044f \u043a\u043b\u0430\u043d (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1471":{"limits":"5,10,15,20,30","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u0414\u0443\u044d\u043b\u044c: \u041a\u0432\u0435\u0441\u0442\u044b","text":"\u0412\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c %s \u043b\u044e\u0431\u044b\u0445 \u043a\u0432\u0435\u0441\u0442\u043e\u0432 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u0434\u0443\u044d\u043b\u0438 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1472":{"limits":"3,5,10,15,20","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u0414\u0443\u044d\u043b\u044c: \u041b\u044e\u0431\u043e\u0432\u044c","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0441 \u043c\u0443\u0436\u0435\u043c\/\u0436\u0435\u043d\u043e\u0439 \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u043c\u0430\u0444\u0438\u0438 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u0434\u0443\u044d\u043b\u0438. \u0412\u0430\u0436\u043d\u043e: \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0432 \u0434\u0443\u044d\u043b\u0438 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1473":{"limits":"5,10,15,20,30","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u0414\u0443\u044d\u043b\u044c: \u0410\u0443\u043a\u0446\u0438\u043e\u043d","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0440\u043e\u043b\u0435\u0439 \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u0434\u0443\u044d\u043b\u0438. \u0412\u0430\u0436\u043d\u043e: \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0432 \u0434\u0443\u044d\u043b\u0438 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1474":{"limits":"5,10,15,20,30","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u0414\u0443\u044d\u043b\u044c: \u041f\u043e\u0434\u0430\u0440\u043a\u0438","text":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c %s \u043c\u0435\u0433\u0430-\u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432 \u043c\u0443\u0436\u0443\/\u0436\u0435\u043d\u0435 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u0434\u0443\u044d\u043b\u0438. \u0412\u0430\u0436\u043d\u043e: \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0432 \u0434\u0443\u044d\u043b\u0438 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1475":{"limits":"5,15,30,50,75","points":"5,25,50,75,100","flag":"0","start_t":1571648400,"stop_t":1579513500,"title":"\u0414\u0443\u044d\u043b\u044c: \u041a\u043b\u0430\u043d \u044d\u043a\u0441\u0442\u0440\u044b","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c %s \u043b\u044e\u0431\u044b\u0445 \u043a\u043b\u0430\u043d\u043e\u0432\u044b\u0445 \u044d\u043a\u0441\u0442\u0440 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u0434\u0443\u044d\u043b\u0438. \u0412\u0430\u0436\u043d\u043e: \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0443\u0447\u0430\u0441\u0442\u0438\u0435 \u0432 \u0434\u0443\u044d\u043b\u0438 (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1552":{"limits":"3,5,15,30,50","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u0422\u0443\u0440\u043d\u0438\u0440","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c 5+ \u0438\u0433\u0440 \u0432 %s \u0440\u0430\u0437\u043d\u044b\u0445 \u0442\u0443\u0440\u043d\u0438\u0440\u0430\u0445 \u043d\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u0435\u00bb (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1553":{"limits":"5,10,25,50,75","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c","text":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0432 %s \u0438\u0433\u0440\u0430\u0445 \u043d\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u0435\u00bb (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1554":{"limits":"3,5,10,15,25","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u0418\u0433\u0440\u044b","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c 25+ \u0438\u0433\u0440 \u0437\u0430 \u043e\u0434\u0438\u043d \u0442\u0443\u0440\u043d\u0438\u0440 %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 20 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1555":{"limits":"1,3,5,15,30","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u0422\u043e\u043f 3","text":"\u0417\u0430\u043d\u044f\u0442\u044c 1-3 \u043c\u0435\u0441\u0442\u043e \u0432 \u0442\u0443\u0440\u043d\u0438\u0440\u0435 \u043d\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u0435\u00bb %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1556":{"limits":"3","points":"100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u0427\u0435\u043c\u043f\u0438\u043e\u043d","text":"\u0417\u0430\u043d\u044f\u0442\u044c 1 \u043c\u0435\u0441\u0442\u043e \u0432 \u0442\u0443\u0440\u043d\u0438\u0440\u0435 \u043d\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u0435\u00bb \u0442\u0440\u0438 \u0440\u0430\u0437\u0430 \u043f\u043e\u0434\u0440\u044f\u0434 (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1557":{"limits":"1,3,5,10,15","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u041c\u0438\u0440\u043d\u044b\u0435","text":"\u0418\u0433\u0440\u0430\u044f \u043d\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u0435\u00bb, \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0433\u0440\u0430\u0436\u0434\u0430\u043d %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1558":{"limits":"1,3,5,10,15","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u041c\u0430\u043d\u044c\u044f\u043a","text":"\u0418\u0433\u0440\u0430\u044f \u043d\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u0435\u00bb, \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0430\u043d\u044c\u044f\u043a\u0430 %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1559":{"limits":"1,3,5,10,15","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u041c\u0430\u0444\u0438\u043e\u0437\u0438","text":"\u0418\u0433\u0440\u0430\u044f \u043d\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u0435\u00bb, \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u043c\u0430\u0444\u0438\u043e\u0437\u0438 %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1560":{"limits":"1,3,5,10,15","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u0414\u0432\u0443\u043b\u0438\u043a\u0438\u0439","text":"\u0418\u0433\u0440\u0430\u044f \u043d\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u0435\u00bb, \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1561":{"limits":"1,3,5,10,15","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u0411\u043e\u0441\u0441 \u043c\u0430\u0444\u0438\u0438","text":"\u0418\u0433\u0440\u0430\u044f \u043d\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u0435\u00bb, \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u0411\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438 %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1562":{"limits":"1,3,5,10,15","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u041f\u0440\u043e\u0434\u0430\u0436\u043d\u044b\u0439 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440","text":"\u0418\u0433\u0440\u0430\u044f \u043d\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u0435\u00bb, \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u041f\u0440\u043e\u0434\u0430\u0436\u043d\u043e\u0433\u043e \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430 %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1563":{"limits":"1,3,5,10,15","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u0413\u0440\u043e\u043c\u0438\u043b\u0430","text":"\u0418\u0433\u0440\u0430\u044f \u043d\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u0435\u00bb, \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u0413\u0440\u043e\u043c\u0438\u043b\u0443 %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1564":{"limits":"1,3,5,10,15","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u0423\u0431\u0438\u0439\u0446\u0430","text":"\u0418\u0433\u0440\u0430\u044f \u043d\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u0435\u00bb, \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u0423\u0431\u0438\u0439\u0446\u0443 %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1565":{"limits":"10,15,20,25,30","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u0410\u0440\u0435\u043d\u0430: \u041e\u0441\u043e\u0431\u044b\u0435 \u0440\u043e\u043b\u0438","text":"\u0418\u0433\u0440\u0430\u044f \u043d\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u0435\u00bb, \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u043e\u0441\u043e\u0431\u044b\u0435 \u0440\u043e\u043b\u0438 \u0438\u0437 \u0440\u0430\u0437\u043d\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 \u041c\u0430\u0444\u0438\u0438 %s \u0440\u0430\u0437 (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1566":{"limits":"1,3,5,10,15","points":"5,25,50,75,100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0441\u0443\u043d\u0434\u0443\u043a","text":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0441\u0443\u043d\u0434\u0443\u043a\u00bb %s \u0440\u0430\u0437[,,\u0430] (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1567":{"limits":"1","points":"100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u042d\u043c\u0431\u043b\u0435\u043c\u0430","text":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043c\u0431\u043b\u0435\u043c\u0443 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u0439 \u0410\u0440\u0435\u043d\u044b\u00bb (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1568":{"limits":"1","points":"100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u0422\u0440\u043e\u0439\u043d\u043e\u0439 \u0431\u044e\u0440\u043e\u043a\u0440\u0430\u0442","text":"\u0421\u043e\u0431\u0440\u0430\u0442\u044c \u0432\u0441\u0435 \u0444\u0440\u0430\u0433\u043c\u0435\u043d\u0442\u044b \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0442\u0430\u043b\u0430\u043d\u0442\u0430 \u00ab\u0422\u0440\u043e\u0439\u043d\u043e\u0439 \u0431\u044e\u0440\u043e\u043a\u0440\u0430\u0442\u00bb \u0432 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u043c \u0441\u0443\u043d\u0434\u0443\u043a\u0435\u00bb (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1569":{"limits":"1","points":"100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u041e\u0441\u043e\u0431\u0430\u044f \u044d\u043c\u0431\u043b\u0435\u043c\u0430","text":"\u041d\u0430\u0439\u0442\u0438 \u043e\u0441\u043e\u0431\u0443\u044e \u044d\u043c\u0431\u043b\u0435\u043c\u0443 \u0432 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u043c \u0441\u0443\u043d\u0434\u0443\u043a\u0435\u00bb (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1570":{"limits":"1","points":"100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u0417\u0432\u0451\u0437\u0434\u044b","text":"\u041d\u0430\u0439\u0442\u0438 250 \u0437\u0432\u0451\u0437\u0434 \u0432 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u043c \u0441\u0443\u043d\u0434\u0443\u043a\u0435\u00bb (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1571":{"limits":"1","points":"100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u0422\u0430\u043b\u0430\u043d\u0442 \u0432 \u0441\u0443\u043d\u0434\u0443\u043a\u0435","text":"\u041d\u0430\u0439\u0442\u0438 +1 \u0442\u0430\u043b\u0430\u043d\u0442 \u0432 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u043c \u0441\u0443\u043d\u0434\u0443\u043a\u0435\u00bb (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1572":{"limits":"1","points":"100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u041c\u0435\u0433\u0430-\u044d\u043a\u0441\u0442\u0440\u0430","text":"\u041d\u0430\u0439\u0442\u0438 \u043d\u0430\u0431\u043e\u0440 \u0438\u0437 \u043c\u0435\u0433\u0430-\u044d\u043a\u0441\u0442\u0440 \u0432 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u043e\u043c \u0441\u0443\u043d\u0434\u0443\u043a\u0435\u00bb (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1573":{"limits":"25","points":"100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u041c\u0430\u0433\u0430\u0437\u0438\u043d: \u042d\u043a\u0441\u0442\u0440\u044b","text":"\u041a\u0443\u043f\u0438\u0442\u044c \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 \u0432\u0441\u0435 \u0438\u0432\u0435\u043d\u0442\u043e\u0432\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b \u0437\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0436\u0435\u0442\u043e\u043d\u044b\u00bb (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1574":{"limits":"25","points":"100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u041c\u0430\u0433\u0430\u0437\u0438\u043d: \u041c\u043e\u043d\u0435\u0442\u044b","text":"\u041a\u0443\u043f\u0438\u0442\u044c \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 \u0432\u0441\u0435 \u043c\u043e\u043d\u0435\u0442\u044b \u0437\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0436\u0435\u0442\u043e\u043d\u044b\u00bb (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1575":{"limits":"25","points":"100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u041c\u0430\u0433\u0430\u0437\u0438\u043d: \u0420\u0443\u0431\u0438\u043d\u044b","text":"\u041a\u0443\u043f\u0438\u0442\u044c \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 \u0432\u0441\u0435 \u0440\u0443\u0431\u0438\u043d\u044b \u0437\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0436\u0435\u0442\u043e\u043d\u044b\u00bb (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1576":{"limits":"25","points":"100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u041c\u0430\u0433\u0430\u0437\u0438\u043d: \u0417\u0432\u0451\u0437\u0434\u044b","text":"\u041a\u0443\u043f\u0438\u0442\u044c \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 \u0432\u0441\u0435 \u0437\u0432\u0451\u0437\u0434\u044b \u0437\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0436\u0435\u0442\u043e\u043d\u044b\u00bb (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"},"1577":{"limits":"25","points":"100","flag":"0","keyword":"arena_winter","year":2020,"title":"\u041c\u0430\u0433\u0430\u0437\u0438\u043d: \u041e\u0441\u043a\u043e\u043b\u043a\u0438","text":"\u041a\u0443\u043f\u0438\u0442\u044c \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435 \u0432\u0441\u0435 \u043e\u0441\u043a\u043e\u043b\u043a\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \u0437\u0430 \u00ab\u042d\u043f\u0438\u0447\u0435\u0441\u043a\u0438\u0435 \u0436\u0435\u0442\u043e\u043d\u044b\u00bb (\u0434\u043e 27 \u044f\u043d\u0432\u0430\u0440\u044f)"}};
var __tal          = {"id1":{"max_lvl":5,"values":"1,2,3,4,5","points":"1,2,3,4,5","open_pts":0,"hidden":0,"title":"\u0420\u0435\u0439\u0442\u0438\u043d\u0433","text":"+%s \u0440\u0435\u0439\u0442\u0438\u043d\u0433[\u0430,,\u0430] \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"id2":{"max_lvl":5,"values":"3,6,9,12,15","points":"1,2,3,4,5","open_pts":0,"hidden":0,"title":"\u041e\u043f\u044b\u0442","text":"+%s \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"id3":{"max_lvl":1,"values":"1","points":"1","open_pts":0,"hidden":0,"title":"\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u0442\u0438\u043a\u0435\u0440\u044b","text":"\u0413\u0440\u0443\u043f\u043f\u0430 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0442\u0438\u043a\u0435\u0440\u043e\u0432"},"id4":{"max_lvl":1,"values":"1","points":"3","open_pts":0,"hidden":0,"title":"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u043a\u043e\u043f","text":"\u041a\u043e\u043c\u0438\u0441\u0441\u0430\u0440 \u0441\u0432\u043e\u0438\u043c \u0432\u0438\u0437\u0438\u0442\u043e\u043c \u043c\u043e\u0436\u0435\u0442 \u0441\u043f\u0430\u0441\u0442\u0438 \u0436\u0435\u0440\u0442\u0432\u0443 \u0434\u0432\u0430\u0436\u0434\u044b"},"id5":{"max_lvl":1,"values":"1","points":"3","open_pts":0,"hidden":0,"title":"\u0414\u043e\u043a\u0442\u043e\u0440","text":"\u0420\u0430\u0441\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0440\u043e\u043b\u044c \u0414\u043e\u043a\u0442\u043e\u0440\u0430 \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u043f\u0430\u0440\u0442\u0438\u0438 \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u041c\u0435\u0434\u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a\u0430"},"id61":{"max_lvl":1,"values":"1","points":"3","open_pts":0,"hidden":1,"title":"\u0411\u0435\u0441\u0441\u043c\u0435\u0440\u0442\u0438\u0435","text":"\u0412\u0430\u0441 \u043d\u0435\u043b\u044c\u0437\u044f \u0443\u0431\u0438\u0442\u044c \u0434\u043e \u043a\u043e\u043d\u0446\u0430 \u043f\u0435\u0440\u0432\u043e\u0433\u043e \u0434\u043d\u044f"},"id62":{"max_lvl":5,"values":"3,6,9,12,15","points":"1,2,3,4,5","open_pts":0,"hidden":1,"title":"\u0422\u0440\u043e\u0439\u043d\u043e\u0439 \u0431\u044e\u0440\u043e\u043a\u0440\u0430\u0442","text":"\u0428\u0430\u043d\u0441 %s% \u043b\u0438\u0448\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430 \u0433\u043e\u043b\u043e\u0441\u0430 \u043d\u0430 3 \u0434\u043d\u044f \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \u00ab\u0411\u044e\u0440\u043e\u043a\u0440\u0430\u0442\u00bb"},"id63":{"max_lvl":1,"values":"1","points":"5","open_pts":0,"hidden":1,"title":"\u0418\u043d\u043a\u043e\u0433\u043d\u0438\u0442\u043e","text":"\u0421\u043a\u0440\u044b\u0432\u0430\u0435\u0442 \u0432\u0430\u0448\u0438 \u0442\u0430\u043b\u0430\u043d\u0442\u044b \u043e\u0442 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432"},"id64":{"max_lvl":5,"values":"5,10,15,20,25","points":"1,2,3,4,5","open_pts":0,"hidden":1,"title":"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0446\u0435\u043f\u0438","text":"\u0428\u0430\u043d\u0441 %s% \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u0437\u0430\u043a\u043e\u0432\u044b\u0432\u0430\u043d\u0438\u044f \u0432 \u043a\u0430\u043d\u0434\u0430\u043b\u044b"},"id65":{"max_lvl":5,"values":"1,2,3,4,5","points":"1,2,3,4,5","open_pts":0,"hidden":1,"title":"\u041e\u0441\u043e\u0431\u0430\u044f \u043c\u0438\u043d\u0430","text":"\u0428\u0430\u043d\u0441 %s% \u0432\u0437\u043e\u0440\u0432\u0430\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430 \u043d\u0430 \u043c\u0438\u043d\u0435 \u0447\u0435\u0440\u0435\u0437 \u043c\u0438\u043d\u043e\u0438\u0441\u043a\u0430\u0442\u0435\u043b\u044c"},"id66":{"max_lvl":1,"values":"1","points":"5","open_pts":0,"hidden":1,"title":"\u0411\u0435\u0433\u0441\u0442\u0432\u043e","text":"\u0412\u0430\u0441 \u043d\u0435\u043b\u044c\u0437\u044f \u043f\u043e\u0441\u0430\u0434\u0438\u0442\u044c \u0432 \u0442\u044e\u0440\u044c\u043c\u0443 \u0432 \u043f\u0435\u0440\u0432\u044b\u0439 \u0434\u0435\u043d\u044c \u0438\u0433\u0440\u044b"},"id67":{"max_lvl":5,"values":"2,4,6,8,10","points":"1,2,3,4,5","open_pts":0,"hidden":1,"title":"\u0421\u0443\u043f\u0435\u0440-\u0414\u043e\u043a\u0442\u043e\u0440","text":"\u0428\u0430\u043d\u0441 %s%, \u0438\u0433\u0440\u0430\u044f \u0437\u0430 \u0434\u043e\u043a\u0442\u043e\u0440\u0430, \u0441\u043f\u0430\u0441\u0442\u0438 \u0432\u0441\u0435\u0445 \u043c\u0438\u0440\u043d\u044b\u0445 \u043e\u0442 \u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430 \u043d\u043e\u0447\u044c\u044e"},"id68":{"max_lvl":5,"values":"3,6,9,12,15","points":"1,2,3,4,5","open_pts":0,"hidden":1,"title":"\u0420\u0430\u0437\u043e\u0431\u043b\u0430\u0447\u0435\u043d\u0438\u0435","text":"\u0428\u0430\u043d\u0441 %s% \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0440\u043e\u043b\u044c \u0438\u0433\u0440\u043e\u043a\u0430, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u044b\u0442\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0432\u0430\u0448\u0443 \u0440\u043e\u043b\u044c \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440"},"id69":{"max_lvl":1,"values":"1","points":"5","open_pts":0,"hidden":1,"title":"\u0414\u0432\u043e\u0439\u043d\u0430\u044f \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430","text":"\u0421\u043c\u0435\u0440\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0430 \u0411\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438 \u043d\u0435 \u0442\u043e\u043b\u044c\u043a\u043e \u0443\u0431\u0438\u0432\u0430\u0435\u0442, \u043d\u043e \u0438 \u0437\u0430\u043c\u043e\u0440\u0430\u0436\u0438\u0432\u0430\u0435\u0442 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430"},"id70":{"max_lvl":5,"values":"2,4,6,8,10","points":"1,2,3,4,5","open_pts":0,"hidden":1,"title":"\u0420\u0438\u043a\u043e\u0448\u0435\u0442","text":"\u0428\u0430\u043d\u0441 %s% \u0441\u0440\u0438\u043a\u043e\u0448\u0435\u0442\u0438\u0442\u044c \u043b\u044e\u0431\u0443\u044e \u043f\u0443\u043b\u044e \u0432 \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430"},"id71":{"max_lvl":5,"values":"3,6,9,12,15","points":"1,2,3,4,5","open_pts":0,"hidden":1,"title":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u044b\u0439 \u0414\u0432\u0443\u043b\u0438\u043a\u0438\u0439","text":"\u0428\u0430\u043d\u0441 %s% \u043d\u0430 \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u044b\u0439 \u0432\u044b\u0441\u0442\u0440\u0435\u043b \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e"},"id72":{"max_lvl":1,"values":"1","points":"5","open_pts":0,"hidden":1,"title":"\u041f\u0440\u043e\u0431\u0438\u0432\u043d\u043e\u0439 \u0432\u044b\u0441\u0442\u0440\u0435\u043b","text":"\u041d\u043e\u0447\u043d\u043e\u0439 \u0432\u044b\u0441\u0442\u0440\u0435\u043b \u0432 \u0438\u0433\u0440\u043e\u043a\u0430 \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u043f\u0440\u043e\u0431\u0438\u0432\u043d\u044b\u043c (\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442 \u043c\u0430\u0441\u043a\u0443, \u0434\u043e\u043a\u0442\u043e\u0440\u0430 \u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430)"},"id73":{"max_lvl":5,"values":"3,6,9,12,15","points":"1,2,3,4,5","open_pts":0,"hidden":1,"title":"\u041c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u044b\u0439 \u0411\u043e\u0441\u0441","text":"\u0428\u0430\u043d\u0441 %s% \u043d\u0430 \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u044b\u0439 \u0438 \u043f\u0440\u043e\u0431\u0438\u0432\u043d\u043e\u0439 \u0445\u043e\u0434 \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u0411\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438 \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0439 \u043d\u043e\u0447\u0438"},"id6":{"max_lvl":1,"values":"1","points":"1","open_pts":10,"hidden":0,"title":"\u0413\u0440\u043e\u043c\u043a\u0438\u0439 \u043a\u0440\u0438\u043a","text":"\u041a\u0440\u0438\u043a \u0432 \u0447\u0430\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430"},"id7":{"max_lvl":1,"values":"1","points":"1","open_pts":10,"hidden":0,"title":"\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u0441\u043c\u0430\u0439\u043b\u044b","text":"\u0413\u0440\u0443\u043f\u043f\u0430 \u0443\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u043c\u0430\u0439\u043b\u0438\u043a\u043e\u0432"},"id8":{"max_lvl":1,"values":"1","points":"1","open_pts":10,"hidden":0,"title":"\u041e\u0441\u043e\u0431\u044b\u0439 \u0441\u0442\u0430\u0442\u0443\u0441","text":"\u0418\u043a\u043e\u043d\u043a\u0430 \u0432\u043e\u0437\u043b\u0435 \u043d\u0438\u043a\u0430 \u0432 \u0447\u0430\u0442\u0435"},"id9":{"max_lvl":1,"values":"1","points":"1","open_pts":10,"hidden":0,"title":"\u0411\u044b\u0442\u044c \u044f\u0440\u043a\u0438\u043c","text":"\u041d\u0438\u043a \u0432 \u043c\u0435\u043d\u044e \u0438 \u043e\u0431\u0449\u0435\u043c \u0447\u0430\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0446\u0432\u0435\u0442\u0430"},"id10":{"max_lvl":1,"values":"1","points":"1","open_pts":10,"hidden":0,"title":"\u0418\u0433\u0440\u0430\u0435\u043c \u043f\u043e-\u043a\u0440\u0443\u043f\u043d\u043e\u043c\u0443","text":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043d\u0430\u0442 \u0441\u043e \u0441\u0442\u0430\u0432\u043a\u043e\u0439 \u0434\u043e 10000 \u043c\u043e\u043d\u0435\u0442"},"id11":{"max_lvl":1,"values":"1","points":"3","open_pts":15,"hidden":0,"title":"\u041f\u0440\u044f\u043c\u044b\u0435 \u0440\u0443\u043a\u0438","text":"\u042d\u043a\u0441\u0442\u0440\u0430 \"\u0410\u041a-47\" \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0443\u0431\u0438\u0432\u0430\u0435\u0442 \u0441\u0435\u0431\u044f"},"id12":{"max_lvl":5,"values":"5,10,15,20,25","points":"1,2,3,4,5","open_pts":15,"hidden":0,"title":"\u0412\u0435\u0441\u043e\u043c\u044b\u0439 \u0430\u0440\u0433\u0443\u043c\u0435\u043d\u0442","text":"\u0428\u0430\u043d\u0441 %s% \u043d\u0430 \u0434\u0432\u043e\u0439\u043d\u043e\u0439 \u043f\u0440\u0438\u0433\u043e\u0432\u043e\u0440 \u0438\u043b\u0438 \u043e\u043f\u0440\u0430\u0432\u0434\u0430\u043d\u0438\u0435"},"id13":{"max_lvl":5,"values":"10,20,30,40,50","points":"1,2,3,4,5","open_pts":15,"hidden":0,"title":"\u041d\u0430\u0432\u043e\u0434\u043a\u0430","text":"\u0428\u0430\u043d\u0441 %s% \u043f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\" \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430"},"id14":{"max_lvl":5,"values":"5,10,15,20,25","points":"1,2,3,4,5","open_pts":15,"hidden":0,"title":"\u0422\u0430\u043b\u0430\u043d\u0442\u043b\u0438\u0432\u044b\u0439 \u0414\u0432\u0443\u043b\u0438\u043a\u0438\u0439","text":"\u0428\u0430\u043d\u0441 %s% \u043d\u0430 \u0430\u0432\u0442\u043e\u043f\u0440\u0435\u0432\u0440\u0430\u0449\u0435\u043d\u0438\u0435 \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u0434\u043d\u044f \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e"},"id15":{"max_lvl":5,"values":"5,10,15,20,25","points":"1,2,3,4,5","open_pts":15,"hidden":0,"title":"\u0416\u0435\u0440\u0442\u0432\u0430 \u0411\u043e\u0441\u0441\u0430","text":"\u0428\u0430\u043d\u0441 %s% \u043d\u0430 \u0441\u043c\u0435\u043d\u0443 \u043e\u0431\u044b\u0447\u043d\u043e\u0439 \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0438 \u043d\u0430 \u0441\u043c\u0435\u0440\u0442\u0435\u043b\u044c\u043d\u0443\u044e \u0432 \u043d\u0430\u0447\u0430\u043b\u0435 \u043a\u0430\u0436\u0434\u043e\u0439 \u043d\u043e\u0447\u0438 \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u0411\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438"},"id16":{"max_lvl":1,"values":"1","points":"3","open_pts":20,"hidden":0,"title":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0441\u043b\u043e\u0432\u043e","text":"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u0441\u043b\u043e\u0432\u043e \u043c\u043e\u0436\u043d\u043e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u0431\u0435\u0441\u043a\u043e\u043d\u0435\u0447\u043d\u043e"},"id17":{"max_lvl":1,"values":"1","points":"3","open_pts":20,"hidden":0,"title":"\u041c\u043e\u043b\u0447\u0430\u043d\u0438\u0435 \u2013 \u0437\u043e\u043b\u043e\u0442\u043e","text":"\u0411\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0430\u0435\u0442\u0435 \u043c\u0435\u0442\u043a\u0443 \"\u043f\u043e\u0434\u043e\u0437\u0440\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043c\u043e\u043b\u0447\u0438\u0442\""},"id18":{"max_lvl":1,"values":"1","points":"3","open_pts":20,"hidden":0,"title":"\u041d\u0430 \u0440\u0430\u0432\u043d\u044b\u0445","text":"\u0420\u0430\u0432\u043d\u044b\u0435 \u0448\u0430\u043d\u0441\u044b \u0432 \u0434\u0440\u0430\u043a\u0435 \u043f\u0440\u043e\u0442\u0438\u0432 \u0431\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438 \u0438 \u043c\u0430\u043d\u044c\u044f\u043a\u0430"},"id19":{"max_lvl":5,"values":"1,2,3,4,5","points":"1,2,3,4,5","open_pts":20,"hidden":0,"title":"\u0411\u043e\u043b\u044c\u0448\u0435 \u043b\u044e\u0431\u0432\u0438","text":"\u0421\u0435\u0440\u0434\u0435\u0447\u043a\u043e \u0431\u0440\u0430\u043a\u0430 \u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u0441\u044f \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0430 %s [\u0434\u043d\u0435\u0439,\u0434\u0435\u043d\u044c,\u0434\u043d\u044f]"},"id20":{"max_lvl":1,"values":"1","points":"1","open_pts":20,"hidden":0,"title":"\u0427\u0451\u0440\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a","text":"\u0427\u0451\u0440\u043d\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0441\u0442\u0438\u0440\u0430\u0435\u0442\u0441\u044f \u043a\u0430\u0436\u0434\u044b\u0439 \u043c\u0435\u0441\u044f\u0446"},"id21":{"max_lvl":5,"values":"10,20,30,40,50","points":"1,2,3,4,5","open_pts":30,"hidden":0,"title":"\u0410\u043c\u0443\u043b\u0435\u0442 \u043e\u0442 \u0410\u041a-47","text":"\u0428\u0430\u043d\u0441 \u0443\u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043e\u0442 \u043e\u0447\u0435\u0440\u0435\u0434\u0438 \u0410\u041a-47 +%s%"},"id22":{"max_lvl":5,"values":"10,20,30,40,50","points":"1,2,3,4,5","open_pts":30,"hidden":0,"title":"\u041f\u0440\u0430\u0432\u0434\u0438\u0432\u0430\u044f \u0438\u0441\u043f\u043e\u0432\u0435\u0434\u044c","text":"\u0428\u0430\u043d\u0441 \u043d\u0430 \u0438\u0441\u043f\u043e\u0432\u0435\u0434\u044c +%s%"},"id23":{"max_lvl":5,"values":"10,20,30,40,50","points":"1,2,3,4,5","open_pts":30,"hidden":0,"title":"\u0410\u043c\u0443\u043b\u0435\u0442 \u0433\u0430\u0434\u0430\u043b\u043a\u0438","text":"\u0428\u0430\u043d\u0441 \u043d\u0430 \u043a\u0430\u0440\u0442\u044b \u0442\u0430\u0440\u043e +%s%"},"id24":{"max_lvl":5,"values":"10,20,30,40,50","points":"1,2,3,4,5","open_pts":30,"hidden":0,"title":"\u0423\u0432\u043e\u0440\u043e\u0442 \u043e\u0442 \u0440\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440\u0430","text":"\u0428\u0430\u043d\u0441 \u0443\u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043e\u0442 \u043f\u0443\u043b\u0438 \u0440\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440\u0430 +%s%"},"id25":{"max_lvl":5,"values":"10,20,30,40,50","points":"1,2,3,4,5","open_pts":30,"hidden":0,"title":"\u0423\u0432\u043e\u0440\u043e\u0442 \u043e\u0442 \u043a\u0438\u043b\u043b\u0435\u0440\u0430","text":"\u0428\u0430\u043d\u0441 \u0441\u043f\u0430\u0441\u0442\u0438\u0441\u044c \u043e\u0442 \u043a\u0438\u043b\u043b\u0435\u0440\u0430 +%s%"},"id26":{"max_lvl":1,"values":"1","points":"3","open_pts":40,"hidden":0,"title":"\u0411\u043e\u0433\u0430\u0442\u044b\u0439 \u0430\u0440\u0441\u0435\u043d\u0430\u043b","text":"\u041b\u0438\u043c\u0438\u0442 \u044d\u043a\u0441\u0442\u0440 +1"},"id27":{"max_lvl":5,"values":"5,10,15,20,25","points":"1,2,3,4,5","open_pts":40,"hidden":0,"title":"\u041e\u043f\u044b\u0442 II","text":"+%s% \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"id28":{"max_lvl":1,"values":"1","points":"3","open_pts":40,"hidden":0,"title":"\u0421\u043e\u0437\u0434\u0430\u0442\u0435\u043b\u044c","text":"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043b\u044e\u0431\u044b\u0445 \u043a\u043e\u043c\u043d\u0430\u0442 \u0431\u0435\u0437 \u043e\u0447\u0435\u0440\u0435\u0434\u0438"},"id29":{"max_lvl":5,"values":"1,2,3,4,5","points":"1,2,3,4,5","open_pts":40,"hidden":0,"title":"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 II","text":"+%s \u0440\u0435\u0439\u0442\u0438\u043d\u0433[\u0430,,\u0430] \u043f\u0440\u0438 \u043f\u043e\u0431\u0435\u0434\u0435 \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435"},"id31":{"max_lvl":1,"values":"1","points":"1","open_pts":45,"hidden":0,"title":"\u041d\u0435\u0432\u0438\u0434\u0438\u043c\u043a\u0430","text":"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0441\u0435\u0449\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432, \u043d\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u044f\u0441\u044c \u0443 \u043d\u0438\u0445 \u0432 \u0433\u043e\u0441\u0442\u044f\u0445"},"id32":{"max_lvl":5,"values":"10,20,30,40,50","points":"1,2,3,4,5","open_pts":45,"hidden":0,"title":"\u0411\u0435\u0437 \u0448\u0430\u043d\u0441\u043e\u0432 \u043d\u0430 \u043f\u0440\u043e\u0432\u0430\u043b","text":"\u0428\u0430\u043d\u0441 %s% \u043d\u0430 \u043f\u0440\u043e\u0431\u0438\u0432\u043d\u043e\u0439 \u0443\u0434\u0430\u0440 \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u041c\u0430\u043d\u044c\u044f\u043a\u0430 (\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u0443\u0435\u0442 \u043c\u0430\u0441\u043a\u0443, \u0434\u043e\u043a\u0442\u043e\u0440\u0430 \u0438 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430)"},"id33":{"max_lvl":5,"values":"5,10,15,20,25","points":"1,2,3,4,5","open_pts":45,"hidden":0,"title":"\u0421\u0435\u0440\u0438\u0439\u043d\u044b\u0439 \u041c\u0430\u043d\u044c\u044f\u043a","text":"\u0428\u0430\u043d\u0441 %s% \u043d\u0430 \u0443\u0431\u0438\u0439\u0441\u0442\u0432\u043e \u0441\u043e\u0441\u0435\u0434\u043d\u0435\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u041c\u0430\u043d\u044c\u044f\u043a\u0430"},"id34":{"max_lvl":5,"values":"5,10,15,20,25","points":"1,2,3,4,5","open_pts":45,"hidden":0,"title":"\u041a\u0440\u043e\u0432\u043e\u0436\u0430\u0434\u043d\u044b\u0439 \u0414\u0432\u0443\u043b\u0438\u043a\u0438\u0439","text":"\u0428\u0430\u043d\u0441 %s% \u043d\u0430 \u0443\u0431\u0438\u0439\u0441\u0442\u0432\u043e \u0441\u043e\u0441\u0435\u0434\u043d\u0435\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e (\u043d\u0435 \u0443\u0431\u0438\u0432\u0430\u0435\u0442 \u0441\u043e\u044e\u0437\u043d\u0438\u043a\u043e\u0432)"},"id35":{"max_lvl":5,"values":"5,10,15,20,25","points":"1,2,3,4,5","open_pts":45,"hidden":0,"title":"\u0416\u0435\u0440\u0442\u0432\u044b \u043c\u0430\u0444\u0438\u0438","text":"\u0428\u0430\u043d\u0441 %s% \u043d\u0430 \u0443\u0431\u0438\u0439\u0441\u0442\u0432\u043e \u0441\u043e\u0441\u0435\u0434\u043d\u0435\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 \u043f\u0440\u0438 \u0438\u0433\u0440\u0435 \u0437\u0430 \u041c\u0430\u0444\u0438\u044e (\u043d\u0435 \u0443\u0431\u0438\u0432\u0430\u0435\u0442 \u0441\u043e\u044e\u0437\u043d\u0438\u043a\u043e\u0432)"},"id36":{"max_lvl":3,"values":"3,2,1","points":"1,2,3","open_pts":50,"hidden":0,"title":"\u0414\u0435\u0442\u0435\u043a\u0442\u043e\u0440 \u043b\u0436\u0438","text":"\u0414\u0435\u0442\u0435\u043a\u0442\u043e\u0440 \u043b\u0436\u0438 \u0441\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u0442 \u043e\u0442 %s \u0444\u0440\u0430\u0437[,\u044b,]"},"id37":{"max_lvl":1,"values":"1","points":"3","open_pts":50,"hidden":0,"title":"\u041a\u0440\u0435\u043f\u043a\u0438\u0439 \u0431\u0440\u0430\u043a","text":"\u0411\u0440\u0430\u043a \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0440\u0430\u0441\u043f\u0430\u0441\u0442\u044c\u0441\u044f \u043e\u0442 \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043a\u0430 \u0432\u043d\u0438\u043c\u0430\u043d\u0438\u044f"},"id38":{"max_lvl":1,"values":"1","points":"1","open_pts":50,"hidden":0,"title":"\u041d\u0430\u0434\u0435\u0436\u043d\u0430\u044f \u043f\u0440\u043e\u0441\u043b\u0443\u0448\u043a\u0430","text":"\u0412\u0430\u0448 \u0436\u0443\u0447\u043e\u043a \u0434\u0430\u0451\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442, \u0434\u0430\u0436\u0435 \u0435\u0441\u043b\u0438 \u043e\u0431\u0435\u0437\u0432\u0440\u0435\u0436\u0435\u043d \u0447\u0443\u0436\u0438\u043c \u0436\u0443\u0447\u043a\u043e\u043c"},"id39":{"max_lvl":1,"values":"1","points":"1","open_pts":50,"hidden":0,"title":"\u0420\u0430\u0446\u0438\u044f","text":"\u0412\u0430\u0448\u0430 \u0440\u0430\u0446\u0438\u044f \u043d\u0435 \u0433\u043b\u0443\u0448\u0438\u0442\u0441\u044f \u0440\u0430\u0446\u0438\u0435\u0439 \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430"},"id40":{"max_lvl":1,"values":"1","points":"3","open_pts":50,"hidden":0,"title":"\u041f\u0440\u043e\u0431\u0438\u0432\u043d\u043e\u0439 \u0432\u044b\u0441\u0442\u0440\u0435\u043b","text":"100% \u043f\u0440\u043e\u0431\u0438\u0432\u0430\u043d\u0438\u0435 \u0431\u0440\u043e\u043d\u0438 \u043f\u0440\u0438 \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u0435 \u0438\u0437 \u0440\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440\u0430"},"id56":{"max_lvl":5,"values":"5,10,15,20,25","points":"1,2,3,4,5","open_pts":55,"hidden":0,"title":"\u041c\u0435\u0442\u043a\u043e\u0441\u0442\u044c","text":"\u0428\u0430\u043d\u0441 %s% \u043f\u0440\u0438 \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u0435 \u0438\u0437 \u0410\u041a-47 \u0437\u0430\u0441\u0442\u0440\u0435\u043b\u0438\u0442\u044c \u0438\u0433\u0440\u043e\u043a\u0430 \u0438\u0437 \u043f\u0440\u043e\u0442\u0438\u0432\u043e\u043f\u043e\u043b\u043e\u0436\u043d\u043e\u0439 \u043a\u043e\u043c\u0430\u043d\u0434\u044b"},"id57":{"max_lvl":5,"values":"3,6,9,12,15","points":"1,2,3,4,5","open_pts":55,"hidden":0,"title":"\u0422\u0440\u043e\u0439\u043d\u043e\u0439 \u0432\u044b\u0441\u0442\u0440\u0435\u043b","text":"\u0428\u0430\u043d\u0441 %s% \u043d\u0430 \u0442\u0440\u043e\u0439\u043d\u043e\u0439 \u0432\u044b\u0441\u0442\u0440\u0435\u043b \u0438\u0437 \u0410\u041a-47"},"id58":{"max_lvl":5,"values":"5,10,15,20,25","points":"1,2,3,4,5","open_pts":55,"hidden":0,"title":"\u0422\u0430\u0440\u043e \u0431\u0443\u0441\u0442\u0435\u0440","text":"\u0428\u0430\u043d\u0441 %s% \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0440\u0442\u0430\u043c\u0438 \u0422\u0430\u0440\u043e \u0441\u043e\u0441\u0435\u0434\u043d\u044e\u044e \u0441 \u0438\u0433\u0440\u043e\u043a\u043e\u043c \u0440\u043e\u043b\u044c"},"id59":{"max_lvl":5,"values":"5,10,15,20,25","points":"1,2,3,4,5","open_pts":55,"hidden":0,"title":"\u0411\u0435\u0441\u0441\u043e\u043d\u043d\u0438\u0446\u0430","text":"\u0428\u0430\u043d\u0441 %s% \u043f\u0440\u043e\u0441\u043d\u0443\u0442\u044c\u0441\u044f \u043f\u043e\u0441\u043b\u0435 \u0443\u0441\u044b\u043f\u043b\u0435\u043d\u0438\u044f \u0441\u043d\u043e\u0442\u0432\u043e\u0440\u043d\u044b\u043c"},"id60":{"max_lvl":5,"values":"3,6,9,12,15","points":"1,2,3,4,5","open_pts":55,"hidden":0,"title":"\u0420\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440 \u0431\u0443\u0441\u0442\u0435\u0440","text":"\u0428\u0430\u043d\u0441 %s% \u043f\u0440\u0438 \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u0435 \u0438\u0437 \u0440\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440\u0430 \u0443\u0431\u0438\u0442\u044c \u0441\u043e\u0441\u0435\u0434\u043d\u0435\u0433\u043e \u0441 \u0436\u0435\u0440\u0442\u0432\u043e\u0439 \u0438\u0433\u0440\u043e\u043a\u0430"},"id43":{"max_lvl":1,"values":"1","points":"3","open_pts":60,"hidden":0,"title":"\u0421\u0442\u0440\u0435\u043b\u044f\u0435\u043c \u0442\u043e\u0447\u043d\u0435\u0435","text":"\u0428\u0430\u043d\u0441 \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430 \u043d\u0430 \u0443\u0432\u043e\u0440\u043e\u0442 \u043e\u0442 \u0432\u044b\u0441\u0442\u0440\u0435\u043b\u0430 \u0438\u0437 \u0440\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440\u0430 \u0441\u043e\u043a\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u0432\u0434\u0432\u043e\u0435"},"id44":{"max_lvl":1,"values":"1","points":"3","open_pts":60,"hidden":0,"title":"\u0417\u0430\u0449\u0438\u0442\u0430 \u043e\u0442 \u0433\u0430\u0434\u0430\u043d\u0438\u0439","text":"\u0428\u0430\u043d\u0441 \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430 \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0432\u0430\u0441 \u043a\u0430\u0440\u0442\u0430\u043c\u0438 \u0422\u0430\u0440\u043e \u0441\u043e\u043a\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u0432\u0434\u0432\u043e\u0435"},"id45":{"max_lvl":1,"values":"1","points":"3","open_pts":60,"hidden":0,"title":"\u0423\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u0435 \u043a\u0438\u043b\u043b\u0435\u0440\u0430","text":"\u0428\u0430\u043d\u0441 \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430 \u043d\u0430 \u0443\u0432\u043e\u0440\u043e\u0442 \u043e\u0442 \u043a\u0438\u043b\u043b\u0435\u0440\u0430 \u0441\u043e\u043a\u0440\u0430\u0449\u0430\u0435\u0442\u0441\u044f \u0432\u0434\u0432\u043e\u0435"},"id46":{"max_lvl":5,"values":"5,10,15,20,25","points":"1,2,3,4,5","open_pts":70,"hidden":0,"title":"\u041e\u043f\u044b\u0442 III","text":"+%s% \u043e\u043f\u044b\u0442\u0430 \u0437\u0430 \u0438\u0433\u0440\u0443"},"id47":{"max_lvl":5,"values":"10,20,30,40,50","points":"1,2,3,4,5","open_pts":70,"hidden":0,"title":"\u0417\u0430\u0449\u0438\u0442\u0430 \u043e\u0442 \u043a\u0438\u043b\u043b\u0435\u0440\u0430","text":"\u0428\u0430\u043d\u0441 \u0441\u043f\u0430\u0441\u0442\u0438\u0441\u044c \u043e\u0442 \u043a\u0438\u043b\u043b\u0435\u0440\u0430 +%s%"},"id48":{"max_lvl":5,"values":"10,20,30,40,50","points":"1,2,3,4,5","open_pts":70,"hidden":0,"title":"\u0414\u043e\u0432\u0435\u0440\u0438\u0435","text":"\u0428\u0430\u043d\u0441 \u043d\u0430 \u0438\u0441\u043f\u043e\u0432\u0435\u0434\u044c +%s%"},"id49":{"max_lvl":5,"values":"10,20,30,40,50","points":"1,2,3,4,5","open_pts":70,"hidden":0,"title":"\u0421\u0447\u0430\u0441\u0442\u043b\u0438\u0432\u044b\u0439 \u0443\u0432\u043e\u0440\u043e\u0442","text":"\u0428\u0430\u043d\u0441 \u0443\u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043e\u0442 \u043f\u0443\u043b\u0438 \u0440\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440\u0430 +%s%"},"id50":{"max_lvl":5,"values":"10,20,30,40,50","points":"1,2,3,4,5","open_pts":70,"hidden":0,"title":"\u041a\u0430\u0440\u0442\u0430 \u0424\u043e\u0440\u0442\u0443\u043d\u044b","text":"\u0428\u0430\u043d\u0441 \u043d\u0430 \u043a\u0430\u0440\u0442\u044b \u0442\u0430\u0440\u043e +%s%"},"id51":{"max_lvl":1,"values":"1","points":"3","open_pts":80,"hidden":0,"title":"\u041a\u043e\u0437\u044b\u0440\u044c \u0432 \u0440\u0443\u043a\u0430\u0432\u0435","text":"\u041b\u0438\u043c\u0438\u0442 \u044d\u043a\u0441\u0442\u0440 \u0438\u0437 \u043e\u0441\u043e\u0431\u044b\u0445 \u0441\u043e\u0431\u044b\u0442\u0438\u0439 +1"},"id52":{"max_lvl":1,"values":"1","points":"1","open_pts":80,"hidden":0,"title":"\u0412\u0440\u0435\u043c\u044f \u2013 \u0434\u0435\u043d\u044c\u0433\u0438","text":"\u0421\u043d\u044f\u0442\u0438\u0435 10 \u043c\u0438\u043d\u0443\u0442\u043d\u043e\u0433\u043e \u043e\u0433\u0440\u0430\u043d\u0438\u0447\u0435\u043d\u0438\u044f \u043f\u0440\u0438 \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u043c \u0434\u043e\u0441\u0440\u043e\u0447\u043d\u043e\u043c \u0432\u044b\u0445\u043e\u0434\u0435 \u0438\u0437 \u043f\u0430\u0440\u0442\u0438\u0438"},"id53":{"max_lvl":3,"values":"5,10,15","points":"1,2,3","open_pts":80,"hidden":0,"title":"\u042d\u043b\u0438\u043a\u0441\u0438\u0440 \u0432\u043e\u0441\u043a\u0440\u0435\u0448\u0435\u043d\u0438\u044f","text":"\u0428\u0430\u043d\u0441 \u0432\u043e\u0441\u043a\u0440\u0435\u0441\u043d\u0443\u0442\u044c \u043f\u043e\u0441\u043b\u0435 \u0443\u0431\u0438\u0439\u0441\u0442\u0432\u0430 +%s%"},"id54":{"max_lvl":1,"values":"1","points":"3","open_pts":80,"hidden":0,"title":"\u0412\u0435\u0447\u043d\u043e\u0435 \u0441\u0438\u044f\u043d\u0438\u0435","text":"\u0412\u0435\u0447\u043d\u043e\u0435 \u043c\u0435\u0433\u0430-\u0441\u0435\u0440\u0434\u0435\u0447\u043a\u043e \u0432 \u0431\u0440\u0430\u043a\u0435"},"id55":{"max_lvl":5,"values":"5,10,15,20,25","points":"1,2,3,4,5","open_pts":80,"hidden":0,"title":"\u041f\u043e\u0431\u0435\u0433","text":"\u0428\u0430\u043d\u0441 %s% \u0441\u0431\u0435\u0436\u0430\u0442\u044c \u0438\u0437 \u0442\u044e\u0440\u044c\u043c\u044b"}};
var __ark          = {"ttls":{"1":{"ttl":"\u041d\u043e\u0432\u0438\u0447\u043e\u043a","pic":"newbie","lr":4},"5":{"ttl":"\u041d\u043e\u0432\u0438\u0447\u043e\u043a","pic":"newbie","lr":7},"8":{"ttl":"\u041d\u043e\u0432\u0438\u0447\u043e\u043a","pic":"newbie","lr":10},"11":{"ttl":"\u041c\u0430\u0444\u0438\u043e\u0437\u0438","pic":"mafiosos","lr":14},"15":{"ttl":"\u041c\u0430\u0444\u0438\u043e\u0437\u0438","pic":"mafiosos","lr":17},"18":{"ttl":"\u041c\u0430\u0444\u0438\u043e\u0437\u0438","pic":"mafiosos","lr":20},"21":{"ttl":"\u0413\u043b\u0430\u0432\u0430\u0440\u044c","pic":"leader","lr":24},"25":{"ttl":"\u0413\u043b\u0430\u0432\u0430\u0440\u044c","pic":"leader","lr":27},"28":{"ttl":"\u0413\u043b\u0430\u0432\u0430\u0440\u044c","pic":"leader","lr":30},"31":{"ttl":"\u0421\u043e\u0432\u0435\u0442\u043d\u0438\u043a \u0431\u043e\u0441\u0441\u0430","pic":"bs_advisor","lr":34},"35":{"ttl":"\u0421\u043e\u0432\u0435\u0442\u043d\u0438\u043a \u0431\u043e\u0441\u0441\u0430","pic":"bs_advisor","lr":37},"38":{"ttl":"\u0421\u043e\u0432\u0435\u0442\u043d\u0438\u043a \u0431\u043e\u0441\u0441\u0430","pic":"bs_advisor","lr":40},"41":{"ttl":"\u041c\u043b\u0430\u0434\u0448\u0438\u0439 \u0431\u043e\u0441\u0441","pic":"bs_junior","lr":44},"45":{"ttl":"\u041c\u043b\u0430\u0434\u0448\u0438\u0439 \u0431\u043e\u0441\u0441","pic":"bs_junior","lr":47},"48":{"ttl":"\u041c\u043b\u0430\u0434\u0448\u0438\u0439 \u0431\u043e\u0441\u0441","pic":"bs_junior","lr":50},"51":{"ttl":"\u0411\u043e\u0441\u0441 \u043c\u0430\u0444\u0438\u0438","pic":"boss","lr":54},"55":{"ttl":"\u0411\u043e\u0441\u0441 \u043c\u0430\u0444\u0438\u0438","pic":"boss","lr":57},"58":{"ttl":"\u0411\u043e\u0441\u0441 \u043c\u0430\u0444\u0438\u0438","pic":"boss","lr":60},"61":{"ttl":"\u041a\u0440\u0451\u0441\u0442\u043d\u044b\u0439 \u043e\u0442\u0435\u0446","pic":"godfather","lr":64},"65":{"ttl":"\u041a\u0440\u0451\u0441\u0442\u043d\u044b\u0439 \u043e\u0442\u0435\u0446","pic":"godfather","lr":67},"68":{"ttl":"\u041a\u0440\u0451\u0441\u0442\u043d\u044b\u0439 \u043e\u0442\u0435\u0446","pic":"godfather","lr":70},"71":{"ttl":"\u041a\u0440\u0451\u0441\u0442\u043d\u044b\u0439 \u043e\u0442\u0435\u0446","pic":"godfather","lr":75},"76":{"ttl":"\u0413\u043b\u0430\u0432\u0430 \u043a\u0430\u0440\u0442\u0435\u043b\u044f","pic":"hd_cartel","lr":79},"80":{"ttl":"\u0413\u043b\u0430\u0432\u0430 \u043a\u0430\u0440\u0442\u0435\u043b\u044f","pic":"hd_cartel","lr":82},"83":{"ttl":"\u0413\u043b\u0430\u0432\u0430 \u043a\u0430\u0440\u0442\u0435\u043b\u044f","pic":"hd_cartel","lr":85},"86":{"ttl":"\u0413\u043b\u0430\u0432\u0430 \u043a\u0430\u0440\u0442\u0435\u043b\u044f","pic":"hd_cartel","lr":90},"91":{"ttl":"\u0411\u043e\u0441\u0441 \u0432\u0441\u0435\u0445 \u0431\u043e\u0441\u0441\u043e\u0432","pic":"bs_oa_bs","lr":94},"95":{"ttl":"\u0411\u043e\u0441\u0441 \u0432\u0441\u0435\u0445 \u0431\u043e\u0441\u0441\u043e\u0432","pic":"bs_oa_bs","lr":97},"98":{"ttl":"\u0411\u043e\u0441\u0441 \u0432\u0441\u0435\u0445 \u0431\u043e\u0441\u0441\u043e\u0432","pic":"bs_oa_bs","lr":100},"101":{"ttl":"\u0411\u043e\u0441\u0441 \u0432\u0441\u0435\u0445 \u0431\u043e\u0441\u0441\u043e\u0432","pic":"bs_oa_bs","lr":-1}},"lims":{"1":{"pts":50,"amount":1000},"2":{"pts":150,"amount":1500},"3":{"pts":300,"amount":2000},"4":{"pts":500,"amount":2500},"5":{"pts":750,"amount":3000},"6":{"pts":1000,"amount":3500},"7":{"pts":1500,"amount":4000},"8":{"pts":2000,"amount":4500},"9":{"pts":2500,"amount":5000},"10":{"pts":3000,"amount":6000},"11":{"pts":3500,"amount":7000},"12":{"pts":4000,"amount":8000},"13":{"pts":4500,"amount":9000},"14":{"pts":5000,"amount":10000},"15":{"pts":5500,"amount":12000},"16":{"pts":6000,"amount":15000},"17":{"pts":6500,"amount":18000},"18":{"pts":7000,"amount":21000},"19":{"pts":8000,"amount":24000},"20":{"pts":9000,"amount":27000},"21":{"pts":10000,"amount":30000},"22":{"pts":11000,"amount":35000},"23":{"pts":12000,"amount":40000},"24":{"pts":13000,"amount":45000},"25":{"pts":14000,"amount":50000},"26":{"pts":15000,"amount":55000},"27":{"pts":16000,"amount":60000},"28":{"pts":17000,"amount":65000},"29":{"pts":18000,"amount":70000},"30":{"pts":19000,"amount":75000},"31":{"pts":20000,"amount":80000},"32":{"pts":21000,"amount":85000},"33":{"pts":22000,"amount":90000},"34":{"pts":23000,"amount":95000},"35":{"pts":24000,"amount":100000,"next":63,"step":1000},"63":{"pts":53000,"amount":200000,"next":91,"step":2000},"91":{"pts":109000,"amount":250000,"last":true,"step":2000}}};
var __evq          = {"2":{"title":"\u041f\u043e\u0431\u0435\u0434\u0430 \u0433\u0440\u0430\u0436\u0434\u0430\u043d","text":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c %s \u0440\u0430\u0437[,,\u0430] \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0433\u0440\u0430\u0436\u0434\u0430\u043d","limits":[3,7,15]},"3":{"title":"\u041f\u043e\u0431\u0435\u0434\u0430 \u043c\u0430\u0444\u0438\u0438","text":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c %s \u0440\u0430\u0437[,,\u0430] \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u043c\u0430\u0444\u0438\u0438","limits":[3,5,10]},"4":{"title":"\u0412 \u0442\u044e\u0440\u044c\u043c\u0443","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0433\u0440\u0430\u0436\u0434\u0430\u043d, \u043f\u043e\u0441\u0430\u0434\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043c\u0430\u0444\u0438\u0438","limits":[5,10,15]},"5":{"title":"\u0418\u0433\u0440\u044b \u043d\u0430 8","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u043d\u0430 8 \u0438\u0433\u0440\u043e\u043a\u043e\u0432","limits":[10,20,30]},"6":{"title":"\u0418\u0433\u0440\u044b \u043d\u0430 12","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u043d\u0430 12 \u0438\u0433\u0440\u043e\u043a\u043e\u0432","limits":[7,15,25]},"7":{"title":"\u0418\u0433\u0440\u044b \u043d\u0430 16","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u043d\u0430 16 \u0438\u0433\u0440\u043e\u043a\u043e\u0432","limits":[5,10,20]},"8":{"title":"\u0418\u0433\u0440\u044b \u043d\u0430 20","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u043d\u0430 20 \u0438\u0433\u0440\u043e\u043a\u043e\u0432","limits":[3,7,15]},"9":{"title":"\u0420\u0435\u0439\u0442\u0438\u043d\u0433","text":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c %s \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430","limits":[100,250,500]},"10":{"title":"\u041e\u043f\u044b\u0442","text":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c %s \u043e\u043f\u044b\u0442\u0430","limits":[250,500,1000]},"11":{"title":"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430","limits":[5,10,25]},"12":{"title":"\u041c\u0430\u0444\u0438\u043e\u0437\u0438","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440 \u0437\u0430 \u043c\u0430\u0444\u0438\u043e\u0437\u0438","limits":[5,10,25]},"13":{"title":"\u0414\u043e\u043a\u0442\u043e\u0440","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u0434\u043e\u043a\u0442\u043e\u0440\u0430","limits":[3,5,10]},"14":{"title":"\u041a\u043e\u043c\u0438\u0441\u0441\u0430\u0440","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b]  \u0437\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430","limits":[3,5,10]},"15":{"title":"\u0412\u043e\u0440 \u0438 \u0441\u0442\u0435\u0440\u0432\u0430","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u0432\u043e\u0440\u0430\/\u0441\u0442\u0435\u0440\u0432\u0443","limits":[2,3,5]},"16":{"title":"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044f","limits":[2,3,5]},"17":{"title":"\u0414\u0432\u0443\u043b\u0438\u043a\u0438\u0439","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e","limits":[1,3,5]},"18":{"title":"\u0411\u043e\u0441\u0441 \u043c\u0430\u0444\u0438\u0438","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u0431\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438","limits":[1,3,5]},"19":{"title":"\u041c\u0430\u043d\u044c\u044f\u043a","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u043c\u0430\u043d\u044c\u044f\u043a\u0430","limits":[1,3,5]},"20":{"title":"\u041c\u0443\u0436 \u0438 \u0436\u0435\u043d\u0430","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0441 \u043c\u0443\u0436\u0435\u043c\/\u0436\u0435\u043d\u043e\u0439 \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0433\u0440\u0430\u0436\u0434\u0430\u043d","limits":[1,3,5]},"21":{"title":"\u0414\u0440\u0430\u043a\u0430","text":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c %s \u0440\u0430\u0437[,,\u0430] \u0432 \u0434\u0440\u0430\u043a\u0435","limits":[1,2,3]},"23":{"title":"\u041a\u0438\u043b\u043b\u0435\u0440","text":"\u0423\u0431\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u00ab\u041a\u0438\u043b\u043b\u0435\u0440\u0430\u00bb","limits":[2,3,5]},"25":{"title":"\u041c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0430","text":"\u0421\u043a\u0440\u044b\u0442\u044c\u0441\u044f \u043d\u043e\u0447\u044c\u044e %s \u0440\u0430\u0437[,,\u0430] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u00ab\u041c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0438\u00bb","limits":[5,10,15]},"27":{"title":"\u041f\u0430\u0441\u043f\u043e\u0440\u0442","text":"\u0417\u0430\u0449\u0438\u0442\u0438\u0442\u044c\u0441\u044f %s \u0440\u0430\u0437[,,\u0430] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u00ab\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430\u00bb","limits":[2,3,5]},"28":{"title":"\u0420\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440","text":"\u0423\u0431\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432] \u0438\u0437 \u00ab\u0420\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440\u0430\u00bb","limits":[2,3,5]},"29":{"title":"\u041f\u0441\u0438\u0445\u043e\u0437","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u00ab\u041f\u0441\u0438\u0445\u043e\u0437\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[2,3,5]},"31":{"title":"\u041f\u043e\u0434\u0430\u0440\u043a\u0438","text":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c %s \u043b\u044e\u0431\u044b\u0445 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432","limits":[10,15,30]},"35":{"title":"\u0418\u0441\u043f\u043e\u0432\u0435\u0434\u044c","text":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u0441\u043f\u043e\u0432\u0435\u0434\u044c \u043e\u0442 \u0434\u0440\u0443\u0433\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430 %s \u0440\u0430\u0437[,,\u0430]","limits":[3,5,10]},"42":{"title":"\u041c\u0435\u0433\u0430-\u043f\u043e\u0434\u0430\u0440\u043a\u0438","text":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c %s \u043b\u044e\u0431\u044b\u0445 \u043c\u0435\u0433\u0430-\u043f\u043e\u0434\u0430\u0440\u043a\u0430 \u043b\u044e\u0431\u043e\u043c\u0443 \u0438\u0433\u0440\u043e\u043a\u0443","limits":[1,2,3]},"43":{"title":"\u0416\u0435\u0440\u0442\u0432\u044b \u043c\u0430\u043d\u044c\u044f\u043a\u0430","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043c\u0430\u043d\u044c\u044f\u043a\u0430, \u0443\u0431\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043d\u043e\u0447\u044c\u044e","limits":[3,5,10]},"64":{"title":"\u0421\u043d\u0430\u0439\u043f\u0435\u0440\u0441\u043a\u0430\u044f \u0432\u0438\u043d\u0442\u043e\u0432\u043a\u0430","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u00ab\u0421\u043d\u0430\u0439\u043f\u0435\u0440\u0441\u043a\u0443\u044e \u0432\u0438\u043d\u0442\u043e\u0432\u043a\u0443\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"65":{"title":"\u041a\u0430\u0441\u0442\u0435\u0442","text":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u043d\u0430 \u0434\u0440\u0430\u043a\u0435 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u00ab\u041a\u0430\u0441\u0442\u0435\u0442\u0430\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"66":{"title":"\u0420\u0430\u0441\u0442\u044f\u0436\u043a\u0430","text":"\u041f\u043e\u0434\u043e\u0440\u0432\u0430\u0442\u044c \u043d\u0430 \u00ab\u0420\u0430\u0441\u0442\u044f\u0436\u043a\u0435\u00bb %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432]","limits":[3,5,10]},"67":{"title":"\u041f\u0430\u044f\u043b\u044c\u043d\u0438\u043a","text":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u0440\u043e\u043b\u044c \u00ab\u041f\u0430\u044f\u043b\u044c\u043d\u0438\u043a\u043e\u043c\u00bb %s \u0440\u0430\u0437","limits":[5,10,15]},"68":{"title":"\u0428\u043e\u043a\u0435\u0440","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u00ab\u0428\u043e\u043a\u0435\u0440\u00bb %s \u0440\u0430\u0437","limits":[10,20,30]},"69":{"title":"\u041c\u0430\u0433\u043d\u0438\u0442","text":"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u00ab\u041c\u0430\u0433\u043d\u0438\u0442\u00bb \u043d\u0430 %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432","limits":[5,10,15]},"70":{"title":"\u041a\u0430\u043d\u0434\u0430\u043b\u044b","text":"\u041d\u0430\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u00ab\u041a\u0430\u043d\u0434\u0430\u043b\u044b\u00bb \u043d\u0430 %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432]","limits":[1,2,3]},"71":{"title":"\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u043c\u0430\u0444\u0438\u043e\u0437\u0438","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u00ab\u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u043c\u0430\u0444\u0438\u043e\u0437\u0438\u00bb %s \u0440\u0430\u0437","limits":[10,20,30]},"72":{"title":"\u0420\u0435\u0430\u043d\u0438\u043c\u0430\u0442\u043e\u0440","text":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c \u043a \u0436\u0438\u0437\u043d\u0438 %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u00ab\u0420\u0435\u0430\u043d\u0438\u043c\u0430\u0442\u043e\u0440\u0430\u00bb","limits":[3,5,10]},"73":{"title":"\u0427\u0451\u0440\u043d\u044b\u0439 \u0440\u044b\u043d\u043e\u043a","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043b\u044e\u0431\u0443\u044e \u044d\u043a\u0441\u0442\u0440\u0443 \u0441 \u0427\u0451\u0440\u043d\u043e\u0433\u043e \u0440\u044b\u043d\u043a\u0430 %s \u0440\u0430\u0437","limits":[5,15,30]},"74":{"title":"\u041f\u0440\u0438\u0446\u0435\u043b\u044c\u043d\u044b\u0439 \u0432\u044b\u0441\u0442\u0440\u0435\u043b","text":"\u0417\u0430\u0441\u0442\u0440\u0435\u043b\u0438\u0442\u044c \u0438\u0437 \u00ab\u0421\u043d\u0430\u0439\u043f\u0435\u0440\u0441\u043a\u043e\u0439 \u0432\u0438\u043d\u0442\u043e\u0432\u043a\u0438\u00bb %s \u043c\u0430\u043d\u044c\u044f\u043a[\u043e\u0432,\u0430,\u043e\u0432]","limits":[1,2,3]},"75":{"title":"\u0414\u0440\u0430\u043a\u0430 \u043d\u0430 \u043a\u0430\u0441\u0442\u0435\u0442\u0430\u0445","text":"\u0412 \u0434\u0440\u0430\u043a\u0435 \u043d\u0430 \u043a\u0430\u0441\u0442\u0435\u0442\u0430\u0445 \u043f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430 %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"76":{"title":"\u0420\u0430\u0441\u0442\u044f\u0436\u043a\u0430 \u0434\u043b\u044f \u043c\u0430\u0444\u0438\u0438","text":"\u041f\u043e\u0434\u043e\u0440\u0432\u0430\u0442\u044c \u043d\u0430 \u00ab\u0420\u0430\u0441\u0442\u044f\u0436\u043a\u0435\u00bb %s \u043c\u0430\u0444\u0438\u043e\u0437\u0438","limits":[1,2,3]},"77":{"title":"\u041e\u0442\u0432\u0435\u0442","text":"\u041d\u0430\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043a\u0430\u043d\u0434\u0430\u043b\u044b \u043d\u0430 \u043b\u044e\u0431\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430, \u043a\u043e\u0433\u0434\u0430 \u0432\u044b \u0441\u0430\u043c\u0438 \u0432 \u043a\u0430\u043d\u0434\u0430\u043b\u0430\u0445, %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"78":{"title":"\u0421\u043e\u044e\u0437\u043d\u0438\u043a\u0438","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u00ab\u0420\u0435\u0430\u043d\u0438\u043c\u0430\u0442\u043e\u0440\u00bb \u043d\u0430 \u0441\u043e\u044e\u0437\u043d\u0438\u043a\u0430\u0445 %s \u0440\u0430\u0437[,,\u0430]","limits":[3,5,10]},"79":{"title":"\u041a\u0430\u0442\u0430\u043d\u0430","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u041a\u0430\u0442\u0430\u043d\u0430\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[2,3,4]},"80":{"title":"\u0411\u043e\u0447\u043e\u043d\u043e\u043a \u0441 \u043f\u043e\u0440\u043e\u0445\u043e\u043c","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u0411\u043e\u0447\u043e\u043d\u043e\u043a \u0441 \u043f\u043e\u0440\u043e\u0445\u043e\u043c\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[5,10,15]},"81":{"title":"\u0414\u044b\u043c\u043e\u0432\u0430\u044f \u0431\u043e\u043c\u0431\u043e\u0447\u043a\u0430","text":"\u041f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \u00ab\u0414\u044b\u043c\u043e\u0432\u0430\u044f \u0431\u043e\u043c\u0431\u043e\u0447\u043a\u0430\u00bb \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u043d\u043e\u0447\u043d\u043e\u0433\u043e \u0432\u0438\u0437\u0438\u0442\u0430 %s \u0440\u0430\u0437[,,\u0430]","limits":[10,20,30]},"82":{"title":"\u041d\u043e\u0447\u043d\u043e\u0435 \u0437\u0440\u0435\u043d\u0438\u0435","text":"\u041f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \u00ab\u041d\u043e\u0447\u043d\u043e\u0435 \u0437\u0440\u0435\u043d\u0438\u0435\u00bb \u043f\u0440\u043e\u0438\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0443 \u0438\u0433\u0440\u043e\u043a\u0430 %s \u0440\u0430\u0437[,,\u0430]","limits":[10,15,20]},"83":{"title":"\u0417\u0430\u043c\u0435\u0441","text":"\u0423\u0431\u0438\u0442\u044c \u00ab\u041a\u0430\u0442\u0430\u043d\u043e\u0439\u00bb %s \u043b\u044e\u0431\u044b\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u0438\u0433\u0440\u043e\u0432\u043e\u0439 \u043f\u0430\u0440\u0442\u0438\u0438","limits":[2,3,4]},"84":{"title":"\u0423\u0441\u043f\u0435\u0448\u043d\u043e\u0435 \u043f\u043e\u043f\u0430\u0434\u0430\u043d\u0438\u0435","text":"\u0412\u0437\u043e\u0440\u0432\u0430\u0442\u044c \u00ab\u0411\u043e\u0447\u043e\u043d\u043a\u043e\u043c \u0441 \u043f\u043e\u0440\u043e\u0445\u043e\u043c\u00bb %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432, \u0432 \u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u0432\u044b \u0431\u0440\u043e\u0441\u0438\u043b\u0438 \u044d\u043a\u0441\u0442\u0440\u0443 \u0438\u0437\u043d\u0430\u0447\u0430\u043b\u044c\u043d\u043e","limits":[3,4,5]},"85":{"title":"\u041d\u0435 \u0441\u0435\u0433\u043e\u0434\u043d\u044f","text":"\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u0411\u043e\u0447\u043e\u043d\u043e\u043a \u0441 \u043f\u043e\u0440\u043e\u0445\u043e\u043c\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[15,20,25]},"86":{"title":"\u0414\u0436\u043e\u043a\u0435\u0440","text":"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c %s \u0440\u043e\u043b[\u0435\u0439,\u044c,\u0438] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \u00ab\u0414\u0436\u043e\u043a\u0435\u0440\u00bb","limits":[5,7,10]},"87":{"title":"\u041a\u0440\u0430\u0436\u0430","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u041a\u0440\u0430\u0436\u0430\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[5,10,15]},"88":{"title":"\u0423\u0434\u0430\u0440 \u0432 \u0441\u043f\u0438\u043d\u0443","text":"\u041f\u0430\u0440\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \u00ab\u0423\u0434\u0430\u0440 \u0432 \u0441\u043f\u0438\u043d\u0443\u00bb","limits":[5,10,15]},"89":{"title":"\u041a\u043e\u043a\u0442\u0435\u0439\u043b\u044c \u041c\u043e\u043b\u043e\u0442\u043e\u0432\u0430","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u041a\u043e\u043a\u0442\u0435\u0439\u043b\u044c \u041c\u043e\u043b\u043e\u0442\u043e\u0432\u0430\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[2,3,4]},"90":{"title":"\u0412\u0430\u0436\u043d\u044b\u0435 \u0441\u0432\u0435\u0434\u0435\u043d\u0438\u044f","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043c\u0430\u043d\u044c\u044f\u043a\u0430, \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c %s \u0440\u043e\u043b[\u0435\u0439,\u044c,\u0438] \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \u00ab\u0414\u0436\u043e\u043a\u0435\u0440\u00bb","limits":[3,5,7]},"91":{"title":"\u041c\u0430\u0444\u0438\u043e\u0437\u0438 \u0440\u0430\u0441\u043a\u0440\u044b\u0442!","text":"\u041f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \u00ab\u0414\u0436\u043e\u043a\u0435\u0440\u00bb \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u0440\u043e\u043b\u044c %s \u043c\u0430\u0444\u0438\u043e\u0437\u0438","limits":[1,3,5]},"92":{"title":"\u041a\u0440\u0443\u0433\u043e\u043c \u043e\u0433\u043e\u043d\u044c","text":"\u041f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u00ab\u041a\u043e\u043a\u0442\u0435\u0439\u043b\u044f \u041c\u043e\u043b\u043e\u0442\u043e\u0432\u0430\u00bb \u0443\u0431\u0438\u0442\u044c \u0432 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043e\u0434\u043d\u043e\u0439 \u043f\u0430\u0440\u0442\u0438\u0438 %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432","limits":[2,3,4]},"93":{"title":"\u041f\u0430\u0440\u0430\u043b\u0438\u0437\u0443\u044e\u0449\u0430\u044f \u043b\u043e\u0432\u0443\u0448\u043a\u0430","text":"\u041f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \u00ab\u041f\u0430\u0440\u0430\u043b\u0438\u0437\u0443\u044e\u0449\u0430\u044f \u043b\u043e\u0432\u0443\u0448\u043a\u0430\u00bb \u0438\u0437\u0431\u0435\u0436\u0430\u0442\u044c \u043d\u043e\u0447\u043d\u043e\u0433\u043e \u0432\u0438\u0437\u0438\u0442\u0430 %s \u0440\u0430\u0437[,,\u0430]","limits":[3,6,9]},"94":{"title":"\u041d\u0435\u0432\u0438\u0434\u0438\u043c\u043a\u0430","text":"\u041f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \u00ab\u041d\u0435\u0432\u0438\u0434\u0438\u043c\u043a\u0430\u00bb \u0441\u043d\u044f\u0442\u044c \u0441 \u0441\u0435\u0431\u044f \u0432\u0441\u0435 \u0433\u043e\u043b\u043e\u0441\u0430 %s \u0440\u0430\u0437[,,\u0430]","limits":[5,10,15]},"95":{"title":"\u0421\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u0436\u0430","text":"\u041f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \u00ab\u0421\u0442\u0430\u043b\u044c\u043d\u0430\u044f \u043a\u043e\u0436\u0430\u00bb \u043e\u0442\u0440\u0430\u0437\u0438\u0442\u044c \u043b\u044e\u0431\u0443\u044e \u043f\u0443\u043b\u044e %s \u0440\u0430\u0437[,,\u0430]","limits":[5,10,15]},"96":{"title":"\u041c\u0435\u0433\u0430\u0448\u043e\u043a\u0435\u0440 9000","text":"\u041f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \u00ab\u041c\u0435\u0433\u0430\u0448\u043e\u043a\u0435\u0440 9000\u00bb \u043a\u043e\u043d\u0442\u0443\u0437\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432","limits":[5,10,15]},"97":{"title":"\u041a\u043e\u043b\u0431\u0430 \u0441 \u044f\u0434\u043e\u043c","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u041a\u043e\u043b\u0431\u0430 \u0441 \u044f\u0434\u043e\u043c\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[2,3,4]},"98":{"title":"\u0427\u0451\u0440\u043d\u0430\u044f \u043c\u0435\u0442\u043a\u0430","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u0427\u0451\u0440\u043d\u0430\u044f \u043c\u0435\u0442\u043a\u0430\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[5,10,15]},"99":{"title":"\u041a\u0440\u0435\u043f\u043a\u0438\u0439 \u0440\u043e\u043c","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u041a\u0440\u0435\u043f\u043a\u0438\u0439 \u0440\u043e\u043c\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[5,7,10]},"100":{"title":"\u041a\u043e\u0440\u0430\u0431\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u0443\u0448\u043a\u0430","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u041a\u043e\u0440\u0430\u0431\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u0443\u0448\u043a\u0430\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[5,7,10]},"103":{"title":"\u0412\u0435\u0437\u0434\u0435 \u0432\u0437\u0440\u044b\u0432\u044b","text":"\u041f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u044d\u043a\u0441\u0442\u0440\u044b \u00ab\u041a\u043e\u0440\u0430\u0431\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u0443\u0448\u043a\u0430\u00bb \u0443\u0431\u0438\u0442\u044c %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432","limits":[5,7,10]},"104":{"title":"\u0411\u043e\u0441\u0441 \u043d\u0430 \u043a\u043e\u0440\u0430\u0431\u043b\u0435","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0431\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438, \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \"\u041a\u043e\u0440\u0430\u0431\u0435\u043b\u044c\u043d\u0430\u044f \u043f\u0443\u0448\u043a\u0430\" %s \u0440\u0430\u0437","limits":[3,5,7]},"105":{"title":"\u041f\u043e\u0431\u0435\u0434\u0430 \u041b\u0438\u043b\u0438","text":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c %s \u0440\u0430\u0437[,,\u0430] \u0437\u0430 \u0412\u0437\u0440\u044b\u0432\u043d\u0443\u044e \u041b\u0438\u043b\u0438","limits":[1,2,3]},"106":{"title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0440\u043e\u043b\u044c \u00ab\u0412\u0437\u0440\u044b\u0432\u043d\u0430\u044f \u041b\u0438\u043b\u0438\u00bb \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"107":{"title":"\u041a\u043e\u043c\u0438\u0441\u0441\u0430\u0440","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430, \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u00ab\u0412\u0437\u0440\u044b\u0432\u043d\u0443\u044e \u041b\u0438\u043b\u0438\u00bb \u0432 %s \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u0430\u0440\u0442\u0438\u044f\u0445","limits":[1,2,3]},"108":{"title":"\u0414\u043e\u043a\u0442\u043e\u0440","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0434\u043e\u043a\u0442\u043e\u0440\u0430, \u0441\u043f\u0430\u0441\u0442\u0438 \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u043e\u0442 \u00ab\u0412\u0437\u0440\u044b\u0432\u043d\u043e\u0439 \u041b\u0438\u043b\u0438\u00bb \u0432 %s \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u0430\u0440\u0442\u0438\u044f\u0445","limits":[1,2,3]},"109":{"title":"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044f, \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u00ab\u0412\u0437\u0440\u044b\u0432\u043d\u0443\u044e \u041b\u0438\u043b\u0438\u00bb \u0432 %s \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u0430\u0440\u0442\u0438\u044f\u0445","limits":[1,2,3]},"110":{"title":"\u041c\u0430\u0444\u0438\u043e\u0437\u0438","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043c\u0430\u0444\u0438\u043e\u0437\u0438, \u0443\u0431\u0438\u0442\u044c \u043d\u043e\u0447\u044c\u044e \u00ab\u0412\u0437\u0440\u044b\u0432\u043d\u0443\u044e \u041b\u0438\u043b\u0438\u00bb %s \u0440\u0430\u0437[,,\u0430] \u0432 \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u0430\u0440\u0442\u0438\u044f\u0445","limits":[1,2,3]},"111":{"title":"\u0411\u043e\u0441\u0441 \u043c\u0430\u0444\u0438\u0438","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0431\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438, \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u00ab\u0412\u0437\u0440\u044b\u0432\u043d\u0443\u044e \u041b\u0438\u043b\u0438\u00bb \u0432 %s \u0440\u0430\u0437\u043d\u044b\u0445 \u043f\u0430\u0440\u0442\u0438\u044f\u0445","limits":[1,2,3]},"112":{"title":"\u041d\u0438\u043a\u0430\u043a\u043e\u0433\u043e \u044f\u0434\u0430","text":"\u0418\u0433\u0440\u0430\u044f \u043f\u0440\u043e\u0442\u0438\u0432 \u0412\u0437\u0440\u044b\u0432\u043d\u043e\u0439 \u041b\u0438\u043b\u0438, \u043e\u0431\u0435\u0437\u0432\u0440\u0435\u0434\u0438\u0442\u044c \u00ab\u042f\u0434\u043e\u0432\u0438\u0442\u0443\u044e \u0431\u043e\u043c\u0431\u0443\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"113":{"title":"\u0411\u0435\u0437 \u043c\u043e\u0440\u043e\u0437\u043e\u0432","text":"\u0418\u0433\u0440\u0430\u044f \u043f\u0440\u043e\u0442\u0438\u0432 \u0412\u0437\u0440\u044b\u0432\u043d\u043e\u0439 \u041b\u0438\u043b\u0438, \u043e\u0431\u0435\u0437\u0432\u0440\u0435\u0434\u0438\u0442\u044c \u00ab\u0426\u0435\u043f\u043d\u0443\u044e \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u043a\u0443\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"114":{"title":"\u041c\u0438\u0440\u043d\u044b\u0439 \u0430\u0442\u043e\u043c","text":"\u0418\u0433\u0440\u0430\u044f \u043f\u0440\u043e\u0442\u0438\u0432 \u0412\u0437\u0440\u044b\u0432\u043d\u043e\u0439 \u041b\u0438\u043b\u0438, \u043e\u0431\u0435\u0437\u0432\u0440\u0435\u0434\u0438\u0442\u044c \u00ab\u0410\u0442\u043e\u043c\u043d\u0443\u044e \u0431\u043e\u043c\u0431\u0443\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"115":{"title":"\u0412\u0441\u0451 \u0441\u043a\u0440\u044b\u0442\u043e","text":"\u0418\u0433\u0440\u0430\u044f \u043f\u0440\u043e\u0442\u0438\u0432 \u0412\u0437\u0440\u044b\u0432\u043d\u043e\u0439 \u041b\u0438\u043b\u0438, \u043e\u0431\u0435\u0437\u0432\u0440\u0435\u0434\u0438\u0442\u044c \u00ab\u0411\u043e\u043c\u0431\u0443 \u0440\u0430\u0441\u043a\u0440\u044b\u0442\u0438\u044f \u0440\u043e\u043b\u0438\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"116":{"title":"\u0411\u0435\u0437 \u0437\u0430\u043f\u0440\u0435\u0442\u043e\u0432","text":"\u0418\u0433\u0440\u0430\u044f \u043f\u0440\u043e\u0442\u0438\u0432 \u0412\u0437\u0440\u044b\u0432\u043d\u043e\u0439 \u041b\u0438\u043b\u0438, \u043e\u0431\u0435\u0437\u0432\u0440\u0435\u0434\u0438\u0442\u044c \u00ab\u0411\u043e\u043c\u0431\u0443 \u043b\u0438\u0448\u0435\u043d\u0438\u044f \u0445\u043e\u0434\u0430\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"117":{"title":"\u041b\u0443\u0447\u0448\u0438\u0439 \u043d\u0430\u043f\u0430\u0440\u043d\u0438\u043a","text":"\u0418\u0433\u0440\u0430\u044f \u043f\u0440\u043e\u0442\u0438\u0432 \u0412\u0437\u0440\u044b\u0432\u043d\u043e\u0439 \u041b\u0438\u043b\u0438, \u043e\u0431\u0435\u0437\u0432\u0440\u0435\u0434\u0438\u0442\u044c \u00ab\u0421\u0432\u044f\u0437\u044b\u0432\u0430\u044e\u0449\u0443\u044e \u0431\u043e\u043c\u0431\u0443\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"118":{"title":"\u041d\u0438\u043a\u0430\u043a\u043e\u0433\u043e \u0441\u043d\u0430","text":"\u0418\u0433\u0440\u0430\u044f \u043f\u0440\u043e\u0442\u0438\u0432 \u0412\u0437\u0440\u044b\u0432\u043d\u043e\u0439 \u041b\u0438\u043b\u0438, \u043e\u0431\u0435\u0437\u0432\u0440\u0435\u0434\u0438\u0442\u044c \u00ab\u0423\u0441\u044b\u043f\u043b\u044f\u044e\u0449\u0443\u044e \u0431\u043e\u043c\u0431\u0443\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"119":{"title":"\u041c\u0435\u0448\u043e\u043a \u0441 \u0436\u0435\u0442\u043e\u043d\u0430\u043c\u0438","text":"\u041e\u0442\u043a\u0440\u044b\u0442\u044c \u00ab\u041c\u0435\u0448\u043e\u043a \u0441 \u0436\u0435\u0442\u043e\u043d\u0430\u043c\u0438\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"120":{"title":"\u041f\u043e\u0442\u0440\u0430\u0447\u0435\u043d\u043e","text":"\u041f\u0440\u043e\u0432\u0430\u043b\u0438\u0442\u044c \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u0435 \u00ab\u041c\u0435\u0448\u043a\u0430 \u0441 \u0436\u0435\u0442\u043e\u043d\u0430\u043c\u0438\u00bb %s \u0440\u0430\u0437","limits":[5,10,15]}};
var __dqs          = {"1":{"title":"\u041f\u043e\u0431\u0435\u0434\u0430 \u0433\u0440\u0430\u0436\u0434\u0430\u043d","text":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c %s \u0440\u0430\u0437[,,\u0430] \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0433\u0440\u0430\u0436\u0434\u0430\u043d","limits":[2,4,6]},"2":{"title":"\u041f\u043e\u0431\u0435\u0434\u0430 \u043c\u0430\u0444\u0438\u0438","text":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c %s \u0440\u0430\u0437[,,\u0430] \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u043c\u0430\u0444\u0438\u0438","limits":[2,4,6]},"3":{"title":"\u041c\u0430\u0444\u0438\u044e \u0432 \u0442\u044e\u0440\u044c\u043c\u0443","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0433\u0440\u0430\u0436\u0434\u0430\u043d, \u043f\u043e\u0441\u0430\u0434\u0438\u0442\u044c \u0432 \u0442\u044e\u0440\u044c\u043c\u0443 %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432] \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043c\u0430\u0444\u0438\u0438","limits":[2,4,6]},"4":{"title":"\u0413\u0440\u0430\u0436\u0434\u0430\u043d \u0432 \u0442\u044e\u0440\u044c\u043c\u0443","text":"\u0418\u0433\u0440\u0430\u044f \u043f\u0440\u043e\u0442\u0438\u0432 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0433\u0440\u0430\u0436\u0434\u0430\u043d, \u043f\u043e\u0441\u0430\u0434\u0438\u0442\u044c \u0432 \u0442\u044e\u0440\u044c\u043c\u0443 %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432] \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u0433\u0440\u0430\u0436\u0434\u0430\u043d","limits":[2,4,6]},"5":{"title":"\u041c\u0430\u043d\u044c\u044f\u043a\u0430 \u0432 \u0442\u044e\u0440\u044c\u043c\u0443","text":"\u041f\u043e\u0441\u0430\u0434\u0438\u0442\u044c \u043d\u0430 \u0434\u043d\u0435\u0432\u043d\u043e\u043c \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0438 %s \u043c\u0430\u043d\u044c\u044f\u043a[\u043e\u0432,\u0430,\u043e\u0432]","limits":[1,2,3]},"6":{"title":"\u0418\u0433\u0440\u044b \u043d\u0430 8","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u043d\u0430 8 \u0438\u0433\u0440\u043e\u043a\u043e\u0432","limits":[2,4,6]},"7":{"title":"\u0418\u0433\u0440\u044b \u043d\u0430 12","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u043d\u0430 12 \u0438\u0433\u0440\u043e\u043a\u043e\u0432","limits":[2,4,6]},"8":{"title":"\u0418\u0433\u0440\u044b \u043d\u0430 16","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u043d\u0430 16 \u0438\u0433\u0440\u043e\u043a\u043e\u0432","limits":[1,2,3]},"9":{"title":"\u0418\u0433\u0440\u044b \u043d\u0430 20","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u043d\u0430 20 \u0438\u0433\u0440\u043e\u043a\u043e\u0432","limits":[1,2,3]},"10":{"title":"\u0420\u0435\u0439\u0442\u0438\u043d\u0433","text":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c %s \u0440\u0435\u0439\u0442\u0438\u043d\u0433\u0430","limits":[100,200,300]},"11":{"title":"\u041e\u043f\u044b\u0442","text":"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c %s \u043e\u043f\u044b\u0442\u0430","limits":[250,500,750]},"12":{"title":"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d\u0430","limits":[1,2,3]},"13":{"title":"\u041a\u043e\u043c\u0438\u0441\u0441\u0430\u0440","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u041a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430","limits":[1,2,3]},"14":{"title":"\u0414\u043e\u043a\u0442\u043e\u0440","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u0414\u043e\u043a\u0442\u043e\u0440\u0430","limits":[1,2,3]},"15":{"title":"\u0412\u043e\u0440\/\u0421\u0442\u0435\u0440\u0432\u0430","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u0412\u043e\u0440\u0430\/\u0421\u0442\u0435\u0440\u0432\u0443","limits":[1,2,3]},"16":{"title":"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044f","limits":[1,2,3]},"17":{"title":"\u041c\u0430\u0444\u0438\u043e\u0437\u0438","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u041c\u0430\u0444\u0438\u043e\u0437\u0438","limits":[1,2,3]},"18":{"title":"\u0411\u043e\u0441\u0441 \u043c\u0430\u0444\u0438\u0438","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u0411\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438","limits":[1,2,3]},"19":{"title":"\u0414\u0432\u0443\u043b\u0438\u043a\u0438\u0439","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e","limits":[1,2,3]},"20":{"title":"\u041c\u0430\u043d\u044c\u044f\u043a","text":"\u0421\u044b\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0437\u0430 \u041c\u0430\u043d\u044c\u044f\u043a\u0430","limits":[1,2,3]},"21":{"title":"\u041c\u0443\u0436 \u0438 \u0436\u0435\u043d\u0430 \u0437\u0430 \u0433\u0440\u0430\u0436\u0434\u0430\u043d","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0441 \u043c\u0443\u0436\u0435\u043c\/\u0436\u0435\u043d\u043e\u0439 \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u0433\u0440\u0430\u0436\u0434\u0430\u043d","limits":[1,2,3]},"22":{"title":"\u041c\u0443\u0436 \u0438 \u0436\u0435\u043d\u0430 \u0437\u0430 \u043c\u0430\u0444\u0438\u044e","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440[,\u0443,\u044b] \u0441 \u043c\u0443\u0436\u0435\u043c\/\u0436\u0435\u043d\u043e\u0439 \u0437\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0443 \u043c\u0430\u0444\u0438\u0438","limits":[1,2,3]},"24":{"title":"\u0416\u0435\u0440\u0442\u0432\u044b \u0434\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0434\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e, \u0443\u0431\u0438\u0442\u044c \u043d\u043e\u0447\u044c\u044e %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432]","limits":[1,2,3]},"25":{"title":"\u0416\u0435\u0440\u0442\u0432\u044b \u043c\u0430\u0444\u0438\u043e\u0437\u0438","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043c\u0430\u0444\u0438\u043e\u0437\u0438, \u0443\u0431\u0438\u0442\u044c \u043d\u043e\u0447\u044c\u044e %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432]","limits":[1,2,3]},"26":{"title":"\u0416\u0435\u0440\u0442\u0432\u044b \u043c\u0430\u043d\u044c\u044f\u043a\u0430","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043c\u0430\u043d\u044c\u044f\u043a\u0430, \u0443\u0431\u0438\u0442\u044c \u043d\u043e\u0447\u044c\u044e %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432]","limits":[1,2,3]},"27":{"title":"\u0425\u043e\u043b\u043e\u0434","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0411\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438, \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u043d\u043e\u0447\u044c\u044e %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432]","limits":[1,2,3]},"28":{"title":"\u0421\u043c\u0435\u0440\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0445\u043e\u043b\u043e\u0434","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0411\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438, \u0437\u0430\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c \u043d\u0430\u0441\u043c\u0435\u0440\u0442\u044c \u043d\u043e\u0447\u044c\u044e %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432]","limits":[1,2,3]},"29":{"title":"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430, \u043f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c \u043d\u043e\u0447\u044c\u044e %s [\u0440\u0430\u0437\u043d\u044b\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432, \u0440\u0430\u0437\u043d\u043e\u0433\u043e \u0438\u0433\u0440\u043e\u043a\u0430, \u0440\u0430\u0437\u043d\u044b\u0445 \u0438\u0433\u0440\u043e\u043a\u043e\u0432]","limits":[1,2,3]},"30":{"title":"\u0412\u044b\u0437\u043e\u0432 \u0434\u043e\u043a\u0442\u043e\u0440\u0430","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0434\u043e\u043a\u0442\u043e\u0440\u0430, \u0441\u043f\u0430\u0441\u0442\u0438 \u043e\u0442 \u0441\u043c\u0435\u0440\u0442\u0438 %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432]","limits":[1,2,3]},"31":{"title":"\u041d\u0435\u0436\u0434\u0430\u043d\u043d\u044b\u0439 \u0432\u0438\u0437\u0438\u0442","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0432\u043e\u0440\u0430\/\u0441\u0442\u0435\u0440\u0432\u0443, \u043b\u0438\u0448\u0438\u0442\u044c \u0445\u043e\u0434\u0430 \u043d\u043e\u0447\u044c\u044e %s \u0438\u0433\u0440\u043e\u043a[\u043e\u0432,\u0430,\u043e\u0432]","limits":[1,2,3]},"32":{"title":"\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044f, \u0431\u044b\u0442\u044c \u043d\u0430 \u043c\u0435\u0441\u0442\u0435 \u043f\u0440\u0435\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"33":{"title":"\u041f\u043e\u0441\u0432\u044f\u0449\u0435\u043d\u0438\u0435","text":"\u0418\u0433\u0440\u0430\u044f \u0437\u0430 \u0434\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e, \u0432\u0441\u0442\u0443\u043f\u0438\u0442\u044c \u0432 \u0440\u044f\u0434\u044b \u043c\u0430\u0444\u0438\u0438 %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"34":{"title":"\u0416\u0438\u0432\u0435\u0435 \u0432\u0441\u0435\u0445 \u0436\u0438\u0432\u044b\u0445","text":"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u044c \u0436\u0438\u0432\u044b\u043c %s \u043f\u0430\u0440\u0442[\u0438\u0439,\u0438\u044e,\u0438\u0438] \u043f\u043e\u0434\u0440\u044f\u0434","limits":[1,2,3]},"35":{"title":"\u0412\u044b\u0436\u0438\u0432\u0448\u0438\u0439","text":"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u044c \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c \u0432\u044b\u0436\u0438\u0432\u0448\u0438\u043c %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"41":{"title":"\u0421\u0432\u043e\u044f \u043b\u0438\u0433\u0430","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c %s \u0438\u0433\u0440, \u0438\u0433\u0440\u0430\u044f \u0432 \u0441\u0432\u043e\u0435\u0439 \u043b\u0438\u0433\u0435","limits":[1,2,3]},"42":{"title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d: \u041a\u043e\u043c\u0438\u0441\u0441\u0430\u0440","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0440\u043e\u043b\u044c \u041a\u043e\u043c\u0438\u0441\u0441\u0430\u0440\u0430 \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"43":{"title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d: \u0414\u043e\u043a\u0442\u043e\u0440","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0440\u043e\u043b\u044c \u0414\u043e\u043a\u0442\u043e\u0440\u0430 \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"44":{"title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d: \u0412\u043e\u0440\/\u0421\u0442\u0435\u0440\u0432\u0430","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0440\u043e\u043b\u044c \u0412\u043e\u0440\u0430\/\u0421\u0442\u0435\u0440\u0432\u044b \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"45":{"title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d: \u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0440\u043e\u043b\u044c \u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044f \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"46":{"title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d: \u0411\u043e\u0441\u0441","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0440\u043e\u043b\u044c \u0411\u043e\u0441\u0441\u0430 \u043c\u0430\u0444\u0438\u0438 \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"47":{"title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d: \u0414\u0432\u0443\u043b\u0438\u043a\u0438\u0439","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0440\u043e\u043b\u044c \u0414\u0432\u0443\u043b\u0438\u043a\u043e\u0433\u043e \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"48":{"title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d: \u041c\u0430\u043d\u044c\u044f\u043a","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u0440\u043e\u043b\u044c \u041c\u0430\u043d\u044c\u044f\u043a\u0430 \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"49":{"title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u043b\u044e\u0431\u0443\u044e \u0440\u043e\u043b\u044c \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 %s \u0440\u0430\u0437[,,\u0430]","limits":[2,4,6]},"50":{"title":"\u0410\u0443\u043a\u0446\u0438\u043e\u043d \u0437\u0430 \u043c\u043e\u043d\u0435\u0442\u044b","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u043b\u044e\u0431\u0443\u044e \u0440\u043e\u043b\u044c \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 \u0437\u0430 20 \u043c\u043e\u043d\u0435\u0442 %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"51":{"title":"\u0412\u044b\u0441\u043e\u043a\u0430\u044f \u0446\u0435\u043d\u0430","text":"\u0412\u044b\u0438\u0433\u0440\u0430\u0442\u044c \u043b\u044e\u0431\u0443\u044e \u0440\u043e\u043b\u044c \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435 \u0441\u043e \u0441\u0442\u0430\u0432\u043a\u043e\u0439 1000+ \u043c\u043e\u043d\u0435\u0442 %s \u0440\u0430\u0437[,,\u0430]","limits":[1,2,3]},"52":{"title":"\u0416\u0443\u0447\u043e\u043a","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u0416\u0443\u0447\u043e\u043a\u00bb %s \u0440\u0430\u0437","limits":[10,15,30]},"54":{"title":"\u0414\u0435\u0442\u0435\u043a\u0442\u043e\u0440 \u043b\u0436\u0438","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u0414\u0435\u0442\u0435\u043a\u0442\u043e\u0440 \u043b\u0436\u0438\u00bb %s \u0440\u0430\u0437","limits":[10,15,30]},"55":{"title":"\u0414\u0432\u043e\u0439\u043d\u043e\u0439 \u0433\u043e\u043b\u043e\u0441","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u0414\u0432\u043e\u0439\u043d\u043e\u0439 \u0433\u043e\u043b\u043e\u0441\u00bb %s \u0440\u0430\u0437","limits":[10,15,30]},"58":{"title":"\u041c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0430","text":"\u0421\u043a\u0440\u044b\u0442\u044c\u0441\u044f \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u043c\u0430\u0441\u043a\u0438\u0440\u043e\u0432\u043a\u0438 %s \u0440\u0430\u0437","limits":[10,15,20]},"60":{"title":"\u0420\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u0420\u0435\u0432\u043e\u043b\u044c\u0432\u0435\u0440\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[1,3,5]},"61":{"title":"\u041f\u0441\u0438\u0445\u043e\u0437","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u041f\u0441\u0438\u0445\u043e\u0437\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[3,5,7]},"62":{"title":"\u041a\u0438\u043b\u043b\u0435\u0440","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u041a\u0438\u043b\u043b\u0435\u0440\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[2,3,5]},"65":{"title":"\u0418\u0441\u043f\u043e\u0432\u0435\u0434\u044c","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u0418\u0441\u043f\u043e\u0432\u0435\u0434\u044c\u00bb %s \u0440\u0430\u0437","limits":[5,10,15]},"66":{"title":"\u041a\u0430\u0440\u0442\u044b \u0422\u0430\u0440\u043e","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u041a\u0430\u0440\u0442\u044b \u0422\u0430\u0440\u043e\u00bb %s \u0440\u0430\u0437","limits":[5,10,15]},"67":{"title":"\u0411\u044e\u0440\u043e\u043a\u0440\u0430\u0442","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u0411\u044e\u0440\u043e\u043a\u0440\u0430\u0442\u00bb %s \u0440\u0430\u0437","limits":[5,10,15]},"70":{"title":"\u0421\u043d\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0435","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u0421\u043d\u043e\u0442\u0432\u043e\u0440\u043d\u043e\u0435\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[3,6,9]},"71":{"title":"\u0410\u041a-47","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u044d\u043a\u0441\u0442\u0440\u0443 \u00ab\u0410\u041a-47\u00bb %s \u0440\u0430\u0437[,,\u0430]","limits":[3,6,9]},"72":{"title":"\u0422\u0430\u0440\u043e \u0434\u043b\u044f \u043c\u0430\u0444\u0438\u0438","text":"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u041a\u0430\u0440\u0442 \u0422\u0430\u0440\u043e %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043c\u0430\u0444\u0438\u0438","limits":[1,2,3]},"73":{"title":"\u0422\u0430\u0440\u043e \u0434\u043b\u044f \u043c\u0430\u043d\u044c\u044f\u043a\u0430","text":"\u0420\u0430\u0441\u043a\u0440\u044b\u0442\u044c \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u041a\u0430\u0440\u0442 \u0422\u0430\u0440\u043e %s \u043c\u0430\u043d\u044c\u044f\u043a\u043e\u0432","limits":[1,2,3]},"74":{"title":"\u0421\u0432\u0438\u043d\u0435\u0446 \u0434\u043b\u044f \u043c\u0430\u0444\u0438\u0438","text":"\u0417\u0430\u0441\u0442\u0440\u0435\u043b\u0438\u0442\u044c \u043f\u0440\u0438 \u043f\u043e\u043c\u043e\u0449\u0438 \u0410\u041a-47 %s \u0438\u0433\u0440\u043e\u043a\u043e\u0432 \u0438\u0437 \u043a\u043e\u043c\u0430\u043d\u0434\u044b \u043c\u0430\u0444\u0438\u0438","limits":[1,2,3]},"75":{"title":"\u041a\u043b\u0430\u043d\u043e\u0432\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c %s \u043b\u044e\u0431\u044b\u0445 \u043a\u043b\u0430\u043d\u043e\u0432\u044b\u0445 \u044d\u043a\u0441\u0442\u0440","limits":[5,10,15]},"76":{"title":"\u041e\u0431\u044b\u0447\u043d\u044b\u0435 \u044d\u043a\u0441\u0442\u0440\u044b","text":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c %s \u043b\u044e\u0431\u044b\u0445 \u043e\u0431\u044b\u0447\u043d\u044b\u0445 \u044d\u043a\u0441\u0442\u0440","limits":[5,10,15]},"77":{"title":"\u0421\u0432\u0435\u0440\u0436\u0435\u043d\u0438\u0435","text":"\u0421\u0432\u0435\u0440\u0433\u043d\u0443\u0442\u044c %s \u0431\u043e\u0441\u0441[\u043e\u0432,\u0430,\u043e\u0432] \u043d\u0430 \u0433\u043b\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0435","limits":[1,2,3]},"79":{"title":"\u041c\u0435\u0433\u0430-\u043f\u043e\u0434\u0430\u0440\u043a\u0438","text":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c %s \u043b\u044e\u0431\u044b\u0445 \u043c\u0435\u0433\u0430-\u043f\u043e\u0434\u0430\u0440\u043a\u0430","limits":[1,2,3]},"81":{"title":"\u0420\u044f\u0434\u044b \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432","text":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c %s \u0440\u044f\u0434[\u043e\u0432,,\u0430] \u043b\u044e\u0431\u044b\u0445 \u043f\u043e\u0434\u0430\u0440\u043a\u043e\u0432","limits":[1,2,3]}};
var __cla_l        = {"16":3,"47":5,"173":25,"175":3,"250":7,"251":5,"282":3};
var __d_tasks      = [];
var __d_chest_aws  = {"1":[["coins",250,1,250]],"2":[["coins",500,1,500],["extras",2]],"3":[["coins",1000,1,1000],["extras",3]],"4":[["coins",2000,2,1000],["extras",4],["stars",15]],"5":[["coins",3000,3,1000],["extras",5],["stars",25]],"6":[["coins",4000,4,1000],["extras",6],["stars",50],["extras_cln",1]],"7":[["coins",5000,5,1000],["extras",7],["stars",75],["extras_cln",2]],"8":[["coins",6000,6,1000],["extras",8],["stars",100],["extras_cln",3],["extras_evt",3],["tal_pcs",10]],"9":[["coins",8000,8,1000],["extras",9],["stars",125],["extras_cln",4],["extras_evt",4],["tal_pcs",25],["ruby",3,3,1]],"10":[["coins",10000,10,1000],["extras",10],["stars",150],["extras_cln",5],["extras_evt",5],["tal_pcs",50],["ruby",3,3,1]]};
var __smiles       = [[22,61],[62,101],[102,141],[142,181],[182,221],[222,261],[262,264],[301,320]];
var __smiles_dd    = {"22":1,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1,"32":1,"33":1,"34":1,"35":1,"36":1,"37":1,"38":1,"39":1,"40":1,"41":1,"42":1,"43":1,"44":1,"45":1,"46":1,"47":1,"48":1,"49":1,"50":1,"51":1,"52":1,"53":1,"54":1,"55":1,"56":1,"57":1,"58":1,"59":1,"60":1,"61":1,"62":1,"63":1,"64":1,"65":1,"66":1,"67":1,"68":1,"69":1,"70":1,"71":1,"72":1,"73":1,"74":1,"75":1,"76":1,"77":1,"78":1,"79":1,"80":1,"81":1,"82":1,"83":1,"84":1,"85":1,"86":1,"87":1,"88":1,"89":1,"90":1,"91":1,"92":1,"93":1,"94":1,"95":1,"96":1,"97":1,"98":1,"99":1,"100":1,"101":1,"102":1,"103":1,"104":1,"105":1,"106":1,"107":1,"108":1,"109":1,"110":1,"111":1,"112":1,"113":1,"114":1,"115":1,"116":1,"117":1,"118":1,"119":1,"120":1,"121":1,"122":1,"123":1,"124":1,"125":1,"126":1,"127":1,"128":1,"129":1,"131":1,"132":1,"133":1,"134":1,"135":1,"136":1,"137":1,"138":1,"139":1,"140":1,"141":1,"142":1,"143":1,"144":1,"145":1,"146":1,"147":1,"148":1,"149":1,"150":1,"151":1,"152":1,"153":1,"154":1,"155":1,"156":1,"157":1,"158":1,"159":1,"160":1,"161":1,"162":1,"163":1,"164":1,"165":1,"166":1,"167":1,"168":1,"169":1,"170":1,"171":1,"172":1,"173":1,"174":1,"175":1,"176":1,"177":1,"178":1,"179":1,"180":1,"181":1,"182":1,"183":1,"184":1,"186":1,"192":1,"193":1,"194":1,"196":1,"197":1,"198":1,"200":1,"201":1,"202":1,"203":1,"204":1,"206":1,"207":1,"208":1,"209":1,"210":1,"212":1,"213":1,"214":1,"215":1,"217":1,"218":1,"220":1,"222":1,"223":1,"224":1,"225":1,"226":1,"227":1,"228":1,"229":1,"230":1,"231":1,"232":1,"233":1,"234":1,"235":1,"236":1,"237":1,"238":1,"239":1,"240":1,"241":1,"242":1,"243":1,"244":1,"245":1,"246":1,"247":1,"248":1,"249":1,"250":1,"251":1,"252":1,"253":1,"254":1,"255":1,"256":1,"257":1,"258":1,"259":1,"260":1,"261":1,"262":1,"263":1,"264":1,"301":1,"302":1,"303":1,"304":1,"305":1,"306":1,"307":1,"308":1,"309":1,"310":1,"311":1,"312":1,"313":1,"314":1,"315":1,"316":1,"317":1,"318":1,"319":1,"320":1,"1039":1,"1040":1,"1043":1,"1044":1,"1045":1,"1046":1,"1047":1,"1048":1,"1049":1,"1050":1,"1061":1,"1062":1,"1063":1,"1065":1,"1067":1,"1069":1,"1075":1};
var __smiles_n     = [255,264];
var __stickers     = {"uniq":[501,501],"ripper_2020":[117,120],"yakuza_2020":[113,116],"ripper_2019":[109,112],"def":[1,8],"carnival":[101,108],"banditos":[93,100],"lili":[77,84],"tony":[61,76],"easter_":[85,92],"easter":[45,60],"love":[31,44]};
var __hxda         = {"1010":1,"1011":1,"1001":1,"1002":1,"1003":1,"1005":1,"joh18":1,"joh12":1,"joh16":1,"joh17":1,"luc7":1,"joh13":1,"joh11":1,"rud5":1,"joh14":1,"1004":1,"luc10":1,"luc13":1,"luc11":1,"luc12":1,"zom111":1,"zom112":1,"bif16":1,"lin1":1,"pr313":1,"ant1":1,"ant2":1,"bif13":1,"bif15":1,"bif14":1,"mkt1":1,"lig2":1,"lig3":1,"lig15":1,"lig13":1,"ton60":1,"ton61":1,"lig14":1,"ton62":1,"lig12":1,"7096535":1,"lig9":1,"lea10":1,"lea2":1,"gad1":1,"gad2":1,"gad7":1,"gad8":1,"gad9":1,"gad10":1,"gad3":1,"gems":1,"arw_mrk_fattony_2019":1,"arw_ripper_2019":1,"arw_spin_newyear_2020":1,"arw_newyear_2020":1,"arw_bag_newyear_2020":1,"arw_arena_winter_2020":1};
var t_acts         = {"":"","kill":"\u0423\u0431\u0438\u0442\u044c","vote":"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c","check":"\u041f\u0440\u043e\u0432\u0435\u0440\u0438\u0442\u044c","heal":"\u0412\u044b\u043b\u0435\u0447\u0438\u0442\u044c","cut":"\u0417\u0430\u0440\u0435\u0437\u0430\u0442\u044c","visit":"\u041d\u0430\u0432\u0435\u0441\u0442\u0438\u0442\u044c","freeze":"\u0417\u0430\u043c\u043e\u0440\u043e\u0437\u0438\u0442\u044c","kiss":"\u041e\u0445\u043c\u0443\u0440\u0438\u0442\u044c","steal":"\u041e\u0431\u0432\u043e\u0440\u043e\u0432\u0430\u0442\u044c","gift":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c","gift_c":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c","v_kill":"\u0412\u044b\u0441\u0442\u0440\u0435\u043b\u0438\u0442\u044c","find":"\u0418\u0441\u043a\u0430\u0442\u044c \u041c\u0430\u0444\u0438\u044e","gift_b":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u041f\u0430\u0441\u0445\u0430\u043b\u044c\u043d\u044b\u0439 \u043f\u043e\u0434\u0430\u0440\u043e\u043a","hit":"\u0423\u0434\u0430\u0440\u0438\u0442\u044c","f_find":"\u0418\u0441\u043a\u0430\u0442\u044c \u0441\u0435\u043c\u044c\u044e \u0416\u0438\u0440\u043d\u043e\u0433\u043e \u0422\u043e\u043d\u0438","know":"\u0423\u0437\u043d\u0430\u0442\u044c \u0440\u043e\u043b\u044c","t_kill":"\u0423\u0431\u0438\u0442\u044c","r_kill":"\u0423\u0431\u0438\u0442\u044c","b_kill":"\u0417\u0430\u043b\u043e\u0436\u0438\u0442\u044c \u0431\u043e\u043c\u0431\u0443","p_kill":"\u0423\u0431\u0438\u0442\u044c","g_kill":"\u0423\u0431\u0438\u0442\u044c","m_kill":"\u0423\u0431\u0438\u0442\u044c","z_kill":"\u0421\u044a\u0435\u0441\u0442\u044c \u043c\u043e\u0437\u0433\u0438","steal_g":"\u0423\u043a\u0440\u0430\u0441\u0442\u044c","gift_bc":"\u041f\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u041c\u043e\u0440\u043a\u043e\u0432\u043a\u0443","yak_kill":"\u0423\u0431\u0438\u0442\u044c","s_throw":"\u041a\u0438\u043d\u0443\u0442\u044c \u043e\u0442\u0440\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0439 \u0441\u044e\u0440\u0438\u043a\u0435\u043d","guess":"\u0413\u0430\u0434\u0430\u0442\u044c","l_kill":"\u0423\u0431\u0438\u0442\u044c","bab_kill":"\u0423\u0431\u0438\u0442\u044c","be_kill":"\u0423\u0431\u0438\u0442\u044c"};
var t_persons      = ["","\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0438\u043d","\u041c\u0430\u0444\u0438\u043e\u0437\u0438","\u041c\u0430\u043d\u044c\u044f\u043a","\u041a\u043e\u043c\u0438\u0441\u0441\u0430\u0440","\u0421\u0435\u0440\u0436\u0430\u043d\u0442","\u0414\u043e\u043a\u0442\u043e\u0440","\u041c\u0435\u0434\u0440\u0430\u0431\u043e\u0442\u043d\u0438\u043a","\u0421\u043c\u0435\u0440\u0442\u043d\u0438\u043a","\u0411\u043e\u0441\u0441 \u043c\u0430\u0444\u0438\u0438","\u0421\u0442\u0435\u0440\u0432\u0430","\u0412\u043e\u0440","\u0421\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c","\u0414\u0435\u0434 \u041c\u043e\u0440\u043e\u0437","\u0412\u0430\u043b\u0435\u043d\u0442\u0438\u043d","\u0414\u043e\u0431\u0440\u044b\u0439 \u0417\u0430\u0439\u043a\u0430","\u041f\u043e\u0434\u0440\u0443\u0447\u043d\u044b\u0439","\u0416\u0438\u0440\u043d\u044b\u0439 \u0422\u043e\u043d\u0438","\u0427\u043e\u043a\u043d\u0443\u0442\u044b\u0439 \u041f\u0440\u043e\u0444\u0435\u0441\u0441\u043e\u0440","\u0413\u043e\u043b\u0435\u043c","\u0412\u0437\u0440\u044b\u0432\u043d\u0430\u044f \u041b\u0438\u043b\u0438","\u041c\u0438\u0433\u0435\u043b\u044c","\u0413\u0440\u0438\u043d\u0447","\u041a\u043e\u0441\u0442\u044e\u043c\u0435\u0440","\u0421\u0430\u043d\u0447\u043e","\u0414\u0432\u0443\u043b\u0438\u043a\u0438\u0439","\u0414\u0432\u0443\u043b\u0438\u043a\u0438\u0439","\u0412\u0440\u0435\u0434\u043d\u044b\u0439 \u0417\u0430\u0439\u043a\u0430","\u041d\u0435\u0444\u0440\u0438\u0442\u043e\u0432\u044b\u0439 \u0417\u0430\u0439\u043a\u0430","\u0413\u0440\u043e\u043c\u0438\u043b\u0430","\u041c\u0430\u0440\u043a\u043e","\u0424\u0440\u0430\u043d\u0447\u0435\u0441\u043a\u0430","\u0424\u0440\u0430\u043d\u0447\u0435\u0441\u043a\u0430","\u0420\u043e\u0437\u0430\u0440\u0438\u043e","\u041f\u043e\u0442\u0440\u043e\u0448\u0438\u0442\u0435\u043b\u044c","\u0422\u0451\u0442\u0443\u0448\u043a\u0430 \u041b\u0438\u043d","\u042f\u043a\u0443\u0434\u0437\u0430","\u0413\u043e\u0440\u0430","\u0422\u0435\u043d\u044c","\u0413\u0430\u0434\u0430\u043b\u043a\u0430","\u0427\u0451\u0440\u043d\u0430\u044f \u0411\u043e\u0440\u043e\u0434\u0430","\u0425\u0443\u043b\u0438\u0433\u0430\u043d\u043a\u0430 \u041f\u0435\u043f\u043f\u0438","\u0421\u0443\u043f\u0435\u0440-\u041c\u0443\u0442\u0430\u043d\u0442","\u0411\u0430\u043d\u0434\u0438\u0442","\u0423\u0431\u0438\u0439\u0446\u0430","\u0423\u0431\u0438\u0439\u0446\u0430","\u0423\u0431\u0438\u0439\u0446\u0430","\u041f\u0440\u043e\u0434\u0430\u0436\u043d\u044b\u0439 \u043a\u043e\u043c\u0438\u0441\u0441\u0430\u0440"];
var k_persons      = {"1":"citizen","2":"mafiosos","3":"maniac","4":"commisar","5":"sergeant","6":"doctor","7":"medic","8":"deadman","9":"boss","10":"bitch","11":"thief","12":"witness","13":"santa","14":"valentin","15":"bunny","16":"helper","17":"fattony","18":"professor","19":"golem","20":"lili","21":"migel","22":"grinch","23":"costumer","24":"sancho","25":"bifacial","26":"killer","27":"bunny_e","28":"bunny_n","29":"bigman","30":"marko","31":"francesca","32":"f_killer","33":"rosario","34":"ripper","35":"leen","36":"yakuza","37":"hill","38":"shadow","39":"fteller","40":"beard","41":"peppi","42":"mutant","43":"bandit","44":"assassin1","45":"assassin2","46":"assassin3","47":"fakecop"};
var ban_data       = [{"abuse":"\u041c\u0430\u0442 \/ \u043e\u0441\u043a\u043e\u0440\u0431\u043b\u0435\u043d\u0438\u0435","spam":"\u0421\u043f\u0430\u043c \/ \u0440\u0435\u043a\u043b\u0430\u043c\u0430","deal_game":"\u0414\u043e\u0433\u043e\u0432\u043e\u0440\u043d\u0430\u044f \u0438\u0433\u0440\u0430","griefing":"\u041f\u043e\u043c\u043e\u0449\u044c \u0441\u043e\u043f\u0435\u0440\u043d\u0438\u043a\u0430\u043c","rules_break":"\u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b \u0438\u0433\u0440\u044b","bots":"\u0418\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u0435 \u0441\u043a\u0440\u0438\u043f\u0442\u043e\u0432, \u0431\u043e\u0442\u043e\u0432","bad_nick":"\u041f\u043b\u043e\u0445\u043e\u0439 \u043d\u0438\u043a"},{"1":["\u0427\u0430\u0442-\u0431\u0430\u043d 5 \u043c\u0438\u043d\u0443\u0442",false,300],"2":["\u0427\u0430\u0442-\u0431\u0430\u043d 15 \u043c\u0438\u043d\u0443\u0442",false,900],"3":["1 \u0447\u0430\u0441",true,3600],"4":["3 \u0447\u0430\u0441\u0430",true,10800],"5":["12 \u0447\u0430\u0441\u043e\u0432",true,43200],"6":["\u0421\u0443\u0442\u043a\u0438",true,86400],"7":["3 \u0434\u043d\u044f",true,259200],"8":["\u041d\u0435\u0434\u0435\u043b\u044f",true,604800],"9":["2 \u043d\u0435\u0434\u0435\u043b\u0438",true,1209600],"10":["\u041c\u0435\u0441\u044f\u0446",true,2592000],"11":["\u0412\u0435\u0447\u043d\u044b\u0439",true,311040000]}];
var league_lim     = "";
var league_awd_m   = "";
var league_ttls    = ['', 'Бронза', 'Серебро', 'Золото', 'Платина', 'Бриллиант', 'Чемпион', 'Гроссмейстер'];
var league_ttls_w  = ['Нет лиги', 'Бронзовая лига', 'Серебряная лига', 'Золотая лига', 'Платиновая лига', 'Бриллиантовая лига', 'Лига Чемпионов', 'Гроссмейстерская лига'];
var league_ttls_e  = ['', '', 'Серебряная эмблема', 'Золотая эмблема', 'Платиновая эмблема', 'Бриллиантовая эмблема', 'Чемпионская эмблема', 'Эмблема гроссмейстера'];
var league_ttls_b  = ['', '', '', 'Золотая рамка', 'Платиновая рамка', 'Бриллиантовая рамка', 'Чемпионская рамка', 'Рамка гроссмейстера'];

var _done_spwr = 0;
var _arena_last_prize = false;

var __spwrs = {
	1: ['Заложники', 'Вы берёте в заложники двух случайных игроков. Если комиссар раскроет роль любого из команды Бандитос, то заложники будут убиты.'],
	2: ['Бешеный пёс', 'Через 3 дня Мигель начинает стрельбу до тех пор, пока не убьёт всех соперников или не застрелит сам себя.'],
	3: ['Мгновенный выстрел', 'Вы не дожидаетесь конца ночи, а стреляете сразу по нажатию на ночной ход.'],
	4: ['Второй револьвер', 'Шанс на второй выстрел Мигеля по случайной цели.'],
	5: ['Гора динамита', 'Через некоторое время после установки гора динамита взорвётся и убьёт всех соперников Братьев Бандитос.'],
	6: ['Рикошет', 'В случае промаха пуля Мигеля срикошетит в случайного соперника.'],
	7: ['Перестрелка', 'Через 1 день все игроки стреляют друг в друга (повторяется через каждый 1 день)'],
	8: ['Змеиный яд', 'Отравляет соседнего с жертвой Мигеля игрока.'],
	9: ['Маркировка', 'В начале ночи Санчо маркирует случайную цель. Любой из братьев наносит пробивной выстрел по этой цели.'],
	10: ['Текила', 'Лишает ночного хода случайного активного игрока. 3 раза за партию.'],
	11: ['Орлиный глаз', 'Через 3 дня вы раскрываете роли всех игроков в партии.'],
	12: ['Прицельный выстрел', 'Оба брата всегда стреляют без промаха, пока Санчо жив.'],
	13: ['Стань бандитом!', 'Освобождает посаженного игрока из тюрьмы в роли «Бандит», если тот примет предложение. 1 бандит за партию. Бандит играет за команду «Бандитос».'],
	14: ['Подслушано', 'Ночью вскрывает первый активный ход игрока.'],
	15: ['Отмычки', 'Освобождает любого брата из тюрьмы 1 раз за партию.'],
	16: ['Полевой доктор', 'Воскрешает любого брата при убийстве 2 раза за партию.'],
};

var __rpwrs = {
	1: ['Бессмертие', 'Вы мгновенно воскресаете после любого покушения на вас'],
	2: ['Ночной кошмар', 'Вы можете убивать игроков ночью даже после своей смерти'],
	3: ['Интуиция', 'В начале каждой ночи вы раскрываете роль случайного игрока'],
	4: ['Идеальный убийца', 'Ваше убийство ночью невозможно предотвратить'],
	5: ['Двойной удар', 'Во время ночного хода есть шанс убить свою жертву и соседнего игрока']
};

var __lpwrs = {
	1: ['Ядовитая бомба', 'Два соседних с жертвой игрока получают по бомбе. Отравляет игроков, которые не смогли обезвредить бомбу'],
	2: ['Цепная заморозка', 'В начале дня случайный игрок получает бомбу, если её не удалось обезвредить, то игрок замораживается и бомба отправляется другому случайному игроку.'],
	3: ['Атомная бомба', 'Через 3 дня, все игроки получат шанс обезвредить атомную бомбу. Если игроков, которым удалось обезвредить бомбу больше, то все остаются живы, если проваливших больше, то все игроки, кроме Лили, погибают.'],
	4: ['Бомба раскрытия роли', 'Два соседних с жертвой игрока получают по бомбе. Раскрывает роли игроков, которые не смогли обезвредить бомбу.'],
	5: ['Бомба лишения хода', 'В начале каждого дня отправляется случайному игроку с активной ролью. Если игрок не сможет обезвредить бомбу, то лишится ночного хода на 3 ночи.'],
	6: ['Связывающая бомба', 'В начале каждого дня выбирает двух случайных игроков и отправляет одному из них бомбу, если игрок не сможет её обезвредить, то взорвутся оба игрока.'],
	7: ['Усыпляющая бомба', 'В начале каждого дня отправляется случайному игроку. Если игрок не сможет обезвредить бомбу, то ночью вся его команда лишается активных ходов.'],
	8: ['Бомба мести', 'В начале каждого дня случайный игрок получает бомбу, все бомбы взрываются одновременно при смерти/посадке Взрывной Лили'],
	9: ['Подлая бомба', 'В начале каждого дня отправляется случайному игроку. Ставит игрока перед выбором: взорвать себя или взорвать двух игроков из своей команды.']
};

var __ppwrs = {
	1: ['Вирус страха', 'Парализует соседнего с жертвой игрока'],
	2: ['Вирус ярости', 'В начале дня два случайных игрока набрасываются друг на друга'],
	3: ['Эликсир бессмертия', 'Профессора нельзя убить, только посадить в тюрьму'],
	4: ['Вирус чумы', 'Через 3 дня половина живых игроков в партии умрёт от вируса'],
	5: ['Призыв Голема', 'Превращает жертву в Голема, который будет сражаться за Профессора'],
	6: ['Вирус сна', 'Сразу убивает игрока, который получит метку «Подозрительно молчит»'],
	7: ['Супер-Мутант', 'Через 3 дня Профессор превращается в Супер-Мутанта, получая супер-способности'],
	8: ['Вирус правды', 'Раскрывает роль соседнего с жертвой игрока'],
	9: ['Яд', 'Шанс 25% отравить соседнего с жертвой игрока'],
	10: ['Эликсир телепатии', 'Ночью вскрывает первый активный ход игрока']
};

var __bpwrs = {
	1: ['Бессмертие', 'Вы мгновенно воскресаете после любого покушения на вас'],
	2: ['Испуг', 'Вы парализуете случайного игрока в начале ночи'],
	3: ['Яд', 'Во время убийства есть шанс отравить соседнюю с жертвой цель'],
	4: ['Телепатия', 'Ночью раскрывает первый активный ход'],
	5: ['Живая бомба', 'После смерти вы взрываетесь, убивая соседних с вами игроков'],
	6: ['Шестое чувство', 'Раскрыть случайную роль в начале ночи'],
	7: ['Призрак', 'Ваше убийство ночью невозможно предотвратить'],
	8: ['Корабельная пушка', 'В начале каждой ночи вы стреляете из «Корабельной пушки»'],
	9: ['Чёрная метка', 'В начале каждой ночи вы ставите «Чёрную метку» на случайного игрока']
};

var __punishs = {
	0: 'Пощадить',
	1: 'Отнять 25 монет',
	2: 'Парализовать до конца дня',
	3: 'Убить игрока',
	4: 'Раскрыть всем роль',
	5: 'Лишить ночного хода',
	6: 'Завалить динамитом'
};

var __leepwrs = {
	1: 'Заморозить случайного игрока из команды граждан',
	2: 'Заморозить случайного игрока из команды мафии',
	3: 'Лишить Комиссара хода',
	4: 'Лишить Доктора хода',
	5: 'Лишить Стерву хода',
	6: 'Лишить Вора хода',
	7: 'Лишить Свидетеля хода',
	8: 'Раскрыть роль игрока из команды граждан для команды Якудза',
	9: 'Раскрыть роль игрока из команды мафии для команды Якудза',
	10: 'Дать «Амулет жизни» случайному игроку из команды Якудза на 1 минуту',
	11: 'Убить случайного игрока из команды соперника'
};

var __tpwrs = {
	1: 'Поджечь случайного игрока из команды соперника',
	2: 'Наложить эффект «Паспорт» на случайного игрока из семьи Жирного Тони',
	3: 'Наложить эффект «Реаниматор» на случайного игрока из семьи Жирного Тони',
	4: 'Наложить эффект «Растяжка» на случайного игрока из семьи Жирного Тони',
	5: 'Наложить эффект «Паспорт мафиози» на случайного соперника',
	6: 'Наложить эффект «Автомобиль» на случайного игрока из семьи Жирного Тони',
	7: 'Раскрыть случайную роль для всей команды',
	8: 'Воссоединить Франческу с семьёй Жирного Тони',
	9: 'Заморозить случайного игрока из команды граждан',
	10: 'Заморозить случайного игрока из команды мафии'
};

var __feff_pos = {
	1: 'Раскрытие роли случайного соперника',
	2: 'Убийство случайного соперника',
	3: 'Лишение следующего ночного хода случайного соперника',
	4: 'Парализует до конца дня случайного соперника',
	5: '+20 монет',
	6: '+1 монета',
	7: '+100 монет',
	8: '+500 монет',
	9: 'Случайная экстра',
	10: 'Временный образ гражданина',
	11: 'Временный образ мафиози',
	12: 'Пиньята',
	13: 'Игра в кости',
	14: 'Карнавальная краска',
	15: 'Эффект «Реаниматор»',
	16: 'Эффект «Автомобиль»',
	17: '+1 рубин'
};

var __feff_neg = {
	1: 'Снятие 20 монет',
	2: 'Снятие случайной обычной экстры',
	3: 'Убийство игрока',
	4: 'Паралич игрока до конца дня',
	5: 'Весь экран игрока заполняется краской',
	6: 'Раскрытие роли всем в чат',
	7: 'Запрет писать в чат до конца партии',
	8: 'Яд для игрока',
	9: 'Лишение следующего ночного хода',
	10: 'Голос против случайного игрока',
	11: 'Поджигание игрока',
	12: 'Раскрытие роли всей своей команды в чат'
};


var smiles_page    = 0;
var smiles_lck     = false;
var smiles_upd     = false;

var stickers_sub       = 1;
var stickers_tt        = Math.floor(new Date().getTime() / 1000);
var sticker_rnd        = 0;

var uts            = 1578332624;

var my_id          = 7096535;
var my_enc_id      = "b6f8bb81ac6152ce97b1aa700ba7ed30";
var my_lang        = "ru";
var my_lang_pfx    = "";
var my_nick        = "Игopь";
var my_tals        = {"3":0,"7":1,"10":1,"26":1,"28":1,"51":1};
var my_gender      = "m";
var my_phs         = "http://www.mafia-rules.net/iok/i/883427838184/";
var my_phs_b       = "";
var my_gift        = 0;
var my_gold_prf    = 0;
var my_level       = 173;
var my_expa        = 750960;
var my_clan        = 8007;
var my_ispwd       = 1;
var my_league      = 1;
var my_lea_rating  = 0;
var my_rating      = 2423;
var my_slb         = 0;
var my_rost        = 0;
var my_lbss        = "";
var my_play_c      = 49361;
var my_offers      = [];
var my_offers_upd  = 0;

var qu_md          = 0;
var ifc_mode       = "";
var inf_rf_flag    = 0;
var duel_rf_flag   = -1;
var night_frz      = 0;
var day_frz        = 0;

var gam_id         = 0;
var gam_state      = "";
var gam_iscripter  = 0;
var gam_data       = [];
var gam_music      = 1;

var pla_data       = [];
var clx_data       = {"84":["84-67","TRG",["0","0","0","0","0","0","0"]],"92":["92-140","VS",["0","0","0","0","0","0","0"]],"212":["212-7","\u0421\u041e\u0412\u042b",["0","0","0","0","0","0","0"]],"404":["404-3","",["0","0","0","0","0","0","0"]],"577":["577-14","NY",["0","0","0","0","0","0","0"]],"614":["614-27","2020",["0","0","0","0","0","0","0"]],"695":["695-43","DA\u0419",["0","0","0","0","0","0","0"]],"910":["910-265","\u0421\u0418\u0413\u0418",["0","0","0","0","0","0","0"]],"939":["939-30","",["0","0","0","0","0","0","0"]],"1014":["1014-226","GODS",["0","0","0","0","0","0","0"]],"1047":["1047-101","\u0412\u0421",["0","0","0","0","0","0","0"]],"1048":["1048-240","\u0427\u0412",["0","0","0","0","0","0","0"]],"5044":["","\u0428\u041e\u041a",["0","0","0","0","0","0","0"]],"5154":["5154-59","Cafe",["0","0","0","0","0","0","0"]],"5288":["5288-76","2020",["0","0","0","0","0","0","0"]],"5297":["5297-191","DT",["0","0","0","0","0","0","0"]],"5317":["5317-4","ZENIT",["0","0","0","0","0","0","0"]],"5382":["5382-138","",["0","0","0","0","0","0","0"]],"5497":["5497-79","KENT",["0","0","0","0","0","0","0"]],"5498":["5498-12","",["0","0","0","0","0","0","0"]],"5597":["5597-4","\u043d\u0443\u0437\u0430\u0439",["0","0","0","0","0","0","0"]],"5657":["5657-83","2020",["0","0","0","0","0","0","0"]],"5857":["5857-88","",["0","0","0","0","0","0","0"]],"5919":["5919-31","",["0","0","0","0","0","0","0"]],"5923":["5923-86","",["0","0","0","0","0","0","0"]],"5925":["5925-2","LS",["0","0","0","0","0","0","0"]],"6058":["6058-226","N\u042dL",["0","0","0","0","0","0","0"]],"6125":["6125-53","NT",["0","0","0","0","0","0","0"]],"6301":["6301-50","PLT",["0","0","0","0","0","0","0"]],"6354":["6354-3","2020",["0","0","0","0","0","0","0"]],"6570":["6570-11","BAch",["0","0","0","0","0","0","0"]],"6626":["6626-4","\u0415\u0431\u043e\u0431\u043e",["0","0","0","0","0","0","0"]],"6791":["6791-65","",["0","0","0","0","0","0","0"]],"6816":["6816-3","",["0","0","0","0","0","0","0"]],"6902":["6902-17","\u041c\u042f\u0423",["0","0","0","0","0","0","0"]],"6918":["6918-7","CozN",["0","0","0","0","0","0","0"]],"6972":["6972-220","\u0416\u0410RA",["0","0","0","0","0","0","0"]],"7003":["7003-21","\u0411\u0415\u041b",["0","0","0","0","0","0","0"]],"7088":["7088-288","",["0","0","0","0","0","0","0"]],"7093":["7093-5","",["0","0","0","0","0","0","0"]],"7137":["7137-2","",["0","0","0","0","0","0","0"]],"7184":["7184-51","\u0411\u041a",["0","0","0","0","0","0","0"]],"7215":["7215-3","\u041a\u0443",["0","0","0","0","0","0","0"]],"7217":["7217-19","BLSP",["0","0","0","0","0","0","0"]],"7222":["7222-28","",["0","0","0","0","0","0","0"]],"7225":["7225-130","",["0","0","0","0","0","0","0"]],"7258":["7258-61","LOVE",["0","0","0","0","0","0","0"]],"7280":["7280-75","RELAX",["0","0","0","0","0","0","0"]],"7316":["7316-25","\u041f\u0423\u041f\u0421",["0","0","0","0","0","0","0"]],"7318":["7318-7","\u0442\u043e\u043f",["0","0","0","0","0","0","0"]],"7322":["7322-65","PSIXI",["0","0","0","0","0","0","0"]],"7332":["7332-4","MDP",["0","0","0","0","0","0","0"]],"7427":["7427-411","2020",["0","0","0","0","0","0","0"]],"7441":["7441-10","",["0","0","0","0","0","0","0"]],"7494":["7494-17","\u041c\u0443\u0440",["0","0","0","0","0","0","0"]],"7513":["7513-2","",["0","0","0","0","0","0","0"]],"7533":["7533-2","BATS",["0","0","0","0","0","0","0"]],"7584":["7584-81","\u0417\u0418\u041c\u0410",["0","0","0","0","0","0","0"]],"7598":["7598-47","",["0","0","0","0","0","0","0"]],"7605":["7605-2","",["0","0","0","0","0","0","0"]],"7608":["7608-7","2020",["0","0","0","0","0","0","0"]],"7639":["7639-35","\u0413\u0420\u041e\u0421\u0421",["0","0","0","0","0","0","0"]],"7640":["7640-18","",["0","0","0","0","0","0","0"]],"7654":["7654-16","SERP",["0","0","0","0","0","0","0"]],"7661":["7661-31","",["0","0","0","0","0","0","0"]],"7668":["7668-7","Love",["0","0","0","0","0","0","0"]],"7675":["7675-300","",["0","0","0","0","0","0","0"]],"7677":["7677-234","\u041b\u0410\u0419\u0422",["0","0","0","0","0","0","0"]],"7686":["7686-26","",["0","0","0","0","0","0","0"]],"7703":["7703-487","\u041a\u0423\u0425\u041d\u042f",["0","0","0","0","0","0","0"]],"7714":["7714-22","",["0","0","0","0","0","0","0"]],"7717":["7717-8","CHAOS",["0","0","0","0","0","0","0"]],"7736":["","\u0411\u0423\u0422\u0415\u0420",["0","0","0","0","0","0","0"]],"7749":["7749-10","COOL",["0","0","0","0","0","0","0"]],"7762":["7762-159","",["0","0","0","0","0","0","0"]],"7763":["7763-14","",["0","0","0","0","0","0","0"]],"7790":["","ZOO",["0","0","0","0","0","0","0"]],"7791":["","ARMY",["0","0","0","0","0","0","0"]],"7800":["7800-30","",["0","0","0","0","0","0","0"]],"7810":["7810-77","",["0","0","0","0","0","0","0"]],"7816":["7816-212","",["0","0","0","0","0","0","0"]],"7821":["7821-279","\u0417\u0410\u041e",["0","0","0","0","0","0","0"]],"7824":["7824-2","",["0","0","0","0","0","0","0"]],"7842":["","mafia",["0","0","0","0","0","0","0"]],"7865":["7865-3","",["0","0","0","0","0","0","0"]],"7887":["7887-6","",["0","0","0","0","0","0","0"]],"7891":["7891-25","\u041f\u041d\u0425",["0","0","0","0","0","0","0"]],"7910":["7910-93","\u041f\u041e\u0424\u0418\u0413",["0","0","0","0","0","0","0"]],"7913":["7913-13","",["0","0","0","0","0","0","0"]],"7914":["7914-25","\u0412\u0415\u0421\u041d\u0410",["0","0","0","0","0","0","0"]],"7919":["7919-7","\u041e\u041f\u0413",["0","0","0","0","0","0","0"]],"7920":["7920-2","\u041d\u0430\u0431\u043e\u0440",["0","0","0","0","0","0","0"]],"7929":["7929-115","",["0","0","0","0","0","0","0"]],"7968":["","GODS",["0","0","0","0","0","0","0"]],"7997":["7997-5","\u042d\u0420\u0410",["0","0","0","0","0","0","0"]],"8007":["8007-8","\u0422\u0415\u0422\u0420\u0410",["0","0","0","0","0","0","0"]],"8018":["8018-1","Moose",["0","0","0","0","0","0","0"]],"8043":["8043-202","",["0","0","0","0","0","0","0"]],"8049":["8049-156","vodka",["0","0","0","0","0","0","0"]],"8062":["8062-24","",["0","0","0","0","0","0","0"]],"8065":["8065-12","",["0","0","0","0","0","0","0"]],"8066":["8066-8","ORON",["0","0","0","0","0","0","0"]],"8089":["8089-8","",["0","0","0","0","0","0","0"]],"8098":["8098-29","",["0","0","0","0","0","0","0"]],"8105":["8105-8","RNFS",["0","0","0","0","0","0","0"]],"8157":["8157-1","",["0","0","0","0","0","0","0"]],"8196":["8196-14","2020",["0","0","0","0","0","0","0"]],"8199":["8199-21","",["0","0","0","0","0","0","0"]],"8225":["8225-8","",["0","0","0","0","0","0","0"]],"8236":["8236-56","",["0","0","0","0","0","0","0"]],"8267":["8267-51","",["0","0","0","0","0","0","0"]],"8281":["8281-32","",["0","0","0","0","0","0","0"]],"8285":["8285-12","",["0","0","0","0","0","0","0"]],"8319":["8319-2","2020",["0","0","0","0","0","0","0"]],"8374":["8374-2","RFL",["0","0","0","0","0","0","0"]],"8378":["8378-13","BEST",["0","0","0","0","0","0","0"]],"8382":["8382-24","",["0","0","0","0","0","0","0"]],"8417":["","TN",["0","0","0","0","0","0","0"]],"8429":["8429-12","SIS",["0","0","0","0","0","0","0"]],"8435":["8435-1","",["0","0","0","0","0","0","0"]],"8523":["8523-14","",["0","0","0","0","0","0","0"]],"8526":["8526-54","2020",["0","0","0","0","0","0","0"]],"8540":["8540-8","VIP",["0","0","0","0","0","0","0"]],"8559":["8559-12","\u0411\u041b\u042d\u0422",["0","0","0","0","0","0","0"]],"8627":["8627-84","NRG",["0","0","0","0","0","0","0"]],"8637":["8637-25","",["0","0","0","0","0","0","0"]],"8649":["8649-57","\u041d\u0418\u0420\u041a\u0410",["0","0","0","0","0","0","0"]],"8704":["8704-11","\u041f\u0418\u041d\u0410\u0411",["0","0","0","0","0","0","0"]],"8706":["8706-9","KLUB",["0","0","0","0","0","0","0"]],"8720":["8720-1","",["0","0","0","0","0","0","0"]],"8751":["8751-1","",["0","0","0","0","0","0","0"]],"8758":["8758-7","",["0","0","0","0","0","0","0"]],"8769":["8769-4","ZK",["0","0","0","0","0","0","0"]],"8781":["8781-2","",["0","0","0","0","0","0","0"]],"8785":["","\u0415\u0432\u0430",["0","0","0","0","0","0","0"]],"8789":["8789-3","",["0","0","0","0","0","0","0"]],"8812":["8812-5","\u041b\u0421\u0414",["0","0","0","0","0","0","0"]],"8813":["","ICE",["0","0","0","0","0","0","0"]],"8820":["8820-12","\u0420\u0410\u0419",["0","0","0","0","0","0","0"]],"8822":["8822-27","",["0","0","0","0","0","0","0"]],"8851":["8851-16","",["0","0","0","0","0","0","0"]],"8855":["8855-6","BL",["0","0","0","0","0","0","0"]],"8858":["8858-4","VeBu",["0","0","0","0","0","0","0"]],"8866":["8866-1","",["0","0","0","0","0","0","0"]],"8871":["8871-12","NiP",["0","0","0","0","0","0","0"]],"8898":["8898-1","",["0","0","0","0","0","0","0"]],"8917":["8917-2","",["0","0","0","0","0","0","0"]],"8928":["","\u0421\u043e\u0422",["0","0","0","0","0","0","0"]],"8950":["8950-54","",["0","0","0","0","0","0","0"]],"8974":["8974-2","",["0","0","0","0","0","0","0"]],"8983":["8983-4","\u043d\u0433",["0","0","0","0","0","0","0"]],"9003":["9003-219","\u0423\u0441\u043f\u0435\u0445",["0","0","0","0","0","0","0"]],"9016":["9016-1","2020",["0","0","0","0","0","0","0"]],"9017":["9017-5","",["0","0","0","0","0","0","0"]],"9019":["9019-2","\u0422\u0418",["0","0","0","0","0","0","0"]],"9029":["9029-17","",["0","0","0","0","0","0","0"]],"9037":["9037-5","\u042d\u041b\u0418\u0422\u0410",["0","0","0","0","0","0","0"]],"9040":["9040-9","",["0","0","0","0","0","0","0"]],"9057":["9057-15","\u041e\u0433\u043e\u043d\u044c",["0","0","0","0","0","0","0"]],"9072":["9072-9","RSA",["0","0","0","0","0","0","0"]],"9077":["9077-135","Sabr",["0","0","0","0","0","0","0"]],"9086":["","S",["0","0","0","0","0","0","0"]],"9098":["9098-31","ZIMA",["0","0","0","0","0","0","0"]],"9103":["9103-3","",["0","0","0","0","0","0","0"]],"9104":["9104-14","MJR",["0","0","0","0","0","0","0"]],"9108":["","Lover",["0","0","0","0","0","0","0"]],"9109":["9109-1","",["0","0","0","0","0","0","0"]],"9110":["","\u041b\u0413\u0411\u0422",["0","0","0","0","0","0","0"]],"9111":["9111-5","",["0","0","0","0","0","0","0"]],"9130":["","TNT",["0","0","0","0","0","0","0"]],"9132":["9132-6","MAF",["0","0","0","0","0","0","0"]],"9136":["9136-2","",["0","0","0","0","0","0","0"]],"9139":["","FSB",["0","0","0","0","0","0","0"]],"9148":["9148-1","",["0","0","0","0","0","0","0"]],"9156":["9156-3","",["0","0","0","0","0","0","0"]],"9159":["9159-1","\u041a\u043b",["0","0","0","0","0","0","0"]],"9163":["9163-8","",["0","0","0","0","0","0","0"]],"9165":["9165-5","",["0","0","0","0","0","0","0"]],"9166":["9166-1","\u0412\u0425\u0421",["0","0","0","0","0","0","0"]],"9167":["","L",["0","0","0","0","0","0","0"]],"9171":["","TOR",["0","0","0","0","0","0","0"]],"9182":["","\u041a\u041f\u0414",["0","0","0","0","0","0","0"]],"9183":["","Rb",["0","0","0","0","0","0","0"]]};
var buy_data       = {"0":[500,11,500,0,"11\u0440",false],"1":[1500,27,1250,250,"27\u0440",false],"2":[3500,55,2500,1000,"55\u0440",false],"3":[8000,110,5000,3000,"110\u0440",false],"4":[50000,530,25000,25000,"530\u0440",false],"5":[325000,2500,125000,200000,"2500\u0440",false],"777":[2000000,10000,2000000,0,"10000\u0440",false,1]};
var r_buy_data       = {"0":[3,15,3,0,"15\u0440",false],"1":[10,50,10,0,"50\u0440",false],"2":[53,250,50,3,"250\u0440",false],"3":[110,500,100,10,"500\u0440",false],"4":[285,1250,250,35,"1250\u0440",false],"5":[600,2500,500,100,"2500\u0440",false],"6":[1250,5000,1000,250,"5000\u0440",false],"778":[10000,20000,10000,0,"20000\u0440",false,1]};
var of_buy_data       = [[12,"12 \u0440\u0443\u0431\u043b\u0435\u0439"],[30,"30 \u0440\u0443\u0431\u043b\u0435\u0439"],[60,"60 \u0440\u0443\u0431\u043b\u0435\u0439"],[120,"120 \u0440\u0443\u0431\u043b\u0435\u0439"],[265,"265 \u0440\u0443\u0431\u043b\u0435\u0439"],[562,"562 \u0440\u0443\u0431\u043b\u044f"],[2650,"2650 \u0440\u0443\u0431\u043b\u0435\u0439"]];
var e_buy_data       = {"112":[10,"\u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c",1,""],"113":[6,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0431\u0443\u0441\u0442\u0435\u0440",1,""],"117":[3,"\u041b\u0438\u0433\u0430 \u0431\u0443\u0441\u0442\u0435\u0440",1,""],"162":[10,"10 \u0440\u043e\u043b\u0435\u0439 \u043d\u0430 \u0430\u0443\u043a\u0446\u0438\u043e\u043d\u0435",1,""],"163":[3,"\u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u044f\u044f \u0448\u0430\u043f\u043a\u0430",1,""],"209":[6,"\u0428\u043b\u044f\u043f\u0430 \u0422\u043e\u043d\u0438",1,""],"185":[3,"\u0428\u0430\u043f\u043a\u0430 \u0414\u0435\u0434\u0430 \u041c\u043e\u0440\u043e\u0437\u0430",1,""],"191":[10,"\u0416\u0435\u0442\u043e\u043d \u042f\u043a\u0443\u0434\u0437\u0430",1,""],"167":[3,"\u0422\u044b\u043a\u0432\u0430-\u0417\u043e\u043c\u0431\u0438",1,""],"116":[3,"\u041f\u0435\u0440\u0447\u0430\u0442\u043a\u0430 \u041f\u043e\u0442\u0440\u043e\u0448\u0438\u0442\u0435\u043b\u044f",1,""],"164":[3,"\u0412\u0430\u043b\u0435\u043d\u0442\u0438\u043d\u043a\u0430",1,""],"165":[3,"\u0417\u043e\u043b\u043e\u0442\u043e\u0435 \u044f\u0439\u0446\u043e",1,""],"166":[3,"\u041f\u0435\u0440\u0441\u0442\u0435\u043d\u044c \u0422\u043e\u043d\u0438",1,""],"244":[3,"\u0412\u0430\u043b\u0435\u043d\u0442\u0438\u043d\u043a\u0430",1,""],"238":[3,"\u041a\u043e\u043b\u044c\u0446\u043e \u0441 \u0440\u0443\u0431\u0438\u043d\u043e\u043c",1,""],"247":[6,"\u0414\u043d\u0435\u0432\u043d\u0438\u043a \u041f\u0440\u043e\u0444\u0435\u0441\u0441\u043e\u0440\u0430",1,""],"192":[3,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u041f\u0440\u043e\u0444\u0435\u0441\u0441\u043e\u0440\u0430",1,""],"248":[3,"\u041f\u0430\u0441\u0445\u0430\u043b\u044c\u043d\u0430\u044f \u043e\u0442\u043a\u0440\u044b\u0442\u043a\u0430",1,""],"279":[3,"\u041f\u0430\u0441\u0445\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433",1,""],"139":[5,"\u0412\u0435\u0441\u0435\u043d\u043d\u0438\u0439 \u0436\u0435\u0442\u043e\u043d \u043d\u0430 \u043a\u043b\u0430\u043d\u043e\u0432\u044b\u0439 \u043e\u043f\u044b\u0442",1,""],"254":[6,"\u0417\u043e\u043b\u043e\u0442\u043e\u0439 \u043a\u0440\u044e\u043a",1,""],"255":[3,"\u0410\u043c\u0443\u043b\u0435\u0442 \u0434\u0440\u0430\u043a\u043e\u043d\u0430",1,""],"282":[3,"\u041f\u0435\u0440\u0441\u0442\u0435\u043d\u044c \u0422\u043e\u043d\u0438",1,""],"283":[3,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0422\u043e\u043d\u0438",1,""],"261":[6,"\u0424\u043b\u0430\u043a\u043e\u043d \u0434\u0443\u0445\u043e\u0432",1,""],"289":[6,"\u041c\u0435\u0433\u0430-\u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u0412\u0430\u043b\u0435\u043d\u0442\u0438\u043d\u0430",1,""],"293":[6,"\u041c\u0435\u0433\u0430-\u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u041a\u043e\u0441\u0442\u044e\u043c\u0435\u0440\u0430",1,""],"295":[3,"\u041a\u0430\u0440\u043d\u0430\u0432\u0430\u043b\u044c\u043d\u044b\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433",1,""],"296":[12,"\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u043c\u0435\u0448\u043e\u043a \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438",1,""],"270":[3,"\u041f\u0438\u0440\u0430\u0442\u0441\u043a\u0438\u0439 \u0444\u043b\u0430\u0433",1,""],"276":[6,"\u0422\u0430\u043b\u0438\u0441\u043c\u0430\u043d \u0443\u0434\u0430\u0447\u0438",1,""],"120":[5,"\u0417\u0438\u043c\u043d\u0438\u0439 \u0436\u0435\u0442\u043e\u043d \u043d\u0430 \u043e\u043f\u044b\u0442",1,""],"121":[3,"\u041d\u043e\u0432\u043e\u0433\u043e\u0434\u043d\u0438\u0439 \u0440\u0435\u0439\u0442\u0438\u043d\u0433",1,""],"123":[12,"\u041e\u0433\u0440\u043e\u043c\u043d\u044b\u0439 \u043c\u0435\u0448\u043e\u043a \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438",1,""],"127":[3,"\u0411\u0438\u043b\u0435\u0442 \u043d\u0430 \u041a\u043e\u043b\u0435\u0441\u043e \u0424\u043e\u0440\u0442\u0443\u043d\u044b",1,""],"128":[5,"\u041a\u043b\u0430\u043d\u043e\u0432\u044b\u0439 \u043e\u043f\u044b\u0442 \u043e\u0442 \u041b\u0438\u043b\u0438",1,""],"129":[3,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u041b\u0438\u043b\u0438",1,""],"131":[12,"\u041e\u0433\u0440\u043e\u043c\u043d\u0430\u044f \u043a\u043e\u0440\u043e\u0431\u043a\u0430 \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438",1,""],"310":[5,"\u041a\u043b\u0430\u043d\u043e\u0432\u044b\u0439 \u043e\u043f\u044b\u0442 \u043e\u0442 \u0411\u0430\u043d\u0434\u0438\u0442\u043e\u0441",1,""],"311":[3,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u0411\u0430\u043d\u0434\u0438\u0442\u043e\u0441",1,""],"319":[5,"\u0416\u0435\u0442\u043e\u043d \u0431\u0443\u0441\u0442\u0435\u0440",1,""],"320":[10,"\u0412\u044b\u0431\u043e\u0440 \u0440\u043e\u043b\u0435\u0439",1,""],"144":[6,"\u041c\u0435\u0433\u0430-\u0440\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u0417\u0430\u0439\u043a\u0438",1,""],"321":[3,"\u041a\u043b\u0435\u0432\u0435\u0440 \u0443\u0434\u0430\u0447\u0438",1,""],"329":[3,"\u041d\u0435\u0433\u0430\u0442\u0438\u0432\u043d\u044b\u0439 \u044d\u0444\u0444\u0435\u043a\u0442",1,""],"330":[3,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u041f\u043e\u0442\u0440\u043e\u0448\u0438\u0442\u0435\u043b\u044f",1,""],"335":[3,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043e\u0442 \u0412\u0430\u043b\u0435\u043d\u0442\u0438\u043d\u0430",1,""],"336":[6,"\u041c\u0435\u0448\u043e\u043a \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438",1,""],"337":[6,"\u041c\u0435\u0448\u043e\u043a \u0441 \u044d\u043a\u0441\u0442\u0440\u0430\u043c\u0438 \u043d\u0430 \u0440\u0435\u0439\u0442\u0438\u043d\u0433",1,""],"342":[3,"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u0442\u043e\u0440\u0433\u043e\u0432\u0446\u0430",1,""]};
var buy_dd         = 1484560800;
var cln_url        = "http://img.mafia-rules.lv/d/mafia/clan-icons/";
var wk_f           = false;
var ers_uid        = 0;

var ppp_offset_x   = 0;
var hdr_offset_x   = 0;
var hdr_offset_y   = 0;
var hdr_right_o    = 285;
var uol_count      = 2028;

var tmpl_cache     = [];

var spc_id         = 0;
var spc_state      = "";
var spc_data       = [];
var spc_wnd_tm     = null;
var dlg_exit_tm    = null;
var reanim_tms     = [];

var offers_data       = [];

//
var _SOUND_vol        = {'sfx': 80, 'music': 20};
var _SOUND_err        = true;
var _SOUND_arr        = {'sfx': [], 'music': []};
var _stopBuy			  = '';

var is_dev = false;

var xzarr = [];
var xztab = 0;

function ChatBufferClass(){
	var _self = this;
	this.buf = [];
	
	function __construct(){
		_self.clear();
		return _self;
	}
	
	this.clear = function(){
		this.buf["kill"] = this.buf["info"] = this.buf["miss"] = this.buf["day"] = this.buf["mid"] = '';
	}
	
	this.add = function(key, str){
		if (key == "") return false;
		this.buf[key] += str;
	}
	
	this.night = function(){
		return this.buf["kill"] + this.buf["info"] + this.buf["miss"];
	}
	
	return __construct();
}

var _GM_ChatBuffer = new ChatBufferClass();

function inputDefValue(){
	$('.defValue').focus(function() {
		var def_value = $(this).attr("def_value");
		var input_value = $(this).val();		

		if (input_value == def_value){
			$(this).val('');
		}
		$(this).addClass("active");
	});

	$('.defValue').blur(function() {
		if ($(this).val() == ''){
			var def_value = $(this).attr("def_value") || '';
			$(this).val(def_value);
			$(this).removeClass("active");
		}
	});
}

function __rank84_xlimit(_eid){

	var _x = parseInt(_eid);
	return ((_x >= 188 && _x <= 191) || (_x >= 200 && _x <= 208) || (_x >= 220 && _x <= 225) || (_x >= 240 && _x <= 243) || (_x >= 251 && _x <= 254) ? true : false);
}

function __team_by_person(_pp){
	var _tt = (_pp > 0 ? k_persons[_pp] : '');
	return (
	_tt == 'mafiosos' || _tt == 'maniac' || _tt == 'boss' || _tt == 'helper' || _tt == 'fattony' || _tt == 'bifacial' || _tt == 'killer' || _tt == 'valentin' || _tt == 'assassin1' || _tt == 'assassin2' || _tt == 'assassin3' || 
	_tt == 'bigman' || _tt == 'marko' || _tt == 'francesca' || _tt == 'f_killer' || _tt == 'rosario' || _tt == 'fakecop' || _tt == 'ripper' || _tt == 'beard' || _tt == 'golem' || _tt == 'mutant' || _tt == 'professor' || 
	_tt == 'leen' || _tt == 'yakuza' || _tt == 'hill' || _tt == 'shadow' || _tt == 'peppi' || _tt == 'lili' || _tt == 'migel' || _tt == 'sancho' || _tt == 'bandit' ?
	0 : 1);
}

function __ext_interval_parse(_ivl){
	
	var _x = _ivl.split(' ');
	var _f = 'дн.';
	switch(_x[1]){
		case 'hour': _f = 'ч.'; break;
		case 'month': _f = 'мес.'; break;
		case 'minute': _f = 'мин.'; break;
	}	
	return parseInt(_x[0]) + ' '+ _f;
}


var __rcur = [];
var __rcerr = 0;

function RPX_listen(idx, id, cursor){

	if (!RPX[idx]) return false;
	RPX[idx].subscribe(id, function(_data, _id, _cursor){
		if (typeof __rcur[_id] != "undefined" && _cursor <= __rcur[_id]){
			__rcerr ++;
		}else{
			__rcur[_id] = _cursor;
			RPX_data_arr.push(_data);
			if (!RPX_event_done){
				RPX_event_done = true;
				RPX_event();
			}
		}
	});
	if (cursor) RPX[idx].setCursor(id, cursor);
	return true;
}

function RPX_event(){

	var _upd = 0;
	var _upd_p = 0;
	var _upd_f = 0;
	while(true){
		var _dt = RPX_data_arr.shift();
		if (typeof _dt != "undefined" && _dt != null){
			var _l = _dt.length;
			for(var _d = 0; _d < _l; _d++){
				var _da = _dt[_d];
				if (_da.length >= 2){
					switch (_da[0]){
						case "ban":
							PAGE_goto("BAN/");
							break;
						case "prz":
							_EvtPrizeOnScreen(_da[1], 0, 0);
							break;
						case "fsp":
							_EvtPopup('ticket', 1);
							_EventScene(my_id, 'update_fsp', [_da[1], _da[2]]);
							break;
						case "sl":
							_GM_action("", "upd", "sale", [_da[1], (_da[2] ? _da[2] : 0), (_da[3] ? _da[3] : 0)]);
							break;
						case "sla":
							if ($("ul.rolesForSale li:nth-child("+ (parseInt(_da[1]) + 1) +")").attr("data-status") == ""){
								$("ul.rolesForSale li:nth-child("+ (parseInt(_da[1]) + 1) +")").attr("data-status", "busy");
							}
							break;
						case "lk":
							if (_da[1]){
								_GM_action("", "link", _da[1]);
							}
							break;
						case "cj":
							if ($("#wnd_clans").length){
								$("#wnd_clans").remove();
								_CHT_focus();
							}
							if (_da[1]){
								my_clan = _da[1];
								RPX_listen("def", r_pxx + "MAF_CLN_" + my_clan, (typeof _da[2] != "undefined" && _da[2] > 0 ? _da[2] : null));
								RPX["def"].execute();
								if (clx_data[my_clan]){
									$(".profileBlock").find("span.clan").html(' '+(clx_data[my_clan][0] != '' ? '<img src="'+ cln_url + clx_data[my_clan][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[my_clan][1]);
								}
								$("#btt_clan").html('Мой Клан');
								MainMenu.removeLock("bt_clan");
								$("#bt_duel").removeClass("not-displayed");
								$("#ccl_tab").removeClass("not-displayed");
							}
							break;
						case "cr":
							if ($("#wnd_clans").length && $("#cln_"+ _da[1]).length){
								$("#cln_"+ _da[1] +" td:nth-child(4)").html('<span style="color:red">Заявка отклонена</span>');
							}
							break;
						case "cx":
							if (my_clan == _da[1][0]){
								_GM_action("gxt", "exts", (!$("#gxt_"+ _da[1][1]).length ? "add" : "set"), [_da[1][1], _da[1][2], _da[1][2]]);
								if ($("#wnd_clans").length){
									_GM_action("cln_"+ my_clan +"_x", "exts", "upd", [_da[1][1]]);
									_GM_action("cln_"+ my_clan +"_xo", "exts", "upd", [_da[1][1]]);
									if ($("#cln_"+ my_clan +"_x_"+ _da[1][1]).length && $("#cln_"+ my_clan +"_x_"+ _da[1][1]).hasClass("disabled")) $("#cln_"+ my_clan +"_x_"+ _da[1][1]).removeClass("disabled");
								}
							}
							break;
						case "ck":
							if (_da[1] && my_clan == _da[1]){
								RPX["def"].unsubscribe(r_pxx + "MAF_CLN_" + my_clan);
								RPX["def"].execute();
								_WND_proc("clans", "close");
								my_clan = 0;
								$(".profileBlock").find("span.clan").html('');
								$("#btt_clan").html('Кланы');
								if (!$("#bt_duel").hasClass("not-displayed")) $("#bt_duel").addClass("not-displayed");
								if (!$("#ccl_tab").hasClass("not-displayed")) $("#ccl_tab").addClass("not-displayed");
								if (_CHT_c_tab == "ccl") _CHT_action("", "tab", "cco", null);
								_GM_action("", "informer", "refresh");
								$("#ccl_log").divAutoScroll("clear");
							}
						case "xb":
							if (_da[1]){
								_GM_action("gxt", "exts", (!$("#gxt_"+ _da[1]).length ? "add" : "set"), [_da[1], _da[2]]);
								_GM_action("exl", "exts", "upd", [_da[1]]);
								_GM_action("", "upd", "pp_dd", "extras");
								if (_da[1] == 112) _GM_action("", "upd", "pp_dd", "gold_profile");
							}
							break;
						case "xr":
							if (_da[1]){
								_GM_action("gxt", "exts", "set", [_da[1]]);
								_GM_action("exl", "exts", "upd", [_da[1]]);
								_GM_action("", "upd", "pp_dd", "extras");
							}
							break;
						case "ir":
							_GM_action("", "informer", "refresh");
							break;
						case "ce":
							_WND_proc("clans", "event", _da[1]);
							break;
						case "cu":
							if (_da[1]){
								var _e = '';
								switch (_da[1]){
									case 1: _e = 'Размер файла не должен превышать 10 Kb'; break;
									case 2: _e = 'Доступен только GIF формат'; break;
									case 3: _e = 'Размер изображений не должен превышать 20 x 16 пикселей'; break;
								}
								if (_e != ''){
									var _cx = parseInt(parseInt(document.body.clientWidth) / 2);
									var _cy = parseInt(parseInt(document.body.clientHeight) / 2);
									_WARN("default", 2500, '<span class="yellow">'+ _e +'</span>', _cx - 100, _cy);
								}
							}
							break;
						case "aa":
							switch(parseInt(_da[1])){
																case 0: _WND_proc("are_inf", "tourn_fail"); break;
								case 1: _EvtPopup("finish"); break;
								case 2: _EvtPopup("start"); break;
															}
							break;
						case "su":
							switch(parseInt(_da[1])){
								case 0:
									var _am = parseInt($(".profileBlock").find(".rubyBalance").html());
									_am -= 10;
									$(".profileBlock").find(".rubyBalance").html(_am);
									$(".balance span.ruby").html(_am);
									break;
								case 1:
									var _am = parseFloat($(".profileBlock").find("span.moneyBalance").html());
									_am += 3000;
									$(".profileBlock").find("span.moneyBalance").html(Math.floor(_am));
									$(".balance span.coin").html(Math.floor(_am));
									var _am = parseInt($(".profileBlock").find(".rubyBalance").html());
									_am += 3;
									$(".profileBlock").find(".rubyBalance").html(_am);
									$(".balance span.ruby").html(_am);
									break;
							}
							break;
						case "bc":
							var _bc_a = {};
							if (typeof _da[1] != "undefined"){
								if (typeof _da[1]["c"] != "undefined"){
									$(".profileBlock").find("span.moneyBalance").html(Math.floor(_da[1]["c"][0]));
									$(".balance span.coin").html(Math.floor(_da[1]["c"][0]));
									_bc_a["c"] = Math.floor(_da[1]["c"][1]);
								}
								if (typeof _da[1]["r"] != "undefined"){
									$(".profileBlock").find(".rubyBalance").html(_da[1]["r"][0]);
									$(".balance span.ruby").html(_da[1]["r"][0]);
									_bc_a["r"] = _da[1]["r"][1];
								}
							}
							if (typeof _da[2] == "undefined" || !parseInt(_da[2])) _GM_action("", "buy_complete", Math.floor(Math.random() * 99999999999), _bc_a);
							break;
						case "of":
							if (typeof _da[3] != "undefined" && _da[3].length){
								$.each(_da[3], function(_di, _dd){
									switch (_dd[0]){
										case 'c': 
											$(".profileBlock").find("span.moneyBalance").html(Math.floor(_dd[1]));
											$(".balance span.coin").html(Math.floor(_dd[1]));
											break;
										case 'r': 
											$(".profileBlock").find(".rubyBalance").html(_dd[1]);
											$(".balance span.ruby").html(_dd[1]);
											break;
										case 'e':
											_GM_action("gxt", "exts", (!$("#gxt_"+ _dd[1]).length ? "add" : "set"), [_dd[1], _dd[2]]);
											_GM_action("exl", "exts", "upd", [_dd[1]]);
											_GM_action("", "upd", "pp_dd", "extras");
											if (_dd[1] == 112) _GM_action("", "upd", "pp_dd", "gold_profile");
											break;
										case 'f':
											_GM_action("gxt", "exts", (!$("#gxt_"+ _dd[1]).length ? "add" : "set"), [_dd[1], _dd[2]]);
											_GM_action("exl", "exts", "upd", [_dd[1]]);
											_GM_action("", "upd", "pp_dd", "extras");
											break;
									}
								});
								if (typeof _da[4] != "undefined" && parseInt(_da[4])) _GM_action("", "buy_complete", Math.floor(Math.random() * 99999999999));
							}
							if (typeof offers_data[_da[1]] != "undefined") {
								offers_data[_da[1]][2] = parseInt(_da[2]);
								if ($("#wnd_offers").length && $("#oda_id_"+ _da[1]).length) {
									$("#oda_id_"+ _da[1] +" .buyCount").html(offers_data[_da[1]][2]);
									var _abc = parseInt($("#oda_id_"+ _da[1] +" .alreadyBuyCount").html());
									var _qty = isNaN($("#oda_id_"+ _da[1] +" .qty").html()) ? 0 : parseInt($("#oda_id_"+ _da[1] +" .qty").html());
									_abc += _qty; //10;
									$("#oda_id_"+ _da[1] +" .alreadyBuyCount").html(''+ _abc);
								}
								if ($(".offerMiniBanner").attr("label") == _da[1]) $(".offerMiniBanner .buyCount").html(offers_data[_da[1]][2]);
							}
							offersRecount();
							break;
						case "prm":
							_EventScene(my_id, 'set_premium', 1);
							break;
						case "pa":
							$(".profileBlock").find("span.moneyBalance").html(Math.floor(_da[1]));
							$(".balance span.coin").html(Math.floor(_da[1]));
							break;
						case "py":
							$(".profileBlock").find(".rubyBalance").html(_da[1]);
							$(".balance span.ruby").html(_da[1]);
							break;
						case "ga":
							var _a = parseFloat(_da[1]);
							var _oo = $("#bt_gangs img");
							if ($(_oo).length){
								$(_oo).attr("label", _a);
								if (_a > 0 && $(_oo).hasClass("not-displayed")) $(_oo).removeClass("not-displayed");
							}
							break;
						case "gc":
							$(".myGuests").attr("label", _da[1]);
							var __gc = parseInt(_da[1]);
							$(".guests-count").html(__gc > 100 ? '100+' : __gc);
							$(".myGuests").addClass("new");
							if ($(".guests-count").hasClass("not-displayed")) $(".guests-count").removeClass("not-displayed");
							break;
						case "pr":
							my_rating = Math.floor(_da[1]);
							leagueProc("update");
							break;
						case "pe":
							my_expa = _da[1];
							break;
						case "mf":
						case "tf":
							if (typeof _da[2] != "undefined" && _da[2] != gam_id) break;
							_CHT_add(_da[0], _da[1]);
							break;
						case "bs":
							_CHT_action("", "boss", _da[1]);
							break;
						case "gm":
						case "mm":
						case "cm":
						case "pm":
						case "ee":
						case "gi":
						case "si":
						case "fo":
						case "fl":
						case "go":
						case "mr":
						case "ar":
						case "ww":
						case "zw":
						case "gw":
						case "sw":
						case "ec":
						case "gr":
						case "cl":
						case "an1":
						case "an2":
						case "gft":
							_CHT_add(_da[0], _da[1]);
							break;
						case "ul":
							//_UL_add("uol", _da[1]);
							uol_count ++;
							if (_da[1][4][0] == 1){
								if (_da[1][0] == my_id || !Math.floor(Math.random() * (1 + 5))){
									_CHT_add("go", [1, _da[1][0], _da[1][2]]);
								}
							}
							if (_da[1][4][5] == 1){
								_CHT_add("gg", [_da[1][0], _da[1][2]]);
							}
							if ($("#ufv_"+ _da[1][0]).length){
								var _oo = $("#ufv_"+ _da[1][0]).find(".name");
								if ($(_oo).length && $(_oo).hasClass("offline")){
									$(_oo).removeClass("offline");
									var _ph = $("#ufv_"+ _da[1][0]).find(".phs");
									if ($(_ph).length) $(_ph).removeClass("offline");
									_upd_f = 1;
								}
							}
							if ($("#ipv_"+ _da[1][0]).length){
								var _oo = $("#ipv_"+ _da[1][0]).find(".on-line");
								if ($(_oo).length && $(_oo).hasClass("off")){
									$(_oo).removeClass("off");
								}
							}
							_upd = 1;
							break;
						case "pl":
							_UL_add("gpl", _da[1]);
							_UL_add("upl", _da[1]);
							_CHT_add("im", _da[1]);
							_upd_p = 1;
							break;
						case "pd":
							if (_da[1] != my_id){
								if ($("#upl_" + _da[1]).length){
									var _oo = $("#upl_" + _da[1]).find(".nick");
									if ($(_oo).length){
										_CHT_add("dm", [_da[1], $(_oo).html(), $(_oo).attr("label")]);
									}
								}
								if ($("#upl_" + _da[1]).length){
									$("#upl_" + _da[1]).remove();
									_upd_p = 1;
									if (!spc_id) ExtraAnim.update();
								}
								if ($("#gpl_" + _da[1]).length){
									$("#gpl_" + _da[1]).parent("li").remove();
									_upd_p = 1;
								}
							}
							break;
						case "pw":
							if (!spc_id){
								if (typeof _da[2] != "undefined" && _da[2] != gam_id) break;
								pla_data['spower'] = _da[1];
							}
							break;
						case "gp":
							if (spc_id){
								if (typeof _da[2] != "undefined" && _da[2] != spc_id) break;
							}else{
								if (typeof _da[2] != "undefined" && _da[2] != gam_id) break;
							}
							_GM_action("", "do", "person", _da[1]);
							break;
						case "gs":
							if (spc_id) _GM_action("", "do", "spc_state", _da[1]);
							if (typeof _da[2] != "undefined" && _da[2] != gam_id) break;
							_GM_action("", "do", "state", _da[1]);
							break;
						case "ge":
							if (typeof _da[2] != "undefined" && _da[2] != gam_id) break;
							_DO_event(_da[1]);
							break;
						case "gl":
							_GM_action("gml", "list", "add", _da[1]);
							break;
						case "gk":
							_GM_action("gml", "list", "del", _da[1]);
							break;
						case "gj":
							_GM_action("gml", "list", "join", _da[1]);
							break;
						case "gd":
							_GM_action("", "do", "drop", [_da[1]]);
							break;
						case "gf":
							_GM_action("", "fr_invite", _da[1]);
							break;
						case "er":
							if ($("#prf_"+ my_id +"_er").length){
								if ($("#prf_"+ my_id +"_er_"+ _da[1][0]).length) $("#prf_"+ my_id +"_er_"+ _da[1][0]).remove();
								$("#prf_"+ my_id +"_er").append('<img id="prf_'+ my_id +'_er_'+ _da[1][0] +'" src="/images/events/'+evt_prefix+'/eraser/'+Math.floor((Math.random() * 6) + 1)+'.png?1" alt="" style="position:absolute;width:112px;height:113px;z-index:5;left:'+ _da[1][1] +'px;top:'+ _da[1][2] +'px" />');
							}
							if (_da[1][3]){
								__ERASER_throw(parseInt(_da[1][3]));
								//if (!_SOUND_err) _SOUND_arr['sfx']['do_my'].play();
							}
							break;	
					}
				}
			}
		}else{
			RPX_event_done = false;
			break;
		}
	}
	if (_upd){
		_UL_action("uol", "scroll");
		_UL_action("uol", "count"); 
	}
	if (_upd_f){
		_UL_action("ufv", "osort", {alpha: 1});
		_UL_action("ufv", "scroll");
		_UL_action("ufv", "count");
	}
	if (_upd_p){
		if (ifc_mode == "room"){
			_UL_action("gpl", "count");
		}else if (ifc_mode == "game"){
			_UL_action("upl", "scroll");
			_UL_action("upl", "count"); 
		}
	}
}

console.log = function() {}

function PAGE_goto(uri){

	RPX_shutdown();
	setTimeout(function(){
		document.location.href = "/standalone/03525d06750e70f0da2b28177935f26e/" + uri;
	}, 500);
}


function getClosestPlayers(){
	var _cpl = [-1, -1];
	var _fnd_me = false;
	$("#upl_list > li").each(function(){
		if (!parseInt($(this).find(".dead").attr("label"))){
			var _ii = $(this).attr("id").substr(4);
			if (_ii == my_id){
				_fnd_me = true;
			}else{
				if (!_fnd_me){
					_cpl[0] = _ii;
				}else{
					_cpl[1] = _ii;
					return false;
				}
			}
		}
	});
	return _cpl;
}

function SMU_event(data){

	if (typeof data.die != "undefined" && data.die){
		PAGE_goto("die/");
		return;
	}
	if (typeof data.upd != "undefined" && data.upd){
		PAGE_goto("update/");
		return;
	}
	if (typeof data.ban != "undefined" && data.ban){
		PAGE_goto("BAN/");
		return;
	}
	SMU_seconds = 0;
	if (typeof data.d != "undefined"){
		if (gam_id > 0){
			if (!SMU_check_tf){
				SMU_check_tf = true;
				SMU_check_tm = setTimeout(function(){
					if (gam_id > 0){
						_GM_action("", "do", "drop", [(data.d+5)]);
					}
					SMU_check_tf = false;
				}, 5000);
			}
		}
	}else{
		if (typeof data.g != "undefined" && data.g > 0){
			if (data.g == gam_id){
				if (typeof data.is != "undefined"){
					if (!data.is && gam_iscripter){
						gam_iscripter = 0;
					}else if(data.is && !gam_iscripter){
						gam_iscripter = 1;
					}
				}
				if (typeof data.gs != "undefined"){
					var _dgs = data.gs;
					var _gs = "def";
					switch (_dgs){
						case 2: _gs = "init"; break;
						case 3: _gs = "play"; break;
						case 4: _gs = "fin"; break;
					}
					if (_gs != gam_state){
						//
					}else{
						switch (_gs){
							case "def":
								if (typeof data.v != "undefined"){
									gam_data['sstamp'] = (data.v < 0 ? 0 : data.v);
								}
								break;
							case "init":
								if (typeof data.v != "undefined"){
									gam_data['sale_t'] = (data.v < 0 ? 0 : data.v);
								}
								break;
							case "play":
								if (typeof data.v != "undefined"){
									var _dtv = data.v;
									if (_dtv[0] != gam_data['v_mode']){
										if (!SMU_check_tf){
											SMU_check_tf = true;
											SMU_check_tm = setTimeout(function(){
												if (_dtv[0] != gam_data['v_mode']){
													_GM_action("", "do", "state", ["mode", _dtv[0], (_dtv[1]+5), _dtv[2]]);
												}
												SMU_check_tf = false;
											}, 5000);
										}
									}else{
										gam_data['v_time'] = _dtv[1];
									}
								}
								break;
						}
					}
				}
			/*}else if (!gam_id){
				PAGE_goto("");
				gam_id = data.g;*/
			}
		}else{
			if (gam_id > 0){
				if (!SMU_check_tf){
					SMU_check_tf = true;
					SMU_check_tm = setTimeout(function(){
						if (gam_id > 0){
							_GM_action("", "do", "drop", [(data.t+5)]);
						}
						SMU_check_tf = false;
					}, 5000);
				}
			}else{
				if (typeof data.bnf != "undefined"){
					playBonus.show();
				}
				if (typeof data.mbnf != "undefined") _GM_action("", "money_bonus", data.mbnf);
				if (typeof data.dli0 != "undefined"){
					_GM_action("", "duel_inf", 0, [data.dli0]);
				}
				if (typeof data.dch_ret != "undefined"){
					leagueProc("chest", "duels", data.dch_ret);
				}
				if (typeof data.prm_ret != "undefined"){
					_EventScene(my_id, 'set_premium', 1);
					_EventScene(my_id, 'open_items', data.prm_ret);
				}
				if (typeof data.oc != "undefined"){
					uol_count = parseInt(data.oc);
					_UL_action("uol", "count");
				}
				if (typeof data.gj != "undefined"){
					$.each(data.gj, function(_gid, _p) {
						_GM_action("gml", "list", "join", [_gid, _p]);
					});
				}
			}
		}
	}
	SMU_event_done = false;
}

var _UL_scrl_buffer   = new Array();
var _UL_scrl_req_done = false;
var _UL_scrl_req_wait = 0;
var _UL_scrl_tm       = null;
var _UL_fnd_val       = "";
var _UL_fnd_sp        = 0;
var _UL_fnd_tm        = null;
var _UL_root_obj      = "";

function _UL_scrl_req(pos){
	_UL_scrl_req_done = true;

	var _ids = new Array();
	while(true){
		var _id = _UL_scrl_buffer.shift();
		if (typeof _id != "undefined" && _id != null){
			_ids.push(_id);
		}else{
			break;
		}
	}

	if (_ids.length > 0){
		$.ajax({
			async: true,
			cache: false,
			type: "POST",
			url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
			data: {method: "scrl_req", ids: _ids},
			dataType: "json",
			success: function(data) {
				var _upd = {"uol": 0, "ufv": 0};
				if (typeof data.arr != "undefined"){
					for (var _dk in data.arr){
						var _da = data.arr[_dk];
						var _di = _dk.substring(4);
						var _do = _dk.substring(0, 3);
						if ($("#"+ _dk).length){
							if (!parseInt(_da[0]) && _do == "uol"){
								_upd["uol"] ++;
								$("#"+ _dk).remove();
							}else{
								var _ph = $("#"+ _dk).find(".phs");
								if ($(_ph).length && $(_ph).html() == '' && _da[4] != '') {
									$(_ph).html('<img src="'+ _da[4] +'" onmousedown="return false" onload="_PIX_crop(this, 32);" class="hidden" />');
								}
								if (_do == "ufv"){
									var _fo = $("#"+ _dk).find(".favlea");
									if ($(_fo).length && typeof _da[5] != "undefined"){
										var _f_lea = parseInt($(_fo).attr("label"));
										var _lea = parseInt(_da[5]);
										if (_lea != _f_lea){
											$(_fo).attr("label", _lea);
											$(_fo).html(_lea > 0 ? '<img src="/images/icons/league/'+ _lea +'.png" title="'+ league_ttls_w[_lea] +'" alt="" style="vertical-align: -5px; margin-right: 3px;" />' : '');
										}
									}
								}
								var _oo = $("#"+ _dk).find(".name");
								if ($(_oo).length){
									var _u = false;
									if ($(_oo).hasClass("play") && _da[0] != 2){
										$(_oo).removeClass("play");
										if (!_da[0]){
											$(_oo).addClass("offline");
											if ($(_ph).length) $(_ph).addClass("offline");
										}
										_u = true;
									}else if($(_oo).hasClass("offline") && _da[0] != 0){
										$(_oo).removeClass("offline");
										if ($(_ph).length) $(_ph).removeClass("offline");
										if (_da[0] == 2){
											$(_oo).addClass("play");
										}
										_u = true;
									}else if(_da[0] != 1){
										if (_da[0] == 2){
											$(_oo).addClass("play");
											if ($(_ph).length && $(_ph).hasClass("offline")) $(_ph).removeClass("offline");
										}else{
											$(_oo).addClass("offline");
											if ($(_ph).length) $(_ph).addClass("offline");
										}
										_u = true;
									}else if (_da[0] == 1 && $(_ph).length && $(_ph).hasClass("offline")){
										$(_ph).removeClass("offline");
									}
									if (_u && _do == "ufv"){
										_upd["ufv"] ++;
									}
									var _l = $("#"+ _dk).find(".log").hasClass("nolog");
									if ((!_l && _da[0] != 2) || (_l && _da[0] == 2)){
										$("#"+ _dk).find(".log").toggleClass("nolog");
									}
								}
								var _no = $("#"+ _dk).find(".nick");
								if ($(_no).length && _da[1] != $(_no).html()){
									//$("#"+ _dk +"_nick").css("font-size", (_da[1].length > 15 ? "9px" : ""));
									$(_no).html(_da[1]);
									//$(_no).stop().css({opacity: 0.05}).html(_da[1]).animate({opacity: 1}, 400);
								}
								var _ic = $("#"+ _dk).find(".ico");
								if ($(_ic).length && _da[2] != $(_ic).attr("label")){
									if (_da[2] && __store[_da[2]] && __store[_da[2]].type == "gift"){
										if (__store[_da[2]].ext == 'swf'){
											$(_ic).css("background-image", "none");
											$(_ic).html(_SWF_obj(_da[2], 40, 40));
											if (!$("#"+ _dk).hasClass("swf")) {
												$("#"+ _dk).addClass("swf");
												if (_do == "ufv"){
													_upd["ufv"] ++;
												}else{
													_upd["uol"] ++;
												}
											}
											$(_ic).attr("label", _da[2]);
										}else{
											if (!$("#"+ _dk).hasClass("swf")){
												$(_ic).css("background-image", "url(/images/gifts/"+ _da[2] +"."+ __store[_da[2]].ext +")");
												$(_ic).attr("label", _da[2]);
											}
										}
									}else{
										$(_ic).html('');
										$(_ic).css("background-image", "");
										$(_ic).attr("label", 0);
										if ($("#"+ _dk).hasClass("swf")) $("#"+ _dk).removeClass("swf");
									}
									_UL_action((_do == "uol" ? "ufv" : "uol"), "gift", _da[2], _di);
									if (_di == my_id) _GM_action("", "upd", "my_gift", _da[2]);
								}
								if (_da[3]){
									if (_da[3][0] == 0 && $("#"+ _dk).hasClass("gold-profile")){
										$("#"+ _dk).removeClass("gold-profile");
									}else if (_da[3][0] == 1 && !$("#"+ _dk).hasClass("gold-profile")){
										$("#"+ _dk).addClass("gold-profile");
									}
									if (_da[3][2] == 0 && $("#"+ _dk).hasClass("moder")){
										$("#"+ _dk).removeClass("moder");
									}else if (_da[3][2] == 1 && !$("#"+ _dk).hasClass("moder")){
										$("#"+ _dk).addClass("moder");
									}
									if (typeof _da[3][3][9] != "undefined" && parseInt(_da[3][3][9]) && !$("#"+ _dk).hasClass("ach-award")){
										$("#"+ _dk).addClass("ach-award");
									}
									/*if (_da[3][4] == 0 && $("#"+ _dk).hasClass("wedding-full")){
										$("#"+ _dk).removeClass("wedding-full");
									}else if (_da[3][4] == 1 && !$("#"+ _dk).hasClass("wedding-full")){
										$("#"+ _dk).addClass("wedding-full");
									}*/
									var _cx = $("#"+ _dk).find("span.clan");
									var _cr = $("#"+ _dk).find("span.clan-rank");
									if ($(_cx).length && $(_cr).length){
										if (parseInt(_da[3][1]) != parseInt($(_cx).attr("label"))){
											if (_da[3][1] && clx_data[_da[3][1]]){
												$(_cx).attr("label", _da[3][1]);
												$(_cx).html(' '+(clx_data[_da[3][1]][0] != '' ? '<img src="'+ cln_url + clx_data[_da[3][1]][0] +'.gif" label="'+ clx_data[_da[3][1]][0] +'" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_da[3][1]][1]);
												var _rk = '';
												if (clx_data[_da[3][1]][2][0] == _di){
													_rk = '<img src="/images/clan-icons/cl_owner.png" label="owner" title="Глава клана" height="16" alt="" />';
												}else if (clx_data[_da[3][1]][2][1] == _di){
													_rk = '<img src="/images/clan-icons/cl_mjr_1.png" label="mjr_1" title="Офицер" height="16" alt="" />';
												}else if (clx_data[_da[3][1]][2][2] == _di){
													_rk = '<img src="/images/clan-icons/cl_mjr_2.png" label="mjr_2" title="Офицер" height="16" alt="" />';
												}else if (clx_data[_da[3][1]][2][3] == _di){
													_rk = '<img src="/images/clan-icons/cl_banker.png" label="banker" title="Казначей" height="16" alt="" />';
												}else if (clx_data[_da[3][1]][2][4] == _di){
													_rk = '<img src="/images/clan-icons/cl_supervisor.png" label="supervisor" title="Управляющий" height="16" alt="" />';
												}else if (clx_data[_da[3][1]][2][5] == _di){
													_rk = '<img src="/images/clan-icons/cl_mjr_3.png" label="mjr_3" title="Офицер" height="16" alt="" />';
												}else if (clx_data[_da[3][1]][2][6] == _di){
													_rk = '<img src="/images/clan-icons/cl_supervisor_2.png" label="supervisor_2" title="Управляющий" height="16" alt="" />';
												}	
												if (_rk != '') $(_cr).html(_rk);
											}else{
												$(_cx).attr("label", "0");
												$(_cx).html('');
												$(_cr).html('');
											}
										}else if (_da[3][1] && clx_data[_da[3][1]]){
											var _xi = $(_cx).children("img");
											if ($(_xi).length){
												if ($(_xi).attr("label") != clx_data[_da[3][1]][0] || $(_cx).text() != clx_data[_da[3][1]][1]){
													$(_cx).html(' '+(clx_data[_da[3][1]][0] != '' ? '<img src="'+ cln_url + clx_data[_da[3][1]][0] +'.gif" label="'+ clx_data[_da[3][1]][0] +'" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_da[3][1]][1]);
												}
											}else{
												$(_cx).html(' '+(clx_data[_da[3][1]][0] != '' ? '<img src="'+ cln_url + clx_data[_da[3][1]][0] +'.gif" label="'+ clx_data[_da[3][1]][0] +'" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_da[3][1]][1]);
											}
										}
									}
								}
								/*if (_da[3] != $("#"+ _dk +"_adm").attr("label")){
									$("#"+ _dk +"_adm").attr("label", _da[3]);
									$("#"+ _dk +"_adm").html((_da[3] > 0 ? '<img src="/images/icons/moder.gif" width="11" height="12" style="vertical-align:-2px;margin-right:3px" title="Модератор" alt="" />' : ''));
								}*/
							}
						}
					}
				}

				_UL_scrl_req_done = false;
				if (_upd["uol"] > 0){
					_UL_action("uol", "scroll", {scroll: pos});
					_UL_action("uol", "scroll");
					_UL_action("uol", "count");
				}
				if (_upd["ufv"] > 0){
					//_UL_action("ufv", "osort", {alpha: 1});
					_UL_action("ufv", "scroll");
					_UL_action("ufv", "count");
				}
				if (_UL_scrl_req_wait > 0){
					_UL_scrl_req_wait = 0;
					_UL_scrl_req(pos);
				}
			}
		});
	}else{
		_UL_scrl_req_done = false;
	}
}

function _UL_scrl_change(obj, pos, h, tm){
	if (!$("#"+ obj +"_scrollbar").is(":visible")){
		return;
	}
	var _c = 0;
	var _t = Math.floor(new Date().getTime() / 1000);
	var _h = parseInt($("#"+ obj +"_scrollbar").height());
	var _p = parseInt(pos);
	var _ps = (_p - h);
	var _pm = (_p + _h);
	var _pf = 0;
	$("#"+ obj +"_list > li").each(function(){
		//var _pt = parseInt($(this).position().top);
		var _pt = (this.offsetTop - this.parentNode.scrollTop);
		if (_pt >= _ps && _pt <= _pm){
			if (!$(this).hasClass("not-displayed")){
				var _o = $(this).find(".name");
				if (!parseInt($(_o).attr("label"))){
					$(_o).attr("label", "1");
					$(this).attr("label", _t);
					_UL_scrl_buffer.push($(this).attr("id"));
					_c ++;
				}
				_pf = 1;
			}
		}else if (_pf){
			return;
		}
	});

	//if (_c > 0){
		if (!_UL_scrl_req_done){
			_UL_scrl_req_wait = 0;

			if (tm > 0){
				if (_UL_scrl_tm != null){
					clearTimeout(_UL_scrl_tm);
					_UL_scrl_tm = null;
				}
				_UL_scrl_tm = setTimeout(function(){
					_UL_scrl_req(_p);
				}, tm);
			}else{
				_UL_scrl_req(_p);
			}
		}else{
			_UL_scrl_req_wait ++;
		}
	//}
}

function _UL_scrl_uptime(obj){

	var _c = 0;
	var _t = (Math.floor(new Date().getTime() / 1000) - 30);
	$("#"+ obj +"_list > li").each(function(){
		if (parseInt($(this).attr("label")) < _t){
			var _o = $(this).find(".name");
			if (parseInt($(_o).attr("label"))){
				$(_o).attr("label", "0");
				_c ++;
			}
		}
	});
	return _c;
}

function _UL_action(obj, act, val, id){

	var _fin = false;
	var _fin_h = 0;
	switch (act){
		case "gold_p":
			if (obj != '' && id != '' && $("#"+ obj +"_"+ id).length){
				if (val == 1){
					if (!$("#"+ obj +"_"+ id).hasClass("gold-profile")){
						$("#"+ obj +"_"+ id).addClass("gold-profile");
					}
				}else{
					if ($("#"+ obj +"_"+ id).hasClass("gold-profile")){
						$("#"+ obj +"_"+ id).removeClass("gold-profile");
					}
				}
			}
			break;
		case "gift":
			if (obj != '' && id != '' && $("#"+ obj +"_"+ id).length){
				var _ic = $("#"+ obj +"_"+ id).find(".ico");
				if ($(_ic).length && val != $(_ic).attr("label")){
					if (val && __store[val] && __store[val].type == "gift"){
						if (__store[val].ext == 'swf'){
							$(_ic).css("background-image", "none");
							$(_ic).html(_SWF_obj(val, 40, 40));
							if (!$("#"+ obj +"_"+ id).hasClass("swf")) $("#"+ obj +"_"+ id).addClass("swf");
							$(_ic).attr("label", val);
						}else{
							if (!$("#"+ obj +"_"+ id).hasClass("swf")){
								$(_ic).css("background-image", "url(/images/gifts/"+ val +"."+ __store[val].ext +")");
								$(_ic).attr("label", val);
							}
						}
					}else{
						$(_ic).html('');
						$(_ic).css("background-image", "");
						$(_ic).attr("label", 0);
						if ($("#"+ obj +"_"+ id).hasClass("swf")) $("#"+ obj +"_"+ id).removeClass("swf");
					}
				}
			}
			break;
		case "p_gift":
			if (obj != '' && id != '' && $("#"+ obj +"_"+ id).length){
				var _oo = $("#"+ obj +"_"+ id).find(".name");
				if ($(_oo).length && __store[val] && __store[val].type == "gift"){
					if (!$(_oo).hasClass("swf")){
						if (__store[val].ext == "swf"){
							$(_oo).find(".gift").remove();
							$(_oo).prepend('<div class="gift-swf">'+ _SWF_obj(val, 40, 40) +'</div>');
							$(_oo).addClass("swf");
						}else{
							var _ic = $(_oo).find(".gift");
							var _ss = '/images/gifts/'+ val +'.'+ __store[val].ext;
							if ($(_ic).length){
								$(_ic).attr("src", _ss);
							}else{
								$(_oo).prepend('<img src="'+ _ss + '" alt="" class="gift" />');
							}
						}
					}else{
						if (__store[val].ext == "swf"){
							$(_oo).find(".gift-swf").html(_SWF_obj(val, 40, 40));
						}
					}
				}
			}
			break;
		case "m_hover":
			if (obj != '' && id != '' && $("#"+ obj +"_"+ id).length){
				if (gam_id && gam_state != "fin" || !gam_id){
					if (obj == "upl" && (pla_data['dead'] || pla_data['kvt'] || pla_data['freeze'] == 1 || pla_data['freeze'] == 3 || pla_data['freeze'] == 4 || pla_data['freeze'] == 6 || pla_data['freeze'] == 7 || pla_data['freeze'] == 8 || pla_data['freeze'] == 9 || pla_data['freeze'] == 10 || pla_data['freeze'] == 11 || pla_data['freeze'] == 12 || pla_data['freeze'] == 13 || pla_data['freeze'] == 14)) return;
					var _oo = $("#"+ obj +"_"+ id).find(".dead");
					if ($(_oo).length && parseInt($(_oo).attr("label")) > 0) return;
					if (obj == "upl"){
						var _oo = $("#"+ obj +"_"+ id).find(".actions");
						if ($(_oo).length && $(_oo).attr("label") != '') return;
					}
				}
				var _o = $("#"+ obj +"_"+ id).find("div.actions");
				if ($(_o).length){
					if (val == "off"){
						if (!$(_o).hasClass("off")){
							$(_o).addClass("off");
						}
					}else{
						if (id != my_id && $(_o).hasClass("off")){
							$(_o).removeClass("off");
						}
					}
				}
			}
			break;
		case "find":
			if (obj == 'uol'){
				var _evt = (!id ? window.event : id);
				var _key = (navigator.appName.indexOf("Netscape") == -1 ? _evt.keyCode : (_evt.which ? _evt.which : null));
				var _stt = (typeof val != "undefined" && typeof val.keystate != "undefined" && val.keystate == 'down' ? 'down' : 'up');
				var _fnd = 0;
				var _fft = 0;
				if (_stt == 'down' && _key == 27){
					if (_UL_fnd_val != ""){
						_UL_fnd_val = "";
						_fnd = -1;
					}
					$("#"+ obj +"_find").val("");
					$("#"+ obj +"_find").removeAttr("disabled");
					$("#"+ obj +"_find").focus();
				}else if (_key in {13:1, 10:1}){
					return false;
				}else if (_stt == 'up'){
					if (_key == 27){
						$("#"+ obj +"_find").val("");
						$("#"+ obj +"_find").removeAttr("disabled");
						$("#"+ obj +"_find").focus();
						return true;
					}
					var _val = $("#"+ obj +"_find").val().trim();
					if (_val.length < 3){
						_val = "";
					}
					if (_val != _UL_fnd_val){
						if (_UL_fnd_val == ""){
							_fnd = 1;
						}else if (_val == ""){
							_fnd = -1;
						}
						_UL_fnd_val = _val;
						if (_fnd != -1){
							_fft = 1;
						}
					}
				}
				if (_fnd != 0){
					if (_fnd > 0){
						var _sp = _UL_action("uol", "scroll");
						if (_sp >= 0){
							_UL_fnd_sp = _sp;
						}
					}else{
						if (_UL_fnd_tm) {
							clearTimeout(_UL_fnd_tm);
							_UL_fnd_tm = null;
						}
						$("#"+ obj +"_list > li.not-displayed").removeClass("not-displayed");
						_UL_action("uol", "scroll", {scroll: _UL_fnd_sp});
						_UL_action("uol", "scroll");
						_UL_action("uol", "count");
					}
				}
				if (_fft){
					if (_UL_fnd_tm) {
						clearTimeout(_UL_fnd_tm);
						_UL_fnd_tm = null;
					}
					_UL_fnd_tm = setTimeout(function(){
						$("#"+ obj +"_find").attr("disabled", "disabled");
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "uol_find", val: _UL_fnd_val},
							dataType: "json",
							success: function(data) {
								$("#"+ obj +"_list > li:not(.not-displayed)").addClass("not-displayed");
								if (typeof data.ids != "undefined"){
									$.each(data.ids, function(_i, _id) {
										_UL_add("uol", [_id]);
										if ($("#"+ obj +"_"+ _id).length && $("#"+ obj +"_"+ _id).hasClass("not-displayed")){
											$("#"+ obj +"_"+ _id).removeClass("not-displayed");
										}
									});
								}
								_UL_action("uol", "scroll");
								_UL_action("uol", "count");
								$("#"+ obj +"_find").removeAttr("disabled");
								$("#"+ obj +"_find").focus();
							}
						});
					}, 300);
				}
				return true;
			}
			break;
		case "show":
			if (obj != '' && $("."+ obj +"_bar").length){
			//if (obj != '' && $("."+ obj +"_bar").length && $("."+ obj +"_bar").hasClass("nobar")){
				var _h = 0;
				$("."+ obj +"_bar").each(function(){
					_h += parseInt($(this).outerHeight(true));
				});
				_fin_h -= _h;
				if (typeof val != "undefined" && typeof val.set_root != "undefined" && val.set_root){
					if (_UL_root_obj != "" && _UL_root_obj != obj && $("#"+ _UL_root_obj +"_scrollbar").length){
						var _r_o = _UL_root_obj;
						var _mh = 0;
						if ($("#"+ _r_o +"_scrollbar").is(":visible")){
							_mh = parseInt($("#"+ _r_o +"_scrollbar").height());
							$("#"+ _r_o +"_scrollbar").hide();
						}
						/*
						$("."+ _r_o +"_bar:not(.nobar)").each(function(){
							$(this).addClass("nobar");
							_mh += parseInt($(this).outerHeight(true));
						});
						_mh -= _h;
						if (_mh > 0){
							//$("#"+ obj +"_scrollbar").height(_mh);
							//$("#"+ obj +"_scrollbar").find("div.viewport").height(_mh);
						}
						*/
					}
					_UL_root_obj = obj;
					$("."+ obj +"_bar").find("div.state").removeClass("off");
					$("#"+ obj +"_scrollbar").show();
					if (!isMobile) $("#"+ obj +"_scrollbar").tinyscrollbar_update("relative");
					_fin_h -= parseInt($("#"+ obj +"_scrollbar").height());
				}else if (typeof val != "undefined" && typeof val.use_cookie != "undefined" && val.use_cookie && _COOKIE_get("CCM_ulist_" + obj) != null){
					$("."+ obj +"_bar").find("div.state").removeClass("off");
					$("#"+ obj +"_scrollbar").show();
					if (!isMobile) $("#"+ obj +"_scrollbar").tinyscrollbar_update("relative");
					_fin_h -= parseInt($("#"+ obj +"_scrollbar").height());
				}
				else {
					$("#"+ obj +"_scrollbar").show();
					if (!isMobile) $("#"+ obj +"_scrollbar").tinyscrollbar_update("relative");
				}
				_fin = true;
			}
			break;
		case "hide":
			if (obj != '' && $("."+ obj +"_bar").length && !$("."+ obj +"_bar").hasClass("nobar")){
				$("."+ obj +"_bar").addClass("nobar");
				var _h = 0;
				$("."+ obj +"_bar").each(function(){
					_h += parseInt($(this).outerHeight(true));
				});
				_fin_h += _h;
				if ($("#"+ obj +"_scrollbar").is(":visible")){
					$("#"+ obj +"_scrollbar").hide();
					_fin_h += parseInt($("#"+ obj +"_scrollbar").height());
				}
				if (_UL_root_obj == obj){
					_UL_root_obj = "";
				}
				_fin = true;
			}
			break;
		case "toggle":
			if (obj != '' && $("#"+ obj +"_scrollbar").length && $("#gamePage").hasClass("current")){
				if ($("#"+ obj +"_scrollbar").is(":visible")){
					$("#gameRightColumn").removeClass("favoritesBlockOn");
					$("#"+ obj +"_scrollbar").hide();

					if (typeof val != "undefined" && typeof val.use_cookie != "undefined" && val.use_cookie){
						_COOKIE_del("CCM_ulist_" + obj);
					}
				}else{
					$("#gameRightColumn").addClass("favoritesBlockOn");
					$("#"+ obj +"_scrollbar").show();
					if (!isMobile) $("#"+ obj +"_scrollbar").tinyscrollbar_update("relative");
					if (typeof val != "undefined" && typeof val.use_cookie != "undefined" && val.use_cookie){
						_COOKIE_set("CCM_ulist_" + obj, 1);
					}
				}
				//$("#upl_scrollbar").tinyscrollbar_update("relative");
				_fin = true;
			}
			break;
		case "count":
			if (obj != '' && $("#"+ obj +"_cnt").length){
				var _c = '';
				if (obj == "uol"){
					/*var _cc_l = $("#"+ obj +"_list > li").length;
					if (typeof val != "undefined" && val){
						uol_count = _cc_l;
					}
					var _cc_v = (_cc_l < 22 ? _cc_l : uol_count);*/
					if (_UL_fnd_val != ""){
						_c = "" + uol_count + "&nbsp;(" + $("#"+ obj +"_list > li:not(.not-displayed)").length + ")";
					}else{
						_c = "" + uol_count;
					}
				}else if (obj == "ufv"){
					var _cc = 0;
					$("#"+ obj +"_list > li").each(function(){
						if (!$(this).hasClass("not-displayed")){
							var _o = $(this).find(".name");
							if ($(_o).length){
								if (!$(_o).hasClass("offline")){
									_cc ++;
								}
							}
						}
					});
					_c = '<span class="textDis">:</span> '+ (_cc > 0 ? _cc +' <span class="textDis">онлайн</span>' : '');
				}else if (obj == "gpl"){
					var _l = $("#"+ obj +"_list > li").length;
					var _plc = (typeof gam_data['players'] != "undefined" ? gam_data['players'] : 8);
					_c = _l + '/' + _plc;
					$("#"+ obj +"_cnt").attr("label", _l);
					$(".playersQueue").attr("class", "playersQueue");
					$(".playersQueue").addClass('roomPlayersCount'+ _plc);
				}else if (obj == "upl"){
					 var _l = $("#"+ obj +"_list").find(".dead.not-displayed").length;
					_c = _l + '/' + $("#"+ obj +"_list > li").length;
					var _plc = (typeof gam_data['players'] != "undefined" ? gam_data['players'] : 8);	
					/*
					if (_plc <= 8){
						$("ul.playersList").addClass("maxMode");
					}else if ($("ul.playersList").hasClass("maxMode")){
						$("ul.playersList").removeClass("maxMode");
					}
					*/
				}
				if (_c != ''){
					$("#"+ obj +"_cnt").html(_c);
				}
			}
			break;
		case "scroll":
			if (obj != '' && $("#"+ obj +"_scrollbar").is(":visible")){
				if (isMobile){
					if (obj == "ufv" || obj == "uol"){
						_UL_scrl_change(obj, $("#"+ obj +"_scrollbar").scrollTop(), 44, 45);
					}
					return 0;
				}
				return $("#"+ obj +"_scrollbar").tinyscrollbar_update((typeof val != "undefined" ? val.scroll : "relative"));
			}else{
				return -1;
			}
			break;
		case "osort":
			if (obj != '' && $("#"+ obj +"_scrollbar").is(":visible")){
				var _lst = $("#"+ obj +"_list");
				var _elems = $(_lst).children("li").remove();
				var _alp = (typeof val != "undefined" && val.alpha ? 1 : 0);
				_elems.sort(function(a, b){
					var _a = $(a).find(".name").hasClass("offline") ? 1 : 0;
					var _b = $(b).find(".name").hasClass("offline") ? 1 : 0;
					if (_alp){
						return (_a == _b ? ($(a).text().toLowerCase() > $(b).text().toLowerCase() ? 1 : -1) : (_a > _b ? 1 : -1));
					}else{
						return (_a > _b ? 1 : (_a < _b ? -1 : 0));
					}
				});
				$(_lst).append(_elems);
			}
			break;
	}
	if (_fin && !isMobile){
		if (typeof val != "undefined" && typeof val.root_scroll != "undefined" && val.root_scroll && _UL_root_obj != "" && $("#"+ _UL_root_obj +"_scrollbar").length){
			$("#"+ _UL_root_obj +"_scrollbar").tinyscrollbar_update("relative"); 
		}
	}
}

function _UL_add(obj, arr, wr){
	if (!$("#"+ obj +"_"+ arr[0]).length){
		if (obj == "upl"){
			var _d = (arr[6] ? arr[6] : 0);
			var _v = (arr[10] ? arr[10] : '');
			var _gft = '';
			var _gft_c = '';
			if (arr[3] && __store[arr[3]] && __store[arr[3]].type == "gift"){
				if (__store[arr[3]].ext == 'swf'){
					_gft = '<div class="gift-swf">'+ _SWF_obj(arr[3], 40, 40) +'</div>';
					_gft_c = ' swf';
				}else{
					_gft = '<img src="/images/gifts/'+ arr[3] +'.'+ __store[arr[3]].ext +'" alt="" class="gift" />';
				}
			}
			var _c = '<li id="'+ obj +'_'+ arr[0] +'" onmouseover="_UL_action(\''+ obj +'\', \'m_hover\', \'\', \''+ arr[0] +'\');" onmouseout="_UL_action(\''+ obj +'\', \'m_hover\', \'off\', \''+ arr[0] +'\');" class="'+(arr[4] && arr[4][0] == 1 ? 'gold-profile' : '')+'">'+
					'<div class="ico'+(arr[0] == my_id ? ' my' : '')+(_d ? ' idead' : '')+'" style="background-image:url(/img/persons/big/'+(arr[5] ? k_persons[arr[5]] : 'unknown') + (arr[11] ? arr[11] : '') +'_'+ arr[2] +'.png)" title="'+t_persons[arr[5]]+'" label="'+arr[5]+'" ondblclick="return false" onclick="_GM_action(this, \'ext_div\', \''+arr[0]+'\', event);return false"><div class="dead'+(!_d ? ' not-displayed' : '')+'" label="'+_d+'"></div><div class="noSpeak'+(!arr[7] ? ' not-displayed' : '')+'" title="Подозрительно молчит"></div><div class="count'+(!arr[8] ? ' not-displayed' : '')+'">'+arr[8]+'</div></div>'+
					'<div class="name'+ _gft_c + (arr[0] == my_id ? ' my' : '')+(_d ? ' ndead' : '')+'">'+_gft+'<span class="nick" onclick="_TON(\'ich\', this);return false" label="'+arr[2]+'">'+ arr[1] +'</span><span class="clan" label="'+(arr[4] && arr[4][1] ? arr[4][1] : '0')+'">'+ (arr[4] && arr[4][1] && clx_data[arr[4][1]] ? ' '+(clx_data[arr[4][1]][0] != '' ? '<img src="'+ cln_url + clx_data[arr[4][1]][0] +'.gif" label="'+ clx_data[arr[4][1]][0] +'" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[arr[4][1]][1] : '') +'</span><div class="hint">'+(_d ? (_d == 3 ? 'за решеткой' : 'покойник') : (arr[9] ? 'против: '+arr[9] : ''))+'</div></div>'+
					(arr[0] == my_id ? '<div id="myMicroExtras"></div>' : '')+
					'<div class="actionButton off" label=""><button class="action" hidefocus="true" ondblclick="return false" onclick="_GM_action(\'\', \'vote\', 0, [\''+ arr[0] +'\', 0, event]);return false"><div></div></button></div>'+
					'<div class="actions'+(_v == '' ? ' off' : '')+'" label="'+_v+'">&nbsp;<img src="/images/icons/letter'+(_v != '' ? '-maf' : '')+'.png" ondblclick="return false" onclick="_PVT(event, \''+ arr[0] +'\');return false" title="Написать приватно" alt="">&nbsp;</div>'+
				'</li>';	
		}else if (obj == "gpl"){
			var _c = '<li class="'+(arr[0] == my_id ? ' my' : '')+'"><span id="'+ obj +'_'+ arr[0] +'" class="player"><span class="nick" onclick="_TON(\'ich\', this);return false">'+ arr[1] +'</span><img src="/images/icons/letter.png" ondblclick="return false" onclick="_PVT(event, \''+ arr[0] +'\');return false" title="Написать приватно" alt=""><img src="/images/icons/profile.png" ondblclick="return false" onclick="_PRF('+ arr[0] +');return false" title="Смотреть профиль" alt=""></span><div class="pixCrop photo"><img class="gpl-img hidden" src="'+ (arr[4][2] != '' ? arr[4][2] : '/images/_.gif') +'" alt="" onload="_PIX_crop(this, 32);" ondblclick="return false" onclick="_PRF('+ arr[0] +');return false" /></div></li>';
		}else{
			var _l = (arr[2] ? 1 : 0);
			var _t = Math.floor(new Date().getTime() / 1000);
			var _m = (arr[1] == 2 ? 'play' : (arr[1] == 1 ? '' : 'offline'));
			var _rk = '';
			if (arr[4] && arr[4][1] && clx_data[arr[4][1]] && clx_data[arr[4][1]][2]){
				if (clx_data[arr[4][1]][2][0] == arr[0]){
					_rk = '<img src="/images/clan-icons/cl_owner.png" label="owner" title="Глава клана" height="16" alt="" />';
				}else if (clx_data[arr[4][1]][2][1] == arr[0]){
					_rk = '<img src="/images/clan-icons/cl_mjr_1.png" label="mjr_1" title="Офицер" height="16" alt="" />';
				}else if (clx_data[arr[4][1]][2][2] == arr[0]){
					_rk = '<img src="/images/clan-icons/cl_mjr_2.png" label="mjr_2" title="Офицер" height="16" alt="" />';
				}else if (clx_data[arr[4][1]][2][3] == arr[0]){
					_rk = '<img src="/images/clan-icons/cl_banker.png" label="banker" title="Казначей" height="16" alt="" />';
				}else if (clx_data[arr[4][1]][2][4] == arr[0]){
					_rk = '<img src="/images/clan-icons/cl_supervisor.png" label="supervisor" title="Управляющий" height="16" alt="" />';
				}else if (clx_data[arr[4][1]][2][5] == arr[0]){
					_rk = '<img src="/images/clan-icons/cl_mjr_3.png" label="mjr_3" title="Офицер" height="16" alt="" />';
				}else if (clx_data[arr[4][1]][2][6] == arr[0]){
					_rk = '<img src="/images/clan-icons/cl_supervisor_2.png" label="supervisor_2" title="Управляющий" height="16" alt="" />';
				}
			}
			var _gft = '';
			var _gft_c = '';
			var _gft_l = '';
			var _gft_s = '';
			if (arr[3] && __store[arr[3]] && __store[arr[3]].type == "gift"){
				if (__store[arr[3]].ext == 'swf'){
					_gft = _SWF_obj(arr[3], 40, 40);
					_gft_c = 'swf';
					_gft_s = ' style="background-image:none;"';
				}else{
					_gft_s = ' style="background-image:url(/images/gifts/'+arr[3]+'.'+__store[arr[3]].ext+');"';
				}
				_gft_l = arr[3];
			}
			var _phs = (typeof arr[5] != "undefined" ? '<img src="'+ arr[5] +'" onmousedown="return false" onload="_PIX_crop(this, 32);" class="hidden" />' : ''); 
			var _lea = (typeof arr[6] != "undefined" ? parseInt(arr[6]) : 0);
			var _c = '<li id="'+ obj +'_'+ arr[0] +'" label="'+ _t +'" onmouseover="_UL_action(\''+ obj +'\', \'m_hover\', \'\', \''+ arr[0] +'\');" onmouseout="_UL_action(\''+ obj +'\', \'m_hover\', \'off\', \''+ arr[0] +'\');" class="'+ _gft_c +(arr[4] && arr[4][0] == 1 ? ' gold-profile' : '')+(_UL_fnd_val != "" && obj == 'uol' ? ' not-displayed' : '')+(arr[4] && arr[4][2] ? ' moder' : '')+ (arr[4] && typeof arr[4][3][9] != "undefined" && parseInt(arr[4][3][9]) ? ' ach-award' : '') +'">'+
					'<div class="ico" label="'+ _gft_l +'"'+ _gft_s +'>'+ _gft +'</div>'+
					'<div class="phs'+(_m == 'offline' ? ' offline' : '')+'" onclick="_PRF('+ arr[0] +');">'+ _phs +'</div>'+
					'<div class="name'+(_m != '' ? ' '+_m : '')+(arr[0] == my_id ? ' my' : '')+'" label="'+ _l +'">'+ (obj == "ufv" ? '<span class="favlea" label="'+ _lea +'">'+ (_lea > 0 ? '<img src="/images/icons/league/'+ _lea +'.png" alt="" title="'+ league_ttls_w[_lea] +'" style="vertical-align: -5px; margin-right: 3px;" />' : '') +'</span>' : '') +'<span class="nick" onclick="_TON(\'ich\', this);return false">'+(_l ? arr[2] : '')+'</span><span class="clan-rank">'+ _rk +'</span><span class="clan" label="'+(arr[4] && arr[4][1] ? arr[4][1] : '0')+'">'+ (arr[4] && arr[4][1] && clx_data[arr[4][1]] ? ' '+(clx_data[arr[4][1]][0] != '' ? '<img src="'+ cln_url + clx_data[arr[4][1]][0] +'.gif" label="'+ clx_data[arr[4][1]][0] +'" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[arr[4][1]][1] : '') +'</span></div>'+
					'<div class="actions off">&nbsp;<img src="/images/icons/letter.png" ondblclick="return false" onclick="_PVT(event, \''+ arr[0] +'\');return false" title="Написать приватно" alt=""><img src="/images/icons/profile.png" ondblclick="return false" onclick="_PRF('+ arr[0] +');return false" title="Смотреть профиль" alt=""><img src="/images/icons/eye.png" ondblclick="return false" onclick="_WND_proc(\'spectate\', \'\', \''+ arr[0] +'\', event);return false" title="Наблюдать за игрой" alt="" class="log'+(_m != 'play' ? ' nolog' : '') +'">&nbsp;</div>'+
				'</li>';
		}
		if (wr) return _c;
		$("#" + obj + "_list").append(_c);
	}
	if (wr) return '';
}


function _SWF_obj(id, w, h){

	var sizeImg = '';
	var cssClass = '';
	var id = parseInt(id);
	if (w == 40){
		sizeImg = '-min';
		cssClass = 'mini';
	}else if (w == 116){
		sizeImg = '-max';
		cssClass = 'maxi';
	}
	var _frames = {
		2101: 11, 2102: 5, 2103: 10, 2104: 10, 2105: 15, 2106: 10, 2107: 10, 2108: 10, 2109: 5, 2110: 10, 2111: 25, 2112: 10, 2113: 20, 2114: 10,
		2201: 9, 2202: 15, 2203: 10, 2204: 9, 2205: 20, 2206: 20, 2207: 10, 2208: 10, 2209: 6, 2210: 25, 2211: 26, 2212: 15, 2213: 10, 2214: 10, 2215: 29, 2216: 22, 2217: 9, 2218: 20, 2219: 8, 2220: 10, 2221: 14, 2222: 10, 2223: 17, 2224: 14 
	};
	var frame = (typeof _frames[id] != "undefined" ? _frames[id] : '');
	var url = '/images/gifts/'+ id + sizeImg +'.png';
	return '<img src="/images/_.gif" alt="" style="background-image: url('+ url +')" class="'+ cssClass +' animGift frame'+ frame +'" />';
}

function _GM_action(obj, act, val, arr){

	switch (act){
		case "fr_inv_acc":
			$.ajax({
				async: true,
				cache: false,
				type: "POST",
				url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
				data: {method: "fr_inv_acc"},
				dataType: "json",
				success: function(data) {
					if (typeof data.rpx != "undefined"){
						RPX_data_arr.push(data.rpx);
						if (!RPX_event_done){
							RPX_event_done = true;
							RPX_event();
						}
					}
				}
			});
			break;
		case "fr_invite":
			if (!gam_id || (gam_id && gam_state == "def") && val && val[0]){
				if (!$("#pp_fr_invite").length){
					$("#popup_container").append('<div id="pp_fr_invite" class="popup-move popupShadowNew inviteInRoomPopup not-displayed">'+
						'<h2><a href="#" onclick="_PVT(event, \''+ val[1] +'\');return false" hidefocus="true">'+ val[2] +'</a> зовёт в игру!</h2>'+
						'<div class="photo" onclick="_PRF(\''+ val[1] +'\');return false"><img src="'+ val[3] +'" onload="_PIX_crop(this, 100)" /></div>'+
						'<div class="footerButtons">'+
							'<button ondblclick="return false" onclick="$(\'#pp_fr_invite\').remove();_GM_action(\'\', \'fr_inv_acc\');if(gam_id && gam_state == \'def\'){_GM_action(\'\', \'exit_i\', \''+ val[0] +'\', event);}else{_GM_action(\'gml\', \'join_i\', \''+ val[0] +'\', event);} return false" class="newButton color2">Принять</button>'+
							'<button ondblclick="return false" onclick="$(\'#pp_fr_invite\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" hidefocus="true" class="newButton color3">Отклонить</button>'+
						'</div>'+
					'</div>');
					if (!_SOUND_err) _SOUND_arr['sfx']['game_invite'].play();
					$("#pp_fr_invite").css("left", (parseInt((parseInt($("#rootContainer").width()) - hdr_right_o) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_fr_invite").width())/2)) +"px");
					$("#pp_fr_invite").draggable({
						containment: "document",
						cancel: "input,select,button",
						zIndex: 100,
						stop: function(){
							$(this).mousedown();
						}
					}).mousedown(function(){
						var _i = $(this).attr("id");
						var _z = _POPUP_resort("popup-move", _i);
						$(this).css("z-index", _z);
					}).show("fade", 100, function(){
						$(this).removeClass("not-displayed");
						$(this).mousedown();
						$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
					});
					_HX_hint('luc13');
				}else{
					$("#pp_fr_invite").mousedown();
				}
			}
			break;
		case "create":
			if (!gam_id && val != 1){
				if (val == -3){
					if (arr != "" && $("#crt_fr_"+ arr).length){
						var _scnt = parseInt($("#crt_friends ul.selectFriends > li.checked").length);
						if ($("#crt_fr_"+ arr).hasClass("checked")){
							$("#crt_fr_"+ arr).removeClass("checked");
							_scnt --;
						}else if (_scnt < 10){
							$("#crt_fr_"+ arr).addClass("checked");
							_scnt ++;
						}
						$("#crt_fr_scnt").html(_scnt > 0 ? 'Друзей выбрано: '+ _scnt : '&nbsp;');
						$("#crt_friends").find("button").html(_scnt > 0 ? 'Выбрать' : 'Закрыть');
					}
				}else if (val == -2){
					if ($("#pp_crt").length){
						if ($("#crt_friends").hasClass("not-displayed")){
							$("#crt_friends").removeClass("not-displayed");
							if (!parseInt($("#crt_friends").attr("label"))){
								$("#crt_friends").attr("label", 1);
								$.ajax({
									async: true,
									cache: false,
									type: "POST",
									url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
									data: {method: "gam_friends"},
									dataType: "json",
									success: function(data) {
										if (typeof data.arr != "undefined"){
											var _oo = $("#crt_friends ul.selectFriends");
											if ($(_oo).length){
												var _s = '';
												$.each(data.arr, function(_i, _row) {
													_s += '<li id="crt_fr_'+ _row[0] +'" ondblclick="return false" onclick="_GM_action(\'\', \'create\', -3, '+ _row[0] +');return false"><div class="photo"><img src="'+ _row[2] +'" onmousedown="return false" onload="_PIX_crop(this, 54)" /></div><span class="name">'+ _row[1] +'</span><s></s></li>';
												});
												$(_oo).removeClass("not-displayed").html(_s);
											}
											$("#crt_friends .noFriends:not(.not-displayed)").addClass("not-displayed");
											$("#crt_friends .friendsChoiceText").removeClass("not-displayed");
											_HX_hint('luc11');
										}else{
											$("#crt_friends .noFriends").removeClass("not-displayed");
											$("#crt_friends").attr("label", 0);
											_HX_hint('luc12');
										}
									}
								});
							}
						}else{
							var _c = parseInt($("#crt_friends ul.selectFriends > li.checked").length);
							var _s = '';
							$("#crt_friends ul.selectFriends > li.checked").each(function(){
								var _id = $(this).attr("id").substr(7);
								var _ph = $(this).find("div.photo").children("img").attr("src");
								_s += '<li id="crt_fv_'+ _id +'"><div class="photo"><img src="'+ _ph +'" onload="_PIX_crop(this, '+ (_c > 3 ? 32 : 54) +');" /></div></li>';
							});
							$("#crt_favs").html(_s);
							if (_c > 3) {
								$("#crt_favs:not(.miniMode)").addClass("miniMode");
							}else{
								$("#crt_favs.miniMode").removeClass("miniMode");
							}

							if (_c < 3) for (var _i = 0; _i < (3 - _c); _i++) $("#crt_favs").append('<li class="add">+</li>');
							if (_c > 0){
																$("#crt_fv_c").html('Выбран'+ _postfix(['о','','ы'], _c) +' '+ _c +' дру'+ _postfix(['зей','г','а'], _c));
															}else{
								$("#crt_fv_c").html('Играть с друзьями');
							}
							$("#crt_friends").addClass("not-displayed");
						}
					}
				}else if (val == -1){
					_GM_action("f", "upd", "pp_dh", "crt");
				}else{
					if (my_play_c < 9){
						var _evt = (!arr ? window.event : arr);
						var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
						var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
						_WARN("default", 2500, '<span class="yellow">Требуется сыграть 9 игр</span>', _cx - 100, _cy);
						return;
					}
					if (!$("#pp_crt").length){
						var _rr = $("#leagueBlock").attr("label");
						if (_rr != '' && isNaN(_rr)) _rr = 0;
						_rr = parseFloat(_rr);
						var _lopts = '';
						var _ll = parseInt(my_league);
												var _maxl = 3;
												if (_ll > _maxl) _ll = _maxl;
						for(var _l = 1; _l <= _ll; _l++) {
							_lopts += '<option value="'+ _l +'"'+ (_ll == _l ? ' selected' : '') +'>'+ league_ttls[_l] + (_l == _maxl ? '+' : '') +'</option>';
						}
						$("#popup_container").append('<div id="pp_crt" class="popup-move popupShadowNew createGamePopup not-displayed" style="top:240px">'+
									'<table cellspacing="0" cellpadding="0" class="form">'+
										'<tr>'+
											'<td>Игроков:</td>'+
											'<td align="right"><select id="crt_players" onchange="_GM_action(\'\', \'upd\', \'create\');"><option>8</option><option>12</option><option>16</option><option>20</option></select></td>'+
										'</tr><tr>'+
											'<td>Ставка:</td>'+
											'<td align="right"><select id="crt_bet" onchange="_GM_action(\'\', \'upd\', \'create\');"><option>20</option>'+(my_level >= 5 ? '<option>100</option><option>200</option><option>300</option><option>400</option><option>500</option>'+ (typeof my_tals[10] != "undefined" && parseInt(my_tals[10]) ? '<option>1000</option><option>5000</option><option>10000</option>' : '') : '')+ '</select></td>'+
										'</tr><tr>'+
											'<td>Лига:</td>'+
											'<td><select id="crt_league" onchange="_GM_action(\'\', \'upd\', \'create\');" style="width:90px">'+ _lopts +'</select></td>'+
										'</tr>'+
										'<tr>'+
											(typeof my_tals[28] != "undefined" && parseInt(my_tals[28]) ? '<td style="cursor:default">Без очереди:</td>' : '<td style="cursor:default;text-decoration:underline" class="hoverHint" data-tip="Вы можете создать игру, минуя очередь<br /><em>Стоимость 100 монет</em>" >Без очереди:<img src="/images/icons/coin-micro.png" style="vertical-align:-2px;margin-left:4px" alt="" /></td>')+
											'<td align="right"><input id="crt_prior" onchange="_GM_action(\'\', \'upd\', \'create\');" type="checkbox" value="1" /></td>'+
										'</tr>'+
									'</table>'+
									'<div class="friendsBlock">'+
										'<p id="crt_fv_c">Играть с друзьями</p>'+
										'<ul id="crt_favs" class="friendsUl" ondblclick="return false" onclick="_GM_action(\'\', \'create\', -2);return false">'+
											'<li class="add">+</li>'+
											'<li class="add">+</li>'+
											'<li class="add">+</li>'+
										'</ul>'+
									'</div>'+
									'<div class="footerButtons">'+
										'<button id="gmc_btn_create" ondblclick="return false" onclick="_GM_action(\'gmc_btn_create\', \'create\', 1, event);return false" hidefocus="true" class="newButton color1">Создать игру</button>'+
									'</div>'+
									'<a href="#" onclick="_GM_action(\'\', \'create\', -1);return false" class="popupClose" hidefocus="true"></a>'+
									'<div id="crt_friends" class="createGameFriendChoisePopup not-displayed" label="0">'+
										'<div class="noFriends not-displayed">На данный момент свободных друзей нет! Для приглашения друга в игру, вы должны добавить друг друга в фавориты!</div>'+
										'<div class="friendsChoiceText not-displayed">'+
											'<p>Выбери друзей, с которыми хочешь играть. Чтобы другу пришло приглашение, вы должны быть друг у друга в фаворитах!<br/><em id="crt_fr_scnt">&nbsp;</em></p>'+
										'</div>'+
										'<ul class="selectFriends not-displayed">'+
										'</ul>'+
										'<div class="footerButtons">'+
											'<button ondblclick="return false" onclick="_GM_action(\'\', \'create\', -2);return false" hidefocus="true" class="newButton color1">Закрыть</button>'+
										'</div>'+
									'</div>'+													
						'</div>');
						$("#pp_crt").css("left", (parseInt((parseInt($("#rootContainer").width()) - hdr_right_o) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_crt").width())/2)) +"px");
						ptip.init('.createGamePopup .hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause'});
						$("#pp_crt").draggable({
							containment: "document",
							cancel: "input,select,button,.popup-close,ul.selectFriends",
							zIndex: 100,
							stop: function(){
								$(this).mousedown();
							}
						}).mousedown(function(){
							var _i = $(this).attr("id");
							var _z = _POPUP_resort("popup-move", _i);
							$(this).css("z-index", _z);
						}).show("fade", 100, function(){
							$(this).removeClass("not-displayed");
							$(this).mousedown();
						});
						_GM_action("", "upd", "create");
						_HX_hint('luc10');
					}else{
						$("#pp_crt").mousedown();
					}
				}
				break;
			}
		case "join":
		case "join_i":
		case "play":
		case "play_at":
			if (!gam_id && obj != ''){
				var _evt = (!arr ? window.event : arr);
				var _mth = {method: "gam_" + act};
				if (act == "join_i" && val != ''){
					var _jf = false;
					if ($("#"+ obj +"_"+ val).length){
						var _oo = $("#"+ obj +"_"+ val +" div.button").children("button");
						if ($(_oo).length && parseInt(val) > 0) _jf = true;
					}
					if (_jf){
						var _id = parseInt(val);
						var _cc = "locked";
						_mth['method'] = "gam_join";
						_mth['id'] = _id;
					}else{
						_WARN("default", 2500, '<span class="yellow">Комната недоступна</span>', _evt.clientX, _evt.clientY, {w: 0});
						return;
					}
				}else if (act == "join" && val != '' && $("#"+ obj +"_"+ val).length){
					var _oo = $("#"+ obj +"_"+ val +" div.button").children("button");
					var _id = parseInt(val);
					var _cc = "locked";
					if (!$(_oo).length || _id < 0 || !_id) return;
					_mth['id'] = _id;
				}else if (act == "create"){
					var _oo = $("#" +obj);
					var _cc = "not-active";
					_mth['players'] = $("#crt_players").val();
					_mth['bet'] = $("#crt_bet").val();
					_mth['league'] = $("#crt_league").val();
					_mth['prior'] = ($("#crt_prior").is(":checked") ? 1 : 0);
					_mth['favs'] = [];
					$("#crt_favs > li:not(.add)").each(function(){
						_mth['favs'].push($(this).attr("id").substr(7));
					});
				}else{
					var _oo = $("#" +obj);
					var _cc = "not-active";
				}
				if ($(_oo).length && !$(_oo).hasClass(_cc)){
					$(_oo).addClass(_cc);
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: _mth,
						dataType: "json",
						success: function(data) {
							setTimeout(function(){
								if ($(_oo).length){
									$(_oo).removeClass(_cc);
								}
							}, 2500);
							if (typeof data.gk != "undefined"){
								_GM_action(obj, "list", "del", data.gk);
							}
							if (typeof data.arr != "undefined"){
								_GM_action("", "do", "create", data.arr);
							}
							if (typeof data.err != "undefined"){
								var _e = '';
								var _w = 0;
								switch(data.err){
									case 1:  _e = 'Комната существует, попробуйте другую ставку'; break;
									case 2:  _e = 'Вы не можете создать игру, пока в меню есть свободные игровые комнаты'; break;
									case 3:  _e = 'Недостаточно монет'; _HX_hint('rud5'); _WND_proc('buy'); break;
									case 4:
									case 6:
									case 14: _e = 'Некорректно'; break;
									case 5:  _e = 'Лига недоступна'; break;
									case 7:  _e = 'Вы уже создали комнату'; break;
									case 11: _e = 'В этой комнате уже присутствует пользователь с таким же IP адресом как у Вас'; _w = 300; break;
									case 12: _e = 'В этой комнате уже идет игра, выберите другую из списка или создайте свою'; _w = 300; break;
									case 13: _e = 'У Вас недостаточно монет чтобы зайти в эту игровую комнату'; _w = 300; _HX_hint('rud5'); _WND_proc('buy'); break;
									case 15: _e = 'У Вас недостаточно рейтинга чтобы зайти в эту игровую комнату'; _w = 300; break;
									case 16: _e = 'Для входа в эту игровую комнату требуется 5 уровень'; _w = 300; break;
									case 17: _e = 'Требуется 5 уровень'; break;
									case 18: _e = 'Вы не можете войти в эту комнату, создатель комнаты вас заблокировал'; break;
									case 19: _e = 'Требуется 20 уровень'; break;
									case 20: _e = 'Для входа в эту игровую комнату требуется 20 уровень'; _w = 300; break;
									case 21: _e = 'Вы сыграли все игры в текущем турнире! Ждите окончания турнира'; break;
								}
								if (_e != ''){
									_WARN("default", 2500, '<span class="yellow">'+ _e +'</span>', _evt.clientX, _evt.clientY, {w: _w});
								}
							}
						}
					});
				}
			}
			break;
		case "exit_i":	
			if (typeof val == "undefined" || !val) return;
		case "exit":
			if (gam_id){
				var _evt = (!arr ? window.event : arr);
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "gam_exit", state: gam_state},
					dataType: "json",
					success: function(data) {
						if (typeof data.rr != "undefined" && data.rr){
							PAGE_goto("");
							return;
						}
						if (typeof data.id != "undefined"){
							if (typeof data.d != "undefined"){
								_GM_action("gml", "list", "del", data.id);
							}
							_GM_action("", "do", "drop", [data.t]);
							if (act == "exit_i") {
								setTimeout(function(){
									_GM_action("gml", "join_i", val, _evt);
								}, 500);
							}
							if (dlg_exit_tm) {
								clearTimeout(dlg_exit_tm);
								dlg_exit_tm = null;
							}
						}
						if (typeof data.err != "undefined"){
							if (data.err == 1){
								_WARN("default", 2500, '<span class="yellow">Недостаточно монет</span>', _evt.clientX - 100, _evt.clientY);
								_HX_hint('rud5');
								_WND_proc('buy');
							}else if (data.err == 2){
								_WARN("default", 2500, '<span class="yellow">Вы не можете повторно совершить суицид, с момента прошлого суицида не прошло 10 минут</span>', _evt.clientX - 100, _evt.clientY);
							}else if (data.err == 3){
								_WARN("default", 2500, '<span class="yellow">Вы не можете выйти из арены</span>', _evt.clientX - 100, _evt.clientY);
							}
							_DLG("exit", -1);
						}else{
							_DLG("exit", 1);
						}
					}
				});
			}
			break;
		case "start":
			if (gam_id){
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "gam_start"},
					dataType: "json",
					success: function(data) {
						if (typeof data.ret != "undefined" && data.ret){
							if (!$("#gpl_start").hasClass("not-displayed")){
								$("#gpl_start").addClass("not-displayed");
							}
							gam_data['sstamp'] = 0;
						}
					}
				});
			}
			break;
		case "vote":
			if (gam_id && gam_state == "play" && arr[0]){
				var _ab = $("#upl_"+ arr[0]).find(".actionButton");
				if ($(_ab).length && !$(_ab).hasClass("off")){
					if ($(_ab).attr("label") == "reanim_j"){
						var _evt = (!arr[2] ? window.event : arr[2]);
						_GM_action("", "ext_use", [315, arr[0], _evt]);
						return;
					}else if ($(_ab).attr("label") == "reanim"){
						var _evt = (!arr[2] ? window.event : arr[2]);
						_GM_action("", "ext_use", [208, arr[0], _evt]);
						return;
					}else if ($(_ab).children("button").attr("class") == "z_ghost"){
						var _evt = (!arr[2] ? window.event : arr[2]);
						_GM_action("", "ext_use", [221, 0, _evt]);
						return;
					}else if (pla_data['dead'] && $(_ab).children("button").attr("class") == "r_kill"){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "rip_dkill", id: arr[0]},
							dataType: "json",
							success: function(data) {
								if (typeof data.rpx != "undefined"){
									RPX_data_arr.push(data.rpx);
                							if (!RPX_event_done){
										RPX_event_done = true;
										RPX_event();
									}
								}
							}
						});
						return;
					}
				}
			}
			if (gam_id && gam_state == "play" && !pla_data['dead'] && !pla_data['freeze']){
				var _id = (pla_data['kvt'] ? pla_data['kvt'] : arr[0]);
				if (!_id || _id == my_id) return;
				if (val){
					if ((!pla_data['kvt'] && val == 1) || pla_data['kvt']){
						_GM_action("f", "upd", "pp_dh", "vte");
						if (!pla_data['kvt']) return;
					}
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "vte_act", kv: (pla_data['kvt'] ? val : 0), id: (!pla_data['kvt'] ? _id : 0), md: arr[1]},
						dataType: "json",
						success: function(data) {
							if (typeof data.rpx != "undefined"){
								RPX_data_arr.push(data.rpx);
                						if (!RPX_event_done){
									RPX_event_done = true;
									RPX_event();
								}
							}
						}
					});
				}else if ($("#upl_" + _id).length){
					var _phs = '/images/_.gif';
					if ($("#gpl_" + _id).length){
						var _phs = $("#gpl_" + _id).parent("li").find(".gpl-img").attr("src");
					}
					var _n = $("#upl_" + _id).find(".nick").html();
					_n = _PL_nick(_id, _n, 'nick');
					var _m = 1;
					var _fv = true;
					if (pla_data['kvt']){
						var _t  = 'Суд над <em>'+ _n +'</em>!';
						var _b2 = 'Приговорить';
						var _b1 = 'Оправдать';
						_fv = false;
						_m = 0;
						_HX_noob('all1');
					}else{
						var _t  = '';
						var _b2 = 'Да';
						var _b1 = 'Нет';
						var _ab = $("#upl_"+ _id).find(".actionButton");
						if ($(_ab).length && !$(_ab).hasClass("off")){
							switch ($(_ab).children("button").attr("class")){
								case "x2vote":
									var _evt = (!arr[2] ? window.event : arr[2]);
									_GM_action("", "ext_use", [103, _id, _evt]);
									break;
								case "vote":
									_t = 'Голосовать против <em>'+ _n +'</em>?';
									_m = 0;
									_fv = false;
									break;
								case "kill":
									_t = 'Убить '+ _n +'?';
									break;
								case "find":
									_t = 'Искать Мафию '+ _n +'?';
									break;
								case "f_find":
									_t = 'Искать Тони '+ _n +'?';
									break;
								case "know":
									_t = 'Узнать роль '+ _n +'?';
									break;
								case "v_kill":
									_t = 'Выстрелить '+ _n +'?';
									break;	
								case "t_kill":
									_t = 'Убить '+ _n +'?';
									break;
								case "r_kill":
									_t = 'Убить '+ _n +'?';
									break;
								case "be_kill":
									_t = 'Убить '+ _n +'?';
									break;	
								case "b_kill":
									_t = 'Заложить бомбу '+ _n +'?';
									break;
								case "m_kill":
									_t = 'Убить '+ _n +'?';
									break;	
								case "p_kill":
									_t = 'Убить '+ _n +'?';
									break;
								case "l_kill":
									_t = 'Убить '+ _n +'?';
									break;
								case "bab_kill":
									_t = 'Убить '+ _n +'?';
									break;	
								case "g_kill":
									_t = 'Убить '+ _n +'?';
									break;		
								case "freeze":
									_t = 'Заморозить '+ _n +'?';
									break;
								case "cut":
									_t = 'Зарезать '+ _n +'?';
									break;
								case "cut2":
									_t = 'Убить '+ _n +'?';
									break;	
								case "check":
									_t = 'Проверить '+ _n +'?';
									break;
								case "heal":
									_t = 'Вылечить '+ _n +'?';
									break;
								case "visit":
									_t = 'Навестить '+ _n +'?';
									break;
								case "steal":
									_t = 'Обворовать '+ _n +'?';
									break;
								case "steal_g":
									_t = 'Украсть '+ _n +'?';
									break;
								case "gift_c":	
								case "gift":
									_t = 'Подарить '+ _n +'?';
									break;
								case "kiss":
									_t = 'Охмурить '+ _n +'?';
									break;
								case "shoot":
									_t = 'Стрелять в '+ _n +'?';
									break;
								case "gift_b":
								case "gift_bc":
									_t = 'Подарить '+ _n +'?';
									break;
								case "guess":
									_t = 'Гадать '+ _n +'?';
									break;
								case "hit":
									_t = 'Ударить '+ _n +'?';
									break;
								case "yak_kill":
									_t = 'Убить '+ _n +'?';
									break;
								case "s_throw":
									_t = 'Кинуть отравленный сюрикен '+ _n +'?';
									break;	
							}
						}
						if (_t == '') return;
					}
					if (_fv){
						_GM_action('', 'vote', 2, [_id, _m]);
					}else{
						var _h = '<div class="popupGameVote'+(!pla_data['kvt'] ? ' jail' : '')+'">'+
								'<div class="photo" onclick="_PRF('+ _id +');"><img src="'+ _phs +'" onmousedown="return false" onload="_PIX_crop(this, 101);" class="hidden" /></div>'+
								'<h2>'+ _t +'</h2>'+
								'<div class="voteButtons">'+
									'<button ondblclick="return false" onclick="if ($(this).parent().hasClass(\'not-active\')) return false; $(this).parent().addClass(\'not-active\');_GM_action(\'\', \'vote\', 2, [\''+ _id +'\', '+_m+']);return false" class="yes" hidefocus="true">'+ _b2 +'</button>'+
									'<button ondblclick="return false" onclick="if ($(this).parent().hasClass(\'not-active\')) return false; $(this).parent().addClass(\'not-active\');_GM_action(\'\', \'vote\', 1, [\''+ _id +'\', '+_m+']);return false" class="no" hidefocus="true">'+ _b1 +'</button>'+
								'</div>'+
								(!pla_data['kvt'] ? '<a href="#" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'vte\');return false" class="popupClose" hidefocus="true"></a>' : '')+
							'</div>';
						if (!$("#pp_vte").length){
							$("#popup_container").append('<div id="pp_vte" class="popup-move fix-shadow not-displayed" style="width:484px;top:240px">'+ _h +'</div>');
							$("#pp_vte").css("left", (parseInt((parseInt($("#rootContainer").width()) - 243) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_vte").width())/2)) +"px");
							$("#pp_vte").draggable({
								containment: "document",
								cancel: "button,.popupClose",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}else{
							$("#pp_vte").html(_h);
							$("#pp_vte").mousedown();
						}
					}	
				}
			}
			break;
		case "buy_complete":
			var _h = '';
			if (!$("#pp_buyc_"+ val).length){
				$("#popup_container").append('<div id="pp_buyc_'+ val +'" class="popup-move popupShadowNew not-displayed" style="width:340px; height:140px; top:240px">'+
						'<h1 style="text-align:center; position: relative; top: 25px">Спасибо за покупку!</h1>'+
						'<div class="footerButtons">'+
							'<button ondblclick="return false" onclick="$(\'#pp_buyc_'+ val +'\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" class="newButton" hidefocus="true">Закрыть</button>'+
						'</div>'+
						'<a href="#" onclick="$(\'#pp_buyc_'+ val +'\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" class="popupClose" hidefocus="true"></a>'+
				'</div>');
				$("#pp_buyc_"+ val).css("left", (parseInt((parseInt($("#rootContainer").width()) - hdr_right_o) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_buyc_"+ val).width())/2)) +"px");
				$("#pp_buyc_"+ val).draggable({
					containment: "document",
					cancel: "input,button,.popup-close",
					zIndex: 100,
					stop: function(){
						$(this).mousedown();
					}
				}).mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
				});
			}else{
				$("#pp_buyc_"+ val).mousedown();
			}
			break;
		case "link":
			if (val != ''){
				var _ln = 0;
				if (val.substring(0, 2) == 'id') _ln = 1;
				var _h = '<div class="popup-bg">'+
						'<h1 style="text-align:center">Игрок указал в анкете:</h1>'+
						'<div style="text-align:center">'+ (_ln ? 'Мой ID во ВКонтакте: <div class="popup-input-container" style="margin-top:10px;margin-left:82px;margin-bottom:10px;cursor:default;width:130px"><input value="'+ val +'"></div>' : '<a href="#" onclick="window.open(\''+ val +'\', \'_blank\');return false">'+ val +'</a>') +'</div>'+
						(!_ln ? '<div class="footer-buttons">'+
							'<button ondblclick="return false" onclick="window.open(\''+ val +'\', \'_blank\');$(\'#pp_link\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" class="button" hidefocus="true">Перейти</button>'+
						'</div>' : '')+
						'<a href="#" onclick="$(\'#pp_link\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" class="popup-close" hidefocus="true"></a>'+
					'</div>';
				if (!$("#pp_link").length){
					$("#popup_container").append('<div id="pp_link" class="popup-move fin-popup not-displayed" style="top:240px">'+ _h +'</div>');
					$("#pp_link").css("left", (parseInt((parseInt($("#rootContainer").width()) - hdr_right_o) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_link").width())/2)) +"px");
					$("#pp_link").draggable({
						containment: "document",
						cancel: "input,button,.popup-close",
						zIndex: 100,
						stop: function(){
							$(this).mousedown();
						}
					}).mousedown(function(){
						var _i = $(this).attr("id");
						var _z = _POPUP_resort("popup-move", _i);
						$(this).css("z-index", _z);
					}).show("fade", 100, function(){
						$(this).removeClass("not-displayed");
						$(this).mousedown();
					});
				}else{
					$("#pp_link").html(_h);
					$("#pp_link").mousedown();
				}
			}
			break;
		case "duel_inf":
			var _inf_d = null;
			switch (val){
				case 0:
					_inf_d = ['<h2>Дуэль против клана <em class="color1">'+ arr[0] +'</em> началась!</h2>', '$(\'#duels_far\').remove();_Duels();', 'Смотреть', 'duelStartPopup', '', ''];
					$("#bt_duel").attr("data-shine", "2");
					break;
				default:
					return;
			}
			if (!$("#pp_dl_inf_"+ val).length){
				$("#popup_container").append('<div id="pp_dl_inf_'+ val +'" class="popup-move popupShadowNew '+ _inf_d[3] +' not-displayed" style="top:240px">'+
					_inf_d[0] +
					'<div class="footerButtons">'+
						'<button ondblclick="return false" onclick="$(\'#pp_dl_inf_'+ val +'\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });'+ _inf_d[1] +'return false" class="newButton'+ _inf_d[4] +'" hidefocus="true">'+ _inf_d[2] +'</button>'+
					'</div>'+
					'<a href="#" onclick="$(\'#pp_dl_inf_'+ val +'\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" class="popupClose'+ _inf_d[5] +'" hidefocus="true"></a>'+
				'</div>');
				$("#pp_dl_inf_"+ val).css("left", (parseInt((parseInt($("#rootContainer").width()) - hdr_right_o) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_dl_inf_"+ val).width())/2)) +"px");
				$("#pp_dl_inf_"+ val).draggable({
					containment: "document",
					cancel: "button,.popup-close",
					zIndex: 100,
					stop: function(){
						$(this).mousedown();
					}
				}).mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
				});
			}else{
				$("#pp_dl_inf_"+ val).mousedown();
			}
			break;
		case "money_bonus":
			if (!$("#pp_money_bonus").length){
				$("#popup_container").append('<div id="pp_money_bonus" class="popup-move popupShadowNew dailyBonusPopup not-displayed">'+
					'<h2>Вы получили монетный бонус <em>'+ val +' монет</em>!</h2>'+
					'<div class="footerButtons">'+
						'<button ondblclick="return false" onclick="$(\'#pp_money_bonus\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" class="newButton" hidefocus="true">Закрыть</button>'+
					'</div>'+
					'<a href="#" onclick="$(\'#pp_money_bonus\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" class="popupClose" hidefocus="true"></a>'+
				'</div>');
				$("#pp_money_bonus").css("left", (parseInt((parseInt($("#rootContainer").width()) - hdr_right_o) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_money_bonus").width())/2)) +"px");
				$("#pp_money_bonus").draggable({
					containment: "document",
					cancel: "button,.popup-close",
					zIndex: 100,
					stop: function(){
						$(this).mousedown();
					}
				}).mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
					$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
				});
				if (!_SOUND_err) _SOUND_arr['sfx']['get_bonus'].play();
			}else{
				$("#pp_money_bonus").mousedown();
			}
			playBonus.timer(600);
			break;	
		case "informer":
			switch (val){
				case "refresh":
					if (!gam_id || (gam_id && gam_state == "def")){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "inf_refresh"},
							dataType: "json",
							success: function(data) {
								if (typeof data.arr != "undefined"){
									$.each(data.arr, function(_i, _row) {
										_GM_action("", "informer", "show", _row);
									});
								}
							}
						});
					}else{
						inf_rf_flag = 1;
					}
					break;
				case "close":
					if (arr){
						$("#pp_inf_"+ arr).hide("fade", 100, function(){
							$(this).remove(); _CHT_focus();
						});
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "inf_close", id: arr},
							dataType: "json"
						});
					}
					break;
				case "show":
					if ((!gam_id || (gam_id && gam_state == "def")) && arr && arr[0]){
						if (!$("#pp_inf_"+ arr[0]).length){
							var _html = '';
							var _opts = {
								"content":              "",
								"close_action":         "_GM_action('', 'informer', 'close', '"+ arr[0] +"');",
								"close_by_x":           true,
								"footer_buttons":       "def",
								"def_button_title":     'Закрыть',
								"def_button_action":    "",
								"popup_new_style":      false,
								"popup_class":          "fin-popup",
								"popup_style":          "",
								"popup_align":          "left",
								"popup_top":            "240"
							};	
							switch (parseInt(arr[2])){
								case 1: 
									_opts["def_button_title"] = 'Продлить'; 
									break;
								case 2: 
									_opts["def_button_title"] = 'Принять'; 
									_opts["def_button_action"] = "_WND_proc('clans', 'i_acc', '"+ arr[3] +"', event);";
									break;
								case 3:
									try{ var _arr = eval(arr[1]); }catch(e){ var _arr = ['', 0, 0, 0, '']; }
									_opts["popup_class"] = "popupShadowNew clanInvitePopup";
									_opts["popup_top"] = "auto";
									_html = '<h2>Вас приглашают вступить в клан</h2>'+
									'<div class="clanInfo">'+
										'<div class="level inline">'+ _arr[1] +'</div><span class="clan-name color1">'+ _arr[0] +'</span>'+
										'<span class="playersCount"> '+ _arr[2] +' / '+ _arr[3] +'</span>'+
									'</div>'+
									'<div class="inviteText">'+ _arr[4] +'</div>'+
									'<div class="footerButtons">'+
										'<button ondblclick="return false" onclick="'+ _opts["close_action"] +'_WND_proc(\'clans\', \'i_acc\', \''+ arr[3] +'\', event);return false" class="newButton color2" hidefocus="true">Принять</button>'+
										'<button ondblclick="return false" onclick="'+ _opts["close_action"] +'return false" class="newButton color3" hidefocus="true">Отклонить</button>'+
									'</div>';
									break;
								case 4:
									try{ var _arr = eval(arr[1]); }catch(e){ var _arr = ['', '']; }
									_opts["popup_class"] = "clanNewMemberPopup";
									_opts["popup_new_style"] = true;
									_opts["content"] = '<h1>Игрок '+ _PL_nick(arr[3], _arr[0], 'nick') +' принял приглашение в клан!</h1>'+	
										'<div class="photo" onclick="_PRF('+ arr[3] +');"><img src="'+ (_arr[1] != '' ? _arr[1] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 102);" style="cursor: pointer" class="hidden" /></div>';
									break;
								case 5:
									try{ var _arr = eval(arr[1]); }catch(e){ var _arr = ['', '', '']; }
									_opts["popup_class"] = "weddingConfirmPopup";
									_opts["popup_new_style"] = true;
									_opts["popup_top"] = 140;
									_opts["content"] = '<h1><em>'+ _arr[0] +'</em>'+ (_arr[1] == 'm' ? ' предлагает Вам выйти за него замуж' : ' предлагает Вам стать мужем и женой') +'!</h1>'+
									'<div class="photo"><img src="'+ (_arr[2] != '' ? _arr[2] : '/images/_.gif') +'" onmousedown="return false" onclick="_PRF('+ arr[3] +');return false" onload="_PIX_crop(this, 90);" alt="" /></div>'+
									'<p class="confirmText">Вы согласны?</p>';
									_opts["footer_buttons"]	= '<button ondblclick="return false" onclick="'+ _opts["close_action"] +'_WND_proc(\'gifts\', \'mr_act\', [1, '+ arr[3] +'], event);return false" class="newButton color1" hidefocus="true">Да</button>'+
									'<button ondblclick="return false" onclick="'+ _opts["close_action"] +'_WND_proc(\'gifts\', \'mr_act\', [0, '+ arr[3] +'], event);return false" class="newButton color3" hidefocus="true">Нет</button>';
									_opts["close_by_x"] = false;
									break;
								case 7:
									try{ var _arr = eval(arr[1]); }catch(e){ var _arr = ['', '', '']; }
									_opts["popup_class"] = "clanMemberLeftPopup";
									_opts["popup_new_style"] = true;
									_opts["content"] = '<h1>Игрок <a href="#" onclick="_PRF(\''+ arr[3] +'\');return false">'+_arr[0]+'</a> покинул Ваш клан! <div class="reason">Причина: «'+ _arr[2] +'»</div></h1>';
									break;
								case 9:
									_opts["popup_class"] = "clanMemberLeftPopup";
									_opts["popup_new_style"] = true;
									_opts["content"] = '<h1>Ура! Пользователь <em>'+ arr[1] +'</em> согласился стать Вашей второй половинкой!</h1>';
									break;
								case 103:
									_opts["popup_class"] = "weddingDonePopup";
									_opts["popup_new_style"] = true;
									_opts["close_by_x"] = false;
									_opts["content"] = '<h2>Ура! Игрок <em>'+ arr[1] +'</em><br /> согласился стать Вашей второй половинкой!</h2>';
									break;	
								case 104:
									_opts["popup_class"] = "weddingDivorcePopup";
									_opts["popup_new_style"] = true;
									_opts["close_by_x"] = false;
									_opts["content"] = '<h2>'+ arr[1] +'</h2>';
									break;										
								case 10:
																		var _l = (parseInt(arr[1]) - 1);
									if (typeof __ach[arr[3]] == "undefined"){
										_opts["content"] = '<h1>Достижение выполнено!</h1>';
										break;
									}
									var _lm_a = __ach[arr[3]]['limits'].split(',');
									var _pt_a = __ach[arr[3]]['points'].split(',');
									var _max_l = _lm_a.length;
									var _t = __ach[arr[3]]['text'];
									var _x0 = _t.indexOf('[');
									if (_x0 != -1){
										var _g = _t.substring(_x0 + 1, _t.indexOf(']')).split(',');
										_t = _t.substr(0, _x0) + _postfix(_g, _lm_a[_l]) + _t.substr(_t.indexOf(']') + 1);
									}
									var _x = _t.replace(/%s/g, _lm_a[_l]);
									_opts["popup_class"] = "achCompletePopup";
									_opts["popup_new_style"] = true;
									_opts["popup_top"] = 150;
									_opts["content"] = '<h1>Достижение выполнено!</h1>'+
									'<div class="ach">'+
										'<img src="/images/ach/'+ arr[3] +'.png">'+
										'<div class="star-'+ arr[1] +'x max'+ _max_l +'" style="margin: 0 auto"></div>'+
										'<p class="achName">'+ __ach[arr[3]]['title'] +'</p>'+
										'<p class="achTask">'+ _x +'</p>'+
									'</div>'+
									'<div class="youTake">'+
										'Вы получили: <img src="/images/icons/ach-star-micro.png" style="vertical-align:-2px" alt="" /> <em>'+ _pt_a[_l] +'</em>'+
									'</div>';
									if (!_SOUND_err) {
										_SOUND_arr['music']['ach_complete'].stop();
										_SOUND_arr['music']['ach_complete'].play();
									}
									break;
								case 11:
																		var _rarr = _rank_by_id(arr[3]);
									_opts["popup_class"] = "newRankPopup";
									_opts["popup_new_style"] = true;
									_opts["popup_top"] = 150;
									_opts["def_button_title"] = 'Развить талант'; 
									_opts["def_button_action"] = '_Talents();';
									_opts["content"] = '<h1 class="color">Вы получили новое звание!</h1>'+
									'<div class="rankEmblem level'+ _rarr['lev'] +'">'+
										'<em'+ (parseInt(arr[3]) >= 100 ? ' class="digit3"' : '') +'>'+ arr[3] +'</em>'+
										'<img src="/images/ark/'+ _rarr['pic'] +'_'+ _rarr['lev'] +'.png" />'+
									'</div>'+
									'<h3>'+  _rarr['ttl'] +'</h3>'+
									'<div class="award">'+
										'<em>Награда:</em> '+
										'<img src="/img/screens/talents/talent_point_xx.png" style="vertical-align: -12px" alt="" /> очко таланта '+
		 								'<img src="/img/screens/ach/coins.png" style="vertical-align: -12px; margin-left: 10px" alt="" /> '+ _rarr['amount'] +' монет'+
									'</div>';
									if (!_SOUND_err) _SOUND_arr['music']['new_rank'].play();
									_HX_hint('joh11');
									break;
								case 13:
																		try{ var _arr = eval(arr[1]); }catch(e){ var _arr = [0, 0]; }
									var _t = __ach[arr[3]]['text'];
									var _x0 = _t.indexOf('[');
									if (_x0 != -1){
										var _g = _t.substring(_x0 + 1, _t.indexOf(']')).split(',');
										_t = _t.substr(0, _x0) + _postfix(_g, __cla_l[arr[3]]) + _t.substr(_t.indexOf(']') + 1);
									}
									var _x = _t.replace(/%s/g, __cla_l[arr[3]]);
									_opts["popup_class"] = "clanTaskCompletePopup";
									_opts["popup_new_style"] = true;
									_opts["popup_top"] = 150;
									_opts["content"] = '<h1>Задание клана выполнено!</h1>'+
									'<div class="ach">'+
										'<img src="/images/ach/'+ arr[3] +'.png">'+
										'<p class="achTask">'+ _x +'</p>'+
									'</div>'+
									'<div class="youTake">'+
										'Вы получили: <em>'+ (parseInt(_arr[1]) > 0 ? '<img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /> '+ _arr[1] : '') +' <img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> '+ _arr[0] +'</em>'+
									'</div>';
									if (!_SOUND_err) {
										_SOUND_arr['music']['ach_complete'].stop();
										_SOUND_arr['music']['ach_complete'].play();
									}
									break;
								case 14:
									_opts["popup_class"] = "finalRankPopup";
									_opts["popup_new_style"] = true;
									_opts["content"] = '<h2>Награда за звание: <img src="/images/icons/coin.png" style="vertical-align:-3px; margin-right:3px" alt="" /><em>'+ arr[3] +'</em></h2>';
									if (!_SOUND_err) _SOUND_arr['music']['new_rank'].play();
									break;
								case 15:
																		_opts["popup_class"] = "achCompletePopup";
									_opts["popup_new_style"] = true;
									_opts["popup_top"] = 150;
									_opts["content"] = '<h1>Достижение выполнено!</h1>'+
									'<div class="ach">'+
										'<img src="/images/ach/unlim.png?4">'+
										'<p class="achName">Бесконечные звёзды</p>'+
										'<p class="achTask">Заказать экстры из особого события Мафии</p>'+
									'</div>'+
									'<div class="youTake">'+
										'Вы получили: <img src="/images/icons/ach-star-micro.png" style="vertical-align:-2px" alt="" /> <em>'+ arr[3] +'</em>'+
									'</div>';
									if (!_SOUND_err) {
										_SOUND_arr['music']['ach_complete'].stop();
										_SOUND_arr['music']['ach_complete'].play();
									}
									break;	
								case 20:
								case 21:
								case 22:
									try{ var _arr = eval(arr[1]); }catch(e){ var _arr = [0, '', '', '']; }
									_opts["popup_class"] = "giftPopup";
									_opts["popup_new_style"] = true;
									_opts["popup_top"] = 130;
									_opts["content"] = '<h1>Игрок подарил вам подарок!</h1>'+
									'<div>'+
										(parseInt(_arr[0]) > 0 ? '<div class="phs"><img src="'+ (_arr[3] != '' ? _arr[3] : '/images/_.gif') +'" onmousedown="return false" onclick="_PRF('+ _arr[0] +');return false" onload="_PIX_crop(this, 90);" alt="" /></div>' : '')+
										'<div class="giftIco extra"><img src="'+ (parseInt(arr[2]) == 20 ? '/img/extras/money-gift.png' : (parseInt(arr[2]) == 22 ? '/img/extras/ruby-gift.png' : '/img/extras/'+ arr[3] +'.png')) +'" />'+ (parseInt(arr[2]) == 20 ? arr[3] +' монет' : (parseInt(arr[2]) == 22 ? arr[3]+ ' рубинов' : '<div class="giftName">Экстра<br />'+__store[parseInt(arr[3])].title+'</div>')) +'</div>'+
									'</div>';
									_opts["footer_buttons"] = (parseInt(_arr[0]) > 0 ? '<button class="newButton" ondblclick="return false" onclick="'+ _opts["close_action"] +'_PVT(event, \''+ _arr[0] +'\');return false" hidefocus="true">Написать сообщение</button>' : '');
									if (!_SOUND_err) {
										_SOUND_arr['sfx']['gift'].stop();
										_SOUND_arr['sfx']['gift'].play();
									}
									break;
								case 30:
									try{ var _arr = eval(arr[1]); }catch(e){ var _arr = ['', 0, 0, 0]; }
									_opts["popup_class"] = "topWinPopup place"+_arr[1];
									_opts["popup_new_style"] = true;
									_opts["content"] = '<h1>Поздравляем!<br /> Вы заняли '+ _arr[1] +' место в «'+ _arr[0] +'»</h1>'+
										'<div class="award">'+
											(_arr[2] > 0 || _arr[3] > 0  ? 'Вы получаете награду:' : '')+ 
											(_arr[2] > 0 ? '<img src="/images/icons/ingots-micro.png" style="margin: 0 3px 0 7px;; vertical-align: -2px" alt="" /><em>'+ _arr[2] +'</em>' : '')+
											(_arr[3] > 0 ? '<img src="/images/icons/ach-star-micro.png" style="margin: 0 3px 0 7px; vertical-align: -2px" alt="" /><em>'+ _arr[3] +'</em>' : '')+
										'</div>';
									break;
								case 40:
									try{ var _arr = eval(arr[1]); }catch(e){ var _arr = ['', '']; }
									_opts["popup_class"] = "friendJoinToGamePopup";
									_opts["popup_new_style"] = true;
									_opts["popup_top"] = 240;
									_opts["close_by_x"] = true;
									_opts["def_button_title"] = 'Написать сообщение'; 
									_opts["def_button_action"] = '_PVT(event, \''+ arr[3] +'\');';
									_opts["content"] = '<h2>Твой друг <a href="#" onclick="_PVT(event, \''+ arr[3] +'\');return false" hidefocus="true">'+_arr[0]+'</a> вступил в мафию!</h2>'+
									'<div class="photo" onclick="_PRF('+ arr[3] +');"><img src="'+ (_arr[1] != '' ? _arr[1] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 102);" style="cursor: pointer" class="hidden" /></div>';
									_HX_hint('joh20');
									break;
								case 60:
								case 61:
									try{ var _arr = eval(arr[1]); }catch(e){ var _arr = [1, '']; }
									var _aa = [0, 0];
									var _ttl1 = '';
									var _ttl2 = '';
									var _ehnt = '';
									switch(parseInt(_arr[0])){
										case 1: 
											_aa[0] = 3000; _aa[1] = 3; 
											_ttl1 = (arr[2] == 60 ? 'Подписка на Банк Мафии' : 'Добро пожаловать в Банк Мафии');
											_ttl2 = (arr[2] == 60 ? 'Вы получили от Банка' : 'Ваш бонус за подписку');
											_ehnt = (arr[2] == 60 ? 'Подписка активна до: '+ _arr[1] : 'Вы можете управлять подпиской в разделе «Экстры»');
											break;
									}
									_opts["popup_class"] = "bankAwardPopup";
									_opts["popup_new_style"] = true;
									_opts["popup_top"] = 120;
									_opts["close_by_x"] = true;
									_opts["def_button_title"] = 'Продолжить'; 
									_opts["content"] = '<h1><em>'+ _ttl1 +'</em></h1>'+
										'<h2>'+ _ttl2 +':</h2>'+
										'<div class="row row1">'+
											'<p class="qty"><img src="/images/icons/coin.png" style="vertical-align: -4px" alt="" />'+ _aa[0] +'</p>'+
										'</div>'+
										'<div class="row row2">'+
											'<p class="qty"><img src="/images/icons/ruby-micro.png" style="vertical-align: -5px" alt="" />'+ _aa[1] +'</p>'+
										'</div>'+
										'<div class="expiredText">'+ _ehnt +'</div>';
									break;
								case 70:
									_opts["def_button_title"] = 'Продолжить'; 
									_opts["def_button_action"] = '_EventScene();';
									_opts["popup_new_style"] = true;
									_opts["popup_top"] = 150;
									var _qtype = parseInt(arr[1]);
									_opts["popup_class"] = "questCompletePopup level"+_qtype;
									if (typeof __evq[arr[3]] == "undefined"){
										_opts["content"] = '<h1>Квест выполнен!</h1>';
										break;
									}
									var _qlim = parseInt(__evq[arr[3]]['limits'][_qtype]);
									var _t = __evq[arr[3]]['text'];
									var _x0 = _t.indexOf('[');
									if (_x0 != -1){
										var _g = _t.substring(_x0 + 1, _t.indexOf(']')).split(',');
										_t = _t.substr(0, _x0) + _postfix(_g, _qlim) + _t.substr(_t.indexOf(']') + 1);
									}
									var _x = _t.replace(/%s/g, _qlim);
																		var _QtyArr = [0, 0, 0];
									var _QtyTtl = '';
																		_opts["content"] = '<h1>Квест выполнен!</h1>'+
									'<div class="eventQuest">'+
										'<div class="icoContainer"><div class="ico"><img src="/images/events/task_ico/'+ arr[3] +'.png" alt=""></div><div class="frame level'+ _qtype +'"></div></div>'+
										'<div class="textBlock"><h2>'+ __evq[arr[3]]['title'] +'</h2><p class="taskText">'+ _x +'</p></div>'+
										'<p class="qty"><em>'+ _QtyArr[_qtype] +'</em> '+ _QtyTtl +'</p>'+
									'</div>'+
									'<h3>Спеши забрать награду!</h3>';
									if (!_SOUND_err) {
										_SOUND_arr['music']['ach_complete'].stop();
										_SOUND_arr['music']['ach_complete'].play();
									}
									break;
								case 71:
									// pavel quest
									_opts["def_button_title"] = 'Продолжить'; 
									_opts["def_button_action"] = '_Duels();';
									_opts["popup_new_style"] = true;
									_opts["popup_top"] = 150;
									var _qtype = parseInt(arr[1]);
									_opts["popup_class"] = "questCompletePopup duelCompletePopup level"+_qtype;
									if (typeof __dqs[arr[3]] == "undefined"){
										_opts["content"] = '<h1>Квест выполнен!</h1>';
										break;
									}
									var _qlim = parseInt(__dqs[arr[3]]['limits'][_qtype]);
									var _t = __dqs[arr[3]]['text'];
									var _x0 = _t.indexOf('[');
									if (_x0 != -1){
										var _g = _t.substring(_x0 + 1, _t.indexOf(']')).split(',');
										_t = _t.substr(0, _x0) + _postfix(_g, _qlim) + _t.substr(_t.indexOf(']') + 1);
									}
									var _x = _t.replace(/%s/g, _qlim);
									var _QtyArr = [5, 10 ,15];
									var _QtyTtl = 'Жетонов';
									_opts["content"] = '<h1>Квест выполнен!</h1>'+
									'<div class="eventQuest">'+
										'<div class="icoContainer"><div class="ico"><img src="/images/dquests/'+ arr[3] +'.png" alt=""></div><div class="frame level'+ _qtype +'"></div></div>'+
										'<div class="textBlock"><h2>'+ __dqs[arr[3]]['title'] +'</h2><p class="taskText">'+ _x +'</p></div>'+
										'<p class="qty"><em>'+ _QtyArr[_qtype] +'</em> '+ _QtyTtl +'</p>'+
									'</div>'+
									'<h3>Спеши забрать награду!</h3>';
									if (!_SOUND_err) {
										_SOUND_arr['music']['ach_complete'].stop();
										_SOUND_arr['music']['ach_complete'].play();
									}
									break;		
								case 99:
																		_opts["popup_class"] = "popupShadowNew dailyBonusPopup";
									_html = '<h2>Вы получили ежедневный бонус <em>'+  (!arr[3] ? '40' : arr[3]) +' монет</em>!</h2>'+
									'<div class="footerButtons">'+
										'<button ondblclick="return false" onclick="'+ _opts["close_action"] +'return false" class="newButton" hidefocus="true">'+ _opts["def_button_title"] +'</button>'+
									'</div>'+
									'<a href="#" onclick="'+ _opts["close_action"] +'return false" class="popupClose" hidefocus="true"></a>';
									if (!_SOUND_err) _SOUND_arr['sfx']['get_bonus'].play();
									break;
							}
							if (_html == ''){
								_html = (_opts["popup_new_style"] ? '' : '<div class="popup-bg">')+
								(_opts["content"] != '' ? _opts["content"] : '<div style="text-align:center;font-size:12px;margin:10px 0;">'+ arr[1] +'</div>')+
								(_opts["footer_buttons"] != "" ? 
									'<div class="'+(_opts["popup_new_style"] ? 'footerButtons' : 'footer-buttons')+'">'+ 
									(_opts["footer_buttons"] == "def" ? 
										'<button ondblclick="return false" onclick="'+ _opts["close_action"] + _opts["def_button_action"] +'return false" class="newButton" hidefocus="true">'+ _opts["def_button_title"] +'</button>'
										: 
										_opts["footer_buttons"]
									)+
									'</div>'
									:
									''
								)+
								(_opts["popup_new_style"] ? '' : '</div>')+
								(_opts["close_by_x"] ? '<a href="#" onclick="'+ _opts["close_action"] +'return false" class="'+(_opts["popup_new_style"] ? 'popupClose' : 'popup-close')+'" hidefocus="true"></a>' : '');
							}
							$("#popup_container").append('<div id="pp_inf_'+ arr[0] +'" class="popup-move '+(_opts["popup_new_style"] ? 'popupShadowNew ' : '')+ _opts["popup_class"] +' not-displayed" style="'+ (_opts["popup_top"] != "auto" ? 'top:'+ _opts["popup_top"] +'px;' : 'top: 240px;') + _opts["popup_style"] +'">'+ _html +'</div>');
							$("#pp_inf_"+ arr[0]).css("left", (parseInt((parseInt($("#rootContainer").outerWidth()) - (_opts["popup_align"] == "left" ? hdr_right_o : 0)) / 2) - parseInt(parseInt($("#pp_inf_"+ arr[0]).outerWidth()) / 2)) +"px");
							$("#pp_inf_"+ arr[0]).draggable({
								containment: "document",
								cancel: ".button,.popup-close,.popupClose,.newButton",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
								if (_opts["popup_top"] == "auto") $(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
							});
							ptip.init('.hoverHint', {preset:'tooltip',cls:'brown'});
						}
					}
					break;
			}
			break;
		case "players":
			if (!gam_id){
				var _id = parseInt(val);
				var _evt = (!arr ? window.event : arr);
				if (_id < 0 || !_id) return;
				if (!$("#pp_players_"+ _id).length){
					$("#popup_container").append('<div id="pp_players_'+ _id +'" class="popup-move players-popup not-displayed"></div>');
					$("#pp_players_"+ _id).draggable({
						containment: "document",
						cancel: ".popup-small-close",
						zIndex: 100,
						stop: function(){
							$(this).mousedown();
						}
					}).mousedown(function(){
						var _i = $(this).attr("id");
						var _z = _POPUP_resort("popup-move", _i);
						$(this).css("z-index", _z);
					});
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "gam_players", id: _id},
						dataType: "json",
						success: function(data) {
							if (typeof data.gmp != "undefined"){
								var _s = '';
								$.each(data.gmp, function(_i, _row) {
									_s += '<li id="gmp_'+ _row[0] +'"'+($("#ufv_"+ _row[0]).length ? ' class="favorite"' : '')+'><a href="#" onclick="_PVT(event, \''+ _row[0] +'\');return false" hidefocus="true">'+ _row[1] +'</a></li>';
								});
								$("#pp_players_"+ _id).html('<ul class="in-room-player-list">'+ _s +'</ul>'+
									'<a href="#" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'players_'+ _id +'\');return false;" class="popup-small-close" hidefocus="true"></a>');
								_POPUP_size(true, _evt.clientX, _evt.clientY, "pp_players_"+ _id, 0, 20);
								$("#pp_players_"+ _id).show("fade", 100, function(){
									$(this).removeClass("not-displayed");
									$(this).mousedown();
								});
							}
						}
					});
				}else{
					$("#pp_players_"+ _id).mousedown();
				}
			}
			break;
		case "list":
			switch (val){
				case "add":
					var room_league = parseInt(arr[4]);
					RoomsList.initLayers(my_league);
					if (room_league != 0) RoomsList.addRooms(obj, arr, my_level, my_lang, room_league, my_league);
					break;
				case "del":
					if (obj != '' && $("#"+ obj +"_"+ arr).length){
						$("#"+ obj +"_"+ arr).remove();
						_GM_action("", "upd", "pp_dh", "players_"+ arr);
					}
					break;
				case "join":
					if (obj != '' && $("#"+ obj +"_"+ arr[0]).length){
						var _oo = $("#"+ obj +"_"+ arr[0] +" div.players").children("span");
						if ($(_oo).length){
							var _l = parseInt(arr[1]);
							var _ll = parseInt($(_oo).attr("label"));
							$(_oo).html(_l);
							var _bb = $("#"+ obj +"_"+ arr[0] +" div.button").children("button");
							if ($(_bb).length && !$(_bb).hasClass("locked")){
								if (_l >= _ll && !$(_bb).hasClass("disabled")){
									$(_bb).addClass("disabled");
									$("#"+ obj +"_"+ arr[0]).addClass("off");
								}else if (_l < _ll && $(_bb).hasClass("disabled")){
									$(_bb).removeClass("disabled");
									$("#"+ obj +"_"+ arr[0]).removeClass("off");
								}
							}
							if ($("#pp_players_"+ arr[0]).length){
								$.ajax({
									async: true,
									cache: false,
									type: "POST",
									url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
									data: {method: "gam_players", id: arr[0], ofs: 1},
									dataType: "json",
									success: function(data) {
										if (typeof data.gmp != "undefined"){
											var _f = false;
											$.each(data.gmp, function(_i, _row) {
												if (!_row[0]){
													if ($("#gmp_"+ _row[1]).length){
														$("#gmp_"+ _row[1]).remove();
													}
												}else{
													if (!$("#gmp_"+ _row[0]).length){
														$("#pp_players_"+ arr[0]).children("ul").append('<li id="gmp_'+ _row[0] +'"'+($("#ufv_"+ _row[0]).length ? ' class="favorite"' : '')+'><a href="#" onclick="_PVT(event, \''+ _row[0] +'\');return false" hidefocus="true">'+ _row[1] +'</a></li>');
														_f = true;
													}
												}
											});
											if (_f){
												_POPUP_size(false, null, null, "pp_players_"+ arr[0], 4);
												$("#pp_players_"+ arr[0]).css("height", "auto");
											}
										}
									}
								});
							}
						}
					}
					break;
			}
			break;
		case "fig_set":
			if (gam_id){
				var _fig = parseInt(val[0]);
				var _evt = (!arr ? window.event : arr);
				_GM_action("", "upd", "pp_dh", "extras");
				if (pla_data['figure'] != _fig){
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "fig_set", fig: _fig},
						dataType: "json",
						success: function(data) {
							if (typeof data.ret != "undefined"){
								var _p = (typeof pla_data['person'] != "undefined" ? pla_data['person'] : 0);
								pla_data['figure'] = parseInt(data.ret);
								if ($("#upl_" + my_id).length){
									var _oo = $("#upl_" + my_id).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+ (_p > 0 ? k_persons[_p] : "unknown") + (pla_data['figure'] > 0 ? pla_data['figure'] : '') +"_"+ my_gender +".png)");
									}
								}
							}
						}
					});
				}
			}
			break;
		case "dynamit":
			switch(val){
				case "remove":
					if ($("#pp_dynamit").length) {
						_GM_action("", "upd", "pp_dd", "dynamit");
					}
					break;
				case "action":
					_GM_action("", "dynamit", "remove");
					if (gam_id){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "powder_b"},
							dataType: "json"
						});
					}
					break;
				default:
					var _evt = (!arr ? window.event : arr);
					if (!spc_id && gam_id && gam_state == "play"){
						if (!$("#pp_dynamis").length){
							$("#popup_container").append('<div id="pp_dynamit" class="popup-move banditosDynamitPopup chanceOnScreen transparentPopup not-displayed">'+
								'<button class="button50px" hidefocus="true" onclick="_GM_action(\'\', \'dynamit\', \'action\');return false" ondblclick="return false">Кинуть</button>'+
							'</div>');
							$("#pp_dynamit").css({"left": "500px", "top": "400px"});
							$("#pp_dynamit").draggable({
								containment: "document",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}else{
							$("#pp_dynamit").mousedown();
						}
					}
					break;
			}
			break;
		case "powder_b":
			if (gam_id){
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "powder_b"},
					dataType: "json"
				});
			}
			break;
		case "ship_cannon":
			if (gam_id){
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "ship_cannon"},
					dataType: "json"
				});
			}
			break;
		case "vl_surp_box":
			if (gam_id){
				var _evt = (!arr ? window.event : arr);
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "vl_surp_box"},
					dataType: "json",
					success: function(data) {
						if (typeof data.err != "undefined"){
							var _e = '';
							switch (data.err){
								case 1: _e = 'В этой коробке не осталось сюрпризов!'; break;
								case 2: _e = 'Вы уже открывали'; break;
							}
							if (_e != ''){
								var _cx = (typeof _evt != "undefined" && _evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
								var _cy = (typeof _evt != "undefined" ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
								_WARN("extras", 2500, '<span class="yellow">'+ _e +'</span>', _cx, _cy);
							}
						}
					}
				});
			}
			break;
		case "ext_use":
			if (gam_id){
				var _id = parseInt(val[0]);
				var _evt = (!arr ? window.event : arr);
				if (_id < 0 || !_id) return;
				_GM_action("", "upd", "pp_dh", "extras");
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "ext_use", id: _id, se: 1, uid: val[1]},
					dataType: "json",
					success: function(data) {
						if (typeof data.rpx != "undefined"){
							RPX_data_arr.push(data.rpx);
		                			if (!RPX_event_done){
								RPX_event_done = true;
								RPX_event();
							}
						}
						if (typeof data.ret == "undefined"){
							var _e = 'Нет действия экстры';
							if (typeof data.err != "undefined"){
								switch (data.err){
									case 1: _e = 'Вы не можете использовать экстру на свою команду'; break;
									case 2: _e = 'Данная экстра доступна только мафии'; break;
									case 3: _e = 'Подождите немного'; break;
									case 4: _e = 'Уже установлено'; break;
									case 5: _e = 'Не действует в команде граждан'; break;
									case 6: _e = 'Недостаточно монет'; _HX_hint('rud5'); _WND_proc('buy'); break;
									case 7: _e = 'Экстра работает только при игре в своей лиге'; break;
									case 9: _e = 'Действует Шар запрета предсказаний'; break;
									case 10: _e = 'Действуют Магические оковы'; break;
								}
							}
							var _cx = (typeof _evt != "undefined" && _evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
							var _cy = (typeof _evt != "undefined" ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
							_WARN("extras", 2500, '<span class="yellow">'+ _e +'</span>', _cx, _cy);
						}else{
							if (__store[_id] && __store[_id].type == "extra" && typeof __store[_id]["var"] != "undefined" && parseInt(data.ret)){
								pla_data['e'+ _id] = data.ret;
							}
							if (__store[_id] && __store[_id].type == "extra" && __store[_id].limit){
								if (!pla_data['el'+ _id]){
									pla_data['el'+ _id] = 1;
								}else{
									pla_data['el'+ _id] ++;
								}
							}
							_GM_action("gxt", "exts", "set", [_id]);
							_GM_action("exl", "exts", "upd", [_id]);
							switch(_id){
								case 103: _GM_action("", "upd", "x2chk"); break;
								//case 187: _HX_hint('gft16'); break;
								case 221: 
									var _ab = $("#upl_" + my_id).find(".actionButton");
									if ($(_ab).length){
										if (!$(_ab).hasClass("off")) $(_ab).addClass("off");
									}
									break;
								case 291: _GM_action("", "upd", "pp_dd", "dice"); break;
							}
						}
					}
				});
			}
			break;
		case "ext_div":
			if (gam_id && gam_state == "play" && !pla_data['dead'] && !pla_data['kvt'] && pla_data['freeze'] != 1 && pla_data['freeze'] != 4 && pla_data['freeze'] != 6 && pla_data['freeze'] != 9){
				var _id = parseInt(val);
				var _evt = (!arr ? window.event : arr);
				if (_id < 0 || !_id) return;
				if ($("#upl_"+ _id).length){
					var _d = parseInt($("#upl_"+ _id).find(".dead").attr("label"));
					if (!_d){
						if (_id == my_id){
							var _s = '<p style="padding: 0; margin: 0 0 5px 0">Сменить образ:</p><div class="use-figure">';
							$.ajax({
								async: false,
								cache: false,
								type: "POST",
								url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
								data: {method: "fig_chk"},
								dataType: "json",
								success: function(data) {
									if (typeof data.ids != "undefined"){
										var _p = (typeof pla_data['person'] != "undefined" ? pla_data['person'] : 0);
										$.each(data.ids, function(_k, _v){
											_s += '<div class="role" ondblclick="return false" onclick="_GM_action(\'\', \'fig_set\', ['+ _v +'], event);return false" hidefocus="true"><img src="/img/persons/big/'+ (_p > 0 ? k_persons[_p] : "unknown") + (_v > 0 ? _v : '') +'_'+ my_gender +'.png" alt="" onload="_PIX_crop(this, 65);" class="ico" /></div>'+"\n";
										});
									}else{
										_s += '<br /><div>У вас нет уникальных образов для этой роли</div>';
									}
								}	
							});		
							_s += '</div><a href="#" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'extras\');return false;" class="popup-small-close" hidefocus="true"></a>';
						}else{
							_WARN("extras");
							var _s = '<p style="padding: 0; margin: 0 0 5px 0">Действия над игроком:</p><div class="use-extra-player">';
							$.each(__store_sort, function(_k, _i){ if (__store[_i]){
								var _row = __store[_i];
								if (_row.type == "extra" && _row.action && _row.action != "dead" && _row.action != "rnd" && _row.action != "day_all" && _row.action != "night_all" && _row.action != "reanim" && _row.action != "reanim_j" && _row.action != "dice"){
									var _d = (gam_data['no_exts'] || (pla_data['shackles'] && _i != 206) ||
										pla_data['e'+_i] ||
										(__store[_i].limit && pla_data['el'+_i] >= (__store[_i].limit + (typeof my_tals[26] != "undefined" && parseInt(my_tals[26]) && (_i < 301 || _i > 317) ? 1 : 0) + (typeof my_tals[51] != "undefined" && parseInt(my_tals[51]) && __rank84_xlimit(_i) ? 1 : 0))) ||
										(__store[_i].action == "night" && gam_data['v_mode']) ||
										(__store[_i].action == "day" && !gam_data['v_mode']) ||
										(__store[_i].action == "vte" && (!gam_data['v_mode'] || pla_data['act'] != _id)) ||
										(__store[_i].action == "spk" && $("#upl_"+ _id).find(".noSpeak").hasClass("not-displayed")) ||
										(__store[_i].action == "vtb" && (!gam_data['v_mode'] || $("#upl_"+ _id).find(".hint").html() != '')) ||
										(__store[_i].value == "count" && !parseInt($("#gxt_"+ _i).attr("label"))) ? true : false);
									if (!_d && __store[_i].action == "near") {
										var _cpl = getClosestPlayers();
										_d = _cpl[0] != _id && _cpl[1] != _id;
									}
									_s += '<div class="extra'+(_d ? ' disabled' : '')+'" ondblclick="return false" onclick="'+(!_d ? '_GM_action(\'\', \'ext_use\', ['+_i+', '+_id+'], event);' : '')+'return false" hidefocus="true"><img src="/img/extras/'+_i+'.png" class="ico" /></div>'+"\n";
								}
							}});
							_s += '</div><a href="#" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'extras\');return false;" class="popup-small-close" hidefocus="true"></a>';
						}
						if (!$("#pp_extras").length){
							$("#popup_container").append('<div id="pp_extras" class="popup-move extras-popup not-displayed">'+ _s +'</div>');
							$("#pp_extras").draggable({
								containment: "document",
								cancel: ".popup-small-close",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								_POPUP_position("pp_extras", obj);
								$(this).mousedown();
							});
						}else{
							$("#pp_extras").html(_s).attr("class", "popup-move extras-popup").css({"width": "288px", "height": "auto"});
							_POPUP_position("pp_extras", obj);
							$("#pp_extras").mousedown();
						}
					}
				}
			}
			break;
		case "s_ext_use":
			if (!gam_id && spc_id){
				var _id = parseInt(val[0]);
				var _evt = (!arr ? window.event : arr);
				if (_id < 0 || !_id) return;
				_GM_action("", "upd", "pp_dh", "extras");
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "s_ext_use", id: _id, uid: val[1]},
					dataType: "json",
					success: function(data) {
						if (typeof data.ret == "undefined"){
							var _e = 'Нет действия экстры';
							if (typeof data.err != "undefined"){
								switch (data.err){
									case -1: _e = 'Лимит на использование исчерпан'; break;
									case -3: _e = 'Данная экстра сейчас недоступна'; break;
								}
							}
							var _cx = (typeof _evt != "undefined" && _evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
							var _cy = (typeof _evt != "undefined" ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
							_WARN("extras", 2500, '<span class="yellow">'+ _e +'</span>', _cx, _cy);
						}else{
							_GM_action("gxt", "exts", "set", [_id]);
							_GM_action("exl", "exts", "upd", [_id]);
							switch (_id){
								//case 224: _HX_hint('pr209'); break;
								//case 225: _HX_hint('pr213'); break;
							}
						}
					}
				});
			}
			break;	
		case "s_ext_div":
			if (!gam_id && spc_id && spc_state == "play"){
				var _id = parseInt(val);
				var _evt = (!arr ? window.event : arr);
				if (_id < 0 || !_id) return;
				if ($("#upl_"+ _id).length){
					var _d = parseInt($("#upl_"+ _id).find(".dead").attr("label"));
					if (!_d){
						_WARN("extras");
						var _s = '<p style="padding: 0; margin: 0 0 5px 0">Действия над игроком:</p><div class="use-extra-player">';
						$.each(__store_sort, function(_k, _i){ if (__store[_i]){
							var _row = __store[_i];
							if (_row.type == "extra" && _row.action && typeof _row.spc != "undefined" && _row.spc){
								var _d = (
									(__store[_i].action == "night" && spc_data['v_mode']) ||
									(__store[_i].action == "day" && !spc_data['v_mode']) ||
									(__store[_i].value == "count" && !parseInt($("#gxt_"+ _i).attr("label"))) ? true : false);
								_s += '<div class="extra'+(_d ? ' disabled' : '')+'" ondblclick="return false" onclick="'+(!_d ? '_GM_action(\'\', \'s_ext_use\', ['+_i+', '+_id+'], event);' : '')+'return false" hidefocus="true"><img src="/img/extras/'+_i+'.png" class="ico" /></div>'+"\n";
							}
						}});
						_s += '</div><a href="#" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'extras\');return false;" class="popup-small-close" hidefocus="true"></a>';
						if (!$("#pp_extras").length){
							$("#popup_container").append('<div id="pp_extras" class="popup-move extras-popup not-displayed">'+ _s +'</div>');
							$("#pp_extras").draggable({
								containment: "document",
								cancel: ".popup-small-close",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								_POPUP_position("pp_extras", obj);
								$(this).mousedown();
							});
						}else{
							$("#pp_extras").html(_s).attr("class", "popup-move extras-popup").css({"width": "288px", "height": "auto"});
							_POPUP_position("pp_extras", obj);
							$("#pp_extras").mousedown();
						}
					}
				}
			}
			break;
		case "ext_act":
			if (gam_id){
				var _id = parseInt(val);
				var _evt = (!arr ? window.event : arr);
				if (_id < 0 || !_id) return;
				if (!__store[_id] || __store[_id].type != "extra") return;
				if (gam_state == "play" && ((!pla_data['dead'] && __store[_id].action != "dead") || (pla_data['dead'] && (__store[_id].action == "dead" || __store[_id].action == "reanim" || __store[_id].action == "reanim_j"))) && (!pla_data['kvt'] || __store[_id].action == "reanim" || __store[_id].action == "reanim_j") && pla_data['freeze'] != 1 && pla_data['freeze'] != 4 && pla_data['freeze'] != 6 && pla_data['freeze'] != 9 && !pla_data['e'+_id] && !gam_data['no_exts'] && (!pla_data['shackles'] || _id == 206) &&
					__store[_id].action &&
					(
						__store[_id].action == "dead" ||
						__store[_id].action == "all" ||
						__store[_id].action == "reanim" ||
						__store[_id].action == "reanim_j" ||
						__store[_id].action == "spk" ||
						__store[_id].action == "rnd" ||
						__store[_id].action == "dice" ||
						__store[_id].action == "near" ||
						(__store[_id].action == "day_all" && gam_data['v_mode']) ||
						(__store[_id].action == "vtb" && gam_data['v_mode']) ||
						(__store[_id].action == "night" && !gam_data['v_mode']) ||
						(__store[_id].action == "night_all" && !gam_data['v_mode']) ||
						(__store[_id].action == "day" && gam_data['v_mode']) ||
						(__store[_id].action == "vte" && gam_data['v_mode'] && pla_data['act'] > 0)
					) &&
					(!__store[_id].limit || !pla_data['el'+_id] || pla_data['el'+_id] < (__store[_id].limit + (typeof my_tals[26] != "undefined" && parseInt(my_tals[26]) && (_id < 301 || _id > 317) ? 1 : 0) + (typeof my_tals[51] != "undefined" && parseInt(my_tals[51]) && __rank84_xlimit(_id) ? 1 : 0)))
				){
					_WARN("extras");
					if (__store[_id].action == "dice"){
						_GM_action("", "dice");
					}else if (__store[_id].action == "vte"){
						_GM_action("", "ext_use", [_id, pla_data['act']], _evt);
					}else if (__store[_id].action == "rnd" || __store[_id].action == "day_all" || __store[_id].action == "night_all"){
						_GM_action("", "ext_use", [_id, 0], _evt);
					}else{
						if (__store[_id].action == "near"){
							var _cpl = getClosestPlayers();
						}
						var _s = '<ul class="extras-player-choice">';
						var _i = 0;
						$("#upl_list > li").each(function(){
							var _ii = $(this).attr("id").substr(4);
							var _de = parseInt($(this).find(".dead").attr("label"));
							if ((_ii != my_id || _id == 223 || __store[_id].action == "spk" || __store[_id].action == "reanim" || __store[_id].action == "reanim_j") && ((!_de && __store[_id].action != "reanim" && __store[_id].action != "reanim_j") || (_de == 2 && __store[_id].action == "reanim") || (_de == 3 && __store[_id].action == "reanim_j"))){
								if (__store[_id].action == "spk" && $(this).find(".noSpeak").hasClass("not-displayed")){
									return true;
								}else if (__store[_id].action == "vtb" && $(this).find(".hint").html() != ''){
									return true;
								}else if (__store[_id].action == "reanim" && $(this).find(".actionButton").attr("label") != "reanim"){
									return true;
								}else if (__store[_id].action == "reanim_j" && $(this).find(".actionButton").attr("label") != "reanim_j"){
									return true;
								}else if (__store[_id].action == "near" && _ii != _cpl[0] && _ii != _cpl[1]){
									return true;
								}
								var _oo = $(this).find(".nick");
								if ($(_oo).length){
									_s += '<li><a href="#" onclick="_GM_action(\'\', \'ext_use\', ['+_id+', '+_ii+'], event);return false" hidefocus="true">'+ $(_oo).html() +'</a></li>';
									_i ++;
								}
							}
						});
						_s += '</ul><a href="#" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'extras\');return false;" class="popup-small-close" hidefocus="true"></a>';
						if (!_i){
							_GM_action("", "upd", "pp_dd", "extras");
							_WARN("extras", 2500, '<span class="yellow">Нет доступных пользователей</span>', _evt.clientX, _evt.clientY);
						}else{
							if (!$("#pp_extras").length){
								$("#popup_container").append('<div id="pp_extras" class="popup-move showSelect not-displayed">'+ _s +'</div>');
								$("#pp_extras").draggable({
									containment: "document",
									cancel: ".popup-small-close",
									zIndex: 100,
									stop: function(){
										$(this).mousedown();
									}
								}).mousedown(function(){
									var _i = $(this).attr("id");
									var _z = _POPUP_resort("popup-move", _i);
									$(this).css("z-index", _z);
								}).show("fade", 100, function(){
									$(this).removeClass("not-displayed");
									_POPUP_size_r(true, _evt.clientX, _evt.clientY, "pp_extras", 0, 20);
									$(this).mousedown();
								});
							}else{
								$("#pp_extras").html(_s).attr("class", "popup-move showSelect").css({"width": "auto", "height": "auto"});
								_POPUP_size_r(true, _evt.clientX, _evt.clientY, "pp_extras", 0, 20);
								$("#pp_extras").mousedown();
							}
						}
					}
				}else{
					if (!$("#myExtras").hasClass("disabled") || __store[_id].action == "dead" || __store[_id].action == "reanim" || __store[_id].action == "reanim_j"){
						var _err = 0;
						if (gam_state != "play"){
							_err = 1;
						}else if (pla_data['dead'] && __store[_id].action != "dead"){
							_err = 2;
						}else if (pla_data['freeze'] == 1 || pla_data['freeze'] == 4 || pla_data['freeze'] == 6 || pla_data['freeze'] == 9){
							_err = 9;
						}else if (__store[_id].limit && pla_data['el'+_id] >= (__store[_id].limit + (typeof my_tals[26] != "undefined" && parseInt(my_tals[26]) && (_id < 301 || _id > 317) ? 1 : 0) + (typeof my_tals[51] != "undefined" && parseInt(my_tals[51]) && __rank84_xlimit(_id) ? 1 : 0))){
							_err = 4;
						}else if (pla_data['e'+_id]){
							_err = 3;
						}else if (!__store[_id].action){
							_err = 5;
						}else if (__store[_id].action == "night" && gam_data['v_mode']){
							_err = 6;
						}else if (__store[_id].action == "night_all" && gam_data['v_mode']){
							_err = 6;
						}else if (__store[_id].action == "day" && !gam_data['v_mode']){
							_err = 7;
						}else if (__store[_id].action == "day_all" && !gam_data['v_mode']){
							_err = 7;
						}else if (__store[_id].action == "vte" && (!gam_data['v_mode'] || pla_data['act'] <= 0)){
							_err = 8;
						}else if (__store[_id].action == "vtb" && !gam_data['v_mode']){
							_err = 10;
						}else if (__store[_id].action == "dead" && !pla_data['dead']){
							_err = 11;
						}else if (pla_data['shackles']){
							_err = 12;
						}else if (gam_data['no_exts']){
							_err = 13;
						}
						var _e = _ee = "";
						var _a = null;
						var _w = null;
						switch (_err){
							case 1:
							case 2:
							case 5: _e = __store[_id].title + (__store[_id].limit ? ' &nbsp; '+ (pla_data['el'+_id] ? pla_data['el'+_id] : 0) +' из '+ (__store[_id].limit + (typeof my_tals[26] != "undefined" && parseInt(my_tals[26]) && (_id < 301 || _id > 317) ? 1 : 0) + (typeof my_tals[51] != "undefined" && parseInt(my_tals[51]) && __rank84_xlimit(_id) ? 1 : 0)) : ''); _ee = '<br/>'+ __store[_id].descr; _w = 240; _a = "left"; break;
							case 3: _e = 'Вы только что использовали данную экстру'; _ee = '<br/>Ждите когда пройдут игровые сутки'; _w = 240; _a = "left"; break;
							case 4: _e = 'Использование данной экстры ограничено'; _ee = '<br/>Максимально раз за партию: '+ (__store[_id].limit + (typeof my_tals[26] != "undefined" && parseInt(my_tals[26]) && (_id < 301 || _id > 317) ? 1 : 0) + (typeof my_tals[51] != "undefined" && parseInt(my_tals[51]) && __rank84_xlimit(_id) ? 1 : 0)); _w = 240; _a = "left"; break;
							case 6: _e = 'Данная экстра доступна только ночью'; break;
							case 7: _e = 'Данная экстра доступна только днем'; break;
							case 8: _e = (!gam_data['v_mode'] ? 'Данная экстра доступна только днем' : 'Данная экстра действует только после вашего голоса'); break;
							case 9: _e = 'Вы заморожены'; break;
							case 10: _e = 'Данная экстра доступна только днем'; break;
							case 11: _e = 'Можно использовать только мёртвым'; break;
							case 12: _e = 'Вы в кандалах'; break;
							case 13: _e = 'Нельзя использовать экстры'; break;
							default: _e = 'Нет действия экстры'; break;
						}
						_GM_action("", "upd", "pp_dd", "extras");
						_WARN("extras", 2500, '<span class="yellow">'+ _e +'</span>'+ _ee, _evt.clientX, _evt.clientY, {w: _w, a: _a});
					}
				}
			}
			break;
		case "ext_spwr":
			if (gam_id && parseInt(val) > 0){
				var _evt = (!arr ? window.event : arr);
				var _spwr = parseInt(val);
				var _pers = (typeof pla_data['person'] != "undefined" ? parseInt(pla_data['person']) : 0);
				var _powers = __spwrs;
				if (_pers == 34) {
					_powers = __rpwrs;
				}else if (_pers == 20) {
					_powers = __lpwrs;
				}else if (_pers == 40) {
					_powers = __bpwrs;
				}else if (_pers == 18) {
					_powers = __ppwrs;
				}
				_GM_action("", "upd", "pp_dd", "extras");
				_WARN("extras", 2500, '<span class="yellow">'+ _powers[_spwr][0] +'</span><br />'+ _powers[_spwr][1], _evt.clientX, _evt.clientY, {w: 240, a: "left"});
				_GM_action("", "spower");
			}
			break;
		case "exts":
			switch (val){
				case "add":
					if (obj != '' && !$("#"+ obj +"_"+ arr[0]).length){
						if (__store[arr[0]] && __store[arr[0]].type == "extra"){
							var _e = '';
							var _d = '';
							var _v = 0;
							if (__store[arr[0]].value){
								switch (__store[arr[0]].value){
									case "count":
										if (arr[1] != ''){
											_v = parseInt(arr[1]);
											_d = '<span class="count">'+ _v +'</span>';
										}
										break;
									case "expire":
										if (arr[1] != ''){
											_v = parseInt(arr[1]);
											_e = ':'+ Math.floor(new Date().getTime() / 1000);
											_d = '<span class="count time">'+ _DT_format(_v, {ext: true}) +'</span>';
										}
										break;
								}
							}
							_d += '<div class="hover-hint">'+__store[arr[0]].descr + (typeof __store[arr[0]].qty != "undefined" && parseInt(__store[arr[0]].qty) > 1 ? '<br />'+ __store[arr[0]].qty + ' шт.' : '') + (typeof __store[arr[0]].interval != "undefined" ? '<br />'+ __ext_interval_parse(__store[arr[0]].interval) : '') +'<div class="arrow"></div></div>';
							if (_v > 0){
								var _l = (__store[arr[0]].limit && pla_data['el'+arr[0]] >= (__store[arr[0]].limit + (typeof my_tals[26] != "undefined" && parseInt(my_tals[26]) && (arr[0] < 301 || arr[0] > 317) ? 1 : 0) + (typeof my_tals[51] != "undefined" && parseInt(my_tals[51]) && __rank84_xlimit(arr[0]) ? 1 : 0)) ? ' disabled' : '');
								var _h = (__store[arr[0]].only == "chat" ? ' only-chat' : '');
								var _c = '<li id="'+obj+'_'+arr[0]+'" class="extra'+_l+_h+(__store[arr[0]].action == 'dead' || __store[arr[0]].action == 'reanim' || __store[arr[0]].action == 'reanim_j' ? ' deadExtra' : '')+'" ondblclick="return false" onclick="$(this).find(\'.hover-hint\').addClass(\'off\');setTimeout(function(){$(\'#'+obj+'_'+arr[0]+'\').find(\'.hover-hint\').removeClass(\'off\');}, 3000);_GM_action(\'\', \'ext_act\', \''+arr[0]+'\', event);return false" hidefocus="true" label="'+ _v + _e +'"><img src="/img/extras/'+arr[0]+'.png" class="ico" />'+ _d +'</li>'+ "\n";
								$("#" + obj + "_list").append(_c);
								if (!$("#myExtras").hasClass("miniMode")){
									var _ec = parseInt($("#" + obj + "_list > li:not(.only-chat)").length);
									if (_ec >= (my_lang == "lv" ? 16 : 17)) $("#myExtras").addClass("miniMode");
								}
							}
							MyExtras.redraw();
						}
					}
					break;
				case "del":
					if (obj != '' && $("#"+ obj +"_"+ arr).length){
						$("#"+ obj +"_" + arr).remove();
						if ($("#myExtras").hasClass("miniMode")){
							var _ec = parseInt($("#" + obj + "_list > li:not(.only-chat)").length);
							if (_ec < (my_lang == "lv" ? 16 : 17)) $("#myExtras").removeClass("miniMode");
						}
						MyExtras.delExtra();
					}
					break;
				case "set":
					if (obj != '' && $("#"+ obj +"_"+ arr[0]).length){
						if (__store[arr[0]] && __store[arr[0]].type == "extra"){
							if (__store[arr[0]].value){
								switch (__store[arr[0]].value){
									case "count":
										if (typeof arr[1] != "undefined"){
											if (typeof arr[2] != "undefined"){
												var _l = (parseInt($("#"+ obj +"_"+ arr[0]).attr("label")) + arr[2]);
											}else{
												var _l = parseInt(arr[1]);
											}
										}else{
											var _l = (parseInt($("#"+ obj +"_"+ arr[0]).attr("label")) - 1);
										}
										$("#"+ obj +"_"+ arr[0]).attr("label", _l);
										if (_l < 1){
											_GM_action(obj, "exts", "del", arr[0]);
										}else{											
											currentCount = $("#"+ obj +"_"+ arr[0]).find(".count").text();

											if (_l < parseInt(currentCount)){
												MyExtras.useExtra($("#"+ obj +"_"+ arr[0]), _l);
											}	
											
											$("#"+ obj +"_"+ arr[0]).find(".count").html(_l);
										}
										break;
									case "expire":
										if (typeof arr[1] != "undefined"){
											$("#"+ obj +"_"+ arr[0]).attr("label", arr[1] +':'+ Math.floor(new Date().getTime() / 1000));
											var _t = arr[1];
										}else{
											var _x = $("#"+ obj +"_"+ arr[0]).attr("label").split(":");
											var _t = (parseInt(_x[0]) - (Math.floor(new Date().getTime() / 1000) - parseInt(_x[1])));
										}
										if (_t < 0){
											_GM_action(obj, "exts", "del", arr[0]);
										}else{
											$("#"+ obj +"_"+ arr[0]).find(".count.time").html(_DT_format(_t, {ext: true})+'<div></div>');
										}
										break;
								}
							}
							if (__store[arr[0]].limit && pla_data['el'+arr[0]] >= (__store[arr[0]].limit + (typeof my_tals[26] != "undefined" && parseInt(my_tals[26]) && (arr[0] < 301 || arr[0] > 317) ? 1 : 0) + (typeof my_tals[51] != "undefined" && parseInt(my_tals[51]) && __rank84_xlimit(arr[0]) ? 1 : 0))){
								if (!$("#"+ obj +"_"+ arr[0]).hasClass("disabled")){
									$("#"+ obj +"_"+ arr[0]).addClass("disabled");
								}
							}else{
								if ($("#"+ obj +"_"+ arr[0]).hasClass("disabled")){
									$("#"+ obj +"_"+ arr[0]).removeClass("disabled");
								}
							}
						}
					}
					break;
				case "upd":
					if (obj != '' && $("#"+ obj +"_"+ arr[0]).length){
						var _xh = $("#"+ obj +"_"+ arr[0]).find("div.hover-hint").html();
						var _d = '';
						if ($("#gxt_"+ arr[0]).length){
							var _xo = $("#gxt_"+ arr[0]).clone();
							$(_xo).find("div.hover-hint").remove();
							_d = $(_xo).html();
							_d += '<div class="hover-hint">'+ _xh +'</div>';
							$(_xo).remove;
						}else{
							_d = '<img src="/img/extras/'+ arr[0] +'.png" class="ico" />';
							_d += '<div class="hover-hint">'+ _xh +'</div>';
						}
						$("#"+ obj +"_"+ arr[0]).html(_d);
					}
					break;
			}
			break;
		case "are_sale":
			if (gam_id && gam_state == "init" && !$("#auctionPopup").length){
				var _s = '';
				for(_i = 0; _i < 5; _i++){
					if (typeof gam_data['sale_p'][_i] != "undefined"){
						var _r = parseInt(gam_data['sale_p'][_i]);
						if (_r == 99) _r = (my_gender == 'f' ? 10 : 11);
						_s += '<li data-status="'+ (typeof gam_data['sale_b'][_i] != "undefined" && parseInt(gam_data['sale_b'][_i]) > 0 ? (parseInt(gam_data['sale_b'][_i]) == 2 ? 'choice' : 'busy') : '') +'">'+
							'<div class="roleIco"><img src="/img/persons/big/'+ k_persons[_r] +'_'+ my_gender +'.png" /></div>'+
							'<div class="roleName">'+ t_persons[_r] +'</div>'+
							'<button ondblclick="return false" onclick="_GM_action(\'\', \'sale_bet_a\', '+ _i +', event);return false" hidefocus="true" class="cssGreenButton2">Выбрать</button>'+
							'<div class="switch choice">Роль выбрана</div>'+
							'<div class="switch busy">Роль занята</div>'+
						'</li>';
					}else{
						_s += '<li data-status="empty"></li>';
					}
				}
				$("#popup_container").append('<div id="auctionPopup" class="popupShadowNew roleSalePopop popup-move not-displayed" style="top:140px">'+
					'<h1>Выбор роли</h1>'+
					'<ul class="rolesForSale">'+
						_s +
					'</ul>'+
					'<div class="extraBlock">'+
						'Для выбора роли используется экстра «Выбор роли»'+
						'<div class="extraTemplate">'+
							'<div id="exl_320" class="extraIco hoverGlow" ondblclick="return false" onclick="_WND_proc(\'extras\', \'buy\', {id: 320}, event);return false" hidefocus="true" label="">'+
								'<img src="/img/extras/320.png" class="ico">'+
								'<span class="count">'+ ($("#gxt_320").length ? parseInt($("#gxt_320").attr("label")) : '') +'</span>'+
								'<div class="hover-hint">'+ __store[320].descr +' 10шт.<div class="arrow"></div></div>'+
							'</div>'+
							'<p class="name">'+ __store[320].title +'</p>'+
							'<em class="price ruby">10</em>'+
						'</div>'+
					'</div>'+
					'<div class="timerBlock">'+
						'До начала игры:&nbsp;'+
						'<div class="shortTimer">'+
							'<p><span class="seconds" id="gsl_timer">'+ gam_data['sale_t'] +'</span></p>'+
						'</div>'+
					'</div>'+
				'</div>');
				$("#auctionPopup").css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#auctionPopup").width())/2)) +"px");
				$("#auctionPopup").draggable({
					containment: "document",
					cancel: "button",
					zIndex: 100,
					stop: function(){
						$(this).mousedown();
					}
				}).mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
				});
			}
			break;	
		case "sale":
			if (gam_id && gam_state == "init" && !$("#auctionPopup").length){
				$("#popup_container").append('<div id="auctionPopup" class="popupShadowNew auctionPopup popup-move not-displayed" style="top:140px">'+
					'<div class="bubble">'+
						'Хотите эту роль?<br />Выиграйте в аукционе!'+
					'</div>'+
					'<div class="card">'+
						'<div class="roleName">'+ t_persons[gam_data['sale_p']] +'</div>'+
						'<div class="roleImage"><img src="/img/persons/big/'+ k_persons[gam_data['sale_p']] +'_'+ my_gender +'.png" /></div>'+
						'<div class="currentBidText" id="gsl_ttl">текущая ставка</div>'+
						'<div class="currentBid"><span id="gsl_bet">'+ gam_data['sale_b']+ '</span></div>'+
						(my_play_c < 5 ? '' : '<button id="gsl_btn" ondblclick="return false" onclick="if(!$(this).hasClass(\'off\')){_GM_action(\'\', \'sale_bet\', 0, event);} return false" hidefocus="true" class="bidButton">'+(gam_data['sale_b'] > 0 ? 'Повысить ставку' : 'Сделать ставку') +'</button>')+
					'</div>'+
					'<div class="timer">'+
						'осталось'+
						'<span id="gsl_timer">'+ gam_data['sale_t'] +'</span>'+
						'сек.'+
					'</div>'+
					'<div class="info">'+
						(my_play_c < 5 ? '<span style="font-size:11px">Вы сможете покупать роли, когда сыграете 5 игр</span>' : '<span id="gsl_lnk" '+ (gam_data['sale_t'] < 5 ? 'class="not-displayed"' : '') +'>'+ ($("#gxt_162").length ? '<a href="#" class="underline" ondblclick="return false" onclick="$(this).addClass(\'not-displayed\');_GM_action(\'\', \'sale_bet\', 1, event);return false" hidefocus="true"><span class="underline">Получить роль бесплатно</span>!</a>' : '<a href="#" ondblclick="return false" onclick="$(this).addClass(\'not-displayed\');_GM_action(\'\', \'sale_bet\', 2, event);return false" hidefocus="true"><span class="underline">Купить роль досрочно</span>: 1 <img src="/images/icons/ruby-micro.png" style="vertical-align:-5px" alt="" /></a>') +'</span>')+
					'</div>'+
				'</div>');
				$("#auctionPopup").css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#auctionPopup").width())/2)) +"px");
				$("#auctionPopup").draggable({
					containment: "document",
					cancel: "button",
					zIndex: 100,
					stop: function(){
						$(this).mousedown();
					}
				}).mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
				});
			}
			break;
		case "sale_bet_a":
			var _evt = (!arr ? window.event : arr);
			$.ajax({
				async: true,
				cache: false,
				type: "POST",
				url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
				data: {method: "sale_bet_a", val: val},
				dataType: "json",
				success: function(data) {
					if (typeof data.ret != "undefined"){
						$("ul.rolesForSale li:nth-child("+ (parseInt(val) + 1) +")").attr("data-status", "choice");
						setTimeout(function(){
							$("ul.rolesForSale li:nth-child("+ (parseInt(val) + 1) +")").attr("data-status", "choice");
						}, 500);
						_GM_action("gxt", "exts", "set", [320]);
						_GM_action("exl", "exts", "upd", [320]);
					}
					if (typeof data.err != "undefined"){
						var _e = '';
						switch (data.err){
							case 1: _e = 'Недоступно'; break;
							case 2: _e = 'Нет экстры'; break;
						}
						_WARN("default", 2500, '<span class="yellow">'+ _e +'</span>', _evt.clientX - 100, _evt.clientY);
					}
				}
			});
			break;	
		case "sale_bet":
			if (val){
				var _evt = (!arr ? window.event : arr);
				var _tp = 0;
				switch (parseInt(val)){
					case 1: if ($("#gxt_162").length) _tp = 1; break;
					case 2: _tp = 2;
				}
				if (_tp > 0){
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "sale_bet", tp: _tp},
						dataType: "json",
						success: function(data) {
							if (typeof data.err != "undefined"){
								_WARN("default", 2500, '<span class="yellow">Недостаточно рубинов</span>', _evt.clientX - 100, _evt.clientY);
								_WND_proc('ruby_buy');
							}
						}
					});
				}
			}else{
				var _bet = (gam_data['sale_b'] + 20);
				var _am = parseFloat($(".profileBlock").find("span.moneyBalance").html());
				if (_bet < (_am - gam_data['bet'])){
					my_slb = _bet;
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "sale_bet"},
						dataType: "json",
						success: function(data) {
						}
					});
				}else{
					if ($("#gsl_btn").length) $("#gsl_btn").addClass("off");
					var _evt = (!arr ? window.event : arr);
					_WARN("default", 2500, '<span class="yellow">Недостаточно монет</span>', _evt.clientX - 100, _evt.clientY);
					_HX_hint('rud5');
					_WND_proc('buy');
				}
			}
			break;
		case "lpower":
			switch(val){
				case "remove":
				case "close":
					if ($("#pp_lpower").length) {
						if (val == "close"){
							$("#pp_lpower").hide("fade", 100, function(){ 
								$(this).remove();
								_CHT_focus();
							});
						}else{
							_GM_action("", "upd", "pp_dd", "lpower");
						}
					}
					break;
				case "select":
					if (arr){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "lpower", id: parseInt(arr)},
							dataType: "json",
							success: function(data) {
								if (typeof data.ret != "undefined") pla_data['lpower'] = [];
							}
						});	
					}
					_GM_action("", "lpower", "close");
					break;
				default:
					if (typeof pla_data['lpower'] != "undefined" && pla_data['lpower'].length >= 1){
						var _s = '';
						$.each(pla_data['lpower'], function(_i, _v){
							_s += '<li class="action" ondblclick="return false" onclick="_GM_action(\'\', \'lpower\', \'select\', \''+ _v +'\');return false">'+
								'<img src="/images/events/lin/popups/'+ _v +'.png" class="actionIco" alt="" />'+
								'<p>'+ __leepwrs[_v] +'</p>'+
							'</li>';
						});
						var _h = '<div class="container'+ (pla_data['lpower'].length < 2 ? ' onlyOneChoice' : '') +'">'+
								'<h1>'+ (pla_data['lpower'].length > 1 ? 'Выбери одно из действий' : 'Нажми на действие') +'</h1>'+
								'<ul class="actions">'+ _s +'</ul>'+
							'</div>'+
							'<a href="#" class="popupClose" onclick="_GM_action(\'\', \'lpower\', \'close\');return false" hidefocus="true"></a>';
						if (!$("#pp_lpower").length){
							$("#popup_container").append('<div id="pp_lpower" class="popup-move popupShadowNew specialActionsPopup not-displayed">'+ _h +'</div>');
							$("#pp_lpower").css("left", (parseInt((parseInt($("#rootContainer").outerWidth()) - hdr_right_o) / 2) - parseInt(parseInt($("#pp_lpower").outerWidth()) / 2)) +"px");
							$("#pp_lpower").draggable({
								containment: "document",
								cancel: ".action",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
								$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
							});
						}else{
							$("#pp_lpower").html(_h);
							$("#pp_lpower").mousedown();
						}
					}
					break;	
			}
			break;
		case "tpower":
			switch(val){
				case "remove":
				case "close":
					if ($("#pp_tpower").length) {
						if (val == "close"){
							$("#pp_tpower").hide("fade", 100, function(){ 
								$(this).remove();
								_CHT_focus();
							});
						}else{
							_GM_action("", "upd", "pp_dd", "tpower");
						}
					}
					break;
				case "select":
					if (arr){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "tpower", id: parseInt(arr)},
							dataType: "json",
							success: function(data) {
								if (typeof data.ret != "undefined") pla_data['tpower'] = [];
							}
						});
					}
					_GM_action("", "tpower", "close");
					break;
				default:
					if (typeof pla_data['tpower'] != "undefined" && pla_data['tpower'].length >= 1){
						var _s = '';
						$.each(pla_data['tpower'], function(_i, _v){
							_s += '<li class="action" ondblclick="return false" onclick="_GM_action(\'\', \'tpower\', \'select\', \''+ _v +'\');return false">'+
								'<img src="/images/events/newtony/effs/'+ _v +'.png" class="actionIco" alt="" />'+
								'<p>'+ __tpwrs[_v] +'</p>'+
							'</li>';
						});
						var _h = '<div class="container'+ (pla_data['tpower'].length < 2 ? ' onlyOneChoice' : '') +'">'+
								'<h1>'+ (pla_data['tpower'].length > 1 ? 'Выбери одно из действий' : 'Нажми на действие') +'</h1>'+
								'<ul class="actions">'+ _s +'</ul>'+
							'</div>'+
							'<a href="#" class="popupClose" onclick="_GM_action(\'\', \'tpower\', \'close\');return false" hidefocus="true"></a>';
						if (!$("#pp_tpower").length){
							$("#popup_container").append('<div id="pp_tpower" class="popup-move popupShadowNew specialActionsPopup not-displayed">'+ _h +'</div>');
							$("#pp_tpower").css("left", (parseInt((parseInt($("#rootContainer").outerWidth()) - hdr_right_o) / 2) - parseInt(parseInt($("#pp_tpower").outerWidth()) / 2)) +"px");
							$("#pp_tpower").draggable({
								containment: "document",
								cancel: ".action",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
								$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
							});
						}else{
							$("#pp_tpower").html(_h);
							$("#pp_tpower").mousedown();
						}
					}
					break;	
			}
			break;
		case "pep_bomb":
			switch(val){
				case "remove":
				case "close":
					if ($("#pp_pep_bomb").length) {
						if (val == "close"){
							$("#pp_pep_bomb").hide("fade", 100, function(){ 
								$(this).remove();
								_CHT_focus();
							});
						}else{
							_GM_action("", "upd", "pp_dd", "pep_bomb");
						}
					}
					break;
				case "select":
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "pep_bomb", act: parseInt(arr)},
						dataType: "json"
					});
					_GM_action("", "pep_bomb", "close");
					break;
				default:
					var _h = '<div class="container">'+
							'<h1>Какой провод перерезать?</h1>'+
							'<ul class="actions">'+
								'<li class="action" ondblclick="return false" onclick="_GM_action(\'\', \'pep_bomb\', \'select\', 1);return false">'+
									'<img src="/img/_.png" class="actionIco" width="128" height="128" alt="" />'+
									'<p>Перерезать красный провод</p>'+
								'</li>'+
								'<li class="action" ondblclick="return false" onclick="_GM_action(\'\', \'pep_bomb\', \'select\', 0);return false">'+
									'<img src="/img/_.png" class="actionIco" width="128" height="128" alt="" />'+
									'<p>Перерезать синий провод</p>'+
								'</li>'+
							'</ul>'+
							'<div id="peppiBar">'+
								'<div class="progress"></div>'+
							'</div>'+
						'</div>';
					if (!$("#pp_pep_bomb").length){
						$("#popup_container").append('<div id="pp_pep_bomb" class="popup-move popupShadowNew specialActionsPopup not-displayed">'+ _h +'</div>');
						$("#pp_pep_bomb").css("left", (parseInt((parseInt($("#rootContainer").outerWidth()) - hdr_right_o) / 2) - parseInt(parseInt($("#pp_pep_bomb").outerWidth()) / 2)) +"px");
						$("#pp_pep_bomb").draggable({
							containment: "document",
							cancel: ".action",
							zIndex: 100,
							stop: function(){
								$(this).mousedown();
							}
						}).mousedown(function(){
							var _i = $(this).attr("id");
							var _z = _POPUP_resort("popup-move", _i);
							$(this).css("z-index", _z);
						}).show("fade", 100, function(){
							$(this).removeClass("not-displayed");
							$(this).mousedown();
							$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
							$("#pp_pep_bomb #peppiBar .progress").animate({width: "0%"}, 10000, function() {});
						});
					}else{
						$("#pp_pep_bomb").html(_h);
						$("#pp_pep_bomb").mousedown();
					}
					break;	
			}
			break;	
		case "spower":
			var _pers = (typeof pla_data['person'] != "undefined" ? parseInt(pla_data['person']) : 0);
			var _prfx = 'banditos';
			var _powers = __spwrs;
			if (_pers == 34) {
				_prfx = 'ripper';
				_powers = __rpwrs;
			}else if (_pers == 20) {
				_prfx = 'lili';
				_powers = __lpwrs;
			}else if (_pers == 40) {
				_prfx = 'beard';
				_powers = __bpwrs;
			}else if (_pers == 18) {
				_prfx = 'prof';
				_powers = __ppwrs;
			}
			switch(val){
				case "remove":
				case "close":
					if ($("#pp_spower").length) {
						if (val == "close"){
							$("#pp_spower").hide("fade", 100, function(){ 
								$(this).remove();
								_CHT_focus();
							});
						}else{
							_GM_action("", "upd", "pp_dd", "spower");
						}
					}
					break;
				case "set":
					if (!$("#gxt_spwr").length){
						setTimeout(function(){
							if (!$("#gxt_spwr").length){
								$("#gxt_list").append('<li id="gxt_spwr" class="extra" ondblclick="return false" onclick="$(this).find(\'.hover-hint\').addClass(\'off\');setTimeout(function(){$(\'#gxt_spwr\').find(\'.hover-hint\').removeClass(\'off\');}, 3000);_GM_action(\'\', \'ext_spwr\', \''+ pla_data['spower'] +'\', event);return false" hidefocus="true" label=""><img src="/images/events/'+ _prfx +'/powers/'+ pla_data['spower'] +'.png" class="ico" /></li>'+ "\n");
								if (!$("#myExtras").hasClass("miniMode")){
									var _ec = parseInt($("#gxt_list > li:not(.only-chat)").length);
									if (_ec >= (my_lang == "lv" ? 16 : 17)) $("#myExtras").addClass("miniMode");
								}
								MyExtras.redraw();
							}
						}, 250);
					}else{
						$("#gxt_spwr").replaceWith('<li id="gxt_spwr" class="extra" ondblclick="return false" onclick="$(this).find(\'.hover-hint\').addClass(\'off\');setTimeout(function(){$(\'#gxt_spwr\').find(\'.hover-hint\').removeClass(\'off\');}, 3000);_GM_action(\'\', \'ext_spwr\', \''+ pla_data['spower'] +'\', event);return false" hidefocus="true" label=""><img src="/images/events/'+ _prfx +'/powers/'+ pla_data['spower'] +'.png" class="ico" /></li>');
						MyExtras.redraw();
					}
					break;
				case "done":
					if (_done_spwr != pla_data['spower']){
						_done_spwr = pla_data['spower'];
						_CHT_add("s", '<div class="extra"><div class="img"><img src="/images/events/'+ _prfx +'/powers/'+ pla_data['spower'] +'.png" alt="" /></div><div class="text">Вы получили супер-силу «'+ _powers[parseInt(pla_data['spower'])][0] +'»! '+ _powers[parseInt(pla_data['spower'])][1] +'</div></div>');
						//if (!_SOUND_err) _SOUND_arr['sfx']['super_strength'].play();
					}
					_GM_action("", "spower", "close");
					break;
				case "chg":
					var _evt = (!arr[1] ? window.event : arr[1]);
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "spower", id: arr[0]},
						dataType: "json",
						success: function(data) {
							if (typeof data.arr != "undefined" && $("#pp_spower").length){
								var _l = '';
								$.each(data.arr, function(_i, _p){
									_l += '<li ondblclick="return false" onclick="_GM_action(\'\', \'spower\', \'chg\', ['+ _p +', event]);return false"><img src="/images/events/'+ _prfx +'/powers/'+ _p +'.png" class="ico hoverHint" data-tip="<h2>'+ _powers[_p][0] +'</h2>'+ _powers[_p][1] +'" alt="" /></li>';
								});
								var _s = '<h3>Сменить супер-силу <img src="/images/icons/coin.png" style="vertical-align: -4px" alt="" /> <em>500</em></h3>'+
									'<ul class="powerChange">'+ _l +'</ul>'+
									'<div class="footerButtons">'+
										'<button ondblclick="return false" onclick="_GM_action(\'\', \'spower\', \'done\', event);return false" class="newButton" hidefocus="true">Закрыть</button>'+
									'</div>';
								$("#pp_spower").addClass("changeMode");
								$("#pp_spower").html(_s);
								ptip.init('#pp_spower .hoverHint', {preset:'tooltip',cls:'brown'});
							}else{
								if (typeof data.err != "undefined"){
									var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
									var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
									_WARN("default", 2500, '<span class="yellow">Недостаточно монет</span>', _cx - 100, _cy);
									_HX_hint('rud5');
									_WND_proc('buy');
								}else{
									if (typeof data.ret != "undefined" && parseInt(data.ret)){
										pla_data['spower'] = data.ret;
										_GM_action("", "spower", "set");
									}
									_GM_action("", "spower", "done");
								}
							}
						}
					});
					break;	
				default:
					var _evt = (!arr ? window.event : arr);
					if (typeof pla_data['spower'] != "undefined" && parseInt(pla_data['spower']) > 0){
						if (val == "init") {
							_done_spwr = 0;
							_GM_action("", "spower", "set");
						}
						if (!spc_id && gam_id && gam_state == "play" && !pla_data['dead'] && !gam_data['v_cycle']){
							if (!$("#pp_spower").length){
								$("#popup_container").append('<div id="pp_spower" class="popup-move popupShadowNew superStrengthPopup '+ _prfx +' not-displayed">'+
									'<h1>Твоя супер-сила: <em>'+ _powers[pla_data['spower']][0] +'</em></h1>'+
									'<p class="review">'+ _powers[pla_data['spower']][1] +'</p>'+
									'<div class="powerImg"><img src="/images/events/'+ _prfx +'/powers/'+ pla_data['spower'] +'.png" alt="" /></div>'+
									'<div class="powerChange"><u ondblclick="return false" onclick="$(this).remove();_GM_action(\'\', \'spower\', \'chg\', [0, event]);return false">Сменить суперсилу</u><span class="price"><img src="/images/icons/coin.png" alt="" /> 500</span></div>'+
									'<div class="footerButtons">'+
										'<button ondblclick="return false" onclick="_GM_action(\'\', \'spower\', \'done\', event);return false" class="newButton" hidefocus="true">Продолжить</button>'+
									'</div>'+
								'</div>');
								$("#pp_spower").css("left", (parseInt((parseInt($("#rootContainer").outerWidth()) - hdr_right_o) / 2) - parseInt(parseInt($("#pp_spower").outerWidth()) / 2)) +"px");
								$("#pp_spower").draggable({
									containment: "document",
									cancel: ".newButton",
									zIndex: 100,
									stop: function(){
										$(this).mousedown();
									}
								}).mousedown(function(){
									var _i = $(this).attr("id");
									var _z = _POPUP_resort("popup-move", _i);
									$(this).css("z-index", _z);
								}).show("fade", 100, function(){
									$(this).removeClass("not-displayed");
									$(this).mousedown();
									$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
								});
							}else{
								$("#pp_spower").mousedown();
							}
						}
					}
					break;
			}
			break;
		case "tel_cards":
			switch(val){
				case "remove":
					if ($("#pp_tel_cards").length) {
						_GM_action("", "upd", "pp_dd", "tel_cards");
					}
					break;
				case "select":
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "tel_cards", idx: parseInt(arr)},
						dataType: "json",
						success: function(data){
							if (typeof data.err != "undefined"){
								_GM_action("", "tel_cards", "remove");
							}
						}
					});
				default:
					if (!spc_id && gam_id && gam_state == "play"){
						if (!$("#pp_tel_cards").length){
							$("#popup_container").append('<div id="pp_tel_cards" class="popup-move fortuneCardsScreen not-displayed">'+
								'<h1>Гадалка прислала тебе карты судьбы</h1>'+
								'<ul class="fortuneCards" data-choice="false">'+
									'<li class="fortuneCard closed" data-type="none" data-id="0">'+
										'<div class="img"></div>'+
										'<div class="text asTable">'+
											'<div class="asCell">'+
											'</div>'+
										'</div>'+
										'<div class="choiceGlow"></div>'+
									'</li>'+
									'<li class="fortuneCard closed" data-type="none" data-id="1">'+
										'<div class="img"></div>'+
										'<div class="text asTable">'+
											'<div class="asCell">'+
											'</div>'+
										'</div>'+
										'<div class="choiceGlow"></div>'+
									'</li>'+
									'<li class="fortuneCard closed" data-type="none" data-id="2">'+
										'<div class="img"></div>'+
										'<div class="text asTable">'+
											'<div class="asCell">'+
											'</div>'+
										'</div>'+
										'<div class="choiceGlow"></div>'+
									'</li>'+
								'</ul>'+
								'<a href="#" onclick="_GM_action(\'\', \'tel_cards\', \'remove\');return false" class="popupClose2" hidefocus="true"></a>'+
							'</div>');
							$("#pp_tel_cards").mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
							Gadalka.init(arr);
						}else{
							$("#pp_dynamits").mousedown();
						}
					}
					break;
			}
			break;	
		case "punish":
			switch(val){
				case "remove":
					if (typeof gam_data['punish'] != "undefined") delete gam_data['punish'];
					if ($("#pp_punish").length) {
						_GM_action("", "upd", "pp_dd", "punish");
					}
					break;
				case "select":
					$("#pp_punish").find("button.vote").addClass("off");
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "punish_s", idx: parseInt(arr)},
						dataType: "json"
					});
					pla_data['punish'] = 1;
					break;	
				default:
					var _evt = (!arr ? window.event : arr);
					if (!spc_id && gam_id && gam_state == "play" && !pla_data['dead'] && typeof gam_data['punish'] != "undefined"){
						if (!$("#pp_punish").length){
							var _boff = ((typeof pla_data['punish'] != "undefined" && parseInt(pla_data['punish'])) || gam_data['punish'][1] == my_id ? 1 : 0);
							$("#popup_container").append('<div id="pp_punish" class="popup-move punishmentPopup not-displayed">'+
								'<div class="timer"><em>'+ gam_data['punish'][0] +'</em> с</div>'+
								'<h2>Выбери наказание для игрока <em>'+ gam_data['punish'][5] +'</em></h2>'+
								'<div class="photo" onclick="_PRF('+ gam_data['punish'][1] +');"><img src="'+ gam_data['punish'][6] +'" onmousedown="return false" onload="_PIX_crop(this, 60);" class="hidden" /></div>'+
								'<ul>'+
									'<li>'+
										'<p>'+ __punishs[gam_data['punish'][2][0]] +'</p>'+
										'<div class="voteCount">'+ gam_data['punish'][3] +'</div>'+
										'<button class="vote'+ (_boff ? ' off' : '') +'" hidefocus="true" onclick="_GM_action(\'\', \'punish\', \'select\', 1);return false" ondblclick="return false">Выбрать</button>'+
									'</li>'+
									'<li>'+
										'<p>'+ __punishs[gam_data['punish'][2][1]] +'</p>'+
										'<div class="voteCount">'+ gam_data['punish'][4] +'</div>'+
										'<button class="vote'+ (_boff ? ' off' : '') +'" hidefocus="true" onclick="_GM_action(\'\', \'punish\', \'select\', 2);return false" ondblclick="return false">Выбрать</button>'+
									'</li>'+
								'</ul>'+
							'</div>');
							$("#pp_punish").css({"left": "20px", "top": "310px"});
							$("#pp_punish").css("left", (parseInt((parseInt($("#rootContainer").outerWidth()) - hdr_right_o) / 2) - parseInt(parseInt($("#pp_punish").outerWidth()) / 2)) +"px");
							$("#pp_punish").draggable({
								containment: "document",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
								$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
							});
						}else{
							$("#pp_punish").mousedown();
						}
					}
					break;
			}
			break;
		case "dynamits":
			switch(val){
				case "remove":
					if (typeof gam_data['dynamits'] != "undefined") delete gam_data['dynamits'];
					if ($("#pp_dynamits").length) {
						_GM_action("", "upd", "pp_dd", "dynamits");
					}
					break;
				case "upd":
					if (typeof gam_data['dynamits'] != "undefined" && $("#pp_dynamits").length){
						var _dd = parseInt(gam_data['dynamits']);
						if (_dd > 0){
							$("#pp_dynamits .banditosBombTimer").countdown(_dd * 1000, function(event){
								switch(event.type){
									case "seconds":
										if (event.sleft == 60){
											_CHT_add("s", '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/5.png" alt="" /></div><div class="text">До взрыва «Горы динамита» осталась 1 минута!</div></div>');
										}
										break;
									case "finished":
										_GM_action("", "dynamits", "remove");
										break;
								}
							});
						}else{
							_GM_action("", "dynamits", "remove");
						}
					}
					if (!spc_id){
						if (!pla_data['dead'] && pla_data['person'] != 8 && pla_data['person'] != 21 && pla_data['person'] != 24 && pla_data['person'] != 43){
							$("#pp_dynamits button").removeClass("disabledGrayscale");
						}else{
							$("#pp_dynamits button").addClass("disabledGrayscale");
						}
					}
					break;
				default:
					var _evt = (!arr ? window.event : arr);
					if (!spc_id && gam_id && gam_state == "play" && typeof gam_data['dynamits'] != "undefined"){
						if (!$("#pp_dynamits").length){
							$("#popup_container").append('<div id="pp_dynamits" class="popup-move banditosBombPopup transparentPopup not-displayed">'+
								'<div class="time banditosBombTimer">'+
									'<span class="minutes"></span>'+
									':'+
									'<span class="seconds"></span>'+
								'</div>'+
								'<button class="button50px disabledGrayscale" hidefocus="true" onclick="if($(this).hasClass(\'disabledGrayscale\'))return false; _DLG(\'dynamits\');return false" ondblclick="return false">Пожертвовать</button>'+
							'</div>');
							_GM_action("", "dynamits", "upd");
							$("#pp_dynamits").css({"left": "400px", "top": "430px"});
							$("#pp_dynamits").draggable({
								containment: "document",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}else{
							$("#pp_dynamits").mousedown();
						}
					}
					break;
			}
			break;
		case "safe":
			switch(val){
				case "remove":
					if (typeof gam_data['safe'] != "undefined") delete gam_data['safe'];
					if ($("#pp_safe").length) {
						_GM_action("", "upd", "pp_dd", "safe");
					}
					break;
				default:
					var _evt = (!arr ? window.event : arr);
					if (!spc_id && gam_id && gam_state == "play" && !pla_data['dead'] && typeof gam_data['safe'] != "undefined"){
						var _lnk = '';
						var _btn = '';
						var _cls = '';
						switch (parseInt(gam_data['safe'])){
							case 3:
								_lnk = 'pinyata_br';
								_btn = 'Разбить';
								_cls = 'pinjata';
								break;
							case 7:
								_lnk = 'safe_open_b';
								_btn = 'Открыть';
								_cls = 'banditos';
								break;	
						}
						if (!$("#pp_safe").length){
							$("#popup_container").append('<div id="pp_safe" class="popup-move chanceOnScreen '+ _cls +' transparentPopup not-displayed">'+
								'<button class="button50px" hidefocus="true" onclick="if($(this).hasClass(\'disabledGrayscale\'))return false; _DLG(\''+ _lnk +'\');return false" ondblclick="return false">'+ _btn +'</button>'+
							'</div>');
							//$("#pp_safe").css({"left": "490px", "top": "360px"});
							$("#pp_safe").draggable({
								containment: "document",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}else{
							$("#pp_safe").mousedown();
						}
					}
					break;
			}
			break;
				case "rvs_dog":
		case "adrenalin":
			switch(val){
				case "remove":
					if (typeof pla_data[act] != "undefined") delete pla_data[act];
					if ($("#pp_"+ act).length) {
						_GM_action("", "upd", "pp_dd", act);
					}
					break;
				case "action":
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: act},
						dataType: "json"
					});
					break;
				case "shootout":
					_GM_action("", act, "remove");
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "shootout"},
						dataType: "json"
					});
					break;
				default:
					var _evt = (!arr ? window.event : arr);
					if (!spc_id && gam_id && gam_state == "play" && !pla_data['dead'] && typeof pla_data[act] != "undefined"){
						if (!$("#pp_"+ act).length){
							$("#popup_container").append('<div id="pp_'+ act +'" class="banditosShotPopup transparentPopup popup-move not-displayed">'+
								'<button class="button50px" hidefocus="true" onclick="_GM_action(\'\', \''+ act +'\', \''+ (parseInt(pla_data[act]) == 2 ? 'shootout' : 'action') +'\');return false" ondblclick="return false">Стрелять</button>'+
							'</div>');
							$("#pp_"+ act).css({"left": "250px", "top": "380px"});
							$("#pp_"+ act).draggable({
								containment: "document",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}else{
							$("#pp_"+ act).mousedown();
						}
					}
					break;
			}
			break;
		case "a_shootout":
			switch(val){
				case "remove":
					if ($("#pp_a_shootout").length) {
						_GM_action("", "upd", "pp_dd", "a_shootout");
					}
					break;
				case "action":
					_GM_action("", "a_shootout", "remove");
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "a_shootout"},
						dataType: "json"
					});
					break;
				default:
					var _evt = (!arr ? window.event : arr);
					if (!spc_id && gam_id && gam_state == "play" && !pla_data['dead']){
						if (!$("#pp_a_shootout").length){
							$("#popup_container").append('<div id="pp_a_shootout" class="banditosShotPopup transparentPopup popup-move not-displayed">'+
								'<button class="button50px" hidefocus="true" onclick="_GM_action(\'\', \'a_shootout\', \'action\');return false" ondblclick="return false">Стрелять</button>'+
							'</div>');
							$("#pp_a_shootout").css({"left": "400px", "top": "380px"});
							$("#pp_a_shootout").draggable({
								containment: "document",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}else{
							$("#pp_a_shootout").mousedown();
						}
					}
					break;
			}
			break;
		case "atm_bomb":
			switch(val){
				case "remove":
					if (typeof gam_data['atm_bomb'] != "undefined") delete gam_data['atm_bomb'];
					if ($("#pp_atm_bomb").length) {
						_GM_action("", "upd", "pp_dd", "atm_bomb");
					}
					break;
				case "upd":
					if (typeof gam_data['atm_bomb'] != "undefined" && $("#pp_atm_bomb").length){
						var _gd = gam_data['atm_bomb'];
						$("#pp_atm_bomb").find(".voteCount.green").html(_gd[2]);
						$("#pp_atm_bomb").find(".voteCount.red").html(_gd[1]);
						$("#pp_atm_bomb").removeClass("green").removeClass("red");
						if (_gd[2] > _gd[1]){
							$("#pp_atm_bomb").addClass("green");
						}else{
							$("#pp_atm_bomb").addClass("red");
						}
						var _prc = Math.ceil(parseInt(_gd[0]) * 100 / 20);
						if (_prc > 100) _prc = 100;
						var _num = Math.floor(_prc / 16);
						if (_num > 6) _num = 6;
						$("#pp_atm_bomb").find("div.timer").attr("class", "timer num"+ _num);
					}
					break;
				default:
					var _evt = (!arr ? window.event : arr);
					if (!spc_id && gam_id && gam_state == "play" && typeof gam_data['atm_bomb'] != "undefined"){
						if (!$("#pp_atm_bomb").length){
							$("#popup_container").append('<div id="pp_atm_bomb" class="popup-move disarmPopup not-displayed">'+
								'<div class="timer"></div>'+
								'<ul>'+
									'<li>'+
										'<p>Обезвредили:</p>'+
										'<div class="voteCount green">'+ gam_data['atm_bomb'][2] +'</div>'+
									'</li>'+
									'<li>'+
										'<p>Провалили:</p>'+
										'<div class="voteCount red">'+ gam_data['atm_bomb'][1] +'</div>'+
									'</li>'+
								'</ul>'+
							'</div>');
							_GM_action("", "atm_bomb", "upd");
							$("#pp_atm_bomb").css({"left": "20px", "top": "310px"});
							$("#pp_atm_bomb").draggable({
								containment: "document",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}else{
							$("#pp_atm_bomb").mousedown();
						}
					}
					break;
			}
			break;	
		case "dice":
			switch(val){
				case "remove":
				case "close":
					if ($("#pp_dice").length) {
						if (val == "close"){
							$("#pp_dice").hide("fade", 100, function(){ 
								$(this).remove();
								_CHT_focus();
							});
						}else{
							_GM_action("", "upd", "pp_dd", "dice");
						}
					}
					break;
				case "call":
					if (typeof arr != "undefined"){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "dice", uid: arr},
							dataType: "json",
							success: function(data) {
								if (typeof data.ret != "undefined"){
									_GM_action("", "dice", "close");
								}
								if (typeof data.err != "undefined"){
									var _e = '';
									switch (data.err){
										case 1: _e = 'Игра уже состоялась'; break;
										case 2: _e = 'Недостаточно монет'; _HX_hint('rud5'); _WND_proc('buy'); break;
									}
									var _cx = parseInt(parseInt(document.body.clientWidth) / 2);
									var _cy = parseInt(parseInt(document.body.clientHeight) / 2);
									_WARN("extras", 2500, '<span class="yellow">'+ _e +'</span>', _cx, _cy);
								}
							}
						});
					}
					break;
				default:
					var _h = '<div class="container">'+
							'<h2>Испытай удачу, попробуй победить другого игрока!'+
							'<p style="font-weight: 200">Ставка: <img src="/images/icons/coin.png" style="vertical-align: -3px; margin-right: 3px"><em>250</em></p></h2>'+
							'<div class="footerButtons">'+
								'<button ondblclick="return false" onclick="'+ (typeof arr != "undefined" ? '_GM_action(\'\', \'dice\', \'call\', \''+ arr +'\');' : '_GM_action(\'\', \'ext_use\', [291, 0], event);') +'return false" class="newButton" hidefocus="true">'+ (typeof arr != "undefined" ? 'Принять вызов' : 'Играть') +'</button>'+
								'<button ondblclick="return false" onclick="_GM_action(\'\', \'dice\', \'close\');return false" class="newButton color3" hidefocus="true">Закрыть</button>'+
							'</div>'+
							'<a href="#" class="popupClose" onclick="_GM_action(\'\', \'dice\', \'close\');return false" hidefocus="true"></a>'+
						'</div>';
					if (!$("#pp_dice").length){
						$("#popup_container").append('<div id="pp_dice" class="popup-move popupShadowNew dice chancePopup not-displayed">'+ _h +'</div>');
						$("#pp_dice").css("left", (parseInt((parseInt($("#rootContainer").outerWidth()) - hdr_right_o) / 2) - parseInt(parseInt($("#pp_dice").outerWidth()) / 2)) +"px");
						$("#pp_dice").draggable({
							containment: "document",
							cancel: ".action",
							zIndex: 100,
							stop: function(){
								$(this).mousedown();
							}
						}).mousedown(function(){
							var _i = $(this).attr("id");
							var _z = _POPUP_resort("popup-move", _i);
							$(this).css("z-index", _z);
						}).show("fade", 100, function(){
							$(this).removeClass("not-displayed");
							$(this).mousedown();
							$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
						});
					}else{
						$("#pp_dice").html(_h);
						$("#pp_dice").mousedown();
					}
					break;
			}
			break;
		case "lil_bomb":
			switch(val){
				case "remove":
				case "close":
					delete pla_data['pwa3'];
					if ($("#pp_lil_bomb").length) {
						if (val == "close"){
							$("#pp_lil_bomb").hide("fade", 100, function(){ 
								$(this).remove();
								_CHT_focus();
							});
						}else{
							_GM_action("", "upd", "pp_dd", "lil_bomb");
						}
					}
					break;
				case "select":
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "lil_bomb", act: parseInt(arr)},
						dataType: "json"
					});
					_GM_action("", "lil_bomb", "close");
					break;
				default:
					if (typeof pla_data['pwa3'] != "undefined" && parseInt(pla_data['pwa3'][0]) > 0){
						var _h = '<div class="container" style="background: url(/images/events/lili/popups/disarm/'+ pla_data['pwa3'][1] +'.jpg)">'+
								'<h1>'+ (pla_data['pwa3'][1] == 9 ? 'Подлая бомба, взорвать себя или взорвать двух игроков из своей команды:' : 'Попробуй обезвредить бомбу, выбери провод:') +'</h1>'+
								'<div class="buttons">'+
									'<button class="newButton red" ondblclick="return false" onclick="_GM_action(\'\', \'lil_bomb\', \'select\', 1);return false">'+ (pla_data['pwa3'][1] == 9 ? 'Взорвать себя' : 'Красный провод') +'</button>'+
									'<button class="newButton blue" ondblclick="return false" onclick="_GM_action(\'\', \'lil_bomb\', \'select\', 0);return false">'+ (pla_data['pwa3'][1] == 9 ? 'Взорвать других' : 'Синий провод') +'</button>'+
								'</div>'+
								'<div class="countdown">'+
									pla_data['pwa3'][0]+
								'</div>'+
							'</div>';
						if (!$("#pp_lil_bomb").length){
							$("#popup_container").append('<div id="pp_lil_bomb" class="popup-move popupShadowNew specialMinActionsPopup not-displayed">'+ _h +'</div>');
							$("#pp_lil_bomb").css("left", (parseInt((parseInt($("#rootContainer").outerWidth()) - hdr_right_o) / 2) - parseInt(parseInt($("#pp_lil_bomb").outerWidth()) / 2)) +"px");
							$("#pp_lil_bomb").draggable({
								containment: "document",
								cancel: ".action",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
								$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
							});
						}else{
							$("#pp_lil_bomb").html(_h);
							$("#pp_lil_bomb").mousedown();
						}
					}
					break;	
			}
			break;	
		case "man_abomb":
			switch(val){
				case "remove":
				case "close":
					delete pla_data['mab'];
					if ($("#pp_man_abomb").length) {
						if (val == "close"){
							$("#pp_man_abomb").hide("fade", 100, function(){ 
								$(this).remove();
								_CHT_focus();
							});
						}else{
							_GM_action("", "upd", "pp_dd", "man_abomb");
						}
					}
					break;
				case "select":
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "man_abomb", act: parseInt(arr)},
						dataType: "json"
					});
					_GM_action("", "man_abomb", "close");
					break;
				default:
					if (typeof pla_data['mab'] != "undefined" && parseInt(pla_data['mab']) > 0){
						var _h = '<div class="container" style="background: url(/images/events/lili/popups/disarm/3.jpg)">'+
								'<h1>Попробуй обезвредить бомбу, выбери провод:</h1>'+
								'<div class="buttons">'+
									'<button class="newButton red" ondblclick="return false" onclick="_GM_action(\'\', \'man_abomb\', \'select\', 1);return false">Красный провод</button>'+
									'<button class="newButton blue" ondblclick="return false" onclick="_GM_action(\'\', \'man_abomb\', \'select\', 0);return false">Синий провод</button>'+
								'</div>'+
								'<div class="countdown">'+
									pla_data['mab']+
								'</div>'+
							'</div>';
						if (!$("#pp_man_abomb").length){
							$("#popup_container").append('<div id="pp_man_abomb" class="popup-move popupShadowNew specialActionsPopup not-displayed">'+ _h +'</div>');
							$("#pp_man_abomb").css("left", (parseInt((parseInt($("#rootContainer").outerWidth()) - hdr_right_o) / 2) - parseInt(parseInt($("#pp_man_abomb").outerWidth()) / 2)) +"px");
							$("#pp_man_abomb").draggable({
								containment: "document",
								cancel: ".action",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
								$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
							});
						}else{
							$("#pp_man_abomb").html(_h);
							$("#pp_man_abomb").mousedown();
						}
					}
					break;	
			}
			break;	
		case "upd":
			switch (val){
				case "sale":
					if (parseInt(arr[1]) > 0){
						if ($("#gsl_btn").length) $("#gsl_btn").addClass("off");
						if ($("#gsl_lnk").length) $("#gsl_lnk").addClass("not-displayed");
						if (parseInt(arr[1]) == 2 && arr[2] && arr[2] == my_id){
							_GM_action("gxt", "exts", "set", [162]);
							_GM_action("exl", "exts", "upd", [162]);
						}
					}else if (arr[0]){
						$("#gsl_bet").html(arr[0]);
						if (parseInt(arr[0]) == parseInt(my_slb)){
							$("#gsl_ttl").html('<b>вы лидируете</b>');
						}else{
							$("#gsl_ttl").html('текущая ставка');
						}
						if ($("#gsl_btn").length) $("#gsl_btn").html('Повысить ставку');
						gam_data['sale_b'] = arr[0];
					}
					break;
				case "discounts":
					if (!$("#pp_discounts").length){
						$("#popup_container").append('<div id="pp_discounts" class="popupShadowNew popup-move akcijaPopup not-displayed" style="top:210px;">'+
							'<h2>Мега акция началась!</h2>'+
							'<div id="cdn_mega_akcija" class="cdn2">'+
								'<p class="margin"> <span class="days"></span> <em>дней</em></p>'+
								'<p> <span class="hours"></span> <em>часов</em></p>'+
								'<p> <span class="minutes"></span> <em>минут</em></p>'+
								'<p> <span class="seconds"></span> <em>секунд</em></p>'+
							'</div>'+
							'<div class="footerButtons">'+
								'<button ondblclick="return false" onclick="$(\'#pp_discounts\').hide(\'fade\', 100, function(){ $(this).remove(); _WND_proc(\'buy\'); });return false" class="newButton" hidefocus="true">Далее</button>'+
							'</div>'+
							'<a href="#" class="popupClose" onclick="$(\'#pp_discounts\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" hidefocus="true"></a>'+
						'</div>');
						$("#pp_discounts").css("left", (parseInt((parseInt($("#rootContainer").width()) - hdr_right_o) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_discounts").width())/2)) +"px");
						$("#pp_discounts").draggable({
							containment: "document",
							cancel: "button,.popup-close",
							zIndex: 100,
							stop: function(){
								$(this).mousedown();
							}
						}).mousedown(function(){
							var _i = $(this).attr("id");
							var _z = _POPUP_resort("popup-move", _i);
							$(this).css("z-index", _z);
						}).show("fade", 100, function(){
							$(this).removeClass("not-displayed");
							$(this).mousedown();
							var _uu = (buy_dd - (uts + 5));
							if (_uu < 1) _uu = 1;
							$('div#cdn_mega_akcija').countdown(_uu * 1000, function(event) {});
						});
					}else{
						$("#pp_discounts").mousedown();
					}
					break;
				case "lvl_up":
					var str = "" + arr[0];
					var pad = "00000";
					var ans = pad.substring(0, pad.length - str.length) + str;
					var _h = '<h1>Поздравляем! Вы получили <em>'+ arr[0] +'</em> уровень!</h1>'+
							'<div class="digits">'+ans+'</div>'+
							'<div class="footerButtons">'+
																'<button ondblclick="return false" onclick="$(\'#pp_lvlup\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" class="newButton" hidefocus="true">Закрыть</button>'+
															'</div>'+
							'<a href="#" onclick="$(\'#pp_lvlup\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" class="popupClose" hidefocus="true"></a>';
							if (!_SOUND_err) _SOUND_arr['music']['new_personal_level'].play();
					if (arr[0]){
						my_level = arr[0];
						$("#myProfilePhoto").find(".level").html(my_level);
					}
					if (!$("#pp_lvlup").length){
						$("#popup_container").append('<div id="pp_lvlup" class="popup-move popupShadowNew levelUpPopup not-displayed" style="top:240px">'+ _h +'</div>');
						$("#pp_lvlup").css("left", (parseInt((parseInt($("#rootContainer").width()) - hdr_right_o) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_lvlup").width())/2)) +"px");
						$("#pp_lvlup").draggable({
							containment: "document",
							cancel: "button,.popupClose",
							zIndex: 100,
							stop: function(){
								$(this).mousedown();
							}
						}).mousedown(function(){
							var _i = $(this).attr("id");
							var _z = _POPUP_resort("popup-move", _i);
							$(this).css("z-index", _z);
						}).show("fade", 100, function(){
							$(this).removeClass("not-displayed");
							$(this).mousedown();
						});
					}else{
						$("#pp_lvlup").html(_h);
						$("#pp_lvlup").mousedown();
					}
					break;
				case "lvl_c_up":
					if (!arr[0]){
						var _h = '<h1>Поздравляем! Ваш клан получил<em> '+ arr[1] +' </em>уровень!</h1>'+
								'<div class="digits">'+ arr[1] +'</div>'+
								'<div class="footerButtons">'+
																		'<button ondblclick="return false" onclick="_GM_action(\'\', \'upd\', \'lvl_c_up\', [1, null, null]);return false" class="newButton" hidefocus="true">Закрыть</button>'+
																	'</div>'+
								'<a href="#" onclick="_GM_action(\'\', \'upd\', \'lvl_c_up\', [1, null, null]);return false" class="popupClose" hidefocus="true"></a>';
								if (!_SOUND_err) _SOUND_arr['music']['new_clan_level'].play();
						if (!$("#pp_cl_lvlup").length){
							$("#popup_container").append('<div id="pp_cl_lvlup" class="popup-move popupShadowNew clanLevelUpPopup not-displayed" style="top:240px">'+ _h +'</div>');
							$("#pp_cl_lvlup").css("left", (parseInt((parseInt($("#rootContainer").width()) - hdr_right_o) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_cl_lvlup").width())/2)) +"px");
							$("#pp_cl_lvlup").draggable({
								containment: "document",
								cancel: "button,.popupClose",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}else{
							$("#pp_cl_lvlup").html(_h);
							$("#pp_cl_lvlup").mousedown();
						}
					}else{
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "cl_lvl"},
							dataType: "json",
							success: function(data) {
								$("#pp_cl_lvlup").hide("fade", 100, function(){
									$(this).remove();
									_CHT_focus();
								});
							}
						});
					}
					break;
				case "gift":
					if (arr && arr[9] && arr[5] != my_id && __store[arr[0]] && __store[arr[0]].type == "gift"){
						var _h = '<div '+(parseInt(arr[5]) > 0 ? '' : 'class="singleMode"')+'><h1>'+ (parseInt(arr[11]) ? 'Игрок '+(parseInt(arr[5]) > 0 ? '<em>'+arr[6]+'</em>' : '')+' подарил вам ряд из подарков' : 'Игрок '+(parseInt(arr[5]) > 0 ? '<em>'+arr[6]+'</em>' : '')+' подарил вам подарок') +'!</h1>'+
									(parseInt(arr[5]) > 0 ? '<div class="phs"><img src="'+ (arr[8] != '' ? arr[8] : '/images/_.gif') +'" onmousedown="return false" onclick="_PRF('+ arr[5] +');return false" onload="_PIX_crop(this, 90);" alt="" /></div>' : '')+
									(__store[arr[0]].ext == 'swf' ?
										'<div class="giftIco swf'+(parseInt(arr[11]) ? ' row' : '')+'">'+
											(parseInt(arr[11]) ? _SWF_obj(arr[0], 40, 40) + _SWF_obj(+ arr[0], 40, 40) + _SWF_obj(arr[0], 40, 40) : _SWF_obj(arr[0], 96, 96))+
											'<div class="giftName">'+__store[arr[0]].title +'</div>'+
										'</div>' :
										'<div class="giftIco'+(parseInt(arr[11]) ? ' row' : '')+'">'+
											'<img src="/images/gifts/'+ arr[0] +'.'+ __store[arr[0]].ext +'" />'+
											(parseInt(arr[11]) ? '<img src="/images/gifts/'+ arr[0] +'.'+ __store[arr[0]].ext +'" /><img src="/images/gifts/'+ arr[0] +'.'+ __store[arr[0]].ext +'" />' : '')+
											'<div class="giftName">'+__store[arr[0]].title +'</div>'+
										'</div>')+
								'<div class="giftComment">'+
									arr[10] + 
								'</div>'+
								'<div class="footerButtons">'+
									(parseInt(arr[5]) > 0 ? 
										'<button class="newButton" ondblclick="return false" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'gift_'+ arr[9] +'\');_PVT(event, \''+ arr[5] +'\');return false" hidefocus="true">Написать сообщение</button>' : 
										'<button class="newButton" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'gift_'+ arr[9] +'\');return false">Закрыть</button>')+
								'</div>'+
								'<a href="#" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'gift_'+ arr[9] +'\');return false" class="popupClose" hidefocus="true"></a>'+
								'</div>';
						if (!_SOUND_err) {
							_SOUND_arr['sfx']['gift'].stop();
							_SOUND_arr['sfx']['gift'].play();
						}
						if (!$("#pp_gift_"+ arr[9]).length){
							$("#popup_container").append('<div id="pp_gift_'+ arr[9]+'" class="popup-move giftPopup popupShadowNew not-displayed" style="top:180px">'+ _h +'</div>');
							$("#pp_gift_"+ arr[9]).css("left", (parseInt((parseInt($("#rootContainer").width()) - hdr_right_o) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_gift_"+ arr[9]).width())/2)) +"px");
							$("#pp_gift_"+ arr[9]).draggable({
								containment: "document",
								cancel: "button,.popupClose",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}else{
							$("#pp_gift_"+ arr[9]).html(_h);
							$("#pp_gift_"+ arr[9]).mousedown();
						}
					}
					break;
				case "my_gift":
					if (arr != my_gift){
						var _pp = $("#myProfilePhoto").find(".gifts");
						if ($(_pp).length){
							if (arr && __store[arr] && __store[arr].type == "gift"){
								if (__store[arr].ext == 'swf'){
									$(_pp).html(_SWF_obj(arr, 40, 40));
									if (!$(_pp).hasClass("swf")) $(_pp).addClass("swf");
									my_gift = arr;
								}else{
									if (!$(_pp).hasClass("swf")){
										$(_pp).html('<img src="/images/gifts/'+ arr +'.'+ __store[arr].ext +'" alt="" />');
										my_gift = arr;
									}
								}
							}else{
								if ($(_pp).hasClass("swf")) $(_pp).removeClass("swf");
								$(_pp).html('');
								my_gift = 0;
							}
						}
					}
					break;
				case "tabs":
					if (_CHT_c_tab == "cco"){
						if ((gam_id && ((gam_state == "play" && !pla_data['dead'] && pla_data['freeze'] != 1 && pla_data['freeze'] != 3 && pla_data['freeze'] != 4 && pla_data['freeze'] != 6 && pla_data['freeze'] != 7 && pla_data['freeze'] != 8 && pla_data['freeze'] != 9 && pla_data['freeze'] != 10 && pla_data['freeze'] != 11 && pla_data['freeze'] != 12 && pla_data['freeze'] != 13 && pla_data['freeze'] != 14) || gam_state != "play")) || !gam_id){
							if ($("#gamePage").hasClass("freeze")){
								$("#gamePage").removeClass("freeze");
								_CHT_action("ich", "block", "none", null);
							}
						}else{
							if (!$("#gamePage").hasClass("freeze")){
								$("#gamePage").addClass("freeze");
								_CHT_action("ich", "block", "disabled", null);
							}
						}
					}else if (_CHT_c_tab == "cmf" || _CHT_c_tab == "ctn"){
						if (gam_id && (gam_state == "play" && !pla_data['dead'] && pla_data['freeze'] != 1 && pla_data['freeze'] != 3 && pla_data['freeze'] != 4 && pla_data['freeze'] != 6 && pla_data['freeze'] != 7 && pla_data['freeze'] != 8 && pla_data['freeze'] != 9 && pla_data['freeze'] != 10 && pla_data['freeze'] != 11 && pla_data['freeze'] != 12 && pla_data['freeze'] != 13 && pla_data['freeze'] != 14)){
							if ($("#gamePage").hasClass("freeze")){
								$("#gamePage").removeClass("freeze");
								_CHT_action("ich", "block", "none", null);
							}
						}else{
							if (!$("#gamePage").hasClass("freeze")){
								$("#gamePage").addClass("freeze");
								_CHT_action("ich", "block", "disabled", null);
							}
						}
					}else if (_CHT_c_tab == "ccl"){
						if ($("#gamePage").hasClass("freeze")){
							$("#gamePage").removeClass("freeze");
							_CHT_action("ich", "block", "none", null);
						}
					}
					break;
				case "create":
					/*var _bet = parseFloat($("#crt_bet").val());
					var _plc = parseInt($("#crt_players").val());*/
					break;
				case "acts":
					if (gam_state == "play" && !pla_data['dead'] && !pla_data['act'] && !pla_data['kvt']){
						$("#upl_list > li").each(function(){
							var _ii = $(this).attr("id").substr(4);
							var _act = "";
							if (_ii != my_id && !parseInt($(this).find(".dead").attr("label"))){
								if (gam_data['v_mode']){
									_act = "vote";
									var _p = (typeof pla_data['person'] != "undefined" ? pla_data['person'] : 0);
									
								}else if(gam_data['v_cycle'] > 0){
									var _r = parseInt($(this).find(".ico").attr("label"));
									var _p = (typeof pla_data['person'] != "undefined" ? pla_data['person'] : 0);
									if ((k_persons[_p] == 'mafiosos' || k_persons[_p] == 'boss' || k_persons[_p] == 'killer') && _r != 2 && _r != 9 && _r != 26 && _r != 29 && _r != 47){
										_act = (k_persons[_p] == 'boss' ? "freeze" : (k_persons[_p] == 'killer' ? "t_kill" : "kill"));
									}else if (k_persons[_p] == 'bigman' && _r != 2 && _r != 9 && _r != 26 && _r != 29 && _r != 47){
										_act = "hit";
									}else if ((k_persons[_p] == 'helper' || k_persons[_p] == 'f_killer') && _r != 16 && _r != 17 && _r != 30 && _r != 32 && _r != 33 && _r != 41){
										_act = (k_persons[_p] == 'f_killer' ? "t_kill" : "kill");
									}else if (k_persons[_p] == 'yakuza' && _r != 35 && _r != 36 && _r != 37 && _r != 38){
										_act = "yak_kill";
									}else if (k_persons[_p] == 'hill' && _r != 35 && _r != 36 && _r != 37 && _r != 38){
										_act = "hit";
									}else if (k_persons[_p] == 'shadow' && _r != 35 && _r != 36 && _r != 37 && _r != 38){
										_act = "s_throw";
									}else if (k_persons[_p] == 'marko' && _r != 16 && _r != 17 && _r != 30 && _r != 32 && _r != 33 && _r != 41){
										_act = "hit";
									}else if (k_persons[_p] == 'rosario' && _r != 16 && _r != 17 && _r != 30 && _r != 32 && _r != 33 && _r != 41){
										_act = "know";
										var __data = (spc_id && !gam_id ? spc_data : gam_data);
										var _ton_cc = ((typeof __data['v_left'][16] != "undefined" ? parseInt(__data['v_left'][16]) : 0) +
											(typeof __data['v_left'][17] != "undefined" ? parseInt(__data['v_left'][17]) : 0) +
											(typeof __data['v_left'][30] != "undefined" ? parseInt(__data['v_left'][30]) : 0) +
											(typeof __data['v_left'][31] != "undefined" ? parseInt(__data['v_left'][31]) : 0) +
											(typeof __data['v_left'][32] != "undefined" ? parseInt(__data['v_left'][32]) : 0) +
											(typeof __data['v_left'][33] != "undefined" ? parseInt(__data['v_left'][33]) : 0) +
											(typeof __data['v_left'][41] != "undefined" ? parseInt(__data['v_left'][41]) : 0));
										if (_ton_cc == 1 || my_rost) _act = "kill";
									}else if (k_persons[_p] == 'fakecop' && _r != 2 && _r != 9 && _r != 26 && _r != 29 && _r != 47){
										_act = "know";
										var __data = (spc_id && !gam_id ? spc_data : gam_data);
										var _maf_cc = ((typeof __data['v_left'][2] != "undefined" ? parseInt(__data['v_left'][2]) : 0) +
											(typeof __data['v_left'][9] != "undefined" ? parseInt(__data['v_left'][9]) : 0) +
											(typeof __data['v_left'][25] != "undefined" ? parseInt(__data['v_left'][25]) : 0) +
											(typeof __data['v_left'][26] != "undefined" ? parseInt(__data['v_left'][26]) : 0) +
											(typeof __data['v_left'][29] != "undefined" ? parseInt(__data['v_left'][29]) : 0) +
											(typeof __data['v_left'][47] != "undefined" ? parseInt(__data['v_left'][47]) : 0));
										if (_maf_cc == 1 || my_rost) _act = "kill";	
									}else if (k_persons[_p] == 'maniac' && _r != 3){
										_act = "cut";
									}else if (k_persons[_p] == 'assassin1' && _r != 44){
										_act = "cut2";
									}else if (k_persons[_p] == 'assassin2' && _r != 45){
										_act = "cut2";
									}else if (k_persons[_p] == 'assassin3' && _r != 46){
										_act = "cut2";
									}else if (k_persons[_p] == 'ripper' && _r != 34){
										_act = "r_kill";
									}else if (k_persons[_p] == 'beard' && _r != 40){
										_act = "be_kill";
									}else if (k_persons[_p] == 'peppi' && _r != 16 && _r != 17 && _r != 30 && _r != 32 && _r != 33 && _r != 41){
										_act = "b_kill";
									}else if (k_persons[_p] == 'fteller' && _r != 38){
										_act = "guess";
									}else if (k_persons[_p] == 'lili' && _r != 20){
										_act = "l_kill";
									}else if (k_persons[_p] == 'professor' && _r != 18 && _r != 19 && _r != 42){
										_act = "p_kill";
									}else if (k_persons[_p] == 'golem' && _r != 18 && _r != 19 && _r != 42){
										_act = "g_kill";
									}else if (k_persons[_p] == 'mutant' && _r != 18 && _r != 19 && _r != 42){
										_act = "m_kill";
									}else if (k_persons[_p] == 'commisar' && _r != 4 && _r != 5){
										_act = "check";
									}else if (k_persons[_p] == 'witness' && _r != 12){
										_act = "visit";
									}else if (k_persons[_p] == 'doctor' && _r != 6){
										_act = "heal";
									}else if (k_persons[_p] == 'thief' && _r != 11){
										_act = "steal";
									}else if (k_persons[_p] == 'bitch' && _r != 10){
										_act = "kiss";
									}else if (k_persons[_p] == 'santa' && _r != 13){
										_act = "gift";
									}else if (k_persons[_p] == 'valentin' && _r != 14){
										_act = "v_kill";
									}else if (k_persons[_p] == 'bunny' && _r != 15){
										_act = "gift_b";
									}else if (k_persons[_p] == 'bunny_e' && _r != 27){
										_act = "gift_b";
									}else if (k_persons[_p] == 'bunny_n' && _r != 28){
										_act = "gift_b";
									}else if (k_persons[_p] == 'costumer' && _r != 23){
										_act = "gift_b";
									}else if (k_persons[_p] == 'grinch' && _r != 22){
										_act = "gift";
									}else if (k_persons[_p] == 'costumer' && _r != 23){
										_act = "gift";	
									}else if (k_persons[_p] == 'bifacial' && _r != 25){
										_act = "find";
									}else if (k_persons[_p] == 'francesca' && _r != 31){
										_act = "f_find";
									}else if ((k_persons[_p] == 'migel' || k_persons[_p] == 'sancho' || k_persons[_p] == 'bandit') && _r != 21 && _r != 24 && _r != 43){
										_act = "bab_kill";
									}
								}
							}
							if (!parseInt($(this).find(".dead").attr("label"))){
								var _oo = $(this).find(".name");
								if ($(_oo).length && $(_oo).hasClass("ndead")){
									$(_oo).removeClass("ndead");
								}
								var _oo = $(this).find(".ico");
								if ($(_oo).length && $(_oo).hasClass("idead")){
									$(_oo).removeClass("idead");
								}
								var _oo = $(this).find(".actions");
								if ($(_oo).length && $(_oo).attr("label") != '' && $(_oo).hasClass("off")){
									$(_oo).removeClass("off");
								}
							}
							var _ab = $(this).find(".actionButton");
							if ($(_ab).length && $(_ab).attr("label") != "reanim" && $(_ab).attr("label") != "reanim_j"){
								if (_act != ""){
									var _a = $(_ab).children("button");
									if ($(_a).length && $(_a).attr("class") != _act){
										$(_a).attr("class", _act);
										$(_a).attr("title", t_acts[_act]);
									}
									if ($(_ab).hasClass("off")){
										$(_ab).removeClass("off");
									}
								}else if (_act == "" && !$(_ab).hasClass("off")){
									$(_ab).addClass("off");
								}
							}
						});
					}else{
						$("#upl_list > li").each(function(){
							if (pla_data['dead'] || pla_data['kvt'] || gam_state == "fin"){
								var _oo = $(this).find(".name");
								if ($(_oo).length){
									if (gam_state == "fin"){
										if ($(_oo).hasClass("ndead")){
											$(_oo).removeClass("ndead");
										}
										/*var _oo = $(this).find(".actions");
										if ($(_oo).length && $(_oo).attr("label") != ''){
											$(_oo).attr("label", '');
											if (!$(_oo).hasClass("off")){
												$(_oo).addClass("off");
											}
										}*/
									}else{
										if (!$(_oo).hasClass("ndead")){
											$(_oo).addClass("ndead");
										}
										var _oo = $(this).find(".actions");
										if ($(_oo).length && $(_oo).attr("label") != '' && !$(_oo).hasClass("off")){
											$(_oo).addClass("off");
										}
									}
								}
								/*var _oo = $(this).find(".ico");
								if ($(_oo).length && !$(_oo).hasClass("idead")){
									$(_oo).addClass("idead");
								}*/
							}
							var _act = "";
							if (gam_state == "play" && !gam_data['v_mode'] && gam_data['v_cycle'] > 0 && parseInt(pla_data['dead']) > 1 && 
								typeof pla_data['person'] != "undefined" && parseInt(pla_data['person']) == 34 && 
								typeof pla_data['spower'] != "undefined" && parseInt(pla_data['spower']) == 2 &&
								!pla_data['act'] &&
								$(this).attr("id").substr(4) != my_id &&
								!parseInt($(this).find(".dead").attr("label")) &&
								parseInt($(this).find(".ico").attr("label")) != 34
							){
								_act = "r_kill";
							}
							var _ab = $(this).find(".actionButton");
							if ($(_ab).length && $(_ab).attr("label") != "reanim" && $(_ab).attr("label") != "reanim_j"){
								if (_act != ""){
									var _a = $(_ab).children("button");
									if ($(_a).length && $(_a).attr("class") != _act){
										$(_a).attr("class", _act);
										$(_a).attr("title", t_acts[_act]);
									}
									if ($(_ab).hasClass("off")){
										$(_ab).removeClass("off");
									}
								}else if (_act == "" && !$(_ab).hasClass("off")){
									$(_ab).addClass("off");
								}
								/*if (!$(_ab).hasClass("off")){
									$(_ab).addClass("off");
								}*/	
							}
						});
					}
					break;
				case "x2chk":
					if (gam_state == "play" && !pla_data['dead'] && gam_data['v_mode'] && pla_data['act'] > 0 && !pla_data['kvt'] && $("#upl_" + pla_data['act']).length){
						var _ab = $("#upl_" + pla_data['act']).find(".actionButton");
						if ($(_ab).length){
							if (parseInt($("#gxt_103").attr("label")) && !pla_data['e103']){
								var _a = $(_ab).children("button");
								if ($(_a).length){
									$(_a).attr("class", "x2vote");
									$(_a).attr("title", 'Удвоить голос');
								}
								if ($(_ab).hasClass("off")) $(_ab).removeClass("off");
							}else{
								if (!$(_ab).hasClass("off")) $(_ab).addClass("off");
							}
						}
					}
					break;
				case "zgchk":
					if (gam_state == "play" && !pla_data['dead'] && gam_data['v_mode'] && !pla_data['kvt'] && $("#upl_" + my_id).length){
						var _ab = $("#upl_" + my_id).find(".actionButton");
						if ($(_ab).length){
							if (parseInt($("#gxt_221").attr("label"))){
								var _cc = 0;
								var _oo = $("#upl_" + my_id).find(".count");
								if ($(_oo).length){
									_cc = parseInt($(_oo).html());
								}
								if (_cc > 0){
									var _a = $(_ab).children("button");
									if ($(_a).length){
										$(_a).attr("class", "z_ghost");
										$(_a).attr("title", 'Снять голоса');
									}
									if ($(_ab).hasClass("off")) $(_ab).removeClass("off");
								}
							}
						}
					}
					break;	
				case "reanim":
					if (gam_state == "play" && $("#upl_" + arr).length){
						var _ab = $("#upl_" + arr).find(".actionButton");
						if ($(_ab).length){
							if (parseInt($("#gxt_208").attr("label")) && !pla_data['e208']){
								var _rr = parseInt($("#upl_" + arr).find(".ico").attr("label"));
								reanim_tms[_rr] = setTimeout(function(){
									reanim_tms[_rr] = null;
									$(_ab).attr("label", "reanim");
									var _a = $(_ab).children("button");
									if ($(_a).length){
										$(_a).attr("class", "reanim");
										$(_a).attr("title", 'Реанимация');
									}
									if ($(_ab).hasClass("off")) $(_ab).removeClass("off");
									setTimeout(function(){
										if ($(_ab).attr("label") == "reanim"){
											$(_ab).attr("label", "");
											if (!$(_oo).hasClass("off")) $(_oo).addClass("off");
											_GM_action("", "upd", "acts");
											_GM_action("", "upd", "x2chk");
											_GM_action("", "upd", "zgchk");
										}
									}, 10000);
								}, 1000);
							}
						}
					}
					break;
				case "reanim_j":
					if (gam_state == "play" && $("#upl_" + arr).length){
						var _ab = $("#upl_" + arr).find(".actionButton");
						if ($(_ab).length){
							if (parseInt($("#gxt_315").attr("label")) && !pla_data['e315']){
								var _rr = parseInt($("#upl_" + arr).find(".ico").attr("label"));
								reanim_tms[_rr] = setTimeout(function(){
									reanim_tms[_rr] = null;
									$(_ab).attr("label", "reanim_j");
									var _a = $(_ab).children("button");
									if ($(_a).length){
										$(_a).attr("class", "reanim_j");
										$(_a).attr("title", 'Отмычки');
									}
									if ($(_ab).hasClass("off")) $(_ab).removeClass("off");
									setTimeout(function(){
										if ($(_ab).attr("label") == "reanim_j"){
											$(_ab).attr("label", "");
											if (!$(_oo).hasClass("off")) $(_oo).addClass("off");
											_GM_action("", "upd", "acts");
											_GM_action("", "upd", "x2chk");
											_GM_action("", "upd", "zgchk");
										}
									}, 10000);
								}, 1000);
							}
						}
					}
					break;	
				case "person":
					var _p = (typeof pla_data['person'] != "undefined" ? pla_data['person'] : 0);
					var _u = (typeof pla_data['figure'] != "undefined" ? pla_data['figure'] : '');
					var _d = (typeof pla_data['dead'] != "undefined" ? pla_data['dead'] : 0);
					var _sl = (typeof pla_data['sale_w'] != "undefined" ? pla_data['sale_w'] : 0);
					if (arr) _sl = 0;
					if (_sl == 2){
						_GM_action("gxt", "exts", "set", [102]);
						_GM_action("exl", "exts", "upd", [102]);
					}else if (_sl == 3){
						_GM_action("gxt", "exts", "set", [284]);
						_GM_action("exl", "exts", "upd", [284]);
					}
					if (gam_state == "play"){
						var _s = '';
						if (_d){
							_s += '<p class="end-msg dead-txt">'+ my_nick +', Вы - '+ (_d == 3 ? 'за решеткой' : 'покойник') +'!</p>';
							$("#gmv_exit").html('Выйти');
							$("#chatContainer").find(".smiles li.last-word:.not-displayed").removeClass("not-displayed").prev().addClass("not-displayed");
						}else{
							$("#gmv_exit").html('Умереть');
						}
						if (_p > 0 && !_d){
							_s += '<div class="role-review">';
							if (k_persons[_p] != 'golem') _s += '<div class="img"><img src="/img/persons/big/'+ k_persons[_p] + _u +'_'+ my_gender +'.png" alt="" /></div><div class="text"><p class="role-name">'+ my_nick +', Ваша роль - '+ t_persons[_p] +'!</p>';
							switch (k_persons[_p]){
								case 'citizen':
									_s += 'Вы выиграете, если на дневном голосовании посадите за решетку всех мафиози и маньяка<br/>'+
									'Хотите играть маньяком, комиссаром или другой активной ролью?<br/>Закажи экстру <a href="#" hidefocus="true" onclick="_WND_proc(\'extras\');return false">Активная роль!</a>';
									_HX_noob('cit1');
									if (typeof __hxda['cit2'] == "undefined") setTimeout(function(){ _HX_noob('cit2'); }, 20000);
									if (my_league >= 3) _HX_hint('lea11');
									break;
								case 'mafiosos':
									_s += 'Вы выиграете, если убьете всех граждан и маньяка<br/>Используйте чат мафии, чтобы обсудить вашу тактику с другими мафиози';
									_HX_noob('maf1');
									if (typeof gam_data['v_left'][2] != "undefined" && parseInt(gam_data['v_left'][2]) >= 2){
										if (typeof __hxda['maf5'] == "undefined") setTimeout(function(){ _HX_noob('maf5'); }, 20000);
									}else if (typeof gam_data['v_left'][9] != "undefined" && parseInt(gam_data['v_left'][9]) >= 1){
										if (typeof __hxda['maf4'] == "undefined") setTimeout(function(){ _HX_noob('maf4'); }, 20000);
									}else if (typeof gam_data['v_left'][25] != "undefined" && parseInt(gam_data['v_left'][25]) >= 1){
										if (typeof __hxda['maf3'] == "undefined") setTimeout(function(){ _HX_noob('maf3'); }, 20000);	
									}else{
										if (typeof __hxda['maf2'] == "undefined") setTimeout(function(){ _HX_noob('maf2'); }, 20000);
									}
									break;
								case 'leen':
									_s += 'Эта роль появляется только во время события «Якудза». Вы играете за команду Якудза против граждан, мафии и маньяка. Ваша задача - ночью выбирать одно из доступных действий. Каждое действие помогает выиграть команде Якудза';
									break;
								case 'yakuza':
									_s += 'Эта роль появляется только во время события «Якудза». Вы играете за команду Якудза против граждан, мафии и маньяка. Используйте чат Якудза, чтобы обсудить вашу тактику с другими игроками из вашей команды';
									break;
								case 'hill':
									_s += 'Эта роль появляется только во время события «Якудза». Вы играете за команду Якудза против граждан, мафии и маньяка. Ваша задача - ночью ходить к игрокам и выбивать из них монеты. Вы убиваете игрока, если у него нет монет или вы пришли к нему повторно.';
									break;
								case 'shadow':
									_s += 'Эта роль появляется только во время события «Якудза». Вы играете за команду Якудза против граждан, мафии и маньяка. Ваша задача - ночью ходить к игрокам и кидать отравленный сюрикен, который убивает через игровые сутки.';
									break;	
								case 'helper':
									_s += 'Эта роль доступна только во время события «Семья Жирного Тони». Вы играете на стороне семьи Жирного Тони, ваша задача - ночью, вместе с остальными подручными, убивать игроков. Используйте чат мафии, чтобы обсудить вашу тактику с другими подручными. Вы выиграете, если убьете всех граждан, мафию и маньяка';
									break;
								case 'peppi':
									_s += 'Эта роль появляется только во время события «Семья Жирного Тони». Вы играете за семью Жирного Тони против граждан, мафии и маньяка. Ваша задача - ночью ходить к игрокам и закладывать бомбу. С утра у игрока будет выбор: перерезать красный или синий провод. Если игрок угадывает, то остаётся в живых, если нет - взрывается!';
									break;	
								case 'fattony':
									_s += 'Эта роль появляется только во время события «Семья Жирного Тони». Вы играете за семью Жирного Тони против граждан, мафии и маньяка. Ваша задача - ночью выбирать одно из доступных действий. Каждое действие помогает выиграть вашей команде';
									break;
								case 'boss':
									_s += 'Вы выиграете, если убьете всех граждан и маньяка<br/>Ночью, с помощью кнопки «Заморозить», вы лишаете права голоса любого персонажа на день';
									_HX_noob('bos1');
									if (typeof __hxda['bos2'] == "undefined") setTimeout(function(){ _HX_noob('bos2'); }, 20000);
									break;
								case 'deadman':
									_s += 'Чем раньше вас убьют или посадят за решетку, тем больше денег и опыта вы получите';
									_HX_noob('ddm1');
									if (typeof __hxda['ddm2'] == "undefined") setTimeout(function(){ _HX_noob('ddm2'); }, 20000);
									break;
								case 'maniac':
									_s += 'Вы выиграете, если убьете всех граждан и мафиози<br/>Ночью вы убиваете с помощью кнопки «Зарезать», днем вы вместе со всеми голосуете с помощью кнопки «Голосовать»';
									_HX_noob('man1');
									if (typeof __hxda['man2'] == "undefined") setTimeout(function(){ _HX_noob('man2'); }, 27000);
									break;
								case 'assassin1':
								case 'assassin2':
								case 'assassin3':
									_s += 'Эта уникальная роль доступна только во время Арены. Ваша задача - убить граждан, мафию, маньяка и других убийц.';
									break;
								case 'ripper':
									_s += 'Эта роль доступна только во время события «Потрошитель». Вы играете сами за себя, ваша задача - ночью убивать игроков. Вы выиграете, если убьете всех граждан и мафию';
									break;
								case 'beard':
									_s += 'Эта роль появляется только во время события «Чёрная Борода». Вы играете за себя против всех. Ваша задача - убить всех граждан, мафию и маньяка';
									break;	
								case 'doctor':
									_s += 'Днем вы должны голосовать против мафиози, ночью спасать граждан от убийства<br/>Спасти игрока от убийства можно только ночью с помощью кнопки «Вылечить» рядом с ником игрока';
									_HX_noob('doc1');
									if (typeof __hxda['doc2'] == "undefined") setTimeout(function(){ _HX_noob('doc2'); }, 20000);
									break;
								case 'commisar':
									_s += 'Днем вы голосуете вместе со всеми против мафии, ночью вы проверяете игроков, чтобы найти среди них мафиози<br/>Проверить игрока и узнать его истинную роль вы можете ночью, нажав на кнопку «Проверить» рядом с ником игрока';
									_HX_noob('kom1');
									if (typeof __hxda['kom2'] == "undefined") setTimeout(function(){ _HX_noob('kom2'); }, 25000);
									break;
								case 'witness':
									_s += 'Днем вы голосуете вместе со всеми против мафии, ночью вы идете в гости к игрокам, чтобы застать мафиози на месте преступления<br/>Ходите в гости к любому игроку с помощью кнопки «Навестить» рядом с ником. Если игрока убьют, то вы узнаете ник убийцы';
									_HX_noob('wit1');
									if (typeof __hxda['wit2'] == "undefined") setTimeout(function(){ _HX_noob('wit2'); }, 20000);
									break;
								case 'santa':
									_s += 'Эта роль появляется только во время особых событий Мафии. Вы играете за команду граждан. Ночью вы дарите игроку «Мешок с подарками»! Кол-во мешков ограничено и зависит от размера комнаты.';
									break;
								case 'grinch':
									_s += 'Эта роль появляется только во время праздника «Новый год» и позволяет вам дарить «Гадость от Гринча» и «Коробку с леденцами»! Вы играете за граждан. Ночью вы дарите игроку «Гадость от Гринча» или «Коробку с леденцами»! Кол-во гадостей и коробок ограничено и зависит от размера комнаты.';
									break;
								case 'costumer':
									_s += 'Эта роль появляется только во время особых событий Мафии. Вы играете за команду граждан. Ночью вы дарите игроку «Шкатулку Костюмера»! Кол-во шкатулок ограничено и зависит от размера комнаты.';
									break;
								case 'valentin':
									_s += 'Эта роль появляется только во время события «Валентин». Вы играете за себя против всех. Ваша задача - убить всех граждан, мафию и маньяка. Ночной ход Валентина - выстрел из двух пистолетов: первый убивает, а второй стреляет случайным эффектом.';
									break;
								case 'fteller':
									_s += 'Эта роль появляется только во время события «Карнавал». Ваша задача - ночью гадать игрокам, отправляя три карты судьбы. Какую карту игрок выберет - такую судьбу и получит.';
									break;
								case 'bunny':
									_s += 'Эта роль появляется только во время особых событий Мафии. Вы играете за команду граждан. Ночью вы дарите игроку «Подарок от Зайки»! Кол-во подарков ограничено и зависит от размера комнаты.';
									break;
								case 'bunny_e':
									_s += 'Эта роль появляется только во время праздника «Пасха» и позволяет вам дарить «Гадкие яйца» и «Мешок с морковкой»! Вы играете за граждан. Ночью вы дарите игроку «Гадкие яйца» или «Мешок с морковкой»! Кол-во яиц и мешков ограничено и зависит от размера комнаты.';
									break;
								case 'bunny_n':
									_s += 'Эта ОЧЕНЬ РЕДКАЯ роль появляется только во время особых событий Мафии. Вы играете за команду граждан. Ночью вы дарите игроку «Подарок от Нефритового Зайки»! Кол-во подарков ограничено и зависит от размера комнаты.';
									break;
								case 'bitch':
									_s += 'Днем вы голосуете вместе со всеми против мафии, ночью лишаете подозрительных игроков права хода<br/>Лишить действий любого персонажа можно с помощью кнопки «Охмурить» рядом с его ником';
									_HX_noob('bth1');
									if (typeof __hxda['bth2'] == "undefined") setTimeout(function(){ _HX_noob('bth2'); }, 20000);
									break;
								case 'thief':
									_s += 'Днем вы голосуете вместе со всеми против мафии, ночью лишаете подозрительных игроков права хода<br/>Лишить действий любого персонажа можно с помощью кнопки «Обворовать» рядом с его ником';
									_HX_noob('thf1');
									if (typeof __hxda['thf2'] == "undefined") setTimeout(function(){ _HX_noob('thf2'); }, 20000);
									break;
								case 'medic':
									_s += 'Вы выиграете, если на дневном голосовании посадите за решетку всех мафиози и маньяка<br/>В случае гибели Доктора вы автоматически займете его место</p>';
									_HX_noob('med1');
									if (typeof __hxda['med2'] == "undefined") setTimeout(function(){ _HX_noob('med2'); }, 20000);
									break;
								case 'sergeant':
									_s += 'Вы выиграете, если на дневном голосовании посадите за решетку всех мафиози и маньяка<br/>В случае гибели Комиссара вы автоматически займете его место</p>';
									_HX_noob('ser1');
									if (typeof __hxda['ser2'] == "undefined") setTimeout(function(){ _HX_noob('ser2'); }, 20000);
									break;
								case 'bifacial':
									_s += 'Вы играете на стороне мафии, ваша задача - ночью найти любого мафиози или Босса мафии, который примет вас в ряды мафии. После нахождения, ваша задача меняется, вы получаете оружие и право самостоятельно убивать ночью граждан. Вы выиграете, если убьете всех граждан и маньяка.';
									_HX_noob('bif1');
									if (typeof __hxda['bif2'] == "undefined") setTimeout(function(){ _HX_noob('bif2'); }, 20000);
									break;
								case 'killer':
									_s += 'Вы получили оружие и право самостоятельно убивать ночью граждан! Вы выиграете, если убьете всех граждан и маньяка.';
									_HX_noob('bif8');
									break;
								case 'bigman':
									_s += 'Вы играете на стороне мафии, ваша задача - ночью бить игроков, при этом сила удара всегда случайна, от лёгкого шока до летального исхода. Удары могут: лишить голоса, выбить монеты, заморозить игрока, убить игрока.<br/>Вы выиграете, если убьете всех граждан и маньяка';
									break;
								case 'marko':
									_s += 'Эта роль доступна только во время события «Семья Жирного Тони». Вы играете на стороне семьи Жирного Тони, ваша задача - ночью бить игроков, при этом сила удара всегда случайна. Удары могут лишить голоса, выбить монеты, заморозить игрока или убить игрока. Вы выиграете, если убьете всех граждан, мафию и маньяка';
									break;
								case 'francesca':
									_s += 'Эта роль появляется только во время события «Семья Жирного Тони». Вы играете за семью Жирного Тони против граждан, мафии и маньяка. Ваша задача - ночью ходить к игрокам и искать семью Жирного Тони. После нахождения ваша задача меняется, вы получаете оружие и право самостоятельно убивать ночью игроков.';
									break;
								case 'f_killer':
									_s += 'Вы получили оружие и право самостоятельно убивать ночью игроков!';	
									break;
								case 'rosario':
									_s += 'Эта роль доступна только во время события «Семья Жирного Тони». Вы играете на стороне семьи Жирного Тони, ваша задача - ночью раскрывать роли игроков. По прошествии ночи роль игрока сразу будет раскрыта для всей семьи Жирного Тони. Вы выиграете, если убьете всех граждан, мафию и маньяка';
									break;
								case 'fakecop':
									_s += 'Эта роль доступна только во время Арены «Продажный комиссар». Вы играете за команду мафии, ваша задача - ночью раскрывать роли игроков. По прошествии ночи роль игрока сразу будет раскрыта для всей команды мафии. Вы выиграете, если убьете всех граждан и маньяка';
									break;	
								case 'professor':
									_s += 'Эта роль появляется только во время события «Чокнутый Профессор». Ваша задача - убить всех граждан, мафию и маньяка.';
									break;
								case 'lili':
									_s += 'Эта роль появляется только во время события «Взрывная Лили». Ваша задача - используя супер-силы, убить всех граждан, мафию и маньяка.';
									break;
								case 'golem':
									if (!_SOUND_err) _SOUND_arr['sfx']['golem_morph'].play();
									_s += '<div class="img"><img src="/img/persons/big/'+ k_persons[_p] + _u +'_'+ my_gender +'.png" alt="" /></div><div class="text"><p class="role-name">'+ my_nick +', Вас превратили в  '+ t_persons[_p] +'!</p>';
									_s += 'Теперь вы играете за команду Профессора! Ваша задача - убить всех граждан, мафию и маньяка. Вы - бессмертны! Вас нельзя ни убить, ни посадить, но вы умрёте, как только убьют или посадят Чокнутого Профессора. Голем безмолвен, вы не можете никому написать.';
									break;
								case 'mutant':
									if (!_SOUND_err) _SOUND_arr['sfx']['mutant_morph'].play();
									_s += 'Вы получили новые супер-способности: 1. Вас нельзя убить, только посадить в тюрьму. 2. 50% шанс сбежать из тюрьмы. 3. Ваш ночной ход нельзя остановить маской, комиссаром или доктором.';
									break;
								case 'migel':
									_s += 'Эта роль появляется только во время события «Братья Бандитос». Ваша задача - используя супер-силы и союзников, убить всех граждан, мафию и маньяка.';
									break;
								case 'sancho':
									_s += 'Эта роль появляется только во время события «Братья Бандитос». Ваша задача - используя супер-силы и союзников, убить всех граждан, мафию и маньяка.';
									break;
								case 'bandit':
									_s += 'Братья Бандитос помогли вам сбежать из тюрьмы, и теперь вы сражаетесь на стороне «Братьев Бандитос». Ваша задача - убить всех граждан, мафию и маньяка.';
									break;	
							}
							_s += '</div></div>';
							_s += '<div>'+(_sl == 1 ? '<div class="extra"><div class="img"><img src="/img/extras/162.png" alt="" /></div><div class="text">Поздравляем! Вы выиграли активную роль на аукционе!</div></div>' : (_sl == 2 ? '<div class="extra"><div class="img"><img src="/img/extras/102.png" alt="" /></div><div class="text">Экстра «Активная роль» помогла вам получить роль!</div></div>' : (_sl == 3 ? '<div class="extra"><div class="img"><img src="/img/extras/284.png" alt="" /></div><div class="text">Вы получили роль с помощью экстры «Роль семьи Тони»!</div></div>' : '')));
							if (_sl == 1 || _sl == 2 || _sl == 3){
								if (!_SOUND_err) _SOUND_arr['sfx']['active_role'].play();
							}
						}
						_CHT_add("s", _s);
						if (typeof gam_data['v_left'] != "undefined"){
							var _team = ['', ''];
							var _team_c = [0, 0];
							$.each(gam_data['v_left'], function(_k, _v){
								var data_tip = '<img src=\'/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png\' class=\'hintRoleImg\' alt=\'\' /><div class=\'whoIsLifeText\'><h2>'+ t_persons[_k] +'</h2>'+ GetText.roleHint(k_persons[_k])+'</div>';
								_team[__team_by_person(_k)] += '<li class="role hoverHint" id="whl_role_'+ _k +'" data-tip="'+data_tip+'"><div class="dead'+(parseInt(_v) > 0 ? ' not-displayed' : '')+'"></div><img src="/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png" width="34" height="34" alt="" /><span class="count'+(parseInt(_v) < 2 ? ' not-displayed' : '')+'">'+ _v +'</span></li>' +"\n";
								_team_c[__team_by_person(_k)] += parseInt(_v);
							});
							$(".whoIsLife").html(_team[1] +'<li class="vs"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></li>'+ _team[0]);
						}
						ptip.init('.whoIsLife .hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause'});
						if (typeof gam_data['no_rolebar'] != "undefined" && parseInt(gam_data['no_rolebar'])) { $(".whoIsLife").html('<li class="vs">Арена вслепую: Не виден состав команд</li>'); }
						_GM_action("", "dynamits");
						_GM_action("", "atm_bomb");
						if (_p > 0){
							if (_p == 17) _GM_action("", "tpower");
							if (_p == 35) _GM_action("", "lpower");
							if (_p == 21 || _p == 24 || _p == 34 || _p == 20 || _p == 18 || _p == 40) _GM_action("", "spower", "init");
							if (_p != 3) _GM_action("", "man_abomb");
							_GM_action("", "rvs_dog");
							_GM_action("", "adrenalin");
							_GM_action("", "punish");
							_GM_action("", "safe");
													}
					}
					if (_d && !$("#myExtras").hasClass("disabled")){
						$("#myExtras").addClass("disabled");
					}
					if (_d && !$("#myExtras").hasClass("locked")){
						$("#myExtras").addClass("locked");
					}
					if (_d) _WND_proc("extras", "close");
					if (_d && !$(".bookmarks").hasClass("dead")){
						//$(".bookmarks").addClass("dead");
						$("#gamePage").addClass("dead");
					}
					if (gam_state != "def" && gam_state != "init" && !_d && (_p == 2 || _p == 9 || _p == 26 || _p == 29 || _p == 47)){
						if (!$(".bookmarks").hasClass("maf")){
							$(".bookmarks").addClass("maf");
						}
					}else{
						if ($(".bookmarks").hasClass("maf")){
							$(".bookmarks").removeClass("maf");
						}
					}
					if (gam_state != "def" && gam_state != "init" && !_d && (_p == 21 || _p == 24 || _p == 43 || _p == 35 || _p == 36 || _p == 37 || _p == 38 || _p == 16 || _p == 17 || _p == 30 || _p == 32 || _p == 33 || _p == 41)){
						var __ttl = 'Чат Бандитос';
						if (_p == 35 || _p == 36 || _p == 37 || _p == 38) {
							__ttl = 'Чат Якудза';
						}else if (_p == 16 || _p == 17 || _p == 30 || _p == 32 || _p == 33 || _p == 41){
							__ttl = 'Чат Тони';
						}
						$("#ctn_tab").html(__ttl +' <img src="/img/_.png" />');
						if (!$(".bookmarks").hasClass("ton")){
							$(".bookmarks").addClass("ton");
						}
					}else{
						if ($(".bookmarks").hasClass("ton")){
							$(".bookmarks").removeClass("ton");
						}
					}
					/*if ($(_oo).length){
						$(_oo).html('<img src="/img/persons/big/'+ (_p > 0 ? k_persons[_p] : "unknown") + _u +'_'+ my_gender +'.png" alt="" onload="_PIX_crop(this, 65);" />');
					}*/
					break;
				case "mode":
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					var _sx = (spc_id && !gam_id ? "-spc" : "");
					var _m = (!__data['v_mode'] ? 'night' : 'day');
					var _mr = (_m == 'day' ? 'night' : 'day');
					if (isIE || !$(".game-time-indicator"+ _sx).hasClass(_mr)){
						if ($(".game-time-indicator"+ _sx).hasClass(_mr)){
							$(".game-time-indicator"+ _sx).removeClass(_mr);
							changeDay(_m);
						}
						if (!$(".game-time-indicator"+ _sx).hasClass(_m)){
							$(".game-time-indicator"+ _sx).addClass(_m);
							changeDay(_m);
						}
					}else{
						$(".game-time-indicator"+ _sx).stop().css("opacity", 1).animate({opacity: 0.25}, 200, function(){
							if ($(this).hasClass(_mr)){
								$(this).removeClass(_mr);
								changeDay(_m);
							}
							if (!$(this).hasClass(_m)){
								$(this).addClass(_m);
								changeDay(_m);
							}
							$(this).animate({opacity: 1}, 200);
						});
					}
					_CHT_add((spc_id && !gam_id ? "sp" : "s"), 
						(_m != 'night' ? _GM_ChatBuffer.night() : '')+ 
						'<h1 class="day-night-chg '+ (_m == 'night' ? 'night' : 'day') +'">'+ (_m == 'night' ? 'Наступила' : 'Наступил') +' '+ (__data['v_cycle'] + 1) +' '+ (_m == 'night' ? 'НОЧЬ' : 'ДЕНЬ') +'</h1>'+
						(_m != 'night' ? _GM_ChatBuffer.buf["day"] : _GM_ChatBuffer.buf["mid"])
					);
					if (_m != "night") {
						_GM_ChatBuffer.clear();
						ExtraAnim.remove(251);
						ExtraAnim.remove("mark");
					}else{
						_GM_ChatBuffer.buf["mid"] = '';
						ExtraAnim.remove(224);
						ExtraAnim.remove("chain");
					}
					if (gam_id){
						if (night_frz){
							if (night_frz == 3){
								_CHT_add("s", '<p class="info-msg freeze-txt">Вас лишили ночного хода при помощи эффекта!</p>');
							}else if (night_frz == 2){
								_CHT_add("s", '<p class="info-msg freeze-txt">Вас лишили ночного хода при помощи экстры «Наказание»!</p>');
							}else{
								_CHT_add("s", '<p class="info-msg freeze-txt">Вас лишили ночного хода при помощи супер-силы «Текила»!</p>');
							}
							night_frz = 0;
							pla_data['act'] = -1;
							_GM_action("", "upd", "acts");
							//_GM_action("", "upd", "freeze", 14);
						}
						if (day_frz){
							day_frz = 0;
							pla_data['act'] = -1;
							_GM_action("", "upd", "acts");
						}
						if (__data['v_cycle'] > 0 && !$("#myExtras").hasClass("locked")){
							$("#myExtras").addClass("locked");
						}
						if (__data['v_cycle'] > 0) {
							_WND_proc("extras", "close");
							if (_m == 'night' && !pla_data['dead']){
								switch (pla_data['person']){
									case 1: 
										if (typeof __hxda['cit4'] != "undefined") _HX_noob('cit5');
										if (typeof __hxda['cit3'] != "undefined") _HX_noob('cit4');
										_HX_noob('cit3'); 
										break;
									case 2: 
										if (typeof gam_data['v_left'][2] != "undefined" && parseInt(gam_data['v_left'][2]) >= 2){
											if (typeof __hxda['maf8'] != "undefined") _HX_noob('maf9');
											_HX_noob('maf8'); 
										}else{
											if (typeof __hxda['maf6'] != "undefined") _HX_noob('maf7');
											_HX_noob('maf6');
										}
										break;
									case 3: 
										if (typeof __hxda['man3'] != "undefined") _HX_noob('man4');
										_HX_noob('man3');
										break;
									case 4: 
										if (typeof __hxda['kom3'] != "undefined") _HX_noob('kom4');
										_HX_noob('kom3');
										break;
									case 5: 
										if (typeof __hxda['ser5'] != "undefined") _HX_noob('ser6');
										if (typeof __hxda['ser4'] != "undefined") _HX_noob('ser5');
										if (typeof __hxda['ser3'] != "undefined") _HX_noob('ser4');
										_HX_noob('ser3');
										break;
									case 6: 
										if (typeof __hxda['doc4'] != "undefined") _HX_noob('doc5');
										if (typeof __hxda['doc3'] != "undefined") _HX_noob('doc4');
										_HX_noob('doc3'); 
										break;
									case 7: 
										if (typeof __hxda['med4'] != "undefined") _HX_noob('med5');
										if (typeof __hxda['med3'] != "undefined") _HX_noob('med4');
										_HX_noob('med3'); 
										break;	
									case 8: _HX_noob('ddm3'); break;	
									case 9: 
										if (typeof __hxda['bos4'] != "undefined") _HX_noob('bos5');
										if (typeof __hxda['bos3'] != "undefined") _HX_noob('bos4');
										_HX_noob('bos3'); 
										break;
									case 10: 
										if (typeof __hxda['bth4'] != "undefined") _HX_noob('bth5');
										if (typeof __hxda['bth3'] != "undefined") _HX_noob('bth4');
										_HX_noob('bth3'); 
										break;
									case 11:
										if (typeof __hxda['thf4'] != "undefined") _HX_noob('thf5');
										if (typeof __hxda['thf3'] != "undefined") _HX_noob('thf4');
										_HX_noob('thf3');
										break;
									case 12: 
										if (typeof __hxda['wit3'] != "undefined") _HX_noob('wit4');
										_HX_noob('wit3');
										break;
									case 25: 
										if (typeof __hxda['bif3'] != "undefined") _HX_noob('bif4');
										_HX_noob('bif3');
										break;
									case 26: 
										if (typeof __hxda['bif5'] != "undefined") _HX_noob('bif6');
										_HX_noob('bif5');
										break;
								}
								_GM_action("", "spower", "remove");
							}else if (_m == 'day' && !pla_data['dead']){
								switch (pla_data['person']){
									case 8: _HX_noob('ddm4'); break;
									case 9: _HX_noob('bos6'); break;
								}
								_GM_action("", "lpower", "remove");
								_GM_action("", "tpower", "remove");
							}
						}
					}
					break;
				case "timer":
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					var _t_left = ((__data['v_mode'] ? (__data['fast_timer'] ? 20 : 45) : (__data['fast_timer'] ? 15 :30)) - __data['v_time']);
					if (_t_left < 0 || (!spc_id && gam_id && pla_data['kvt'])) {
						_t_left = 0;
					}
					if(_t_left > 12){
						$("#"+ (spc_id && !gam_id ? "spc" : "gmv") +"_timer").html('В городе '+(__data['v_cycle'] + 1)+' '+(__data['v_mode'] ? 'день' : 'ночь')+'<span class="seconds">'+_t_left+'</span>');
					}else{
						$("#"+ (spc_id && !gam_id ? "spc" : "gmv") +"_timer").html('<span class="seconds lowtime">—— '+_t_left+' ——</span>');
					}
					return _t_left;
					break;
				case "room":
					if (arr != "undefined"){
						var _oo = $("#gpl_timer_b");
						if ($(_oo).length && $(_oo).hasClass("not-displayed") == arr[0]){
							if (arr[0]){
								$(_oo).removeClass("not-displayed");
							}else{
								$(_oo).addClass("not-displayed");
							}
						}
						if (!$("#gpl_start").hasClass("not-displayed") && !arr[0]){
							$("#gpl_start").addClass("not-displayed");
						}
						if ($("#gpl_btn_exit").hasClass("not-displayed") == arr[0]){
							if (arr[0]){
								$("#gpl_btn_exit").removeClass("not-displayed");
								$("#playersQueueBlock").addClass("current");
								$("#roomsListContainer").removeClass("current");
							}else{
								$("#gpl_btn_exit").addClass("not-displayed");
							}
						}
						if (!parseInt(gam_data['league'])){
							$("#gpl_btn_exit").addClass("disabled");
						}else{
							$("#gpl_btn_exit").removeClass("disabled");
						}
						if ($("#gamePage").hasClass("dead")){
							$("#gamePage").removeClass("dead");
						}
						my_rost = 0;
						my_slb = 0;
						if (!parseInt(gam_data['league'])){
							_GM_action("", "are_sale");
						}else{
							_GM_action("", "sale");
						}
					}
					break;
				case "fin":
					_CHT_add("s", _GM_ChatBuffer.night());
					_GM_ChatBuffer.clear();
					if ($(".game-time-indicator").hasClass("night")){
						$(".game-time-indicator").removeClass("night");
					}
					if ($(".game-time-indicator").hasClass("day")){
						$(".game-time-indicator").removeClass("day");
					}
					if (!$("#myExtras").hasClass("disabled")){
						$("#myExtras").addClass("disabled");
					}
					if (!$("#myExtras").hasClass("locked")){
						$("#myExtras").addClass("locked");
					}
					if (dlg_exit_tm) {
						clearTimeout(dlg_exit_tm);
						dlg_exit_tm = null;
					}
					_GM_action("f", "upd", "pp_dh", "dlg_exit");
					_WND_proc("extras", "close");
					_GM_action("", "spower", "remove");
					_GM_action("", "man_abomb", "remove");
					_GM_action("", "atm_bomb", "remove");
					_GM_action("", "dynamits", "remove");
					_GM_action("", "tel_cards", "remove");
					_GM_action("", "rvs_dog", "remove");
					_GM_action("", "adrenalin", "remove");
					_GM_action("", "a_shootout", "remove");
					_GM_action("", "punish", "remove");
					_GM_action("", "safe", "remove");
										_GM_action("", "dynamit", "remove")
					_GM_action("", "lpower", "remove");
					_GM_action("", "tpower", "remove");
					_GM_action("", "pep_bomb", "remove");
					var _f_ttl = '';
					if (typeof gam_data['v_win'] != "undefined"){
						switch (gam_data['v_win']){
							case 1: _f_ttl = 'Победили - граждане'; break;
							case 2: _f_ttl = 'Победила - мафия'; break;
							case 3: _f_ttl = 'Победил - маньяк'; break;
							case 4: _f_ttl = 'Победила - семья Тони'; break;
							case 5: _f_ttl = 'Победил - Потрошитель'; break;
							case 6: _f_ttl = 'Победил - Профессор'; break;
							case 7: _f_ttl = 'Победил - Валентин'; break;
							case 8: _f_ttl = 'Победили - Якудза'; break;
							case 9: _f_ttl = 'Победил - Чёрная Борода'; break;
							case 10: _f_ttl = 'Победила - Взрывная Лили'; break;
							case 11: _f_ttl = 'Победили - Братья Бандитос'; break;
							case 21: _f_ttl = 'Победил - убийца'; break;
							case 22: _f_ttl = 'Победил - убийца'; break;
							case 23: _f_ttl = 'Победил - убийца'; break;
							default: _f_ttl = 'Ничья'; break;
						}
					}
					if (!$("#pp_fin").length && typeof pla_data['win'] != "undefined"){
						var _ttl = '';
						var _lose = false;
						if (!_SOUND_err) _SOUND_arr['music']['game'+ gam_music].stop();
						if (pla_data['person'] == 8){
							_ttl = 'Вы смертник';
						}else{
							if (pla_data['win'][0]){
								_ttl = (pla_data['win'][1] ? 'Вы победили' : _f_ttl);
								if (!_SOUND_err) _SOUND_arr['music']['win'].play();
							}else{
								_ttl = 'Вы проиграли';
								_lose = true;
								if (!_SOUND_err) _SOUND_arr['music']['lose'].play();
							}
						}
						var _awlst = '';
						var _w_am = parseFloat(pla_data['win'][4]);
						if (_w_am != 0){
							var _b = '';
							if (parseFloat(pla_data['win'][7]) > 0) _b += 'монетный бонус: +'+ parseFloat(pla_data['win'][7]) +'<br />';
														_awlst += '<li class="money">'+
								'<span>монеты</span>'+
								'<div'+ (_w_am < 0 ? ' class="minus"' : '') +'>'+ (_w_am > 0 ? '+' : '') + _w_am +'</div>'+
								(_b != '' ? '<em>'+ _b +'</em>' : '')+
							'</li>'+ "\r\n";
						}
						var _w_exp = (Math.floor(parseFloat(pla_data['win'][2]) * 1000) / 1000);
						if (_w_exp > 0){
							var _b = '';
							if (parseFloat(pla_data['win'][11]) > 0) _b += 'за экстры: '+ parseFloat(pla_data['win'][11]) +'<br />';
							if (parseFloat(pla_data['win'][6]) > 0) _b += 'в клан: '+ parseFloat(pla_data['win'][6]) +'<br />';
							_awlst += '<li class="exp">'+
								'<span>опыт</span>'+
								'<div>+'+ _w_exp +'</div>'+
								(_b != '' ? '<em>'+ _b +'</em>' : '')+
							'</li>'+ "\r\n";
						}
						var _w_rt = parseFloat(pla_data['win'][3]);
						var _w_rt_p = parseFloat(pla_data['win'][12]);
						var _rbs = parseInt(pla_data['win'][8]);
						if (!parseInt(gam_data['league']) && !parseInt(pla_data['win'][5])){
							var _w_rt_a = parseFloat(pla_data['win'][13]);
							_awlst += '<li class="rating">'+
								'<span>рейтинг арены</span>'+
								'<div'+ (_w_rt_a < 0 ? ' class="minus"' : '') +'>'+ (_w_rt_a > 0 ? '+' : '') + _w_rt_a +'</div>'+
								'<button id="btn_are_del" onclick="_DLG(\'are_del\');return false" ondblclick="return false" class="cssGreenButton topButton" hidefocus="true">Стереть игру</button>'+
							'</li>'+ "\r\n";
						}else if (_w_rt > 0 || (_w_rt < 0 && _w_rt_p > 0)){
							var _b = '';
							var _re = parseFloat(pla_data['win'][10]);
							if (_re > 0 || _rbs == 1) _b += 'за экстры: '+ (Math.floor(parseFloat((_rbs == 1 && _w_rt > 0 ? ((_w_rt - _re) / 2) : 0) + _re) * 1000) / 1000) +'<br />';
							_awlst += '<li class="rating">'+
								'<span>рейтинг</span>'+
								'<div'+ (_w_rt < 0 ? ' class="minus"' : '') +'>'+ (_w_rt > 0 ? '+' : '') + _w_rt +'</div>'+
								(_b != '' ? '<em>'+ _b +'</em>' : '')+
								(_w_rt > 0 && !$("#gxt_117").length ? '<button onclick="leagueProc(\'popup\', \'booster\');return false" ondblclick="return false" class="cssGreenButton topButton" hidefocus="true">Поднять рейтинг</button>' : '')+
							'</li>'+ "\r\n";
						}
						var _inf = '';
						if (_rbs == 2) _inf += 'Рейтинг бустер спас ваш рейтинг<br />';
						if (parseInt(pla_data['win'][9]) == 1) _inf += 'Вы потеряли рейтинг из-за суицида или смерти от шальной пули<br />';
						if (pla_data['person'] == 8 && !_w_am) _inf += 'Смертник получает монеты только если его посадят на голосовании или убьют ночью<br />';
						$("#popup_container").append('<div id="pp_fin" class="popup-move popupShadowNew finalGamePopup '+ (_lose ? 'lose' : '') +' not-displayed">'+
							'<h1 '+ (_lose ? 'class="lose"' : '') +'>'+ _ttl +'!</h1>'+
							'<ul class="awardsList">'+
							(_awlst != '' ? _awlst : '<li class="none"><span>К сожалению, вы ничего не выиграли</span></li>')+
							'</ul>'+
							(_inf != '' ? '<div class="textInfo">'+ _inf +'</div>' : '')+
							'<div class="alive not-displayed">'+
								'<p>Выстояли в бою:</p>'+
								'<ul class="alive">'+
								'</ul>'+
							'</div>'+
							'<div class="footerButtons texture">'+
								'<button ondblclick="return false" onclick="_GM_action(\'\', \'exit\');'+ (pla_data['win'][0] ? '_SHARE('+ (typeof gam_data['v_win'] != "undefined" ? gam_data['v_win'] : 0) +');' : '') +'return false" class="newButton" hidefocus="true">'+(pla_data['win'][0] ? 'Выйти' : 'Выйти')+'</button>'+
							'</div>'+
							'<a href="#" onclick="$(\'#pp_fin\').hide(\'fade\', 100, function(){$(this).remove(); _CHT_focus();});return false" class="popupClose" hidefocus="true"></a>'+
						'</div>');
						$("#pp_fin").css("left", (parseInt(parseInt($("#rootContainer").outerWidth()) / 2) - parseInt(parseInt($("#pp_fin").outerWidth()) / 2)) +"px");
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "play_with"},
							dataType: "json",
							success: function(data) {
								if (typeof data.arr != "undefined"){
									var _s = '';
									$.each(data.arr, function(_i, _row) {
										_s += '<li ondblclick="return false" onclick="_PRF('+ _row[0] +');return false">'+
											'<div class="photo"><img src="'+ _row[1] +'" alt="" onload="_PIX_crop(this, 40);" class="hidden" /></div>'+
											'<div class="role"><img src="/img/persons/big/'+ (_row[5] > 0 ? k_persons[_row[5]] : 'unknown') + _row[6] +'_'+ _row[4] +'.png" title="'+ (_row[5] > 0 ? t_persons[_row[5]] : '') +'" alt="" /></div>'+
											'<div class="nick">'+ _row[2] +'</div>'+
										'</li>'+ "\r\n";
									});
									$("#pp_fin ul.alive").append(_s);
									$("#pp_fin div.alive").removeClass("not-displayed");
									if (!$("#pp_fin").hasClass("not-displayed")) $("#pp_fin").css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($("#pp_fin").outerHeight()) / 2)) +"px");
								}
							}
						});
						$("#pp_fin").draggable({
							containment: "document",
							cancel: ".newButton,.popupClose",
							zIndex: 100,
							stop: function(){
								$(this).mousedown();
							}
						}).mousedown(function(){
							var _i = $(this).attr("id");
							var _z = _POPUP_resort("popup-move", _i);
							$(this).css("z-index", _z);
						}).show("fade", 100, function(){
							$(this).removeClass("not-displayed");
							$(this).mousedown();
							$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
						});
					}
					$("#gmv_timer").html(_f_ttl);
					$("#gmv_exit").html('Выйти');
					break;
				case "vote_clr":
					var _zf = false;
					var _spc = (spc_id && !gam_id ? 1 : 0);
					if (!_spc){
						if (pla_data['freeze'] != 0){
							if (gam_state == "fin" || ((gam_data['v_mode'] && pla_data['freeze'] != 1 && pla_data['freeze'] != 3 && pla_data['freeze'] != 4 && pla_data['freeze'] != 6 && pla_data['freeze'] != 7 && pla_data['freeze'] != 8 && pla_data['freeze'] != 9 && pla_data['freeze'] != 11 && pla_data['freeze'] != 13) || (!gam_data['v_mode'] && (pla_data['freeze'] == 1 || pla_data['freeze'] == 3 || pla_data['freeze'] == 4 || pla_data['freeze'] == 6 || pla_data['freeze'] == 7 || pla_data['freeze'] == 8 || pla_data['freeze'] == 9 || pla_data['freeze'] == 11 || pla_data['freeze'] == 13)))){
								_zf = true;
							}
						}
					}
					$("#"+ (_spc ? "spc_players" : "upl_list") +" > li").each(function(){
						var _oo = $(this).find(".count");
						if ($(_oo).length && !$(_oo).hasClass("not-displayed")){
							$(_oo).addClass("not-displayed");
							$(_oo).html('0');
						}
						var _oo = $(this).find(".dead");
						if ($(_oo).length && !parseInt($(_oo).attr("label"))){
							var _oo = $(this).find(".hint");
							if ($(_oo).length){
								$(_oo).html('');
							}
						}
						if (_zf){
							var _ab = $(this).find(".actionButton");
							if ($(_ab).length && $(_ab).hasClass("freeze")){
								$(_ab).removeClass("freeze");
							}
						}
					});
					if (!_spc){
						if (pla_data['act'] == -2){
							if (gam_state == "fin" || !gam_data['v_mode']){
								pla_data['act'] = 0;
							}
						}else{
							pla_data['act'] = 0;
						}
						pla_data['kvt'] = 0;
						if (_zf) pla_data['freeze'] = 0;
						$.each(__store_sort, function(_k, _i){ if (__store[_i]){
							var _row = __store[_i];
							if (_row.type == "extra" && _row.action && _row["var"] && (_row["var"] == "uid" || _row["var"] == "uid,m")){
								pla_data['e'+ _i] = 0;
							}
						}});
						_GM_action("f", "upd", "pp_dh", "vte");
						_GM_action("", "upd", "tabs");
						/*if (gam_id && ((gam_state == "play" && !pla_data['dead']) || gam_state == "fin")){
							if ($("#gamePage").hasClass("freeze")){
								$("#gamePage").removeClass("freeze");
								_CHT_action("ich", "block", "none", null);
							}
						}*/
					}
					break;
				case "vote_pad":
					var _vtt = [0, ''];
					var _spc = (spc_id && !gam_id ? 1 : 0);
					$("#"+ (_spc ? "spc_players" : "upl_list") +" > li").each(function(){
						var _id = $(this).attr("id");
						var _oo = $(this).find(".count");
						if ($(_oo).length && !$(_oo).hasClass("not-displayed")){
							var _c = parseInt($(_oo).html());
							if (_c > _vtt[0]){
								_vtt = [_c, _id];
							}else if(_c == _vtt[0]){
								_vtt[1] = '';
							}
						}
					});
					$("#"+ (_spc ? "spc_players" : "upl_list") +" > li").each(function(){
						var _id = $(this).attr("id");
						if (_vtt[1] == _id){
							if (!$(this).hasClass("voteLeader")){
								$(this).addClass("voteLeader");
							}
						}else{
							if ($(this).hasClass("voteLeader")){
								$(this).removeClass("voteLeader");
							}
						}
					});
					break;
				case "freeze":
					if (gam_id && gam_state == "play" && !pla_data['dead']){
						if (pla_data['freeze'] != 1 && pla_data['freeze'] != 3 && pla_data['freeze'] != 4 && pla_data['freeze'] != 6 && pla_data['freeze'] != 7 && pla_data['freeze'] != 8 && pla_data['freeze'] != 9 && pla_data['freeze'] != 14){
							pla_data['freeze'] = arr;
						}
						if (arr == 10 || arr == 11 || arr == 12 || arr == 13) pla_data['freeze'] = arr;
						_GM_action("", "upd", "tabs");
						_GM_action("f", "upd", "pp_dh", "vte");
						//$("#gamePage").addClass("freeze");
						if (!$(".actionButton").hasClass("freeze")){
							$(".actionButton").addClass("freeze");
						}
						//_CHT_action("ich", "block", "disabled", null);
						_GM_action("", "upd", "pvt_dd");
						var _t = '';
						switch (arr){
							case 1: 
								_t = 'Вас заморозил босс мафии до конца игровых суток'; 
								if (!pla_data['dead']){
									switch(pla_data['person']){
										case 1: _HX_noob('cit16'); break;
										case 3: _HX_noob('man11'); break;
										case 4: _HX_noob('kom13'); break;
										case 5: _HX_noob('ser17'); break;
										case 6: _HX_noob('doc16'); break;
										case 7: _HX_noob('med16'); break;
										case 10: _HX_noob('bth16'); break;
										case 11: _HX_noob('thf16'); break;
										case 12: _HX_noob('wit15'); break;
										case 13: _HX_noob('san30'); break;
										case 13: _HX_hint('new28'); break;
									}
								}
								break;
							case 2: _t = 'Вас лишили хода'; break;
							case 3: _t = 'Вас парализовало! Вы не можете писать в чат и голосовать'; break;
							case 4: _t = 'Вас заморозил Жирный Тони до конца игровых суток'; break;
							case 6: _t = 'Марко парализовал вас, лишив возможности голосовать и писать в чат'; break;
							case 8: _t = 'Вы наступили на парализующую ловушку! Вы не можете писать в чат и голосовать'; break;
							case 9: _t = 'Вас заморозила Тётушка Лин до конца игровых суток!'; break;
							case 10:
								if (gam_data['v_mode']){
									_GM_ChatBuffer.add("mid", '<p class="info-msg freeze-txt">Вас парализовал Чёрная Борода!</p>');
								}else{
									_t = 'Вас парализовал Чёрная Борода';
								}
								break;
							case 11:
								if (gam_data['v_mode']){
									_GM_ChatBuffer.add("mid", '<p class="info-msg freeze-txt">Вас парализовал «Вирус страха»!</p>');
								}else{
									_t = 'Вас парализовал «Вирус страха»';
								}
								break;
							case 12:
							case 13:
								_t = 'Вас заморозила «Цепная заморозка»';
								break;
							case 14:
								_t = 'Вы лишены ночного хода';
								break;
						}
						if (_t != '') _CHT_add("s", '<p class="info-msg freeze-txt">'+ _t +'!</p>');
					}
					break;
				case "pvt_dd":
					$(".private-popup").each(function(){
						var _id = $(this).attr("id");
						var _ii = _id.substr(4);
						var _b = "none";
						if ($("#upl_"+ _ii).length){
							if (gam_id && gam_state == "play"){
								var _d = parseInt($("#upl_"+ _ii).find(".dead").attr("label"));
								_b = ((pla_data['dead'] && !_d) || (!pla_data['dead'] && _d) ? "disabled" : "none");
								if (_b == "none" && !pla_data['dead'] && (pla_data['kvt'] || pla_data['freeze'] == 1 || pla_data['freeze'] == 3 || pla_data['freeze'] == 4 || pla_data['freeze'] == 6 || pla_data['freeze'] == 7 || pla_data['freeze'] == 8 || pla_data['freeze'] == 9 || pla_data['freeze'] == 10 || pla_data['freeze'] == 11 || pla_data['freeze'] == 12 || pla_data['freeze'] == 13 || pla_data['freeze'] == 14)){
									_b = "disabled";
								}
							}
						}
						_CHT_action(_id, "block", _b, null);
					});
					break;
				case "pp_dd":
				case "pp_dh":
				case "pp_de":
					if (arr && arr != ""){
						if (val == "pp_de"){
							var _r = false;
							$("."+ arr +"-popup").each(function(){
								$(this).remove();
								_r = true;
							});
							if (_r && obj == "f") _CHT_focus();
						}else if ($("#pp_"+ arr).length){
							if (val == "pp_dd"){
								$("#pp_"+ arr).remove();
								if (obj == "f") _CHT_focus();
							}else{
								$("#pp_"+ arr).hide("fade", 100, function(){
									$(this).remove();
									if (obj == "f") _CHT_focus();
								});
							}
						}
					}
					break;
			}
			break;
		case "do":
			switch (val){
				case "create":
					if (!gam_id && typeof arr != "undefined"){
						_WND_proc("spectate", "close");
						gam_data['owner']    = arr[2];
						gam_data['players']  = arr[3];
						gam_data['league']   = arr[4];
						gam_data['bet']      = arr[5];
						gam_data['sstamp']   = arr[6];
						gam_data['hardcore'] = parseInt(arr[10]);
						gam_iscripter        = arr[1];
						gam_state            = "def";
						gam_id               = arr[0];
						_IFACE_do("mode", {m: "room", id: arr[0], uts: arr[8]});
						var gpl_a = arr[7];
						gpl_a.push([my_id, my_nick, my_gender, my_gift, [my_gold_prf, my_clan, my_phs, 0], 0]);
						$.each(gpl_a, function(_i, _row) {
							_UL_add("gpl", _row);
							_UL_add("upl", _row);
						});
						if (ifc_mode == "room"){
							_UL_action("gpl", "count");
						}
					}
					break;
				case "drop":
					SMU_update = -1;
					if (SMU_check_tf){
						clearTimeout(SMU_check_tm);
						SMU_check_tm = null;
						SMU_check_tf = false;
					}
					var _id = gam_id;
					if (_id && typeof arr != "undefined"){
						gam_id        = 0;
						gam_state     = "";
						gam_iscripter = 0;
						gam_data      = [];
						pla_data      = [];
						_IFACE_do("mode", {m: "chat", id: _id, uts: arr[0]});
					}
					break;
				case "person":
					var _spc = (spc_id && !gam_id ? 1 : 0);
					if (gam_id || _spc){
						if (arr[0] == my_id && parseInt(arr[1]) > 0 && !_spc){
							pla_data['person'] = parseInt(arr[1]);
							pla_data['sale_w'] = (typeof arr[5] != "undefined" ? arr[5] : 0);
							pla_data['figure'] = arr[2];
						}
						if ($("#upl_" + arr[0]).length){
							var _oo = $("#upl_" + arr[0]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+ (parseInt(arr[1]) > 0 ? k_persons[parseInt(arr[1])] : "unknown") + arr[2] +"_"+ arr[3] +".png)");
								$(_oo).attr("title", t_persons[parseInt(arr[1])]);
								$(_oo).attr("label", arr[1]);
							}
							if (arr[0] != my_id){
								var _oo = $("#upl_" + arr[0]).find(".actions");
								if ($(_oo).length){
									$(_oo).attr("label", (typeof arr[4] != "undefined" ? arr[4] : ''));
									$(_oo).children("img").attr("src", "/images/icons/letter" + ($(_oo).attr("label") != '' ? "-maf" : "") + ".png");
									if ($(_oo).attr("label") != ''){
										if ($(_oo).hasClass("off")){
											$(_oo).removeClass("off");
										}
									}else{
										if (!$(_oo).hasClass("off")){
											$(_oo).addClass("off");
										}
									}
								}
							}
						}
					}
					break;
				case "dead":
					var _spc = (spc_id && !gam_id ? 1 : 0);
					if (gam_id || _spc){
						if (arr[0] == my_id && !_spc){
							pla_data['dead'] = parseInt(arr[4]);
							pla_data['kvt'] = 0;
							pla_data['freeze'] = 0;
							var _s = '';
							if (pla_data['dead'] > 1){
								_s = '<p class="info-msg dead-txt">К сожалению, '+(pla_data['dead'] == 2 ? 'Вас убили' : 'Вас посадили')+'!</p>';
								switch (pla_data['person']){
									case 1: if (pla_data['dead'] == 2){ _HX_noob('cit18'); }else{ _HX_noob('cit19'); } break;
									case 2: if (pla_data['dead'] == 2){ _HX_noob('maf19'); }else{ _HX_noob('maf20'); } break;
									case 3: if (pla_data['dead'] == 2){ _HX_noob('man14'); }else{ _HX_noob('man15'); } break;
									case 4: if (pla_data['dead'] == 2){ _HX_noob('kom17'); }else{ _HX_noob('kom18'); } break;
									case 5: if (pla_data['dead'] == 2){ _HX_noob('ser19'); }else{ _HX_noob('ser20'); } break;
									case 6: if (pla_data['dead'] == 2){ _HX_noob('doc20'); }else{ _HX_noob('doc21'); } break;
									case 7: if (pla_data['dead'] == 2){ _HX_noob('med18'); }else{ _HX_noob('med19'); } break;
									case 9: if (pla_data['dead'] == 2){ _HX_noob('bos11'); }else{ _HX_noob('bos12'); } break;
									case 10: if (pla_data['dead'] == 2){ _HX_noob('bth18'); }else{ _HX_noob('bth19'); } break;
									case 11: if (pla_data['dead'] == 2){ _HX_noob('thf18'); }else{ _HX_noob('thf19'); } break;
									case 12: if (pla_data['dead'] == 2){ _HX_noob('wit17'); }else{ _HX_noob('wit18'); } break;
									case 25: 
									case 26: if (pla_data['dead'] == 2){ _HX_noob('bif20'); }else{ _HX_noob('bif21'); } break;
								}
							}else if (pla_data['dead'] == 1){
								_s = '<p class="info-msg dead-txt">Вы покойник!</p>';
							}
							if (pla_data['dead']){
								var _sd = '<p class="end-msg"><b>Скажите что-нибудь перед смертью! Воспользуйтесь «<a href="#" onclick="_DLG(\'lword\');return false" hidefocus="true">Последним словом</a>»</b></p>';
								_s += _sd;
								$("#gamePage").addClass("dead");
								
								if (!$("#myExtras").hasClass("disabled")){
									$("#myExtras").addClass("disabled");
								}
								if (!$("#myExtras").hasClass("locked")){
									$("#myExtras").addClass("locked");
								}
								if ($(".bookmarks").hasClass("maf")){
									$(".bookmarks").removeClass("maf");
									$("#cmf_log").divAutoScroll("clear");
								}
								if ($(".bookmarks").hasClass("ton")){
									$(".bookmarks").removeClass("ton");
									$("#ctn_log").divAutoScroll("clear");
								}
								if (!$(".bookmarks").hasClass("dead")){
									$(".bookmarks").addClass("dead");						
									$("#gamePage").addClass("dead");
								}
								$("#gmv_exit").html('Выйти');
								_WND_proc("extras", "close");
								$("#chatContainer").find(".smiles li.last-word:.not-displayed").removeClass("not-displayed").prev().addClass("not-displayed");
								_GM_action("", "spower", "remove");
								_GM_action("", "man_abomb", "remove");
								_GM_action("", "atm_bomb", "remove");
								//_GM_action("", "tel_cards", "remove");
								_GM_action("", "punish", "remove");
								_GM_action("", "safe", "remove");
								_GM_action("", "rvs_dog", "remove");
								_GM_action("", "adrenalin", "remove");
								_GM_action("", "a_shootout", "remove");
								_GM_action("", "dynamit", "remove");
																if ($("#pp_dynamits").length) $("#pp_dynamits button").addClass("disabledGrayscale");
								_GM_action("", "lpower", "remove");
								_GM_action("", "tpower", "remove");
								if (typeof pla_data['person'] != "undefined" && pla_data['person'] == 34){
									if (pla_data['act']) pla_data['act'] = 0;
								}
							}
							_CHT_add("s", _s);
							//$(".who-iam").html('Вы - '+ (pla_data['dead'] == 3 ? 'за решеткой' : 'покойник') +'!');
							_GM_action("", "upd", "tabs");
							_GM_action("", "upd", "pp_dh", "vte");
							_GM_action("", "upd", "acts");
							_GM_action("", "upd", "pvt_dd");
							_GM_action("", "upd", "pp_dd", "extras");
							_GM_action("", "upd", "pp_dd", "dlg_exit");
						}
						if ($("#upl_" + arr[0]).length){
							var _oo = $("#upl_" + arr[0]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+(arr[3] > 0 ? k_persons[arr[3]] : "unknown") + (arr[6] ? arr[6] : '')+ "_"+ arr[2] +".png)");
								$(_oo).attr("title", t_persons[arr[3]]);
								$(_oo).attr("label", arr[3]);
							}
							var _oo = $("#upl_" + arr[0]).find(".noSpeak");
							if ($(_oo).length && !$(_oo).hasClass("not-displayed")){
								$(_oo).addClass("not-displayed");
							}
							var _oo = $("#upl_" + arr[0]).find(".name");
							if ($(_oo).length && !$(_oo).hasClass("ndead")){
								$(_oo).addClass("ndead");
							}
							if (!_spc) {
								ExtraAnim.remove('', arr[0]);
								ExtraEff.remove('all');
							}
							var _oo = $("#upl_" + arr[0]).find(".ico");
							if ($(_oo).length && !$(_oo).hasClass("idead")){
								$(_oo).addClass("idead");
							}
							var _oo = $("#upl_" + arr[0]).find(".hint");
							if ($(_oo).length){
								$(_oo).html(arr[4] == 3 ? 'за решеткой' : 'покойник');
							}
							var _oo = $("#upl_" + arr[0]).find(".count");
							if ($(_oo).length){
								if (!$(_oo).hasClass("not-displayed")){
									$(_oo).addClass("not-displayed");
								}
								$(_oo).html('0');
								_GM_action("", "upd", "vote_pad");
							}
							var _oo = $("#upl_" + arr[0]).find(".actionButton");
							if ($(_oo).length && !$(_oo).hasClass("off")){
								$(_oo).addClass("off");
							}
							var _oo = $("#upl_" + arr[0]).find(".dead");
							if ($(_oo).length){
								$(_oo).attr("label", parseInt(arr[4]));
								if ($(_oo).hasClass("not-displayed")){
									$(_oo).removeClass("not-displayed");
								}
							}
							if (arr[0] != my_id && !_spc){
								var _oo = $("#upl_" + arr[0]).find(".actions");
								if ($(_oo).length && $(_oo).attr("label") != ''){
									$(_oo).attr("label", '');
									$(_oo).children("img").attr("src", "/images/icons/letter.png");
									if (!$(_oo).hasClass("off")){
										$(_oo).addClass("off");
									}
								}
								_GM_action("", "upd", "pvt_dd");
							}
							if (!_spc) {
								if (arr[4] == 3){
									_GM_action("", "upd", "reanim_j", arr[0]);
								}else{
									_GM_action("", "upd", "reanim", arr[0]);
								}
								if (typeof gam_data['punish'] != "undefined" && arr[0] == gam_data['punish'][1]) _GM_action("", "punish", "remove");
							}
						}
						try{
							var _vpi = parseInt(arr[3]);
							if (_vpi == 8) _vpi = 1;
							var __data = (spc_id && !gam_id ? spc_data : gam_data);
							if (typeof __data['v_left'][_vpi] != "undefined" && parseInt(__data['v_left'][_vpi]) > 0){
								if (spc_id && !gam_id){
									spc_data['v_left'][_vpi] --;
								}else{
									gam_data['v_left'][_vpi] --;
								}
								var __data = (spc_id && !gam_id ? spc_data : gam_data);
								if ($("#whl_role_"+ _vpi).length){
									if ($("#whl_role_"+ _vpi).hasClass("off")) $("#whl_role_"+ _vpi).removeClass("off");
									$("#whl_role_"+ _vpi +" .count").html(__data['v_left'][_vpi]);
									if (__data['v_left'][_vpi] < 2){
										if (!$("#whl_role_"+ _vpi +" .count").hasClass("not-displayed")) $("#whl_role_"+ _vpi +" .count").addClass("not-displayed");
									}
									if (__data['v_left'][_vpi] < 1){
										if ($("#whl_role_"+ _vpi +" .dead").hasClass("not-displayed")) $("#whl_role_"+ _vpi +" .dead").removeClass("not-displayed");
									}
									if (_vpi == 2 || _vpi == 3 || _vpi == 9 || _vpi == 14 || _vpi == 16 || _vpi == 17 || _vpi == 25 || _vpi == 26 || _vpi == 29 || _vpi == 30 || _vpi == 31 || _vpi == 32 || _vpi == 33 || _vpi == 34 || _vpi == 18 || _vpi == 19 || _vpi == 20 || _vpi == 35 || _vpi == 36 || _vpi == 37 || _vpi == 38 || _vpi == 40 || _vpi == 41 || _vpi == 21 || _vpi == 24 || _vpi == 43 || _vpi == 44 || _vpi == 45 || _vpi == 46 || _vpi == 47){
										var _c = parseInt($("#whl_t0").html());
										_c --;
										if (_c < 0) _c = 0;
										$("#whl_t0").html('' + _c);
									}else{
										var _c = parseInt($("#whl_t1").html());
										_c --;
										if (_c < 0) _c = 0;
										$("#whl_t1").html('' + _c);
									}
								}
							}
						}catch(e){
						}
						if (!_spc) _UL_action("upl", "count");
					}
					break;
				case "spc_state":
					if (spc_id){
						if (arr[0] == "mode"){
							spc_data['v_time']  = arr[2];
							spc_data['v_mode']  = arr[1];
							spc_data['v_cycle'] = arr[3];
							_GM_action("", "upd", "vote_clr");
							_GM_action("", "upd", "pp_dd", "extras");
							_GM_action("", "upd", "mode");
							_GM_action("", "upd", "timer");
						}else if (arr[0] == "fin"){
							_CHT_add("sp", _GM_ChatBuffer.night());
							_GM_ChatBuffer.clear();
							spc_state = arr[0];
							_GM_action("", "upd", "vote_clr");
							_GM_action("", "upd", "pp_dd", "extras");
							var _f = '';
							if ($(".game-time-indicator-spc").hasClass("night")) $(".game-time-indicator-spc").removeClass("night");
							if ($(".game-time-indicator-spc").hasClass("day")) $(".game-time-indicator-spc").removeClass("day");
							if (typeof arr[1] != "undefined"){
								_f = 'Ничья';
								switch (arr[1]){
									case 1: _f = 'Победили - граждане'; break;
									case 2: _f = 'Победила - мафия'; break;
									case 3: _f = 'Победил - маньяк'; break;
									case 4: _f = 'Победила - семья Тони'; break;
									case 5: _f = 'Победил - Потрошитель'; break;
									case 6: _f = 'Победили - зомби'; break;
									case 7: _f = 'Победил - Валентин'; break;
									case 8: _f = 'Победили - Якудза'; break;
									case 9: _f = 'Победил - Чёрная Борода'; break;
									case 10: _f = 'Победила - Взрывная Лили'; break;
									case 11: _f = 'Победили - Братья Бандитос'; break;
									case 21: _f = 'Победил - убийца'; break;
									case 22: _f = 'Победил - убийца'; break;
									case 23: _f = 'Победил - убийца'; break;
								}
								_f = 'Игра окончена! '+ _f;
							}
							$("#spc_timer").html(_f);
							spc_wnd_tm = setTimeout(function(){
								_WND_proc("spectate", "close");
							}, 60000);
						}
					}
					break;
				case "state":
					SMU_update = -1;
					if (SMU_check_tf){
						clearTimeout(SMU_check_tm);
						SMU_check_tm = null;
						SMU_check_tf = false;
					}
					var _id = gam_id;
					if (_id){
						if (arr[0] == "mode"){
							// todo seq
							gam_data['sp'] = 0;
							gam_data['v_time']  = arr[2];
							gam_data['v_mode']  = arr[1];
							gam_data['v_cycle'] = arr[3];
							_GM_action("", "upd", "vote_clr");
							_GM_action("", "upd", "acts");
							_GM_action("", "upd", "pvt_dd");
							_GM_action("", "upd", "pp_dd", "extras");
							_GM_action("", "upd", "mode");
							_GM_action("", "upd", "timer");
						}else if (gam_state != arr[0]){
							gam_state = arr[0];
							switch (arr[0]){
								case "init":
									gam_data['players'] = arr[1];
									gam_data['sale_t'] = arr[2];
									if (!parseInt(gam_data['league'])){
										gam_data['sale_p'] = arr[3];
										gam_data['sale_b'] = [0, 0, 0, 0, 0];
									}else{
										gam_data['sale_p'] = (parseInt(arr[3]) == 99 ? (my_gender == 'f' ? 10 : 11) : parseInt(arr[3]));
										gam_data['sale_b'] = 0;
									}
									gam_data['no_exts'] = parseInt(arr[4][0]);
									gam_data['no_rolebar'] = parseInt(arr[4][1]);
									gam_data['fast_timer'] = parseInt(arr[4][2]);
									_UL_action("gpl", "count");
									RPX_destroy("rc"+ RC_node);
									_GM_action("", "upd", "room", [false]);
									var _l = parseInt($("#gpl_list > li").length);
									if (_l < arr[1]){
										var _ids = [];
										$("#gpl_list > li").each(function(){
											_ids.push($(this).children("span").attr("id").substring(4));
										});
										$.ajax({
											async: true,
											cache: false,
											type: "POST",
											url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
											data: {method: "smu_late", m: "init", ids: _ids},
											dataType: "json",
											success: function(data) {
												if (typeof data.arr != "undefined") {
													$.each(data.arr, function(_i, _row) {
														_UL_add("gpl", _row);
														_UL_add("upl", _row);
													});
													_UL_action("gpl", "count");
												}
												if (typeof data.pids != "undefined") {
													for (var _ps = 0; _ps < data.pids.length; _ps++) {
														var _idx = 0;
														$("#upl_list > li").each(function(){
																var _ii = $(this).attr("id").substr(4);
																if (data.pids[_ps] == _ii) {
																	if (_idx != _ps) {
																		if (_ps > 0) {
																			$(this).insertAfter($('#upl_'+data.pids[_ps-1]));
																		} else {
																			$(this).insertBefore($('#upl_'+data.pids[1]));
																		}
																	}
																	return false;
																}
																_idx++;
														});														
													}
												}
											}
										});
									}
									if (!_SOUND_err) _SOUND_arr['sfx']['play'].play();
									break;
								case "play":
									gam_data['v_time'] = 20; // gcap
									gam_data['v_mode'] = 0;
									gam_data['v_cycle'] = 0;
									gam_data['v_left'] = arr[1];
									if (typeof pla_data['person'] != "undefined"){
										_IFACE_do("mode", {m: "game", id: _id});
									}else{
										PAGE_goto("");
									}
									break;
								case "fin":
									if (!_SOUND_err) _SOUND_arr['music']['game'+ gam_music].stop();
									gam_data['v_win'] = arr[1];
									_GM_action("", "upd", "vote_clr");
									_GM_action("", "upd", "acts");
									_GM_action("", "upd", "pvt_dd");
									_GM_action("", "upd", "pp_dd", "extras");
									if (typeof pla_data['win'] != "undefined"){
										_GM_action("", "upd", "fin");
									}else{
										$.ajax({
											async: true,
											cache: false,
											type: "POST",
											url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
											data: {method: "smu_late", m: "fin"},
											dataType: "json",
											success: function(data) {
												if (typeof data.arr != "undefined") pla_data['win'] = data.arr;
												_GM_action("", "upd", "fin");
											}
										});
									}
									break;
							}
						}
					}
					break;
			}
			break;
	}
}

</script>
<script type="text/javascript">

function _DO_event(arr){

	var _spc = (spc_id && !gam_id ? 1 : 0);
	if (gam_id || _spc){
		var _s = '';
		var _dd = null;
		switch (arr[0]){
			case __ge['VTE_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
					_GM_action("", "upd", "x2chk");
					_GM_action("", "upd", "pp_dd", "extras");
				}
				if ($("#upl_" + arr[3]).length && !parseInt($("#upl_" + arr[3]).find(".dead").attr("label"))){
					var _oo = $("#upl_" + arr[3]).find(".hint");
					if ($(_oo).length){
						$(_oo).html('против: '+ arr[2]);
					}
				}
				if ($("#upl_" + arr[1]).length){
					var _v = parseInt(arr[5]);
					var _oo = $("#upl_" + arr[1]).find(".count");
					if ($(_oo).length && _v > 0){
						$(_oo).html(_v);
						if ($(_oo).hasClass("not-displayed")){
							$(_oo).removeClass("not-displayed");
						}
						_GM_action("", "upd", "vote_pad");
					}
				}
				_s = '<p class="vote-act">'+_PL_nick(arr[3], arr[4], 'nick')+' <em>голосует против</em> '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (arr[1] == my_id && !_spc) {
					_GM_action("", "upd", "zgchk");
				}else if (arr[3] == my_id && !_spc){
					_GM_action("", "upd", "zgchk");
				}
				break;
			case __ge['VTE_CNT']:
				if ($("#upl_" + arr[1]).length){
					var _oo = $("#upl_" + arr[1]).find(".count");
					if ($(_oo).length){
						var _v = parseInt(arr[2]);
						if (!_v){
							if (!$(_oo).hasClass("not-displayed")){
								$(_oo).addClass("not-displayed");
							}
						}
						$(_oo).html(_v);
						_GM_action("", "upd", "vote_pad");
					}
				}
				break;
			case __ge['VTE_INF']:
				_s = '<p class="jail">'+_PL_nick(arr[1], arr[2], 'nick')+' подозревается в пособничестве мафии!</p>';
				break;
			case __ge['VTE_KLL']:
				if (!_spc){
					pla_data['kvt'] = arr[1];
					if (typeof arr[2] == "undefined"){
						if (my_id != pla_data['kvt']){
							_GM_action("", "vote", 0, [0, 0]);
						}else{
							_GM_action("f", "upd", "pp_dh", "vte");
						}
						_GM_action("", "upd", "acts");
					}
					_GM_action("", "upd", "pvt_dd");
					_GM_action("", "upd", "pp_dd", "extras");
					if (!_SOUND_err) _SOUND_arr['sfx']['vote_kill'].play();
				}
				break;
			case __ge['VTE_KVT']:
				_s = '<p class="jail">'+ (typeof gam_data['sp'] != "undefined" && gam_data['sp'] == arr[1] ? 'Под действием психоза: ' : '') + _PL_nick(arr[3], arr[4], 'nick')+' '+(arr[5] == 2 ? '<span class="for">надо приговорить</span>' : '<span class="against">надо оправдать</span>')+' '+_PL_nick(arr[1], arr[2], 'nick')+(arr[8] == 2 ? '  &nbsp;( <b>талант/усиление x2</b> )' : '')+' <em>&nbsp; / &nbsp; '+(arr[7] > arr[6] ? '<b>' : '')+'приговорить: '+arr[7]+(arr[7] > arr[6] ? '</b>' : '')+' &nbsp; '+(arr[7] < arr[6] ? '<b>' : '')+'оправдать: '+arr[6]+(arr[7] < arr[6] ? '</b>' : '')+'</em> </p>';
				break;
			case __ge['VTE_JAIL']:
				_s = '<p><span class="vote-jail" style="font-weight: bold">Граждане посадили за решетку '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</span><br/>'+(arr[4] != 2 && arr[4] != 3 && arr[4] != 9 && arr[4] != 14 && arr[4] != 16 && arr[4] != 17 && arr[4] != 18 && arr[4] != 19 && arr[4] != 20 && arr[4] != 21 && arr[4] != 24 && arr[4] != 25 && arr[4] != 26 && arr[4] != 29 && arr[4] != 30 && arr[4] != 31 && arr[4] != 32 && arr[4] != 33 && arr[4] != 34 && arr[4] != 35 && arr[4] != 36 && arr[4] != 37 && arr[4] != 38 && arr[4] != 40 && arr[4] != 41 && arr[4] != 43 && arr[4] != 44 && arr[4] != 45 && arr[4] != 46 && arr[4] != 47 ? 'В этот раз мы ошиблись... Надо быть поосторожней, иначе мафиози захватят власть в городе' : 'В этот раз правосудие восторжествовало')+'<p>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['VTE_RECO']:
				_s = '<p class="vote-reco">Игрок '+_PL_nick(arr[1], arr[2], 'nick')+' был оправдан</p>';
				break;
			case __ge['VTE_RND']:
				switch (parseInt(arr[7])){
					case 1:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/161.png" alt="" /></div><div class="text">'+_PL_nick(arr[8], arr[9], 'nick')+' использовал экстру «Боксёрские перчатки» и победил игрока '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</div></div>';
						if (arr[8] == my_id){
							_GM_action("gxt", "exts", "set", [161]);
							_GM_action("exl", "exts", "upd", [161]);
						}
						break;
					case 2:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/161.png" alt="" /></div><div class="text">Оба игрока использовали экстру «Боксёрские перчатки», '+_PL_nick(arr[8], arr[9], 'nick')+' победил игрока '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</div></div>';
						if (arr[8] == my_id || arr[1] == my_id){
							_GM_action("gxt", "exts", "set", [161]);
							_GM_action("exl", "exts", "upd", [161]);
						}
						break;
					case 3:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/201.png" alt="" /></div><div class="text">'+_PL_nick(arr[8], arr[9], 'nick')+' использовал экстру «Кастет» и победил игрока '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</div></div>';
						if (arr[8] == my_id){
							_GM_action("gxt", "exts", "set", [201]);
							_GM_action("exl", "exts", "upd", [201]);
						}
						break;
					case 4:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/201.png" alt="" /></div><div class="text">Оба игрока использовали экстру «Кастет», '+_PL_nick(arr[8], arr[9], 'nick')+' победил игрока '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</div></div>';
						if (arr[8] == my_id || arr[1] == my_id){
							_GM_action("gxt", "exts", "set", [201]);
							_GM_action("exl", "exts", "upd", [201]);
						}
						break;	
					default:
						_s = '<p class="death-msg">Во время голосования между гражданами завязалась драка, в которой убили '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>';
						if (pla_data['person'] == 3 && !pla_data['dead'] && arr[1] != my_id) _HX_noob('man13');
						break;
				}
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[10]];
				break;
			case __ge['VTE_SACT']:
				pla_data['act'] = -1;
				_GM_action("", "upd", "acts");
				break;

			case __ge['MAF_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if ($("#upl_" + arr[3]).length && !parseInt($("#upl_" + arr[3]).find(".dead").attr("label"))){
					var _oo = $("#upl_" + arr[3]).find(".hint");
					if ($(_oo).length){
						$(_oo).html('против: '+ arr[2]);
					}
				}
				if ($("#upl_" + arr[1]).length){
					var _v = parseInt(arr[5]);
					var _oo = $("#upl_" + arr[1]).find(".count");
					if ($(_oo).length && _v > 0){
						$(_oo).html(_v);
						if ($(_oo).hasClass("not-displayed")){
							$(_oo).removeClass("not-displayed");
						}
						_GM_action("", "upd", "vote_pad");
					}
				}
				_s = '<p class="night-r-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Думаю нужно убить '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['mafiosos'].play();
				break;
			case __ge['MAF_INF']:
				if ((pla_data['person'] != 2 && pla_data['person'] != 9 && pla_data['person'] != 26 && pla_data['person'] != 29 && pla_data['person'] != 47) || pla_data['dead']){
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if (!__data['no_rolebar']){
						_s = '<p class="night-turn">Один из мафиози выбрал гражданина для убийства</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['mafiosos'].play();
					}
				}
				if (!_spc && gam_iscripter && SMU_update == -1 && !SMU_check_tf){
					SMU_update = 1;
				}
				break;
			case __ge['MAF_MISS']:
				//_s = '<p class="info-msg">Сегодня мафия так и не определились, кого следует убить</p>';
				if (!pla_data['dead'] && pla_data['person'] == 2) _HX_noob('maf12');
				break;
			case __ge['MAF_KILL']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/mafiosos_'+ my_gender +'.png" class="miniRole" />Мафиози убили '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>');
				}
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				if (!_spc && k_persons[arr[4]] == 'commisar' && !pla_data['dead'] && !pla_data['freeze'] && typeof gam_data['v_left'][5] == "undefined"){
					switch(pla_data['person']){
						case 1: _HX_noob('cit15'); break;
						case 6: _HX_noob('doc15'); break;
						case 7: _HX_noob('med15'); break;
						case 10: _HX_noob('bth15'); break;
						case 11: _HX_noob('thf15'); break;
						case 12: _HX_noob('wit14'); break;
					}
				}
				if (!pla_data['dead'] && pla_data['person'] == 2){
					if (typeof __hxda['maf10'] != "undefined") _HX_noob('maf11');
					_HX_noob('maf10');
				}
				break;
				
			case __ge['BGM_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if ($("#upl_" + arr[3]).length && !parseInt($("#upl_" + arr[3]).find(".dead").attr("label"))){
					var _oo = $("#upl_" + arr[3]).find(".hint");
					if ($(_oo).length){
						$(_oo).html('против: '+ arr[2]);
					}
				}
				if ($("#upl_" + arr[1]).length){
					var _v = parseInt(arr[5]);
					var _oo = $("#upl_" + arr[1]).find(".count");
					if ($(_oo).length && _v > 0){
						$(_oo).html(_v);
						if ($(_oo).hasClass("not-displayed")){
							$(_oo).removeClass("not-displayed");
						}
						_GM_action("", "upd", "vote_pad");
					}
				}
				_s = '<p class="night-r-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду бить '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['marko'].play();
				break;
			case __ge['BGM_INF']:
				if ((pla_data['person'] != 2 && pla_data['person'] != 9 && pla_data['person'] != 26 && pla_data['person'] != 29 && pla_data['person'] != 47) || pla_data['dead']){
					_s = '<p class="night-turn">Громила пошёл бить игрока</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['marko'].play();
				}
				if (!_spc && gam_iscripter && SMU_update == -1 && !SMU_check_tf){
					SMU_update = 1;
				}
				break;
			case __ge['BGM_RES']:
				switch(arr[1]){
					case 0: _s = '<p class="night-msg">Громила нанёс игроку лёгкий удар, лишив возможности голосовать днём</p>'; break;
					case 1: _s = '<p class="night-msg">Громила нанёс игроку мощный удар в голову, тем самым полностью парализовав его</p>'; break;
					case 2: _s = '<p class="night-msg">Громила взял игрока на испуг и отобрал '+ arr[2] +' монет'; break;
				}
				break;
			case __ge['BGM_RES_DO']:
				if (!_spc){
					switch(arr[1]){
						case 0:
							_s = '<p class="warn-msg">Громила лишил вас возможности голосовать днём</p>';
							pla_data['act'] = -2;
							_GM_action("", "upd", "acts");
							break;
						case 1: 
							_GM_action("", "upd", "freeze", 6);
							break;
						case 2:
							var _am = parseFloat($(".profileBlock").find("span.moneyBalance").html());
							_am -= parseFloat(arr[2]);
							$(".profileBlock").find("span.moneyBalance").html(Math.floor(_am));
							_s = '<p class="warn-msg">Громила отобрал у вас '+ arr[2] +' монет';
							break;	
					}
				}
				break;
			case __ge['BGM_KILL']:
				_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/bigman_'+ my_gender +'.png" class="miniRole" />Громила до смерти избил '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>');
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
				
			case __ge['KIL_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if ($("#upl_" + arr[3]).length && !parseInt($("#upl_" + arr[3]).find(".dead").attr("label"))){
					var _oo = $("#upl_" + arr[3]).find(".hint");
					if ($(_oo).length){
						$(_oo).html('против: '+ arr[2]);
					}
				}
				if ($("#upl_" + arr[1]).length){
					var _v = parseInt(arr[5]);
					var _oo = $("#upl_" + arr[1]).find(".count");
					if ($(_oo).length && _v > 0){
						$(_oo).html(_v);
						if ($(_oo).hasClass("not-displayed")){
							$(_oo).removeClass("not-displayed");
						}
						_GM_action("", "upd", "vote_pad");
					}
				}
				_s = '<p class="night-r-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Ночью убью '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['bifacial_maf'].play();
				break;
			case __ge['KIL_INF']:
				if ((pla_data['person'] != 2 && pla_data['person'] != 9 && pla_data['person'] != 26 && pla_data['person'] != 29 && pla_data['person'] != 47) || pla_data['dead']){
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if (!__data['no_rolebar']){
						_s = '<p class="night-turn">Двуликий выбрал цель для убийства</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['bifacial_maf'].play();
					}
				}
				if (!_spc && gam_iscripter && SMU_update == -1 && !SMU_check_tf){
					SMU_update = 1;
				}
				break;
			case __ge['KIL_KILL']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/bifacial_'+ my_gender +'.png" class="miniRole" />Двуликий убил  '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>');
				}
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				if (!_spc && k_persons[arr[4]] == 'commisar' && !pla_data['dead'] && !pla_data['freeze'] && typeof gam_data['v_left'][5] == "undefined"){
					switch(pla_data['person']){
						case 1: _HX_noob('cit15'); break;
						case 6: _HX_noob('doc15'); break;
						case 7: _HX_noob('med15'); break;
						case 10: _HX_noob('bth15'); break;
						case 11: _HX_noob('thf15'); break;
						case 12: _HX_noob('wit14'); break;
					}
				}
				if (!pla_data['dead'] && pla_data['person'] == 26){
					if (typeof __hxda['bif9'] != "undefined") _HX_noob('bif10');
					_HX_noob('bif9');
				}
				break;
			case __ge['KIL_TKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/tal/x/71.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит при помощи таланта «Мгновенный Двуликий»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['bifacial_maf'].play();
				break;
			case __ge['KIL_SKILL']:
				_s = '<div class="extra"><div class="img"><img src="/img/extras/343.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит пробивным ударом при помощи мега-экстры «Супер Двуликий»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['bifacial_maf'].play();
				break;
			case __ge['KIL_TAL']:
				if (!_SOUND_err) _SOUND_arr['sfx']['shot_bronebojnij'].play();
				switch(parseInt(arr[1])){
					case 1: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/72.png" alt="" /></div><div class="text">Маскировка не спасла игрока от таланта «Пробивной выстрел»</div></div>'; break;
					case 2: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/72.png" alt="" /></div><div class="text">Доктор не смог спасти игрока от таланта «Пробивной выстрел»</div></div>'; break;
					case 3: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/72.png" alt="" /></div><div class="text">Комиссар не смог спасти игрока от таланта «Пробивной выстрел»</div></div>'; break;
				}
				break;	
				
			case __ge['BIF_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду искать Мафию к '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['bifacial'].play();
				break;
			case __ge['BIF_INF']:
				if (pla_data['person'] != 25 || pla_data['dead']){
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if (!__data['no_rolebar']){
						_s = '<p class="night-turn">Двуликий пытается найти Мафию</p>';
					}
					if (!_SOUND_err) _SOUND_arr['sfx']['bifacial'].play();
				}
				break;
			case __ge['BIF_FAIL']:
				_s = '<p class="warn-msg">Вы не нашли Мафию этой ночью</p>';
				_HX_noob('bif7');
				break;
			case __ge['BIF_KIL']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/killer_'+ my_gender +'.png" class="miniRole" />Двуликий вступил в ряды Мафии и получил право на убийство граждан ночью!</p>');
				}
				if ($("#whl_role_25").length) $("#whl_role_25").attr("id", "whl_role_26");
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (typeof __data['v_left'][25] != "undefined" && parseInt(__data['v_left'][25]) > 0){
					if (spc_id && !gam_id){
						spc_data['v_left'][25] --;
						spc_data['v_left'][26] = 1;
					}else{
						gam_data['v_left'][25] --;
						gam_data['v_left'][26] = 1;
					}
				}
				break;
			case __ge['BIF_KIL_O']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_s = '<p class="night-msg"><img src="/img/persons/big/killer_'+ my_gender +'.png" class="miniRole" />Двуликий остался один и получил право на убийство граждан ночью!</p>';
				}
				if ($("#whl_role_25").length) $("#whl_role_25").attr("id", "whl_role_26");
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (typeof __data['v_left'][25] != "undefined" && parseInt(__data['v_left'][25]) > 0){
					if (spc_id && !gam_id){
						spc_data['v_left'][25] --;
						spc_data['v_left'][26] = 1;
					}else{
						gam_data['v_left'][25] --;
						gam_data['v_left'][26] = 1;
					}
				}
				if ((pla_data['person'] == 25 || pla_data['person'] == 26) && !pla_data['dead']) _HX_noob('bif19');
				break;
			case __ge['BIF_KIL_DO']:
				if (!_spc){
					if (parseInt(arr[1])){
						if (arr[2]){
							$.each(arr[2], function(_i, _v) {
								if ($("#upl_" + _i).length){
									var _oo = $("#upl_" + _i).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+ k_persons[_v[0]] + _v[1] +"_"+ _v[2] +".png)");
										$(_oo).attr("title", t_persons[_v[0]]);
										$(_oo).attr("label", _v[0]);
									}
								}
							});
						}	
						pla_data['person'] = 26;
						_GM_action("", "upd", "person", true);
					}else{
						if ($("#upl_" + arr[2]).length){
							var _oo = $("#upl_" + arr[2]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+ k_persons[26] + arr[3] +"_"+ arr[4] +".png)");
								$(_oo).attr("title", t_persons[26]);
								$(_oo).attr("label", 26);
							}
						}	
					}
				}
				break;
				
			case __ge['PEP_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if ($("#upl_" + arr[3]).length && !parseInt($("#upl_" + arr[3]).find(".dead").attr("label"))){
					var _oo = $("#upl_" + arr[3]).find(".hint");
					if ($(_oo).length){
						$(_oo).html('против: '+ arr[2]);
					}
				}
				if ($("#upl_" + arr[1]).length){
					var _v = parseInt(arr[5]);
					var _oo = $("#upl_" + arr[1]).find(".count");
					if ($(_oo).length && _v > 0){
						$(_oo).html(_v);
						if ($(_oo).hasClass("not-displayed")){
							$(_oo).removeClass("not-displayed");
						}
						_GM_action("", "upd", "vote_pad");
					}
				}
				_s = '<p class="night-r-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду минировать '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['turn_peppi'].play();
				break;
			case __ge['PEP_INF']:
				if ((pla_data['person'] != 16 && pla_data['person'] != 17 && pla_data['person'] != 30 && pla_data['person'] != 32 && pla_data['person'] != 33 && pla_data['person'] != 41) || pla_data['dead']){
					_s = '<p class="night-turn">Пеппи пошла минировать игрока</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['turn_peppi'].play();
				}
				if (!_spc && gam_iscripter && SMU_update == -1 && !SMU_check_tf){
					SMU_update = 1;
				}
				break;
			case __ge['PEP_KILL']:
				_s = '<p class="death-msg"><img src="/img/persons/big/peppi_'+ my_gender +'.png" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' взорвался на бомбе Пеппи</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['peppi_bomb'].play();
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				_GM_action("", "pep_bomb", "remove");
				break;
			case __ge['PEP_SUCCESS']:
				_s = '<p class="warn-msg">Игрок успешно разминировал бомбу Пеппи</p>';
				break;
			case __ge['PEP_DO']:
				_GM_action("", "pep_bomb");
				if (!_spc && gam_iscripter){
					if (SMU_update == -1 && !SMU_check_tf) SMU_update = 4;
					setTimeout(function(){
						if (SMU_update == -1 && !SMU_check_tf) SMU_update = 1;
					}, 10000);
				}
				break;
				
			case __ge['FKL_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if ($("#upl_" + arr[3]).length && !parseInt($("#upl_" + arr[3]).find(".dead").attr("label"))){
					var _oo = $("#upl_" + arr[3]).find(".hint");
					if ($(_oo).length){
						$(_oo).html('против: '+ arr[2]);
					}
				}
				if ($("#upl_" + arr[1]).length){
					var _v = parseInt(arr[5]);
					var _oo = $("#upl_" + arr[1]).find(".count");
					if ($(_oo).length && _v > 0){
						$(_oo).html(_v);
						if ($(_oo).hasClass("not-displayed")){
							$(_oo).removeClass("not-displayed");
						}
						_GM_action("", "upd", "vote_pad");
					}
				}
				_s = '<p class="night-r-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Ночью убью '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['bifacial_maf'].play();
				break;
			case __ge['FKL_INF']:
				if ((pla_data['person'] != 16 && pla_data['person'] != 17 && pla_data['person'] != 30 && pla_data['person'] != 32 && pla_data['person'] != 33 && pla_data['person'] != 41) || pla_data['dead']){
					_s = '<p class="night-turn">Франческа выбрала цель для убийства</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['bifacial_maf'].play();
				}
				if (!_spc && gam_iscripter && SMU_update == -1 && !SMU_check_tf){
					SMU_update = 1;
				}
				break;
			case __ge['FKL_KILL']:
				_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/francesca_'+ my_gender +'.png" class="miniRole" />Франческа убила '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>');
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;	
			case __ge['FRA_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду искать семью Жирного Тони к '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['bifacial'].play();
				break;
			case __ge['FRA_INF']:
				if (pla_data['person'] != 31 || pla_data['dead']){
					_s = '<p class="night-turn">Франческа пытается найти семью Жирного Тони</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['bifacial'].play();
				}
				break;
			case __ge['FRA_FAIL']:
				_s = '<p class="warn-msg">Вы не нашли семью Жирного Тони этой ночью</p>';
				break;
			case __ge['FRA_KIL']:
				_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/francesca_'+ my_gender +'.png" class="miniRole" />Франческа нашла семью Жирного Тони и получила право на убийство игроков ночью!</p>');
				if ($("#whl_role_31").length) $("#whl_role_31").attr("id", "whl_role_32");
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (typeof __data['v_left'][31] != "undefined" && parseInt(__data['v_left'][31]) > 0){
					if (spc_id && !gam_id){
						spc_data['v_left'][31] --;
						spc_data['v_left'][32] = 1;
					}else{
						gam_data['v_left'][31] --;
						gam_data['v_left'][32] = 1;
					}
				}
				break;
			case __ge['FRA_KIL_O']:
				_s = '<p class="night-msg"><img src="/img/persons/big/francesca_'+ my_gender +'.png" class="miniRole" />Франческа осталась одна и получила право на убийство игроков ночью!</p>';
				if ($("#whl_role_31").length) $("#whl_role_31").attr("id", "whl_role_32");
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (typeof __data['v_left'][31] != "undefined" && parseInt(__data['v_left'][31]) > 0){
					if (spc_id && !gam_id){
						spc_data['v_left'][31] --;
						spc_data['v_left'][32] = 1;
					}else{
						gam_data['v_left'][31] --;
						gam_data['v_left'][32] = 1;
					}
				}
				break;
			case __ge['FRA_KIL_DO']:
				if (!_spc){
					if (parseInt(arr[1])){
						if (arr[2]){
							$.each(arr[2], function(_i, _v) {
								if ($("#upl_" + _i).length){
									var _oo = $("#upl_" + _i).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+ k_persons[_v[0]] + _v[1] +"_"+ _v[2] +".png)");
										$(_oo).attr("title", t_persons[_v[0]]);
										$(_oo).attr("label", _v[0]);
									}
								}
							});
						}
						pla_data['person'] = 32;
						_GM_action("", "upd", "person", true);
					}else{
						if ($("#upl_" + arr[2]).length){
							var _oo = $("#upl_" + arr[2]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+ k_persons[32] + arr[3] +"_"+ arr[4] +".png)");
								$(_oo).attr("title", t_persons[32]);
								$(_oo).attr("label", 32);
							}
						}
					}
				}
				break;

			case __ge['BOS_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if ($("#upl_" + arr[3]).length && !parseInt($("#upl_" + arr[3]).find(".dead").attr("label"))){
					var _oo = $("#upl_" + arr[3]).find(".hint");
					if ($(_oo).length){
						$(_oo).html('против: '+ arr[2]);
					}
				}
				_s = '<p class="night-r-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Думаю нужно заморозить '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['turn_boss'].play();
				break;
			case __ge['BOS_INF']:
				if ((pla_data['person'] != 2 && pla_data['person'] != 9 && pla_data['person'] != 26 && pla_data['person'] != 29 && pla_data['person'] != 47) || pla_data['dead']){
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if (!__data['no_rolebar']){
						_s = '<p class="night-turn">Босс мафии отправился морозить игрока</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['turn_boss'].play();
					}
				}
				break;
			case __ge['BOS_FAIL']:
				_s = '<p class="warn-msg">Вам не удалось заморозить '+_PL_nick(arr[1], arr[2], 'nick')+'. Повторный визит снижает шанс на успех</p>';
				break;
			case __ge['BOS_OK']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/boss_'+ my_gender +'.png" class="miniRole" />Босс мафии заморозил игрока</p>');
				}
				break;
			case __ge['BOS_FREEZE']:
				_GM_action("", "upd", "freeze", arr[1]);
				break;
			case __ge['BOS_KILL']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/boss_'+ my_gender +'.png" class="miniRole" />Босс мафии насмерть заморозил '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>');
				}
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				if (pla_data['person'] == 9 && !pla_data['dead'] && typeof __hxda['bos6'] != "undefined") _HX_noob('bos7');
				break;
			case __ge['BOS_SKILL']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_s = '<div class="extra"><div class="img"><img src="/images/tal/x/73.png" alt="" /></div><div class="text">Босс мафии насмерть заморозил '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' при помощи таланта «Мгновенный Босс»</div></div>';
				}					
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['turn_boss'].play();
				break;
				
			case __ge['FCP_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if ($("#upl_" + arr[3]).length && !parseInt($("#upl_" + arr[3]).find(".dead").attr("label"))){
					var _oo = $("#upl_" + arr[3]).find(".hint");
					if ($(_oo).length){
						$(_oo).html('против: '+ arr[2]);
					}
				}
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				var _maf_cc = ((typeof __data['v_left'][2] != "undefined" ? parseInt(__data['v_left'][2]) : 0) +
					(typeof __data['v_left'][9] != "undefined" ? parseInt(__data['v_left'][9]) : 0) +
					(typeof __data['v_left'][25] != "undefined" ? parseInt(__data['v_left'][25]) : 0) +
					(typeof __data['v_left'][26] != "undefined" ? parseInt(__data['v_left'][26]) : 0) +
					(typeof __data['v_left'][29] != "undefined" ? parseInt(__data['v_left'][29]) : 0) +
					(typeof __data['v_left'][47] != "undefined" ? parseInt(__data['v_left'][47]) : 0));
				if (_maf_cc == 1 || my_rost) {
					_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду убивать '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['mafiosos'].play();
				}else{
					_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду узнавать роль у '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['rozario'].play();
				}	
				break;
			case __ge['FCP_INF']:
				if ((pla_data['person'] != 2 && pla_data['person'] != 9 && pla_data['person'] != 26 && pla_data['person'] != 29 && pla_data['person'] != 47) || pla_data['dead']){
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					var _maf_cc = ((typeof __data['v_left'][2] != "undefined" ? parseInt(__data['v_left'][2]) : 0) +
						(typeof __data['v_left'][9] != "undefined" ? parseInt(__data['v_left'][9]) : 0) +
						(typeof __data['v_left'][25] != "undefined" ? parseInt(__data['v_left'][25]) : 0) +
						(typeof __data['v_left'][26] != "undefined" ? parseInt(__data['v_left'][26]) : 0) +
						(typeof __data['v_left'][29] != "undefined" ? parseInt(__data['v_left'][29]) : 0) +
						(typeof __data['v_left'][47] != "undefined" ? parseInt(__data['v_left'][47]) : 0));
					if (_maf_cc == 1 || my_rost) {
						_s = '<p class="night-turn">Продажный комиссар пошёл убивать игрока</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['mafiosos'].play();
					}else{
						_s = '<p class="night-turn">Продажный комиссар пошёл узнавать роль</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['rozario'].play();
					}
				}
				break;
			case __ge['FCP_KILL']:
				_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/fakecop_'+ my_gender +'.png" class="miniRole" />Продажный комиссар убил '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>');
				if (pla_data['person'] == 47 && !pla_data['dead']) my_rost = 1;
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['FCP_RES']:
				if ((pla_data['person'] != 2 && pla_data['person'] != 9 && pla_data['person'] != 26 && pla_data['person'] != 29 && pla_data['person'] != 47) || pla_data['dead']){
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/fakecop_'+ my_gender +'.png" class="miniRole" />Продажный комиссар узнал роль проверенного им персонажа</p>');
				}
				if (parseInt(arr[1])){
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/fakecop_'+ my_gender +'.png" class="miniRole" />Продажный комиссар сменил свой ночной ход с раскрытия ролей на убийство игроков!</p>');
					if (pla_data['person'] == 47 && !pla_data['dead']) my_rost = 1;
				}
				break;
			case __ge['FCP_ROLE']:
				if ($("#upl_" + arr[1]).length){
					var _oo = $("#upl_" + arr[1]).find(".ico");
					if ($(_oo).length){
						$(_oo).css("background-image", "url(/img/persons/big/"+(arr[4] > 0 ? k_persons[arr[4]] : "unknown") + arr[5] +"_"+ arr[3] +".png)");
						$(_oo).attr("title", t_persons[arr[4]]);
						$(_oo).attr("label", arr[4]);
					}
				}
				_s = '<p class="important-msg">Продажный комиссар докладывает: '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>';
				break;	
				
			case __ge['ROS_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if ($("#upl_" + arr[3]).length && !parseInt($("#upl_" + arr[3]).find(".dead").attr("label"))){
					var _oo = $("#upl_" + arr[3]).find(".hint");
					if ($(_oo).length){
						$(_oo).html('против: '+ arr[2]);
					}
				}
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				var _ton_cc = ((typeof __data['v_left'][16] != "undefined" ? parseInt(__data['v_left'][16]) : 0) +
					(typeof __data['v_left'][17] != "undefined" ? parseInt(__data['v_left'][17]) : 0) +
					(typeof __data['v_left'][30] != "undefined" ? parseInt(__data['v_left'][30]) : 0) +
					(typeof __data['v_left'][31] != "undefined" ? parseInt(__data['v_left'][31]) : 0) +
					(typeof __data['v_left'][32] != "undefined" ? parseInt(__data['v_left'][32]) : 0) +
					(typeof __data['v_left'][33] != "undefined" ? parseInt(__data['v_left'][33]) : 0) +
					(typeof __data['v_left'][41] != "undefined" ? parseInt(__data['v_left'][41]) : 0));
				if (_ton_cc == 1 || my_rost) {
					_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду убивать '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['mafiosos'].play();
				}else{
					_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду узнавать роль у '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['rozario'].play();
				}	
				break;
			case __ge['ROS_INF']:
				if ((pla_data['person'] != 16 && pla_data['person'] != 17 && pla_data['person'] != 30 && pla_data['person'] != 32 && pla_data['person'] != 33 && pla_data['person'] != 41) || pla_data['dead']){
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					var _ton_cc = ((typeof __data['v_left'][16] != "undefined" ? parseInt(__data['v_left'][16]) : 0) +
						(typeof __data['v_left'][17] != "undefined" ? parseInt(__data['v_left'][17]) : 0) +
						(typeof __data['v_left'][30] != "undefined" ? parseInt(__data['v_left'][30]) : 0) +
						(typeof __data['v_left'][31] != "undefined" ? parseInt(__data['v_left'][31]) : 0) +
						(typeof __data['v_left'][32] != "undefined" ? parseInt(__data['v_left'][32]) : 0) +
						(typeof __data['v_left'][33] != "undefined" ? parseInt(__data['v_left'][33]) : 0) +
						(typeof __data['v_left'][41] != "undefined" ? parseInt(__data['v_left'][41]) : 0));
					if (_ton_cc == 1 || my_rost) {
						_s = '<p class="night-turn">Розарио пошёл убивать игрока</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['mafiosos'].play();
					}else{
						_s = '<p class="night-turn">Розарио пошёл узнавать роль</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['rozario'].play();
					}
				}
				break;
			case __ge['ROS_KILL']:
				_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/rosario_'+ my_gender +'.png" class="miniRole" />Розарио убил '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>');
				if (pla_data['person'] == 33 && !pla_data['dead']) my_rost = 1;
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['ROS_RES']:
				if ((pla_data['person'] != 16 && pla_data['person'] != 17 && pla_data['person'] != 30 && pla_data['person'] != 32 && pla_data['person'] != 33 && pla_data['person'] != 41) || pla_data['dead']){
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/rosario_'+ my_gender +'.png" class="miniRole" />Розарио узнал роль проверенного им персонажа</p>');
				}
				if (parseInt(arr[1])){
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/rosario_'+ my_gender +'.png" class="miniRole" />Розарио сменил свой ночной ход с раскрытия ролей на убийство игроков!</p>');
					if (pla_data['person'] == 33 && !pla_data['dead']) my_rost = 1;
				}
				break;
			case __ge['ROS_ROLE']:
				if ($("#upl_" + arr[1]).length){
					var _oo = $("#upl_" + arr[1]).find(".ico");
					if ($(_oo).length){
						$(_oo).css("background-image", "url(/img/persons/big/"+(arr[4] > 0 ? k_persons[arr[4]] : "unknown") + arr[5] +"_"+ arr[3] +".png)");
						$(_oo).attr("title", t_persons[arr[4]]);
						$(_oo).attr("label", arr[4]);
					}
				}
				_s = '<p class="important-msg">Розарио докладывает: '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>';
				break;

			case __ge['HLP_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if ($("#upl_" + arr[3]).length && !parseInt($("#upl_" + arr[3]).find(".dead").attr("label"))){
					var _oo = $("#upl_" + arr[3]).find(".hint");
					if ($(_oo).length){
						$(_oo).html('против: '+ arr[2]);
					}
				}
				if ($("#upl_" + arr[1]).length){
					var _v = parseInt(arr[5]);
					var _oo = $("#upl_" + arr[1]).find(".count");
					if ($(_oo).length && _v > 0){
						$(_oo).html(_v);
						if ($(_oo).hasClass("not-displayed")){
							$(_oo).removeClass("not-displayed");
						}
						_GM_action("", "upd", "vote_pad");
					}
				}
				_s = '<p class="night-r-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Думаю нужно убить '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['mafiosos'].play();
				break;
			case __ge['HLP_INF']:
				if ((pla_data['person'] != 16 && pla_data['person'] != 17 && pla_data['person'] != 30 && pla_data['person'] != 32 && pla_data['person'] != 33 && pla_data['person'] != 41) || pla_data['dead']){
					_s = '<p class="night-turn">Один из Подручных выбрал гражданина для убийства</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['mafiosos'].play();
				}
				if (!_spc && gam_iscripter && SMU_update == -1 && !SMU_check_tf){
					SMU_update = 1;
				}
				break;
			case __ge['HLP_KILL']:
				_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/helper_'+ my_gender +'.png" class="miniRole" />Подручные убили '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>');
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;

			case __ge['TON_PWR']:
				if (arr[1].length >= 1){
					pla_data['tpower'] = arr[1];
					_GM_action("", "tpower");
				}
				break;
			case __ge['TON_INF']:
				if (arr[2] == 1){
					var _i = '';
					var _ii = '';
					switch(parseInt(arr[1])){
						case 2: 
							_i = 'Жирный Тони наложил эффект «Паспорт» на игрока '+ _PL_nick(arr[3], arr[4], 'nick'); 
							if (!_spc && arr[3] == my_id) {
								_ii = 'Вы получили от Жирного Тони эффект «Паспорт», который скроет вашу роль от комиссара';
								ExtraEff.add(108);
							}
							break;
						case 3: 
							_i = 'Жирный Тони наложил эффект «Реаниматор» на игрока '+ _PL_nick(arr[3], arr[4], 'nick'); 
							if (!_spc && arr[3] == my_id){
								_ii = 'Вы получили от Жирного Тони эффект «Реаниматор», который воскресит вас сразу после смерти'; 
								ExtraEff.add(208);
							}
							break;
						case 4: 
							_i = 'Жирный Тони наложил эффект «Растяжка» на игрока '+ _PL_nick(arr[3], arr[4], 'nick'); 
							if (!_spc && arr[3] == my_id){
								_ii = 'Вы получили от Жирного Тони эффект «Растяжка», который убьёт любого, кто попытается проголосовать против вас'; 
								ExtraEff.add(202);
							}
							break;
						case 5: 
							_i = 'Жирный Тони наложил эффект «Паспорт мафиози» на игрока '+ _PL_nick(arr[3], arr[4], 'nick'); 
							break;
						case 6: 
							_i = 'Жирный Тони наложил эффект «Автомобиль» на игрока '+ _PL_nick(arr[3], arr[4], 'nick'); 
							if (!_spc && arr[3] == my_id) {
								_ii = 'Вы получили от Жирного Тони эффект «Автомобиль», который спасёт вас от посадки в тюрьму'; 
								ExtraEff.add(109);
							}
							break;
						case 7:
							_i = 'Жирный Тони раскрыл роль: '+ _PL_nick(arr[3], arr[4], 'nick') +' - '+ t_persons[arr[6]];
							if (!_spc && $("#upl_" + arr[3]).length){
								var _oo = $("#upl_" + arr[3]).find(".ico");
								if ($(_oo).length){
									$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
									$(_oo).attr("title", t_persons[arr[6]]);
									$(_oo).attr("label", arr[6]);
								}
							}
							break;
						case 8:
							if (!_spc && $("#upl_" + arr[3]).length){
								var _oo = $("#upl_" + arr[3]).find(".ico");
								if ($(_oo).length){
									$(_oo).css("background-image", "url(/img/persons/big/"+ k_persons[32] + arr[7] +"_"+ arr[5] +".png)");
									$(_oo).attr("title", t_persons[32]);
									$(_oo).attr("label", 32);
								}
							}
							break;
					}
					if (!_spc && _i != '') {
						_CHT_append('ctn', '<div class="extra"><div class="img"><img src="/images/events/newtony/effs/'+ arr[1] +'.png" alt="" /></div><div class="text">'+ _i +'</div></div>');
						if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != 'ctn'){
							$("#ctn_tab").addClass("new-message");
						}
					}
					if (_ii != '') {
						_s = '<div class="extra"><div class="img"><img src="/images/events/newtony/effs/'+ arr[1] +'.png" alt="" /></div><div class="text">'+ _ii +'</div></div>';
					}
				}else{
					var _i = '';
					switch(parseInt(arr[1])){
						case 1: _i = 'поджёг случайного игрока из команды соперника'; if (!_SOUND_err) _SOUND_arr['sfx']['extra_megaextra'].play(); break;
						case 2: _i = 'наложил эффект «Паспорт» на случайного игрока из семьи Жирного Тони'; if (!_SOUND_err) _SOUND_arr['sfx']['extra_megaextra'].play(); break;
						case 3: _i = 'наложил эффект «Реаниматор» на случайного игрока из семьи Жирного Тони'; if (!_SOUND_err) _SOUND_arr['sfx']['extra_megaextra'].play(); break;
						case 4: _i = 'наложил эффект «Растяжка» на случайного игрока из семьи Жирного Тони'; if (!_SOUND_err) _SOUND_arr['sfx']['extra_megaextra'].play(); break;
						case 5: _i = 'наложил эффект «Паспорт мафиози» на случайного соперника'; if (!_SOUND_err) _SOUND_arr['sfx']['extra_megaextra'].play(); break;
						case 6: _i = 'наложил эффект «Автомобиль» на случайного игрока из семьи Жирного Тони'; if (!_SOUND_err) _SOUND_arr['sfx']['extra_megaextra'].play(); break;
						case 7: _i = 'раскрыл случайную роль для всей семьи Жирного Тони'; if (!_SOUND_err) _SOUND_arr['sfx']['extra_iron'].play(); break;
						case 8: 
							_i = 'воссоединил Франческу с семьёй Жирного Тони'; 
							if ($("#whl_role_31").length) $("#whl_role_31").attr("id", "whl_role_32");
							var __data = (spc_id && !gam_id ? spc_data : gam_data);
							if (typeof __data['v_left'][31] != "undefined" && parseInt(__data['v_left'][31]) > 0){
								if (spc_id && !gam_id){
									spc_data['v_left'][31] --;
									spc_data['v_left'][32] = 1;
								}else{
									gam_data['v_left'][31] --;
									gam_data['v_left'][32] = 1;
								}
							}
							if (!_SOUND_err) _SOUND_arr['sfx']['extra_megaextra'].play();
							break; 
						case 9: _i = 'заморозил случайного игрока из команды граждан'; if (!_SOUND_err) _SOUND_arr['sfx']['turn_boss'].play(); break;
						case 10: _i = 'заморозил случайного игрока из команды мафии'; if (!_SOUND_err) _SOUND_arr['sfx']['turn_boss'].play(); break;
					}
					_s = '<div class="extra"><div class="img"><img src="/images/events/newtony/effs/'+ arr[1] +'.png" alt="" /></div><div class="text">Жирный Тони '+ _i +'</div></div>';
				}
				break;	
			case __ge['TON_FRZ']:
				_GM_action("", "upd", "freeze", arr[1]);
				break;	
				
			case __ge['MRK_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if ($("#upl_" + arr[3]).length && !parseInt($("#upl_" + arr[3]).find(".dead").attr("label"))){
					var _oo = $("#upl_" + arr[3]).find(".hint");
					if ($(_oo).length){
						$(_oo).html('против: '+ arr[2]);
					}
				}
				if ($("#upl_" + arr[1]).length){
					var _v = parseInt(arr[5]);
					var _oo = $("#upl_" + arr[1]).find(".count");
					if ($(_oo).length && _v > 0){
						$(_oo).html(_v);
						if ($(_oo).hasClass("not-displayed")){
							$(_oo).removeClass("not-displayed");
						}
						_GM_action("", "upd", "vote_pad");
					}
				}
				_s = '<p class="night-r-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду бить '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['marko'].play();
				break;
			case __ge['MRK_INF']:
				if ((pla_data['person'] != 16 && pla_data['person'] != 17 && pla_data['person'] != 30 && pla_data['person'] != 32 && pla_data['person'] != 33 && pla_data['person'] != 41) || pla_data['dead']){
					_s = '<p class="night-turn">Марко пошёл бить игрока</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['marko'].play();
				}
				if (!_spc && gam_iscripter && SMU_update == -1 && !SMU_check_tf){
					SMU_update = 1;
				}
				break;
			case __ge['MRK_RES']:
				switch(arr[1]){
					case 0: 
						_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/marko_'+ my_gender +'.png" class="miniRole" />Марко нанёс игроку лёгкий удар, лишив возможности голосовать днём</p>'); 
						break;
					case 1: 
						_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/marko_'+ my_gender +'.png" class="miniRole" />Марко нанёс игроку мощный удар в голову, тем самым полностью парализовав его</p>'); 
						break;
					case 2: 
						_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/marko_'+ my_gender +'.png" class="miniRole" />Марко взял игрока на испуг и отобрал '+ arr[2] +' монет'); 
						break;
				}
				break;
			case __ge['MRK_RES_DO']:
				if (!_spc){
					switch(arr[1]){
						case 0:
							_s = '<p class="warn-msg">Марко лишил вас возможности голосовать днём</p>';
							pla_data['act'] = -2;
							_GM_action("", "upd", "acts");
							break;
						case 1: 
							_GM_action("", "upd", "freeze", 6);
							break;
						case 2:
							var _am = parseFloat($(".profileBlock").find("span.moneyBalance").html());
							_am -= parseFloat(arr[2]);
							$(".profileBlock").find("span.moneyBalance").html(Math.floor(_am));
							_s = '<p class="warn-msg">Марко отобрал у вас '+ arr[2] +' монет';
							break;
					}
				}
				break;
			case __ge['MRK_KILL']:
				_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/marko_'+ my_gender +'.png" class="miniRole" />Марко до смерти избил '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>');
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
				
			case __ge['YAK_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if ($("#upl_" + arr[3]).length && !parseInt($("#upl_" + arr[3]).find(".dead").attr("label"))){
					var _oo = $("#upl_" + arr[3]).find(".hint");
					if ($(_oo).length){
						$(_oo).html('против: '+ arr[2]);
					}
				}
				if ($("#upl_" + arr[1]).length){
					var _v = parseInt(arr[5]);
					var _oo = $("#upl_" + arr[1]).find(".count");
					if ($(_oo).length && _v > 0){
						$(_oo).html(_v);
						if ($(_oo).hasClass("not-displayed")){
							$(_oo).removeClass("not-displayed");
						}
						_GM_action("", "upd", "vote_pad");
					}
				}
				_s = '<p class="night-r-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Думаю нужно убить '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['yak_turn'].play();
				break;
			case __ge['YAK_INF']:
				if ((pla_data['person'] != 35 && pla_data['person'] != 36 && pla_data['person'] != 37 && pla_data['person'] != 38) || pla_data['dead']){
					_s = '<p class="night-turn">Один из Якудза выбрал цель для убийства</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['yak_turn'].play();
				}
				if (!_spc && gam_iscripter && SMU_update == -1 && !SMU_check_tf){
					SMU_update = 1;
				}
				break;
			case __ge['YAK_KILL']:
				_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/yakuza_'+ my_gender +'.png" class="miniRole" />Якудза убили '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>');
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['YAK_DIE']:
				if (arr[1] && arr[1].length){
					var _ii = ['', 'Обычный сундук', 'Золотой сундук', 'Платиновый сундук', 'Бриллиантовый сундук'];
					_s = '<p class="night-act">Якудза оставили игрокам сундуки!</p>';
					$.each(arr[1], function(_i, _v) {
						if (_v[0] == my_id && !_spc){
							_s += '<div class="extra"><div class="img"><img src="/images/events/yakuza/extras-gifts/item-'+ _v[2] +'.png" alt="" /></div><div class="text">Вы получили от Якудзы '+ _ii[_v[2]] +'!<button class="cssGreenButton" ondblclick="return false" onclick="_Event();return false" hidefocus="true">Посмотреть</button></div></div>';
							_SGF_put('yakuza', 'item-'+ _v[2]);
						}else{
							_s += '<div class="extra"><div class="img"><img src="/images/events/yakuza/extras-gifts/item-'+ _v[2] +'.png" alt="" /></div><div class="text">'+ _PL_nick(_v[0], _v[1], false, false, true) +' получил '+ _ii[_v[2]] +' от Якудзы</div></div>';
						}
					});
				}
				break;
			case __ge['YAK_OWN']:
				if (!_spc){
					var _ii = ['', 'Обычный сундук', 'Золотой сундук', 'Платиновый сундук', 'Бриллиантовый сундук'];
					_s = '<div class="extra"><div class="img"><img src="/images/events/yakuza/extras-gifts/item-'+ arr[1] +'.png?3" alt="" /></div><div class="text">За ночной ход вы получили '+ _ii[arr[1]] +'!<button class="cssGreenButton" ondblclick="return false" onclick="_Event();return false" hidefocus="true">Посмотреть</button></div></div>';
					_SGF_put('yakuza', 'item-'+ arr[1]);
				}
				break;
				
			case __ge['LEE_PWR']:
				if (arr[1].length >= 1){
					pla_data['lpower'] = arr[1];
					_GM_action("", "lpower");
				}
				break;
			case __ge['LEE_INF']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/lin/popups/'+ arr[1] +'.png" alt="" /></div><div class="text">Тётушка Лин дала указание: '+ __leepwrs[arr[1]] +'</div></div>';
				switch (arr[1]){
					case 1:  if (!_SOUND_err) _SOUND_arr['sfx']['turn_boss'].play(); break;
					case 2:  if (!_SOUND_err) _SOUND_arr['sfx']['turn_boss'].play(); break;
					case 3:  if (!_SOUND_err) _SOUND_arr['sfx']['lin_turn_pass'].play(); break;
					case 4:  if (!_SOUND_err) _SOUND_arr['sfx']['lin_turn_pass'].play(); break;
					case 5:  if (!_SOUND_err) _SOUND_arr['sfx']['lin_turn_pass'].play(); break;
					case 6:  if (!_SOUND_err) _SOUND_arr['sfx']['lin_turn_pass'].play(); break;
					case 7:  if (!_SOUND_err) _SOUND_arr['sfx']['lin_turn_pass'].play(); break;
					case 8:  if (!_SOUND_err) _SOUND_arr['sfx']['intuition'].play(); break;
					case 9:  if (!_SOUND_err) _SOUND_arr['sfx']['intuition'].play(); break;
					case 10: if (!_SOUND_err) _SOUND_arr['sfx']['lin_amulet_use'].play(); break;
					case 11: if (!_SOUND_err) _SOUND_arr['sfx']['lin_kill'].play(); break;
				}								
				break;
			case __ge['LEE_MISS']:
				_s = '<p class="warn-msg">Вас лишили хода!</p>';
				break;
			case __ge['LEE_ROLE']:
				if ($("#upl_" + arr[1]).length){
					var _oo = $("#upl_" + arr[1]).find(".ico");
					if ($(_oo).length){
						$(_oo).css("background-image", "url(/img/persons/big/"+(arr[4] > 0 ? k_persons[arr[4]] : "unknown") + arr[5] +"_"+ arr[3] +".png)");
						$(_oo).attr("title", t_persons[arr[4]]);
						$(_oo).attr("label", arr[4]);
					}
				}
				_s = '<p class="important-msg">Тётушка Лин раскрыла роль: '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['intuition'].play();
				break;
			case __ge['LEE_KILL']:
				_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/leen_'+ my_gender +'.png" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит по приказу Тётушки Лин</p>');
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['LEE_ARES']:
				if (arr[1] == my_id){
					_s = '<div class="extra"><div class="img"><img src="/images/events/lin/popups/10.png" alt="" /></div><div class="text">Вы получили «Амулет жизни» от Тётушки Лин. В течение минуты вы оживёте после любого убийства</div></div>';
				}else{
					_s = '<div class="extra"><div class="img"><img src="/images/events/lin/popups/10.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' получил «Амулет жизни» от Тётушки Лин</div></div>';
				}	
				if (!_spc) {
					if (!_spc) ExtraAnim.add("amulet", arr[1]); setTimeout(function(){ExtraAnim.remove('amulet', arr[1])}, 60000);
					_CHT_append("ctn", _s);
					if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
						$("#ctn_tab").addClass("new-message");
					}
				}
				_s = '';
				break;
			case __ge['LEE_FRZ']:
				_GM_action("", "upd", "freeze", arr[1]);
				break;
				
			case __ge['HIL_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду бить игрока '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['mountain_turn'].play();
				break;
			case __ge['HIL_INF']:
				if ((pla_data['person'] != 35 && pla_data['person'] != 36 && pla_data['person'] != 37 && pla_data['person'] != 38) || pla_data['dead']){
					_s = '<p class="night-turn">Гора пошёл бить игрока</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['mountain_turn'].play();
				}
				break;
			case __ge['HIL_KILL']:
				_s = '<p class="death-msg"><img src="/img/persons/big/hill_'+ my_gender +'.png" alt="" class="miniRole" />Гора мощным ударом убил '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				break;
			case __ge['HIL_RES']:
				if (arr[1] == 1){
					var _am = parseFloat($(".profileBlock").find("span.moneyBalance").html());
					_am -= parseFloat(arr[2]);
					$(".profileBlock").find("span.moneyBalance").html(Math.floor(_am));
					_s = '<p class="warn-msg">Гора отобрал у вас '+ arr[2] +' монет';
				}else{
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/hill_'+ my_gender +'.png" class="miniRole" />Гора отобрал у игрока '+ arr[2] +' монет');
				}	
				break;
				
			case __ge['SHA_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Кидаю отравленный сюрикен в игрока '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['shadow_turn'].play();
				break;
			case __ge['SHA_INF']:
				if ((pla_data['person'] != 35 && pla_data['person'] != 36 && pla_data['person'] != 37 && pla_data['person'] != 38) || pla_data['dead']){
					_s = '<p class="night-turn">Тень скрытно пошёл кидать отравленный сюрикен в игрока</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['shadow_turn'].play();
				}
				break;
			case __ge['SHA_PKILL']:
				_s = '<p class="death-msg"><img src="/img/persons/big/shadow_'+ my_gender +'.png" alt="" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' умер от «Отравленного сюрикена»</p>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				break;
			case __ge['SHA_RES']:
				_s = '<p class="night-turn"><img src="/img/persons/big/shadow_'+ my_gender +'.png" alt="" class="miniRole" />Тень успешно отравил игрока. Смерть наступит через игровые сутки</p>';
				break;

			case __ge['MAN_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Думаю нужно убить '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['maniac'].play();
				break;
			case __ge['MAN_INF']:
				if (pla_data['person'] != 3 || pla_data['dead']){
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if (!__data['no_rolebar']){
						_s = '<p class="night-turn">Маньяк выбрал жертву</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['maniac'].play();
					}
				}
				break;
			case __ge['MAN_KILL']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/maniac_'+ my_gender +'.png" class="miniRole" />Маньяк убил  '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>');
				}					
				if (pla_data['person'] == 3 && !pla_data['dead']) {
					if (typeof __hxda['man5'] != "undefined") _HX_noob('man6');
					_HX_noob('man5');
				}	
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				if (!_spc && k_persons[arr[4]] == 'commisar' && !pla_data['dead'] && !pla_data['freeze'] && typeof gam_data['v_left'][5] == "undefined"){
					switch(pla_data['person']){
						case 1: _HX_noob('cit15'); break;
						case 6: _HX_noob('doc15'); break;
						case 7: _HX_noob('med15'); break;
						case 10: _HX_noob('bth15'); break;
						case 11: _HX_noob('thf15'); break;
						case 12: _HX_noob('wit14'); break;
					}
				}
				break;
			case __ge['MAN_SKILL']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_s = '<div class="extra"><div class="img"><img src="/img/extras/338.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит пробивным ударом при помощи мега-экстры «Супер Маньяк»</div></div>';
				}
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['maniac'].play();
				break;
			case __ge['MAN_TAL']:
				if (!_SOUND_err) _SOUND_arr['sfx']['shot_bronebojnij'].play();
				switch(parseInt(arr[1])){
					case 1: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/32.png" alt="" /></div><div class="text">Маскировка не спасла игрока от таланта «Без шансов на провал»</div></div>'; break;
					case 2: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/32.png" alt="" /></div><div class="text">Доктор не смог спасти игрока от таланта «Без шансов на провал»</div></div>'; break;
					case 3: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/32.png" alt="" /></div><div class="text">Комиссар не смог спасти игрока от таланта «Без шансов на провал»</div></div>'; break;
				}
				break;
				
			case __ge['ASA_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Ночью убью '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['maniac'].play();
				break;
			case __ge['ASA_INF']:
				if (pla_data['person'] != arr[1] || pla_data['dead']){
					_s = '<p class="night-turn">Убийца выбрал цель для убийства</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['maniac'].play();
				}
				break;
			case __ge['ASA_KILL']:
				_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/assassin1_'+ my_gender +'.png" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит Убийцей</p>');
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;

			case __ge['COM_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Думаю нужно проверить '+ _PL_nick(arr[1], arr[2], 'nick') +'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['commisar'].play();
				break;
			case __ge['COM_INF']:
				if ((pla_data['person'] != 4 && pla_data['person'] != 5) || pla_data['dead']){
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if (!__data['no_rolebar']){
						_s = '<p class="night-turn">Комиссар выбрал, кому он хочет нанести визит</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['commisar'].play();
					}
				}
				break;
			case __ge['COM_RES']:
				var _grp = '';
				switch(arr[3]){
					case 'def': _grp = 'граждан'; break;
					case 'maf': _grp = 'мафию'; break;
					case 'man': _grp = 'маньяка'; break;
					case 'ton': _grp = 'семью Жирного Тони'; break;
					case 'rip': _grp = 'Потрошителя'; break;
					case 'zom': _grp = 'Профессора'; break;
					case 'val': _grp = 'Валентина'; break;
					case 'yak': _grp = 'Якудзу'; break;
					case 'brd': _grp = 'Чёрную Бороду'; break;
					case 'lil': _grp = 'Взрывную Лили'; break;
					case 'bab': _grp = 'Братьев Бандитос'; break;
					case 'asa1': 
					case 'asa2': 
					case 'asa3': _grp = 'убийцу'; break;
				}
				_GM_ChatBuffer.add("day", '<div class="proverka"><img src="/img/persons/big/commisar_'+ my_gender +'.png" class="role" /><div class="bb">Комиссар сообщает: <em>'+ _PL_nick(arr[1], arr[2], 'nick') +' играет за '+ _grp +'</em></div></div>');
				if (!pla_data['dead'] && !pla_data['freeze']){
					switch(arr[3]){
						case 'def':
							switch(pla_data['person']){
								case 1:
									if (typeof __hxda['cit6'] != "undefined") _HX_noob('cit7');
									_HX_noob('cit6');
									break;
								case 4:
									if (typeof __hxda['kom5'] != "undefined") _HX_noob('kom6');
									_HX_noob('kom5');
									break;
								case 5:
									if (typeof __hxda['ser7'] != "undefined") _HX_noob('ser8');
									_HX_noob('ser7');
									break;
								case 6:
									if (typeof __hxda['doc6'] != "undefined") _HX_noob('doc7');
									_HX_noob('doc6');
									break;
								case 7:
									if (typeof __hxda['med6'] != "undefined") _HX_noob('med7');
									_HX_noob('med6');
									break;
								case 10:
									if (typeof __hxda['bth6'] != "undefined") _HX_noob('bth7');
									_HX_noob('bth6');
									break;
								case 11:
									if (typeof __hxda['thf6'] != "undefined") _HX_noob('thf7');
									_HX_noob('thf6');
									break;
								case 12:
									if (typeof __hxda['wit5'] != "undefined") _HX_noob('wit6');
									_HX_noob('wit5');
									break;	
							}
							break;
						case 'maf':
							switch(pla_data['person']){
								case 1:
									if (typeof __hxda['cit8'] != "undefined") _HX_noob('cit9');
									_HX_noob('cit8');
									break;
								case 4:
									if (typeof __hxda['kom7'] != "undefined") _HX_noob('kom8');
									_HX_noob('kom7');
									break;
								case 5:
									if (typeof __hxda['ser9'] != "undefined") _HX_noob('ser10');
									_HX_noob('ser9');
									break;
								case 6:
									if (typeof __hxda['doc8'] != "undefined") _HX_noob('doc9');
									_HX_noob('doc8');
									break;
								case 7:
									if (typeof __hxda['med8'] != "undefined") _HX_noob('med9');
									_HX_noob('med8');
									break;
								case 10:
									if (typeof __hxda['bth8'] != "undefined") _HX_noob('bth9');
									_HX_noob('bth8');
									break;
								case 11:
									if (typeof __hxda['thf8'] != "undefined") _HX_noob('thf9');
									_HX_noob('thf8');
									break;
								case 12:
									if (typeof __hxda['wit7'] != "undefined") _HX_noob('wit8');
									_HX_noob('wit7');
									break;
							}
							break;
						case 'man':
							switch(pla_data['person']){
								case 1: _HX_noob('cit10'); break;
								case 4: _HX_noob('kom9'); break;
								case 5: _HX_noob('ser11'); break;
								case 6: _HX_noob('doc10'); break;
								case 7: _HX_noob('med10'); break;
								case 10: _HX_noob('bth10'); break;
								case 11: _HX_noob('thf10'); break;
								case 12: _HX_noob('wit9'); break;
							}
							break;
					}
				}
				break;
			case __ge['COM_ROLE']:
				if ($("#upl_" + arr[1]).length){
					var _oo = $("#upl_" + arr[1]).find(".ico");
					if ($(_oo).length){
						$(_oo).css("background-image", "url(/img/persons/big/"+(arr[4] > 0 ? k_persons[arr[4]] : "unknown") + arr[5] +"_"+ arr[3] +".png)");
						$(_oo).attr("title", t_persons[arr[4]]);
						$(_oo).attr("label", arr[4]);
					}
					/*if (arr[1] != my_id){
						$("#upl_" +arr[1]+ "_blk").attr("label", 4);
						$("#upl_" +arr[1]+ "_blk").css("display", "inline");
						$("#upl_" +arr[1]+ "_pvi").attr("src", "/images/icons/letter_maf.png");
					}*/
				}
				_s = '<p class="important-msg">Вы теперь знаете, что '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>';
				break;
			case __ge['COM_SAFE']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					var _uz = '';
					switch(parseInt(arr[3])){
						case 1: _uz = 'подручного'; break;
						case 2: _uz = 'мафии'; break;
						case 3: _uz = 'маньяка'; break;
						case 4: _uz = 'Жирного Тони'; break;
						case 5: _uz = 'босса мафии'; break;
						case 6: _uz = 'двуликого'; break;
						case 7: _uz = 'громилы'; break;
						case 8: _uz = 'Марко'; break;
						case 9: _uz = 'Франчески'; break;
						case 10: _uz = 'Розарио'; break;
						case 11: _uz = 'Потрошителя'; break;
						case 12: _uz = 'Зомби'; break;
						case 13: _uz = 'Валентина'; break;
						case 14: _uz = 'Якудзы'; break;
						case 15: _uz = 'Тётушки Лин'; break;
						case 16: _uz = 'Горы'; break;
						case 17: _uz = 'Чёрной Бороды'; break;
						case 18: _uz = 'Профессора'; break;
						case 19: _uz = 'Взрывной Лили'; break;
						case 20: _uz = 'Братьев Бандитос'; break;
						case 21: _uz = 'Убийцы'; break;
						case 22: _uz = 'Продажного комиссара'; break;
					}
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/commisar_'+ my_gender +'.png" class="miniRole" />Комиссар своим визитом предотвратил покушение '+ _uz +' на '+_PL_nick(arr[1], arr[2], 'nick')+'</p>');
				}
				if (parseInt(arr[3]) == 2 && !pla_data['dead'] && pla_data['person'] == 2) _HX_noob('maf13');
				if (parseInt(arr[3]) == 3 && !pla_data['dead'] && pla_data['person'] == 3) _HX_noob('man7');
				if (parseInt(arr[3]) == 6 && !pla_data['dead'] && pla_data['person'] == 26) _HX_noob('bif11');
				break;
			case __ge['COM_SRG']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_s = '<p class="night-msg"><img src="/img/persons/big/sergeant_'+ my_gender +'.png" class="miniRole" />Сержанта повысили на должность комиссара</p>';
				}
				if (typeof __data['v_left'][5] != "undefined" && parseInt(__data['v_left'][5]) > 0){
					if (spc_id && !gam_id){
						spc_data['v_left'][5] --;
					}else{
						gam_data['v_left'][5] --;
					}
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if ($("#whl_role_5").length){
						$("#whl_role_5").remove();
						var _c = parseInt($("#whl_t1").html());
						_c --;
						if (_c < 0) _c = 0;
						$("#whl_t1").html('' + _c);
					}
				}
				if (typeof __data['v_left'][4] != "undefined" && !parseInt(__data['v_left'][4])){
					if (spc_id && !gam_id){
						spc_data['v_left'][4] ++;
					}else{
						gam_data['v_left'][4] ++;
					}
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if ($("#whl_role_4").length){
						$("#whl_role_4 .count").html(__data['v_left'][4]);
						if (!$("#whl_role_4 .dead").hasClass("not-displayed")) $("#whl_role_4 .dead").addClass("not-displayed");
						var _c = parseInt($("#whl_t1").html());
						_c ++;
						$("#whl_t1").html('' + _c);
					}
				}
				break;
			case __ge['COM_SRG_DO']:
				if (arr[1] == my_id && !_spc){
					if (parseInt(arr[4]) > 0){
						pla_data['person'] = parseInt(arr[4]);
						pla_data['figure'] = arr[5];
						_HX_noob('ser16');
					}
					_GM_action("", "upd", "person", true);
				}
				if (!_spc){
					var _oo = $("#upl_" + arr[1]).find(".ico");
					if ($(_oo).length){
						$(_oo).css("background-image", "url(/img/persons/big/"+(arr[4] > 0 ? k_persons[arr[4]] : "unknown") + arr[5] +"_"+ arr[3] +".png)");
						$(_oo).attr("title", t_persons[arr[4]]);
						$(_oo).attr("label", arr[4]);
					}
				}	
				break;
			case __ge['COM_FAIL']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/commisar_'+ my_gender +'.png" class="miniRole" />Повторный визит комиссара не спас '+_PL_nick(arr[1], arr[2], 'nick')+' от убийства</p>');
				}
				break;


			case __ge['DOC_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Думаю нужно навестить '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['doctor'].play();
				break;
			case __ge['DOC_INF']:
				if (pla_data['person'] != 6 || pla_data['dead']){
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if (!__data['no_rolebar']){
						_s = '<p class="night-turn">Доктор выехал на вызов</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['doctor'].play();
					}
				}
				break;
			case __ge['DOC_RESCUE']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					var _uz = '';
					switch(parseInt(arr[3])){
						case 1: _uz = 'подручного'; break;
						case 2: _uz = 'мафии'; break;
						case 3: _uz = 'маньяка'; break;
						case 4: _uz = 'двуликого'; break;
						case 5: _uz = 'громилы'; break;
						case 6: _uz = 'Марко'; break;
						case 7: _uz = 'Франчески'; break;
						case 8: _uz = 'Розарио'; break;
						case 9: _uz = 'Жирного Тони'; break;
						case 10: _uz = 'босса мафии'; break;
						case 11: _uz = 'Потрошителя'; break;
						case 12: _uz = 'Зомби'; break;
						case 13: _uz = 'Валентина'; break;
						case 14: _uz = 'Якудзы'; break;
						case 15: _uz = 'Тётушки Лин'; break;
						case 16: _uz = 'Горы'; break;
						case 17: _uz = 'Чёрной Бороды'; break;
						case 18: _uz = 'Профессора'; break;
						case 19: _uz = 'Взрывной Лили'; break;
						case 20: _uz = 'Братьев Бандитос'; break;
						case 21: _uz = 'Убийцы'; break;
						case 22: _uz = 'Продажного комиссара'; break;
					}
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/doctor_'+ my_gender +'.png" class="miniRole" />Действиями реанимационной бригады спасен '+_PL_nick(arr[1], arr[2], 'nick')+' от покушения '+ _uz +'</p>');
				}
				if (parseInt(arr[3]) == 2 && !pla_data['dead'] && pla_data['person'] == 2) _HX_noob('maf14');
				if (parseInt(arr[3]) == 3 && !pla_data['dead'] && pla_data['person'] == 3) _HX_noob('man8');
				if (parseInt(arr[3]) == 4 && !pla_data['dead'] && pla_data['person'] == 26) _HX_noob('bif12');
				break;
			case __ge['DOC_VISIT']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/doctor_'+ my_gender +'.png" class="miniRole" />Доктор нанес визит персонажу '+_PL_nick(arr[1], arr[2], 'nick')+' oн оказался совершенно здоров</p>');
				}
				break;
			case __ge['DOC_SUPER']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/images/tal/x/67.png" class="miniRole" />Талант «Супер-Доктор» спас всех мирных этой ночью!</p>');
				}
				break;
			case __ge['DOC_MED']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_s = '<p class="night-msg"><img src="/img/persons/big/medic_'+ my_gender +'.png" class="miniRole" />Медработник занял должность доктора</p>';
				}
				if (typeof __data['v_left'][7] != "undefined" && parseInt(__data['v_left'][7]) > 0){
					if (spc_id && !gam_id){
						spc_data['v_left'][7] --;
					}else{
						gam_data['v_left'][7] --;
					}
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if ($("#whl_role_7").length){
						$("#whl_role_7").remove();
						var _c = parseInt($("#whl_t1").html());
						_c --;
						if (_c < 0) _c = 0;
						$("#whl_t1").html('' + _c);
					}
				}
				if (typeof __data['v_left'][6] != "undefined" && !parseInt(__data['v_left'][6])){
					if (spc_id && !gam_id){
						spc_data['v_left'][6] ++;
					}else{
						gam_data['v_left'][6] ++;
					}
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if ($("#whl_role_6").length){
						$("#whl_role_6 .count").html(__data['v_left'][6]);
						if (!$("#whl_role_6 .dead").hasClass("not-displayed")) $("#whl_role_6 .dead").addClass("not-displayed");
						var _c = parseInt($("#whl_t1").html());
						_c ++;
						$("#whl_t1").html('' + _c);
					}
				}
				break;
			case __ge['DOC_MED_DO']:
				if (arr[1] == my_id && !_spc){
					if (parseInt(arr[4]) > 0){
						pla_data['person'] = parseInt(arr[4]);
						pla_data['figure'] = arr[5];
					}
					_GM_action("", "upd", "person", true);
				}
				if (!_spc){
					var _oo = $("#upl_" + arr[1]).find(".ico");
					if ($(_oo).length){
						$(_oo).css("background-image", "url(/img/persons/big/"+(arr[4] > 0 ? k_persons[arr[4]] : "unknown") + arr[5] +"_"+ arr[3] +".png)");
						$(_oo).attr("title", t_persons[arr[4]]);
						$(_oo).attr("label", arr[4]);
					}
				}	
				break;


			case __ge['WIT_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Думаю нужно навестить '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['witness'].play();
				break;
			case __ge['WIT_INF']:
				if (pla_data['person'] != 12 || pla_data['dead']){
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if (!__data['no_rolebar']){
						_s = '<p class="night-turn">Свидетель выбрал кого навестить</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['witness'].play();
					}
				}
				break;
			case __ge['WIT_RES']:
				var _grp = '';
				switch(arr[3]){
					case 'def': _grp = 'граждан'; break;
					case 'maf': _grp = 'мафию'; break;
					case 'man': _grp = 'маньяка'; break;
					case 'ton': _grp = 'семью Жирного Тони'; break;
					case 'rip': _grp = 'потрошителя'; break;
					case 'zom': _grp = 'Профессора'; break;
					case 'val': _grp = 'Валентина'; break;
					case 'yak': _grp = 'Якудзу'; break;
					case 'brd': _grp = 'Чёрную Бороду'; break;
					case 'lil': _grp = 'Взрывную Лили'; break;
					case 'bab': _grp = 'Братьев Бандитос'; break;
					case 'asa1':
					case 'asa2':
					case 'asa3': _grp = 'убийцу'; break;
				}
				_GM_ChatBuffer.add("day", '<div class="proverka"><img src="/img/persons/big/witness_'+ my_gender +'.png" class="role" /><div class="bb">Свидетель сообщает: <em>'+ _PL_nick(arr[1], arr[2], 'nick') +' играет за '+ _grp +'</em></div></div>');
				break;
			case __ge['WIT_ROLE']:
				if ($("#upl_" + arr[1]).length){
					var _oo = $("#upl_" + arr[1]).find(".ico");
					if ($(_oo).length){
						$(_oo).css("background-image", "url(/img/persons/big/"+(arr[4] > 0 ? k_persons[arr[4]] : "unknown") + arr[5] +"_"+ arr[3] +".png)");
						$(_oo).attr("title", t_persons[arr[4]]);
						$(_oo).attr("label", arr[4]);
					}
				}
				_s = '<p class="important-msg">Вы теперь знаете, что '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>';
				break;


			case __ge['THF_ACT']:
				if (parseInt(arr[1]) && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
					_s = '<p class="night-act">Вы собрались обворовать игрока '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['thief'].play();
				}
				break;
			case __ge['THF_INF']:
				if (pla_data['person'] != 11 || pla_data['dead']){
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if (!__data['no_rolebar']){
						_s = '<p class="night-turn">Вор вышел на дело</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['thief'].play();
					}
				}
				break;
			case __ge['THF_FAIL']:
				_s = '<p class="warn-msg">Вам не удалось обворовать '+_PL_nick(arr[1], arr[2], 'nick')+'. Повторный визит снижает шанс на успех</p>';
				break;
			case __ge['THF_OK']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/thief_'+ my_gender +'.png" class="miniRole" />Вор обворовал игрока</p>');
				}
				break;


			case __ge['BIC_ACT']:
				if (parseInt(arr[1]) && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
					_s = '<p class="night-act">Вы собрались охмурить игрока '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['bitch'].play();
				}
				break;
			case __ge['BIC_INF']:
				if (pla_data['person'] != 10 || pla_data['dead']){
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if (!__data['no_rolebar']){
						_s = '<p class="night-turn">Стерва пошла охмурять игрока</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['bitch'].play();
					}
				}
				break;
			case __ge['BIC_FAIL']:
				_s = '<p class="warn-msg">Вам не удалось охмурить '+_PL_nick(arr[1], arr[2], 'nick')+'. Повторный визит снижает шанс на успех</p>';
				break;
			case __ge['BIC_OK']:
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				if (!__data['no_rolebar']){
					_GM_ChatBuffer.add("info", '<p class="night-msg"><img src="/img/persons/big/bitch_'+ my_gender +'.png" class="miniRole" />Стерва охмурила игрока</p>');
				}
				break;
				
			case __ge['VAL_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Буду стрелять в игрока '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['turn_valentine'].play();
				break;
			case __ge['VAL_INF']:
				if (pla_data['person'] != 14 || pla_data['dead']){
					_s = '<p class="night-turn">Валентин выбрал себе мишень</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['turn_valentine'].play();
				}
				break;
			case __ge['VAL_KILL']:
				_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/valentin_'+ my_gender +'.png" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит Валентином</p>');
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['VAL_PKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/love/effects/3.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит «Ядовитым выстрелом»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				break;
			case __ge['VAL_DKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/love/effects/2.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит «Двойным выстрелом»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				if (!_SOUND_err) _SOUND_arr['sfx']['shot_dvojnoj'].play();
				break;
			case __ge['VAL_EFF']:
				switch(parseInt(arr[1])){
					case 0: 
						_s = '<div class="extra"><div class="img"><img src="/images/events/love/effects/0.png" alt="" /></div><div class="text">Валентин сделал «Бронебойный выстрел»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['shot_bronebojnij'].play();
						if (parseInt(arr[2]) > 0){
							switch(parseInt(arr[2])){
								case 1: _s += '<div class="extra"><div class="img"><img src="/images/events/love/effects/0.png" alt="" /></div><div class="text">Маскировка не спасла игрока от «Бронебойного выстрела»</div></div>'; break;
								case 2: _s += '<div class="extra"><div class="img"><img src="/images/events/love/effects/0.png" alt="" /></div><div class="text">Доктор не смог спасти игрока от «Бронебойного выстрела»</div></div>'; break;
								case 3: _s += '<div class="extra"><div class="img"><img src="/images/events/love/effects/0.png" alt="" /></div><div class="text">Комиссар не смог спасти игрока от «Бронебойного выстрела»</div></div>'; break;
							}
						}
						break;
					case 1:
						switch (parseInt(arr[2])){
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/images/events/love/effects/1.png" alt="" /></div><div class="text">Вы контузили игрока '+ _PL_nick(arr[3], arr[4], 'nick') +'</div></div>';
								break;
							case 1:	
								if (!_spc) {
									pla_data['act'] = -2;
									_GM_action("", "upd", "acts");
									_GM_action("", "upd", "freeze", 3);
								}
								break;
							default:
								_s = '<div class="extra"><div class="img"><img src="/images/events/love/effects/1.png" alt="" /></div><div class="text">Валентин сделал «Контузящий выстрел» в случайного игрока, лишив возможности голосовать и писать в чат</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['shot_kontuzija'].play();
								break;	
						}
						break;
					case 2:
						_s = '<div class="extra"><div class="img"><img src="/images/events/love/effects/2.png" alt="" /></div><div class="text">Валентин сделал «Двойной выстрел» в случайного игрока</div></div>';
						break;
					case 3:
						if (parseInt(arr[2]) == 2){
							_s = '<div class="extra"><div class="img"><img src="/images/events/love/effects/3.png" alt="" /></div><div class="text">Вы отравили игрока '+ _PL_nick(arr[3], arr[4], 'nick') +'</div></div>';
							if (!_spc) ExtraAnim.add("poison", arr[3]);
						}else{
							_s = '<div class="extra"><div class="img"><img src="/images/events/love/effects/3.png" alt="" /></div><div class="text">Валентин сделал «Ядовитый выстрел», отравив случайного игрока. Игрок умрёт через сутки</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['shot_jadovitij'].play();
						}
						break;	
					case 4:
						if (parseInt(arr[2]) == 1){
							if ($("#upl_" + arr[3]).length){
								var _oo = $("#upl_" + arr[3]).find(".ico");
								if ($(_oo).length){
									$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
									$(_oo).attr("title", t_persons[arr[6]]);
									$(_oo).attr("label", arr[6]);
								}
							}
							_s = '<div class="extra"><div class="img"><img src="/images/events/love/effects/4.png" alt="" /></div><div class="text">«Прицельный выстрел» раскрыл роль: '+_PL_nick(arr[3], arr[4], 'nick')+' - '+t_persons[arr[6]]+'</div></div>';
						}else{
							_s = '<div class="extra"><div class="img"><img src="/images/events/love/effects/4.png" alt="" /></div><div class="text">Валентин сделал «Прицельный выстрел», раскрыв роль случайного игрока</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['shot_priceljnij'].play();
						}
						break;	
					case 5:
						_s = '<div class="extra"><div class="img"><img src="/images/events/love/effects/5.png" alt="" /></div><div class="text">Валентин сделал «Холостой выстрел», от которого ничего не произошло</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['shot_holostoj'].play();
						break;	
				}
				break;
				
			case __ge['VAL_DIE']:
				if (arr[1] && arr[1].length){
					var _ii = ['Коробку конфет', 'Обычный сундук', 'Золотой сундук', 'Платиновый сундук', 'Бриллиантовый сундук'];
					_s = '';
					$.each(arr[1], function(_i, _v) {
						if (_v[0] == my_id && !_spc){
							_s += '<div class="extra"><div class="img"><img src="/images/events/love/extras-gifts/item-'+ _v[2] +'.png" alt="" /></div><div class="text">Вы получили «'+ _ii[_v[2]] +'» за победу над Валентином!<button class="cssGreenButton" ondblclick="return false" onclick="_Event();return false" hidefocus="true">Посмотреть</button></div></div>';
							_SGF_put('love', 'item-'+ _v[2]);
						}else{
							_s += '<div class="extra"><div class="img"><img src="/images/events/love/extras-gifts/item-'+ _v[2] +'.png" alt="" /></div><div class="text">'+ _PL_nick(_v[0], _v[1], false, false, true) +' получил «'+ _ii[_v[2]] +'» за победу над Валентином <a href="#" onclick="ers_uid=\''+ _v[0] +'\';_DLG(\'eraser\');return false" class="reply" hidefocus="true">Послать сердечко!</a></div></div>';
						}
					});
				}
				break;
			case __ge['VAL_OWN']:
				if (!_spc){
					var _ii = ['Коробку конфет', 'Обычный сундук', 'Золотой сундук', 'Платиновый сундук', 'Бриллиантовый сундук'];
					_s = '';
					$.each(arr[1], function(_i, _v) {
						_s += '<div class="extra"><div class="img"><img src="/images/events/love/extras-gifts/item-'+ _v +'.png" alt="" /></div><div class="text">Вы получили «'+ _ii[_v] +'»!<button class="cssGreenButton" ondblclick="return false" onclick="_Event();return false" hidefocus="true">Посмотреть</button></div></div>';
						_SGF_put('love', 'item-'+ _v);
					});
				}
				break;
				
			case __ge['RIP_SPOWER']:
				switch(parseInt(arr[1])){
					case 2:
						pla_data['act'] = arr[2];
						_GM_action("f", "upd", "pp_dh", "vte");
						_GM_action("", "upd", "acts");
						break;
					case 3:
						if ($("#upl_" + arr[2]).length){
							var _oo = $("#upl_" + arr[2]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+(arr[5] > 0 ? k_persons[arr[5]] : "unknown") + arr[6] +"_"+ arr[4] +".png)");
								$(_oo).attr("title", t_persons[arr[5]]);
								$(_oo).attr("label", arr[5]);
							}
						}
						var _m = '<div class="extra"><div class="img"><img src="/images/events/ripper/powers/3.png" alt="" /></div><div class="text">Интуиция подсказывает вам: '+_PL_nick(arr[2], arr[3], 'nick')+' - '+t_persons[arr[5]]+'</div></div>';
						if (gam_data['v_mode']){
							_GM_ChatBuffer.add("mid", _m);
						}else{
							_s = _m;
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['intuition'].play();
						break;
					case 4:
						switch(parseInt(arr[2])){
							case 0: _s = '<div class="extra"><div class="img"><img src="/images/events/ripper/powers/4.png" alt="" /></div><div class="text">Маскировка не помогла скрыться от Потрошителя</div></div>'; break;
							case 1: _s = '<div class="extra"><div class="img"><img src="/images/events/ripper/powers/4.png" alt="" /></div><div class="text">Доктор в полном ужасе убежал с места преступления Потрошителя</div></div>'; break;
							case 2: _s = '<div class="extra"><div class="img"><img src="/images/events/ripper/powers/4.png" alt="" /></div><div class="text">Комиссар в полном ужасе убежал с места преступления Потрошителя</div></div>'; break;
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['murder'].play();
						break;
					case 5:
						_s = '<div class="extra"><div class="img"><img src="/images/events/ripper/powers/5.png" alt="" /></div><div class="text">Потрошитель навестил этой ночью двух жертв!</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['double_punch'].play();
						break;
				}
				break;
			case __ge['RIP_DKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/ripper/powers/2.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит во сне призраком Потрошителя</div></div>';
				if (!_SOUND_err) _SOUND_arr['sfx']['nightmare'].play();
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				break;
			case __ge['RIP_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Моей жертвой будет '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['ripper_turn'].play();
				break;
			case __ge['RIP_INF']:
				if (pla_data['person'] != 34 || pla_data['dead']){
					_s = '<p class="night-turn">Потрошитель ищет новую жертву</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['ripper_turn'].play();
				}
				break;
			case __ge['RIP_KILL']:
				_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/ripper_'+ my_gender +'.png" class="miniRole" />Потрошитель убил '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+'</p>');
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
				
			case __ge['TAL_KILL']:
				switch(parseInt(arr[1])){
					case 0: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/35.png" alt="" /></div><div class="text">Мафиози навестили этой ночью двух жертв, используя талант «Жертвы мафии»</div></div>'; break;
					case 1: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/34.png" alt="" /></div><div class="text">Двуликий навестил этой ночью двух жертв, используя талант «Кровожадный Двуликий»</div></div>'; break;
					case 2: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/33.png" alt="" /></div><div class="text">Маньяк навестил этой ночью двух жертв, используя талант «Серийный Маньяк»</div></div>'; break;
				}
				break;
			case __ge['TAL_INF']:
				switch(parseInt(arr[1])){
					case 64: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/64.png" alt="" /></div><div class="text">'+ _PL_nick(arr[2], arr[3], 'nick') +' избежал заковывания в кандалы при помощи таланта «Сбросить цепи»</div></div>'; break;
					case 65: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/65.png" alt="" /></div><div class="text">Игрок был взорван на мине через миноискатель при помощи таланта «Особая мина»</div></div>'; break;
					case 68:
						if ($("#upl_" + arr[2]).length){
							var _oo = $("#upl_" + arr[2]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+(arr[5] > 0 ? k_persons[arr[5]] : "unknown") + arr[6] +"_"+ arr[4] +".png)");
								$(_oo).attr("title", t_persons[arr[5]]);
								$(_oo).attr("label", arr[5]);
							}
						}
						_s = '<div class="extra"><div class="img"><img src="/images/tal/x/68.png" alt="" /></div><div class="text">Талант «Разоблачение» дал результат: '+_PL_nick(arr[2], arr[3], 'nick')+' - '+t_persons[arr[5]]+'</div></div>';
						break;
					case 70:
						_s = '<div class="extra"><div class="img"><img src="/images/tal/x/70.png" alt="" /></div><div class="text">'+_PL_nick(arr[2], arr[3], 'nick')+' срикошетил пулю в случайного игрока при помощи таланта «Рикошет»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['iron_skin'].play();
						break;
					case 73: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/73.png" alt="" /></div><div class="text">Игрок был заморожен при помощи таланта «Мгновенный Босс»</div></div>'; break;
					case 76: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/76.png" alt="" /></div><div class="text">'+ _PL_nick(arr[2], arr[3], 'nick') +' увернулся от экстры Яд/Мегашокер 9000 при помощи таланта «Спасение от зрителей»</div></div>'; break;	
					case 77: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/77.png" alt="" /></div><div class="text">'+ _PL_nick(arr[2], arr[3], 'nick') +' увернулся от экстры Катана при помощи таланта «Уворот от катаны»</div></div>'; break;
					case 78: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/78.png" alt="" /></div><div class="text">'+ _PL_nick(arr[2], arr[3], 'nick') +' увернулся от экстры Снайперская винтовка при помощи таланта «Уворот от снайпера»</div></div>'; break;
					case 82: _s = '<div class="extra"><div class="img"><img src="/images/tal/x/82.png" alt="" /></div><div class="text">Игрок обезвредил растяжку при помощи таланта «Сапёр»</div></div>'; break;
					case 83: 
						_s = '<div class="extra"><div class="img"><img src="/images/tal/x/83.png" alt="" /></div><div class="text">'+ _PL_nick(arr[2], arr[3], 'nick') +' получил эффект «Воскрешение» при помощи таланта «Двойное воскрешение»</div></div>'; 
						ExtraAnim.add("amulet", arr[2]);
						break;
					case 84: 
						_s = '<div class="extra"><div class="img"><img src="/images/tal/x/84.png" alt="" /></div><div class="text">'+ _PL_nick(arr[2], arr[3], 'nick') +' потушил огонь при помощи таланта «Огнетушитель»</div></div>'; 
						ExtraAnim.remove(243, arr[2]);
						ExtraAnim.remove('fire', arr[2]);
						break;
					case 85:
						if ($("#upl_" + arr[2]).length){
							var _oo = $("#upl_" + arr[2]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+(arr[5] > 0 ? k_persons[arr[5]] : "unknown") + arr[6] +"_"+ arr[4] +".png)");
								$(_oo).attr("title", t_persons[arr[5]]);
								$(_oo).attr("label", arr[5]);
							}
						}
						_s = '<div class="extra"><div class="img"><img src="/images/tal/x/85.png" alt="" /></div><div class="text">Талант «Интуиция свидетеля» сообщает: '+_PL_nick(arr[2], arr[3], 'nick')+' - '+t_persons[arr[5]]+'</div></div>';
						break;
					case 86:
						if ($("#upl_" + arr[2]).length){
							var _oo = $("#upl_" + arr[2]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+(arr[5] > 0 ? k_persons[arr[5]] : "unknown") + arr[6] +"_"+ arr[4] +".png)");
								$(_oo).attr("title", t_persons[arr[5]]);
								$(_oo).attr("label", arr[5]);
							}
						}
						_s = '<div class="extra"><div class="img"><img src="/images/tal/x/86.png" alt="" /></div><div class="text">Талант «Интуиция комиссара» сообщает: '+_PL_nick(arr[2], arr[3], 'nick')+' - '+t_persons[arr[5]]+'</div></div>';
						break;	
				}
				break;	
				
			case __ge['BRD_SPOWER']:
				switch(parseInt(arr[1])){
					case 1:
						_s = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/1.png" alt="" /></div><div class="text">Чёрная Борода воскрес при помощи супер-силы «Бессмертие»!</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['beard_immortality'].play();
						var __data = (spc_id && !gam_id ? spc_data : gam_data);
						if (typeof __data['v_left'][arr[2]] != "undefined"){
							if (spc_id && !gam_id){
								spc_data['v_left'][arr[2]] ++;
							}else{
								gam_data['v_left'][arr[2]] ++;
							}
						}else{
							if (spc_id && !gam_id){
								spc_data['v_left'][arr[2]] = 1;
							}else{
								gam_data['v_left'][arr[2]] = 1;
							}
						}
						var __data = (spc_id && !gam_id ? spc_data : gam_data);
						if (typeof __data['v_left'] != "undefined" && !__data['no_rolebar']){
							var _team = ['', ''];
							var _team_c = [0, 0];
							$.each(__data['v_left'], function(_k, _v){
								var data_tip = '<img src=\'/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png\' class=\'hintRoleImg\' alt=\'\' /><div class=\'whoIsLifeText\'><h2>'+ t_persons[_k] +'</h2>'+ GetText.roleHint(k_persons[_k])+'</div>';
								_team[__team_by_person(_k)] += '<li class="role hoverHint" data-tip="'+ data_tip +'" id="whl_role_'+ _k +'"><div class="dead'+(parseInt(_v) > 0 ? ' not-displayed' : '')+'"></div><img src="/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png" alt="" /><span class="count'+(parseInt(_v) < 2 ? ' not-displayed' : '')+'">'+ _v +'</span></li>' +"\n";
								_team_c[__team_by_person(_k)] += parseInt(_v);
							});
							if (spc_id && !gam_id){
								$(".whoIsLife").html(_team[1] +'<div class="vs" style="font-size:15px;font-weight:bold;"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></div>'+ _team[0]);
							}else{
								$(".whoIsLife").html(_team[1] +'<li class="vs"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></li>'+ _team[0]);
							}
							ptip.init('.whoIsLife .hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause'});
						}
						if (arr[3] == my_id && !_spc){
							pla_data['dead'] = 0;
							pla_data['person'] = arr[2];
							pla_data['figure'] = '';
							if ($(".bookmarks").hasClass("dead")){
								$(".bookmarks").removeClass("dead");
							}
							if ($("#myExtras").hasClass("disabled")){
								$("#myExtras").removeClass("disabled");
							}
							if ($("#myExtras").hasClass("locked")){
								$("#myExtras").removeClass("locked");
							}
							$("#gamePage").removeClass("dead");
							$("#chatContainer").find(".smiles li.last-word:not(.not-displayed)").addClass("not-displayed").prev().removeClass("not-displayed");
							_GM_action("", "upd", "person", true);
							if (dlg_exit_tm) {
								clearTimeout(dlg_exit_tm);
								dlg_exit_tm = null;
							}
							_GM_action("f", "upd", "pp_dh", "dlg_exit");
						}
						if ($("#upl_" + arr[3]).length){
							var _oo = $("#upl_" + arr[3]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+(arr[2] > 0 ? k_persons[arr[2]] : "unknown") +"_"+ arr[5] +".png)");
								$(_oo).attr("title", t_persons[arr[2]]);
								$(_oo).attr("label", arr[2]);
							}
							var _oo = $("#upl_" + arr[3]).find(".noSpeak");
							if ($(_oo).length && !$(_oo).hasClass("not-displayed")){
								$(_oo).addClass("not-displayed");
							}
							var _oo = $("#upl_" + arr[3]).find(".name");
							if ($(_oo).length && $(_oo).hasClass("ndead")){
								$(_oo).removeClass("ndead");
							}
							var _oo = $("#upl_" + arr[3]).find(".ico");
							if ($(_oo).length && $(_oo).hasClass("idead")){
								$(_oo).removeClass("idead");
							}
							var _oo = $("#upl_" + arr[3]).find(".hint");
							if ($(_oo).length){
								$(_oo).html('');
							}
							var _oo = $("#upl_" + arr[3]).find(".dead");
							if ($(_oo).length){
								$(_oo).attr("label", 0);
								if (!$(_oo).hasClass("not-displayed")){
									$(_oo).addClass("not-displayed");
								}
							}
							var _oo = $("#upl_" + arr[3]).find(".actionButton");
							if ($(_oo).length){
								$(_oo).attr("label", "");
								if (!$(_oo).hasClass("off")) $(_oo).addClass("off");
							}
						}
						if (arr[3] == my_id && !_spc){
							_GM_action("", "upd", "pvt_dd");
							_GM_action("", "upd", "tabs");
						}
						_GM_action("", "upd", "acts");
						if (typeof reanim_tms[40] != "undefined" && reanim_tms[40] != null){
							clearTimeout(reanim_tms[40]);
							reanim_tms[40] = null;
						}
						break;
					case 2:
						if (!_spc && arr[2] == 2){
							_m = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/2.png" alt="" /></div><div class="text">Вы парализовали '+ _PL_nick(arr[3], arr[4], 'nick') +' при помощи супер-силы «Испуг»!</div></div>';
							if (gam_data['v_mode']){
								_GM_ChatBuffer.add("mid", _m);
							}else{
								_s = _m;
							}
						}else if (!_spc && arr[2] == 1){
							pla_data['act'] = -1;
							_GM_action("", "upd", "acts");
							_GM_action("", "upd", "freeze", 10);
						}else{
							var _m = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/2.png" alt="" /></div><div class="text">Чёрная Борода парализовал игрока при помощи супер-силы «Испуг»!</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['fright'].play();
							if (gam_data['v_mode']){
								_GM_ChatBuffer.add("mid", _m);
							}else{
								_s = _m;
							}
						}
						break;
					case 3:
						if (parseInt(arr[2]) == 2){
							_s = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/3.png" alt="" /></div><div class="text">Вы отравили игрока '+ _PL_nick(arr[3], arr[4], 'nick') +'</div></div>';
							if (!_spc) ExtraAnim.add("poison", arr[3]);
						}else{
							_s = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/3.png" alt="" /></div><div class="text">Чёрная борода отравил игрока при помощи супер-силы «Яд». Игрок умрёт через сутки</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['beard_poison'].play();
						}										
						break;
					case 4:
						_s = '<div class="proverka"><img src="/images/events/beard/popups/4.png" class="role" /><div class="bb">Супер-сила «Телепатия» раскрыла Вам: <em>'+ t_persons[arr[2]] +' сделал ход к игроку '+ _PL_nick(arr[3], arr[4], 'nick') +'</em></div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['telepat'].play();
						break;
					case 6:
						if ($("#upl_" + arr[2]).length){
							var _oo = $("#upl_" + arr[2]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+(arr[5] > 0 ? k_persons[arr[5]] : "unknown") + arr[6] +"_"+ arr[4] +".png)");
								$(_oo).attr("title", t_persons[arr[5]]);
								$(_oo).attr("label", arr[5]);
							}
						}
						var _m = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/6.png" alt="" /></div><div class="text">Шестое чувство подсказывает: '+_PL_nick(arr[2], arr[3], 'nick')+' - '+t_persons[arr[5]]+'</div></div>';
						if (gam_data['v_mode']){
							_GM_ChatBuffer.add("mid", _m);
						}else{
							_s = _m;
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['sixth_sense'].play();
						break;
					case 7:
						switch(parseInt(arr[2])){
							case 0: _s = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/7.png" alt="" /></div><div class="text">Маскировка не смогла спасти от убийства. Чёрная Борода использовал супер-силу «Призрак»</div></div>'; break;
							case 1: _s = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/7.png" alt="" /></div><div class="text">Доктор не смог спасти от убийства. Чёрная Борода использовал супер-силу «Призрак»</div></div>'; break;
							case 2: _s = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/7.png" alt="" /></div><div class="text">Комиссар не смог спасти от убийства. Чёрная Борода использовал супер-силу «Призрак»</div></div>'; break;
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['ghost'].play();
						break;
					case 8:
						switch (parseInt(arr[2])){
							case 1:
								if (!_spc && arr[3] == my_id){
									_s = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/8.png" alt="" /></div><div class="text">Вы убежали в укрытие</div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['ship_cannon_hide'].play();
								}
								ExtraAnim.remove(253, arr[3]);
								break;
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/8.png" alt="" /></div><div class="text">Все игроки успели укрыться</div></div>';
								break;
							default:
								if (!_spc) {
									var _m = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/8.png" alt="" /></div><div class="text">Чёрная Борода выстрелил из «Корабельной пушки»! Жми на кнопку, чтобы уцелеть!<button class="cssGreenButton" ondblclick="return false" onclick="_GM_action(\'\', \'ship_cannon\');return false;" hidefocus="true">В укрытие!</button></div></div>';
								} else {
									var _m = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/8.png" alt="" /></div><div class="text">Чёрная Борода выстрелил из «Корабельной пушки»!</div></div>';
								}
								if (gam_data['v_mode']){
									_GM_ChatBuffer.add("mid", _m);
								}else{
									_s = _m;
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['ship_cannon_fire'].play();
								if (!_spc){
									for (var _i = 0; _i < arr[3].length; _i++) {
										ExtraAnim.add(253, arr[3][_i]);
									}
								}
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 4;
									setTimeout(function(){
										if (SMU_update == -1 && !SMU_check_tf) SMU_update = 1;
									}, 10000);
								}
								break;
						}
						break;
					case 9:
						if (parseInt(arr[2]) == 1){ 
							if (!_spc){
								ExtraAnim.add(251, arr[3]);
							}
						}else{
							var _m = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/9.png" alt="" /></div><div class="text">Чёрная Борода поставил «Чёрную метку» на случайного игрока! Если он сделает ход, то сразу будет убит</div></div>';
							if (gam_data['v_mode']){
								_GM_ChatBuffer.add("mid", _m);
							}else{
								_s = _m;
							}
							if (!_SOUND_err) _SOUND_arr['sfx']['blackmark_set'].play();
						}
						break;
				}
				break;
			case __ge['BRD_PKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/3.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит супер-силой «Яд»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['beard_poison'].play();
				break;
			case __ge['BRD_BKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/5.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит супер-силой «Живая бомба»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['live_bomb'].play();
				break;
			case __ge['BRD_SKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/8.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит супер-силой «Корабельная пушка»</div></div>';
				if (!_SOUND_err) _SOUND_arr['sfx']['ship_cannon_kill'].play();
				if (!_spc) ExtraAnim.remove(253);
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				break;
			case __ge['BRD_MKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/beard/popups/9.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит супер-силой «Чёрная метка»</div></div>';
				if (!_SOUND_err) _SOUND_arr['sfx']['blackmark_kill'].play();
				if (!_spc) ExtraAnim.remove(251);
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				break;	
			case __ge['BRD_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Моей жертвой станет '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['beard_turn'].play();
				break;
			case __ge['BRD_INF']:
				if (pla_data['person'] != 40 || pla_data['dead']){
					_s = '<p class="night-turn">Чёрная Борода выбрал себе жертву</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['beard_turn'].play();
				}
				break;
			case __ge['BRD_KILL']:
				_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/beard_'+ my_gender +'.png" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит Чёрной Бородой</p>');
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['BRD_DIE']:
				if (arr[1] && arr[1].length){
					var _ii = ['Мешок с жетонами', 'Обычный сундук', 'Золотой сундук', 'Платиновый сундук', 'Бриллиантовый сундук'];
					_s = '';
					$.each(arr[1], function(_i, _v) {
						if (_v[0] == my_id && !_spc){
							_s += '<div class="extra"><div class="img"><img src="/images/events/beard/extras-gifts/item-'+ _v[2] +'.png" alt="" /></div><div class="text">Вы получили «'+ _ii[_v[2]] +'» за победу над Чёрной Бородой!<button class="cssGreenButton" ondblclick="return false" onclick="_Event();return false" hidefocus="true">Посмотреть</button></div></div>';
							_SGF_put('beard', 'item-'+ _v[2]);
						}else{
							_s += '<div class="extra"><div class="img"><img src="/images/events/beard/extras-gifts/item-'+ _v[2] +'.png" alt="" /></div><div class="text">'+ _PL_nick(_v[0], _v[1], false, false, true) +' получил «'+ _ii[_v[2]] +'» за победу над Чёрной Бородой! <a href="#" onclick="ers_uid=\''+ _v[0] +'\';_DLG(\'eraser\');return false" class="reply" hidefocus="true">Выстрелить из мушкета!</a></div></div>';
						}
					});
				}
				break;
			case __ge['BRD_OWN']:
				if (!_spc){
					var _ii = ['Мешок с жетонами', 'Обычный сундук', 'Золотой сундук', 'Платиновый сундук', 'Бриллиантовый сундук'];
					_s = '';
					$.each(arr[1], function(_i, _v) {
						_s += '<div class="extra"><div class="img"><img src="/images/events/beard/extras-gifts/item-'+ _v +'.png?3" alt="" /></div><div class="text">Вы получили «'+ _ii[_v] +'»!<button class="cssGreenButton" ondblclick="return false" onclick="_Event();return false" hidefocus="true">Посмотреть</button></div></div>';
						_SGF_put('beard', 'item-'+ _v);
					});
				}
				break;
				
			case __ge['MIG_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Ночью убью '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['turn_valentine'].play();
				break;
			case __ge['MIG_INF']:
				if ((pla_data['person'] != 21 && pla_data['person'] != 24 && pla_data['person'] != 43) || pla_data['dead']){
					if (!_SOUND_err) _SOUND_arr['sfx']['turn_valentine'].play();
					_s = '<p class="night-turn">Мигель выбрал цель для убийства</p>';
				}
				break;
			case __ge['MIG_KILL']:
				_s = '<p class="death-msg"><img src="/img/persons/big/migel_'+ my_gender +'.png" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит Мигелем</p>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['MIG_MISS']:
				_s = '<p class="night-msg">Мигель стрелял, но промахнулся!</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['miss'].play();
				break;
			case __ge['MIG_DKILL']:
				_s = '<p class="death-msg"><img src="/img/persons/big/migel_'+ my_gender +'.png" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит Мигелем из второго револьвера</p>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['MIG_MISS2']:
				_s = '<p class="night-msg">Мигель промахнулся из второго револьвера!</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['miss'].play();
				break;	
			case __ge['MIG_HKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/1.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит супер-силой «Заложники»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['revolver'].play();
				break;
			case __ge['MIG_RDKILL']:
				if (parseInt(arr[4]) == 21){
					_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/2.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' застрелил сам себя</div></div>';
				}else{
					_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/2.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит супер-силой «Бешеный пёс»</div></div>';
				}
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['revolver'].play();
				break;
			case __ge['MIG_MKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/3.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит супер-силой «Мгновенный выстрел»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['turn_valentine'].play();
				break;
			case __ge['MIG_PKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/8.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит супер-силой «Змеиный яд»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['poison_kill'].play();
				break;
			case __ge['MIG_SHKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/7.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит в перестрелке игроком '+_PL_nick(arr[7][0], arr[7][1], 'nick')+'</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['revolver'].play();
				break;
			case __ge['MIG_AKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/5.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит супер-силой «Гора динамита»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) {
					_SOUND_arr['sfx']['tnt_explode'].stop();
					_SOUND_arr['sfx']['tnt_explode'].play();
				}
				break;
			case __ge['MIG_AAKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/5.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' пожертвовал собой, добавив к таймеру +1 минуту</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_spc){
					gam_data['dynamits'] = parseInt(arr[7][0]);
					_GM_action("", "dynamits", "upd");
				}
				if (!_SOUND_err) _SOUND_arr['sfx']['tnt_sacrifice'].play();
				break;	
			case __ge['MIG_SPOWER']:
				switch(parseInt(arr[1])){
					case 1:	
						if (!_spc && arr[2] == 1){
							if (arr[3]){
								$.each(arr[3], function(_i, _v) {
									ExtraAnim.add("hostage", _v);
								});
							}
						}else{
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/1.png" alt="" /></div><div class="text">Братья Бандитос взяли в заложники двух игроков! Если комиссар раскроет роль любого из команды Бандитос, то заложники будут убиты!</div></div>';
						}
						break;
					case 2:
						if (parseInt(arr[2]) == 3){
							if (!_spc && !pla_data['dead'] && pla_data['person'] == 21) {
								pla_data['rvs_dog'] = 1;
								_GM_action("", "rvs_dog");
							}
							_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/2.png" alt="" /></div><div class="text">Мигель готов убивать при помощи супер-силы «Бешеный пёс»!</div></div>');
						}else if (parseInt(arr[2]) == 2 && !_spc){
							_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/2.png" alt="" /></div><div class="text">До активации супер-силы «Бешеный пёс» остался один день!</div></div>');
						}else if (parseInt(arr[2]) == 1 && !_spc){
							_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/2.png" alt="" /></div><div class="text">Вы выбрали супер-силу «Бешеный пёс»! Скоро начнётся бойня!</div></div>');
						}else if (!_spc){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/2.png" alt="" /></div><div class="text">Мигель выбрал супер-силу «Бешеный пёс»! Через 3 дня Мигель начинает стрельбу до тех пор, пока не убьёт всех соперников или не застрелит сам себя.</div></div>';
							_CHT_append("ctn", _s);
							if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
								$("#ctn_tab").addClass("new-message");
							}
							_s = '';
						}
						break;	
					case 3:
						if (!_spc){
							if (arr[2] == 1){
								pla_data['act'] = -1;
								_GM_action("", "upd", "acts");
							}else{
								_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/3.png" alt="" /></div><div class="text">Мигель выбрал супер-силу «Мгновенный выстрел»! Теперь Мигель не ждёт конца ночного хода, а стреляет сразу</div></div>';
								_CHT_append("ctn", _s);
								if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
									$("#ctn_tab").addClass("new-message");
								}
								_s = '';
							}
						}
						break;
					case 4:	
						if (!_spc){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/4.png" alt="" /></div><div class="text">Мигель выбрал супер-силу «Второй револьвер»! Теперь у Мигеля есть шанс на второй выстрел по случайной цели</div></div>';
							_CHT_append("ctn", _s);
							if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
								$("#ctn_tab").addClass("new-message");
							}
							_s = '';
						}
						break;
					case 5:	
						_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/5.png" alt="" /></div><div class="text">Братья Бандитос включили таймер на супер-силе «Гора динамита»! Как только таймер закончится, все соперники братьев будут убиты! Игроки могут жертвовать собой для продления таймера.</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['tnt_use'].play();
						if (!_spc){
							gam_data['dynamits'] = 120;
							_GM_action("", "dynamits");
						}
						break;	
					case 6:
						if (parseInt(arr[2]) == 1){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/6.png" alt="" /></div><div class="text">Пуля Мигеля срикошетила в случайного игрока</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['ricochet'].play();
						}else if (!_spc){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/6.png" alt="" /></div><div class="text">Мигель выбрал супер-силу «Рикошет»! В случае промаха пуля Мигеля срикошетит в случайного соперника</div></div>';
							_CHT_append("ctn", _s);
							if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
								$("#ctn_tab").addClass("new-message");
							}
							_s = '';
						}
						break;
					case 7:
						if (parseInt(arr[2]) == 3){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/7.png" alt="" /></div><div class="text">'+ _PL_nick(arr[3], arr[4], 'nick') +' промахнулся в перестрелке</div></div>';
						}else if (parseInt(arr[2]) == 2){
							if (!_spc && !pla_data['dead']) {
								pla_data['rvs_dog'] = 2;
								_GM_action("", "rvs_dog");
								setTimeout(function(){
									_GM_action("", "rvs_dog", "remove");
								}, 10000);
							}
							_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/7.png" alt="" /></div><div class="text">Супер-сила «Перестрелка» активна! Каждый игрок может выстрелить в случайного игрока!</div></div>');
						}else if (parseInt(arr[2]) == 1 && !_spc){
							_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/7.png" alt="" /></div><div class="text">Вы выбрали супер-силу «Перестрелка»! Скоро начнётся веселье!</div></div>');
						}else if (!_spc){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/7.png" alt="" /></div><div class="text">Мигель выбрал супер-силу «Перестрелка»! Через 1 день все игроки стреляют друг в друга.</div></div>';
							_CHT_append("ctn", _s);
							if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
								$("#ctn_tab").addClass("new-message");
							}
							_s = '';
						}
						break;
					case 8:	
						if (parseInt(arr[2]) == 2 && !_spc){
							ExtraAnim.add("poison", arr[3]);
						}else if (parseInt(arr[2]) == 1){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/8.png" alt="" /></div><div class="text">Игрок был отравлен супер-силой «Змеиный яд» и умрёт через сутки!</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['beard_poison'].play();
						}else if (!_spc){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/8.png" alt="" /></div><div class="text">Мигель выбрал супер-силу «Змеиный яд»! Змеиный яд отравляет соседнего с жертвой Мигеля игрока</div></div>';
							_CHT_append("ctn", _s);
							if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
								$("#ctn_tab").addClass("new-message");
							}
							_s = '';
						}
						break;
				}
				break;
				
			case __ge['SNC_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Ночью убью '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['turn_valentine'].play();
				break;
			case __ge['SNC_INF']:
				if ((pla_data['person'] != 21 && pla_data['person'] != 24 && pla_data['person'] != 43) || pla_data['dead']){
					if (!_SOUND_err) _SOUND_arr['sfx']['turn_valentine'].play();
					_s = '<p class="night-turn">Санчо выбрал цель для убийства</p>';
				}
				break;
			case __ge['SNC_KILL']:
				_s = '<p class="death-msg"><img src="/img/persons/big/sancho_'+ my_gender +'.png" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит Санчо</p>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['SNC_MISS']:
				_s = '<p class="night-msg">Санчо стрелял, но промахнулся!</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['miss'].play();
				break;
			case __ge['SNC_SPOWER']:
				switch(parseInt(arr[1])){
					case 9:	
						if (!_spc){
							if (parseInt(arr[2]) == 2){
								switch(parseInt(arr[3])){
									case 1: _s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/9.png" alt="" /></div><div class="text">Маскировка не смогла спасти жертву супер-силы «Маркировка»</div></div>'; break;
									case 2: _s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/9.png" alt="" /></div><div class="text">Доктор не смог спасти жертву супер-силы «Маркировка»</div></div>'; break;
									case 3: _s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/9.png" alt="" /></div><div class="text">Комиссар не смог спасти жертву супер-силы «Маркировка»</div></div>'; break;
								}
							}else{
								if (parseInt(arr[2]) == 1){
									_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/9.png" alt="" /></div><div class="text">Санчо установил маркировку на '+_PL_nick(arr[3], arr[4], 'nick')+'. Любой из братьев наносит пробивной выстрел по этой цели.</div></div>';
									ExtraAnim.add("mark", arr[3]);
								}else{
									_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/9.png" alt="" /></div><div class="text">Санчо выбрал супер-силу «Маркировка»! В начале ночи Санчо маркирует случайную цель. Любой из братьев наносит пробивной выстрел по этой цели</div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['mark_use'].play();
								}
								_CHT_append("ctn", _s);
								if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
									$("#ctn_tab").addClass("new-message");
								}
								_s = '';
							}
						}
						break;
					case 10:
						if (parseInt(arr[2]) == 2 && !_spc){
							if (gam_data['v_mode']){
								night_frz = 1;
							}else{
								pla_data['act'] = -1;
								_GM_action("", "upd", "acts");
								//_GM_action("", "upd", "freeze", 14);
								_s = '<p class="info-msg freeze-txt">Вас лишили ночного хода при помощи супер-силы «Текила»!</p>';
							}
						}else if (parseInt(arr[2]) == 1){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/10.png" alt="" /></div><div class="text">Супер-сила «Текила» лишила ночного хода случайного активного игрока</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['rum_set'].play();
						}else if (!_spc){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/10.png" alt="" /></div><div class="text">Санчо выбрал супер-силу «Текила»! Текила лишает ночного хода случайного активного игрока. 3 раза за партию.</div></div>';
							_CHT_append("ctn", _s);
							if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
								$("#ctn_tab").addClass("new-message");
							}
							_s = '';
						}
						break;
					case 12:
						if (!_spc){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/12.png" alt="" /></div><div class="text">Санчо выбрал супер-силу «Прицельный выстрел»! Оба брата всегда стреляют без промаха, пока Санчо жив</div></div>';
							_CHT_append("ctn", _s);
							if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
								$("#ctn_tab").addClass("new-message");
							}
							_s = '';
						}
						break;
					case 13:
						if (parseInt(arr[2]) == 2){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/13.png" alt="" /></div><div class="text">'+_PL_nick(arr[4], arr[5], 'nick')+' был освобождён из тюрьмы Братьями Бандитос! Теперь '+_PL_nick(arr[4], arr[5], 'nick')+' играет за команду Бандитос!</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['escape'].play();
							var __data = (spc_id && !gam_id ? spc_data : gam_data);
							if (typeof __data['v_left'][arr[3]] != "undefined"){
								if (spc_id && !gam_id){
									spc_data['v_left'][arr[3]] ++;
								}else{
									gam_data['v_left'][arr[3]] ++;
								}
							}else{
								if (spc_id && !gam_id){
									spc_data['v_left'][arr[3]] = 1;
								}else{
									gam_data['v_left'][arr[3]] = 1;
								}
							}
							var __data = (spc_id && !gam_id ? spc_data : gam_data);
							if (typeof __data['v_left'] != "undefined" && !__data['no_rolebar']){
								var _team = ['', ''];
								var _team_c = [0, 0];
								$.each(__data['v_left'], function(_k, _v){
									var data_tip = '<img src=\'/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png\' class=\'hintRoleImg\' alt=\'\' /><div class=\'whoIsLifeText\'><h2>'+ t_persons[_k] +'</h2>'+ GetText.roleHint(k_persons[_k])+'</div>';
									_team[__team_by_person(_k)] += '<li class="role hoverHint" data-tip="'+ data_tip +'" id="whl_role_'+ _k +'"><div class="dead'+(parseInt(_v) > 0 ? ' not-displayed' : '')+'"></div><img src="/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png" alt="" /><span class="count'+(parseInt(_v) < 2 ? ' not-displayed' : '')+'">'+ _v +'</span></li>' +"\n";
									_team_c[__team_by_person(_k)] += parseInt(_v);
								});
								if (spc_id && !gam_id){
									$(".whoIsLife").html(_team[1] +'<div class="vs" style="font-size:15px;font-weight:bold;"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></div>'+ _team[0]);
								}else{
									$(".whoIsLife").html(_team[1] +'<li class="vs"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></li>'+ _team[0]);
								}
								ptip.init('.whoIsLife .hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause'});
							}
							if (arr[4] == my_id && !_spc){
								pla_data['dead'] = 0;
								pla_data['person'] = arr[3];
								pla_data['figure'] = '';
								if ($(".bookmarks").hasClass("dead")){
									$(".bookmarks").removeClass("dead");
								}
								if ($("#myExtras").hasClass("disabled")){
									$("#myExtras").removeClass("disabled");
								}
								if ($("#myExtras").hasClass("locked")){
									$("#myExtras").removeClass("locked");
								}
								$("#gamePage").removeClass("dead");
								$("#chatContainer").find(".smiles li.last-word:not(.not-displayed)").addClass("not-displayed").prev().removeClass("not-displayed");
								_GM_action("", "upd", "person", true);
								if (dlg_exit_tm) {
									clearTimeout(dlg_exit_tm);
									dlg_exit_tm = null;
								}
								_GM_action("f", "upd", "pp_dh", "dlg_exit");
							}
							if ($("#upl_" + arr[4]).length){
								var _oo = $("#upl_" + arr[4]).find(".ico");
								if ($(_oo).length){
									$(_oo).css("background-image", "url(/img/persons/big/"+(arr[3] > 0 ? k_persons[arr[3]] : "unknown") +"_"+ arr[6] +".png)");
									$(_oo).attr("title", t_persons[arr[3]]);
									$(_oo).attr("label", arr[3]);
								}
								var _oo = $("#upl_" + arr[4]).find(".noSpeak");
								if ($(_oo).length && !$(_oo).hasClass("not-displayed")){
									$(_oo).addClass("not-displayed");
								}
								var _oo = $("#upl_" + arr[4]).find(".name");
								if ($(_oo).length && $(_oo).hasClass("ndead")){
									$(_oo).removeClass("ndead");
								}
								var _oo = $("#upl_" + arr[4]).find(".ico");
								if ($(_oo).length && $(_oo).hasClass("idead")){
									$(_oo).removeClass("idead");
								}
								var _oo = $("#upl_" + arr[4]).find(".hint");
								if ($(_oo).length){
									$(_oo).html('');
								}
								var _oo = $("#upl_" + arr[4]).find(".dead");
								if ($(_oo).length){
									$(_oo).attr("label", 0);
									if (!$(_oo).hasClass("not-displayed")){
										$(_oo).addClass("not-displayed");
									}
								}
								var _oo = $("#upl_" + arr[4]).find(".actionButton");
								if ($(_oo).length){
									$(_oo).attr("label", "");
									if (!$(_oo).hasClass("off")) $(_oo).addClass("off");
								}
							}
							if (arr[4] == my_id && !_spc){
								_GM_action("", "upd", "pvt_dd");
								_GM_action("", "upd", "tabs");
							}
							_GM_action("", "upd", "acts");
						}else if (parseInt(arr[2]) == 1){
							_DLG("bandit_pw");
							setTimeout(function(){
								_DLG("bandit_pw", 1);
							}, 7000);
						}else if (!_spc){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/13.png" alt="" /></div><div class="text">Санчо выбрал супер-силу «Стань бандитом!»! Освобождает посаженного игрока из тюрьмы в роли «Бандит», если тот примет предложение. 1 бандит за партию. Бандит играет за команду «Бандитос»</div></div>';
							_CHT_append("ctn", _s);
							if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
								$("#ctn_tab").addClass("new-message");
							}
							_s = '';
						}
						break;
					case 11:
						if (parseInt(arr[2]) == 4){
							if (arr[3]){
								_z = '';
								$.each(arr[3], function(_i, _v) {
									if ($("#upl_" + _v[0]).length){
										var _oo = $("#upl_" + _v[0]).find(".ico");
										if ($(_oo).length){
											$(_oo).css("background-image", "url(/img/persons/big/"+(_v[1] > 0 ? k_persons[_v[1]] : "unknown") + _v[2] +"_"+ _v[4] +".png)");
											$(_oo).attr("title", t_persons[_v[1]]);
											$(_oo).attr("label", _v[1]);
										}
									}
									_z += '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/11.png" alt="" /></div><div class="text">Орлиный глаз раскрыл роль: '+_PL_nick(_v[0], _v[3], 'nick')+' - '+t_persons[_v[1]]+'</div></div>';
								});
								if (_z != '') _GM_ChatBuffer.add("day", _z);
							}
						}else if (parseInt(arr[2]) == 3){
							_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/11.png" alt="" /></div><div class="text">Санчо раскрыл роли всех игроков помощи супер-силы «Орлиный глаз»!</div></div>');
							if (!_SOUND_err) _SOUND_arr['sfx']['eagle_eye'].play();
						}else if (parseInt(arr[2]) == 2 && !_spc){
							_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/11.png" alt="" /></div><div class="text">До активации супер-силы «Орлиный глаз» остался один день!</div></div>');
						}else if (parseInt(arr[2]) == 1 && !_spc){
							_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/11.png" alt="" /></div><div class="text">Вы выбрали супер-силу «Орлиный глаз»! Скоро все роли будут раскрыты!</div></div>');
						}else if (!_spc){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/11.png" alt="" /></div><div class="text">Санчо выбрал супер-силу «Орлиный глаз»! Через 3 дня Санчо раскроет роли всех игроков в партии.</div></div>';
							_CHT_append("ctn", _s);
							if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
								$("#ctn_tab").addClass("new-message");
							}
							_s = '';
						}
						break;
					case 14:
						if (parseInt(arr[2]) == 1 && !_spc){
							_s = '<div class="proverka"><img src="/images/events/banditos/powers/14.png" class="role" /><div class="bb">Супер-сила «Подслушано» раскрыла ход: <em>'+ t_persons[arr[3]] +' сделал ход к игроку '+ _PL_nick(arr[4], arr[5], 'nick') +'</em></div></div>';
						}else if (!_spc){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/14.png" alt="" /></div><div class="text">Санчо выбрал супер-силу «Подслушано»! Ночью вскрывает первый активный ход игрока.</div></div>';
							_CHT_append("ctn", _s);
							if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
								$("#ctn_tab").addClass("new-message");
							}
							_s = '';
						}
						break;	
					case 15:
						if (!_spc){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/15.png" alt="" /></div><div class="text">Санчо выбрал супер-силу «Отмычки»! Освобождает любого брата из тюрьмы 1 раз за партию.</div></div>';
							_CHT_append("ctn", _s);
							if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
								$("#ctn_tab").addClass("new-message");
							}
							_s = '';
						}
						break;
					case 16:
						if (!_spc){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/16.png" alt="" /></div><div class="text">Санчо выбрал супер-силу «Полевой доктор»! Воскрешает любого брата при убийстве 2 раза за партию.</div></div>';
							_CHT_append("ctn", _s);
							if (!$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
								$("#ctn_tab").addClass("new-message");
							}
							_s = '';
						}
						break;	
				}
				break;
				
			case __ge['ARE_INF']:
				switch(parseInt(arr[1])){
					case 1:
						if (parseInt(arr[2]) == 3){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/7.png" alt="" /></div><div class="text">'+ _PL_nick(arr[3], arr[4], 'nick') +' промахнулся в перестрелке</div></div>';
						}else if (parseInt(arr[2]) == 2){
							if (!_spc && !pla_data['dead']) {
								_GM_action("", "a_shootout");
								setTimeout(function(){
									_GM_action("", "a_shootout", "remove");
								}, 10000);
							}
							_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/7.png" alt="" /></div><div class="text">Перестрелка активна! Каждый игрок может выстрелить в случайного игрока!</div></div>');
						}
						break;
					case 2:
						switch (parseInt(arr[2])){
							case 0:
								_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/3.png" alt="" /></div><div class="text">'+ _PL_nick(arr[3], arr[4], 'nick') +' провалил обезвреживание «Атомной бомбы»</div></div>';
								if (!_spc && typeof gam_data['atm_bomb'] != "undefined") {
									gam_data['atm_bomb'][1] ++;
									_GM_action("", "atm_bomb", "upd");
								}
								break;
							case 1:
								_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/lili/powers/3.png" alt="" /></div><div class="text">Вы установили «Атомную бомбу»! Скоро бомба активируется</div></div>');
								break;
							case 2:
								_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/lili/powers/3.png" alt="" /></div><div class="text">До активации «Атомной бомбы» остался один день</div></div>');
								break;
							case 3:
								_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/lili/powers/3.png" alt="" /></div><div class="text">Атомная бомба активирована! Бомба взорвётся, если провалов будет больше, чем удачных попыток</div></div>');
								if (!_spc){
									gam_data['atm_bomb'] = [20, 0, 0];
									_GM_action("", "atm_bomb");
								}
								if (!_spc && pla_data['person'] != 3 && !pla_data['dead']){
									pla_data['mab'] = 15;
									_GM_action("", "man_abomb");
								}
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 5;
									setTimeout(function(){
										if (SMU_update == -1 && !SMU_check_tf) SMU_update = 1;
									}, 13000);
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['bomb_atom_use'].play();
								break;
							case 4:
								_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/3.png" alt="" /></div><div class="text">Игрокам удалось дезактивировать «Атомную бомбу»</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['bomb_atom_deactivate'].play();
								if (!_spc) _GM_action("", "atm_bomb", "remove");
								break;
							case 5: 
								_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/3.png" alt="" /></div><div class="text">'+ _PL_nick(arr[3], arr[4], 'nick') +' обезвредил «Атомную бомбу»</div></div>';
								if (!_spc && typeof gam_data['atm_bomb'] != "undefined") {
									gam_data['atm_bomb'][2] ++;
									_GM_action("", "atm_bomb", "upd");
								}
								break;
						}
						break;
				}
				break;
			case __ge['ARE_SHKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/7.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит в перестрелке игроком '+_PL_nick(arr[7][0], arr[7][1], 'nick')+'</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['revolver'].play();
				break;
			case __ge['ARE_AKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/3.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит «Атомной бомбой»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) {
					_SOUND_arr['sfx']['bomb_atom_do'].stop();
					_SOUND_arr['sfx']['bomb_atom_do'].play();
				}
				break;
				
			case __ge['BAN_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Ночью убью '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['turn_valentine'].play();
				break;
			case __ge['BAN_INF']:
				if ((pla_data['person'] != 21 && pla_data['person'] != 24 && pla_data['person'] != 43) || pla_data['dead']){
					if (!_SOUND_err) _SOUND_arr['sfx']['turn_valentine'].play();
					_s = '<p class="night-turn">Бандит выбрал цель для убийства</p>';
				}
				break;
			case __ge['BAN_KILL']:
				_s = '<p class="death-msg"><img src="/img/persons/big/bandit_'+ my_gender +'.png" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит Бандитом</p>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			
			case __ge['PRO_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if (!_SOUND_err) _SOUND_arr['sfx']['prof_turn'].play();
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Ночью убью '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				break;
			case __ge['PRO_INF']:
				if ((pla_data['person'] != 18 && pla_data['person'] != 19 && pla_data['person'] != 42) || pla_data['dead']){
					if (!_SOUND_err) _SOUND_arr['sfx']['prof_turn'].play();
					_s = '<p class="night-turn">Чокнутый Профессор выбрал цель для убийства</p>';
				}
				break;
			case __ge['PRO_KILL']:
				_s = '<p class="death-msg"><img src="/img/persons/big/professor_'+ my_gender +'.png" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит Чокнутым Профессором</p>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['PRO_PKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/9.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит супер-силой «Яд»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['poison_kill'].play();
				break;
			case __ge['PRO_SKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/6.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' умер от «Вируса сна»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['virus_sleep'].play();
				break;
			case __ge['PRO_YKILL']:
				_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/prof/powers/2.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит игроком '+_PL_nick(arr[7][0], arr[7][1], 'nick')+' в припадке от «Вируса ярости»</div></div>');
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['virus_rage'].play();
				break;
			case __ge['PRO_CKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/4.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' умер от «Вируса чумы»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['virus_plague'].play();
				break;
			case __ge['PRO_SPOWER']:
				switch(parseInt(arr[1])){
					case 1:
						if (!_spc && arr[2] == 2){
							var _m = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/1.png" alt="" /></div><div class="text">Вы парализовали '+ _PL_nick(arr[3], arr[4], 'nick') +' при помощи супер-силы «Вирус страха»!</div></div>';
							if (gam_data['v_mode']){
								_GM_ChatBuffer.add("mid", _m);
							}else{
								_s = _m;
							}
						}else if (!_spc && arr[2] == 1){
							pla_data['act'] = -1;
							_GM_action("", "upd", "acts");
							_GM_action("", "upd", "freeze", 11);
						}else{
							var _m = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/1.png" alt="" /></div><div class="text">Чокнутый Профессор парализовал игрока при помощи супер-силы «Вирус страха»!</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['fright'].play();
							if (gam_data['v_mode']){
								_GM_ChatBuffer.add("mid", _m);
							}else{
								_s = _m;
							}
						}
						break;
					case 3:
						_s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/3.png" alt="" /></div><div class="text">Чокнутый Профессор воскрес при помощи «Эликсира бессмертия»!</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['beard_immortality'].play();
						var __data = (spc_id && !gam_id ? spc_data : gam_data);
						if (typeof __data['v_left'][arr[2]] != "undefined"){
							if (spc_id && !gam_id){
								spc_data['v_left'][arr[2]] ++;
							}else{
								gam_data['v_left'][arr[2]] ++;
							}
						}else{
							if (spc_id && !gam_id){
								spc_data['v_left'][arr[2]] = 1;
							}else{
								gam_data['v_left'][arr[2]] = 1;
							}
						}
						var __data = (spc_id && !gam_id ? spc_data : gam_data);
						if (typeof __data['v_left'] != "undefined" && !__data['no_rolebar']){
							var _team = ['', ''];
							var _team_c = [0, 0];
							$.each(__data['v_left'], function(_k, _v){
								var data_tip = '<img src=\'/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png\' class=\'hintRoleImg\' alt=\'\' /><div class=\'whoIsLifeText\'><h2>'+ t_persons[_k] +'</h2>'+ GetText.roleHint(k_persons[_k])+'</div>';
								_team[__team_by_person(_k)] += '<li class="role hoverHint" data-tip="'+ data_tip +'" id="whl_role_'+ _k +'"><div class="dead'+(parseInt(_v) > 0 ? ' not-displayed' : '')+'"></div><img src="/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png" alt="" /><span class="count'+(parseInt(_v) < 2 ? ' not-displayed' : '')+'">'+ _v +'</span></li>' +"\n";
								_team_c[__team_by_person(_k)] += parseInt(_v);
							});
							if (spc_id && !gam_id){
								$(".whoIsLife").html(_team[1] +'<div class="vs" style="font-size:15px;font-weight:bold;"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></div>'+ _team[0]);
							}else{
								$(".whoIsLife").html(_team[1] +'<li class="vs"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></li>'+ _team[0]);
							}
							ptip.init('.whoIsLife .hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause'});
						}
						if (arr[3] == my_id && !_spc){
							pla_data['dead'] = 0;
							pla_data['person'] = arr[2];
							pla_data['figure'] = '';
							if ($(".bookmarks").hasClass("dead")){
								$(".bookmarks").removeClass("dead");
							}
							if ($("#myExtras").hasClass("disabled")){
								$("#myExtras").removeClass("disabled");
							}
							if ($("#myExtras").hasClass("locked")){
								$("#myExtras").removeClass("locked");
							}
							$("#gamePage").removeClass("dead");
							$("#chatContainer").find(".smiles li.last-word:not(.not-displayed)").addClass("not-displayed").prev().removeClass("not-displayed");
							_GM_action("", "upd", "person", true);
							if (dlg_exit_tm) {
								clearTimeout(dlg_exit_tm);
								dlg_exit_tm = null;
							}
							_GM_action("f", "upd", "pp_dh", "dlg_exit");
						}
						if ($("#upl_" + arr[3]).length){
							var _oo = $("#upl_" + arr[3]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+(arr[2] > 0 ? k_persons[arr[2]] : "unknown") +"_"+ arr[5] +".png)");
								$(_oo).attr("title", t_persons[arr[2]]);
								$(_oo).attr("label", arr[2]);
							}
							var _oo = $("#upl_" + arr[3]).find(".noSpeak");
							if ($(_oo).length && !$(_oo).hasClass("not-displayed")){
								$(_oo).addClass("not-displayed");
							}
							var _oo = $("#upl_" + arr[3]).find(".name");
							if ($(_oo).length && $(_oo).hasClass("ndead")){
								$(_oo).removeClass("ndead");
							}
							var _oo = $("#upl_" + arr[3]).find(".ico");
							if ($(_oo).length && $(_oo).hasClass("idead")){
								$(_oo).removeClass("idead");
							}
							var _oo = $("#upl_" + arr[3]).find(".hint");
							if ($(_oo).length){
								$(_oo).html('');
							}
							var _oo = $("#upl_" + arr[3]).find(".dead");
							if ($(_oo).length){
								$(_oo).attr("label", 0);
								if (!$(_oo).hasClass("not-displayed")){
									$(_oo).addClass("not-displayed");
								}
							}
							var _oo = $("#upl_" + arr[3]).find(".actionButton");
							if ($(_oo).length){
								$(_oo).attr("label", "");
								if (!$(_oo).hasClass("off")) $(_oo).addClass("off");
							}
						}
						if (arr[3] == my_id && !_spc){
							_GM_action("", "upd", "pvt_dd");
							_GM_action("", "upd", "tabs");
						}
						_GM_action("", "upd", "acts");
						if (typeof reanim_tms[18] != "undefined" && reanim_tms[18] != null){
							clearTimeout(reanim_tms[18]);
							reanim_tms[18] = null;
						}
						break;
					case 4:
						switch (parseInt(arr[2])){
							case 1:
								_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/prof/powers/4.png" alt="" /></div><div class="text">Вы распылили «Вирус чумы»! Скоро половина игроков умрёт от вируса!</div></div>');
								break;
							case 2:
								_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/prof/powers/4.png" alt="" /></div><div class="text">До действия «Вируса чумы» остался один день!</div></div>');
								break;
						}
						break;	
					case 5:
						if (!parseInt(arr[2])){
							if (!_spc && $("#upl_" + arr[3]).length){
								var _oo = $("#upl_" + arr[3]).find(".ico");
								if ($(_oo).length){
									$(_oo).css("background-image", "url(/img/persons/big/"+ k_persons[arr[4]] + arr[5] +"_"+ arr[6] +".png)");
									$(_oo).attr("title", t_persons[arr[4]]);
									$(_oo).attr("label", arr[4]);
								}
							}
						}else{	
							switch (parseInt(arr[2])){
								case 1:
									_s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/5.png" alt="" /></div><div class="text">'+_PL_nick(arr[4], arr[5], 'nick')+' превращён в Голема! Голем умрёт, как только убьют или посадят Чокнутого Профессора.</div></div>';
									break;
								case 2:
									_s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/5.png" alt="" /></div><div class="text">Голем вернулся к жизни! Голем умрёт, как только убьют или посадят Чокнутого Профессора.</div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['resurrect'].play();
									break;
								case 3:
									_s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/5.png" alt="" /></div><div class="text">Голем проломил стену и сбежал из тюрьмы! Голем умрёт, как только убьют или посадят Чокнутого Профессора.</div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['escape'].play();
									break;
								case 4:
									_s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/7.png" alt="" /></div><div class="text">Супер-Мутант проломил стену и сбежал из тюрьмы!</div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['escape'].play();
									break;
								case 5:
									_s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/7.png" alt="" /></div><div class="text">Супер-Мутант вернулся к жизни! Его можно только посадить в тюрьму на дневном голосовании.</div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['resurrect'].play();
									break;	
							}
							if (!_SOUND_err) _SOUND_arr['sfx']['beard_immortality'].play();
							var __data = (spc_id && !gam_id ? spc_data : gam_data);
							if (typeof __data['v_left'][arr[3]] != "undefined"){
								if (spc_id && !gam_id){
									spc_data['v_left'][arr[3]] ++;
								}else{
									gam_data['v_left'][arr[3]] ++;
								}
							}else{
								if (spc_id && !gam_id){
									spc_data['v_left'][arr[3]] = 1;
								}else{
									gam_data['v_left'][arr[3]] = 1;
								}
							}
							var __data = (spc_id && !gam_id ? spc_data : gam_data);
							if (typeof __data['v_left'] != "undefined" && !__data['no_rolebar']){
								var _team = ['', ''];
								var _team_c = [0, 0];
								$.each(__data['v_left'], function(_k, _v){
									var data_tip = '<img src=\'/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png\' class=\'hintRoleImg\' alt=\'\' /><div class=\'whoIsLifeText\'><h2>'+ t_persons[_k] +'</h2>'+ GetText.roleHint(k_persons[_k])+'</div>';
									_team[__team_by_person(_k)] += '<li class="role hoverHint" data-tip="'+ data_tip +'" id="whl_role_'+ _k +'"><div class="dead'+(parseInt(_v) > 0 ? ' not-displayed' : '')+'"></div><img src="/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png" alt="" /><span class="count'+(parseInt(_v) < 2 ? ' not-displayed' : '')+'">'+ _v +'</span></li>' +"\n";
									_team_c[__team_by_person(_k)] += parseInt(_v);
								});
								if (spc_id && !gam_id){
									$(".whoIsLife").html(_team[1] +'<div class="vs" style="font-size:15px;font-weight:bold;"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></div>'+ _team[0]);
								}else{
									$(".whoIsLife").html(_team[1] +'<li class="vs"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></li>'+ _team[0]);
								}
								ptip.init('.whoIsLife .hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause'});
							}
							if (arr[4] == my_id && !_spc){
								pla_data['dead'] = 0;
								pla_data['person'] = arr[3];
								pla_data['figure'] = '';
								if ($(".bookmarks").hasClass("dead")){
									$(".bookmarks").removeClass("dead");
								}
								if ($("#myExtras").hasClass("disabled")){
									$("#myExtras").removeClass("disabled");
								}
								if ($("#myExtras").hasClass("locked")){
									$("#myExtras").removeClass("locked");
								}
								$("#gamePage").removeClass("dead");
								$("#chatContainer").find(".smiles li.last-word:not(.not-displayed)").addClass("not-displayed").prev().removeClass("not-displayed");
								_GM_action("", "upd", "person", true);
								if (dlg_exit_tm) {
									clearTimeout(dlg_exit_tm);
									dlg_exit_tm = null;
								}
								_GM_action("f", "upd", "pp_dh", "dlg_exit");
							}
							if ($("#upl_" + arr[4]).length){
								var _oo = $("#upl_" + arr[4]).find(".ico");
								if ($(_oo).length){
									$(_oo).css("background-image", "url(/img/persons/big/"+(arr[3] > 0 ? k_persons[arr[3]] : "unknown") +"_"+ arr[6] +".png)");
									$(_oo).attr("title", t_persons[arr[3]]);
									$(_oo).attr("label", arr[3]);
								}
								var _oo = $("#upl_" + arr[4]).find(".noSpeak");
								if ($(_oo).length && !$(_oo).hasClass("not-displayed")){
									$(_oo).addClass("not-displayed");
								}
								var _oo = $("#upl_" + arr[4]).find(".name");
								if ($(_oo).length && $(_oo).hasClass("ndead")){
									$(_oo).removeClass("ndead");
								}
								var _oo = $("#upl_" + arr[4]).find(".ico");
								if ($(_oo).length && $(_oo).hasClass("idead")){
									$(_oo).removeClass("idead");
								}
								var _oo = $("#upl_" + arr[4]).find(".hint");
								if ($(_oo).length){
									$(_oo).html('');
								}
								var _oo = $("#upl_" + arr[4]).find(".dead");
								if ($(_oo).length){
									$(_oo).attr("label", 0);
									if (!$(_oo).hasClass("not-displayed")){
										$(_oo).addClass("not-displayed");
									}
								}
								var _oo = $("#upl_" + arr[4]).find(".actionButton");
								if ($(_oo).length){
									$(_oo).attr("label", "");
									if (!$(_oo).hasClass("off")) $(_oo).addClass("off");
								}
							}
							if (arr[4] == my_id && !_spc){
								_GM_action("", "upd", "pvt_dd");
								_GM_action("", "upd", "tabs");
							}
							_GM_action("", "upd", "acts");
						}
						break;
					case 7:
						switch (parseInt(arr[2])){
							case 1:
								_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/prof/powers/7.png" alt="" /></div><div class="text">Опасные эксперименты дали результат! Скоро вы превратитесь в Супер-Мутанта!</div></div>');
								break;
							case 2:
								_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/prof/powers/7.png" alt="" /></div><div class="text">До превращения в Супер-Мутанта остался один день!</div></div>');
								break;
							case 3:
								_s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/7.png" alt="" /></div><div class="text">Профессор превратился в Супер-Мутанта!</div></div>';
								var __data = (spc_id && !gam_id ? spc_data : gam_data);
								if (typeof __data['v_left'][18] != "undefined" && parseInt(__data['v_left'][18]) > 0){
									if (spc_id && !gam_id){
										spc_data['v_left'][18] --;
										spc_data['v_left'][42] = 1;
									}else{
										gam_data['v_left'][18] --;
										gam_data['v_left'][42] = 1;
									}
								}
								var __data = (spc_id && !gam_id ? spc_data : gam_data);
								if (typeof __data['v_left'] != "undefined" && !__data['no_rolebar']){
									var _team = ['', ''];
									var _team_c = [0, 0];
									$.each(__data['v_left'], function(_k, _v){
										var data_tip = '<img src=\'/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png\' class=\'hintRoleImg\' alt=\'\' /><div class=\'whoIsLifeText\'><h2>'+ t_persons[_k] +'</h2>'+ GetText.roleHint(k_persons[_k])+'</div>';
										_team[__team_by_person(_k)] += '<li class="role hoverHint" data-tip="'+ data_tip +'" id="whl_role_'+ _k +'"><div class="dead'+(parseInt(_v) > 0 ? ' not-displayed' : '')+'"></div><img src="/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png" alt="" /><span class="count'+(parseInt(_v) < 2 ? ' not-displayed' : '')+'">'+ _v +'</span></li>' +"\n";
										_team_c[__team_by_person(_k)] += parseInt(_v);
									});
									if (spc_id && !gam_id){
										$(".whoIsLife").html(_team[1] +'<div class="vs" style="font-size:15px;font-weight:bold;"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></div>'+ _team[0]);
									}else{
										$(".whoIsLife").html(_team[1] +'<li class="vs"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></li>'+ _team[0]);
									}
									ptip.init('.whoIsLife .hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause'});
								}
								if ($("#whl_role_18").length) $("#whl_role_18").remove();
								if (!_spc && pla_data['person'] == 18){
									pla_data['person'] = 42;
									_GM_action("", "upd", "person", true);
								}
								$("#upl_list > li").each(function(){
									var _ii = $(this).attr("id").substr(4);
									if (!parseInt($(this).find(".dead").attr("label"))){
										var _r = parseInt($(this).find(".ico").attr("label"));
										if (_r == 18){
											var _gg = $(this).find(".nick").attr("label");
											var _oo = $(this).find(".ico");
											if ($(_oo).length){
												$(_oo).css("background-image", "url(/img/persons/big/"+ k_persons[42] + "_"+ _gg +".png)");
												$(_oo).attr("title", t_persons[42]);
												$(_oo).attr("label", 42);
											}
										}
									}
								});
								break;	
						}
						break;		
					case 8:
						if ($("#upl_" + arr[2]).length){
							var _oo = $("#upl_" + arr[2]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+(arr[5] > 0 ? k_persons[arr[5]] : "unknown") + arr[6] +"_"+ arr[4] +".png)");
								$(_oo).attr("title", t_persons[arr[5]]);
								$(_oo).attr("label", arr[5]);
							}
						}
						var _m = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/8.png" alt="" /></div><div class="text">Вирус правды раскрыл роль: '+_PL_nick(arr[2], arr[3], 'nick')+' - '+t_persons[arr[5]]+'</div></div>';
						if (gam_data['v_mode']){
							_GM_ChatBuffer.add("mid", _m);
						}else{
							_s = _m;
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['sixth_sense'].play();
						break;	
					case 9:
						if (parseInt(arr[2]) == 2){
							_s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/9.png" alt="" /></div><div class="text">Вы отравили игрока '+ _PL_nick(arr[3], arr[4], 'nick') +'</div></div>';
							if (!_spc) ExtraAnim.add("poison", arr[3]);
						}else{
							_s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/9.png" alt="" /></div><div class="text">Чокнутый Профессор отравил игрока при помощи супер-силы «Яд». Игрок умрёт через сутки</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['beard_poison'].play();
						}										
						break;
					case 10:
						_s = '<div class="proverka"><img src="/images/events/prof/powers/10.png" class="role" /><div class="bb">«Эликсир телепатии» раскрыл ход: <em>'+ t_persons[arr[2]] +' сделал ход к игроку '+ _PL_nick(arr[3], arr[4], 'nick') +'</em></div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['telepat'].play();
						break;
				}
				break;
					
			case __ge['GOL_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if ($("#upl_" + arr[3]).length && !parseInt($("#upl_" + arr[3]).find(".dead").attr("label"))){
					var _oo = $("#upl_" + arr[3]).find(".hint");
					if ($(_oo).length){
						$(_oo).html('против: '+ arr[2]);
					}
				}
				if ($("#upl_" + arr[1]).length){
					var _v = parseInt(arr[5]);
					var _oo = $("#upl_" + arr[1]).find(".count");
					if ($(_oo).length && _v > 0){
						$(_oo).html(_v);
						if ($(_oo).hasClass("not-displayed")){
							$(_oo).removeClass("not-displayed");
						}
						_GM_action("", "upd", "vote_pad");
					}
				}
				if (!_SOUND_err) _SOUND_arr['sfx']['golem_turn'].play();
				_s = '<p class="night-r-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Ночью убью '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				break;
			case __ge['GOL_INF']:
				if ((pla_data['person'] != 18 && pla_data['person'] != 19 && pla_data['person'] != 42) || pla_data['dead']){
					if (!_SOUND_err) _SOUND_arr['sfx']['golem_turn'].play();
					_s = '<p class="night-turn">Голем выбрал цель для убийства</p>';
				}
				if (!_spc && gam_iscripter && SMU_update == -1 && !SMU_check_tf){
					SMU_update = 1;
				}
				break;
			case __ge['GOL_KILL']:
				_GM_ChatBuffer.add("kill", '<p class="death-msg"><img src="/img/persons/big/golem_'+ my_gender +'.png" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит Големом</p>');
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['GOL_PDIE']:
				_s = '<div class="extra"><div class="img"><img src="/img/persons/big/golem_'+ my_gender +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' умер, потеряв связь с Чокнутым Профессором</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				break;
				
			case __ge['MUT_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if (!_SOUND_err) _SOUND_arr['sfx']['mutant_turn'].play();
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Ночью убью '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				break;
			case __ge['MUT_INF']:
				if ((pla_data['person'] != 18 && pla_data['person'] != 19 && pla_data['person'] != 42) || pla_data['dead']){
					if (!_SOUND_err) _SOUND_arr['sfx']['mutant_turn'].play();
					_s = '<p class="night-turn">Супер-Мутант выбрал цель для убийства</p>';
				}
				break;
			case __ge['MUT_KILL']:
				_s = '<p class="death-msg"><img src="/img/persons/big/mutant_'+ my_gender +'.png" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит Супер-Мутантом</p>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['MUT_EFF']:
				switch(parseInt(arr[1])){
					case 0: _s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/7.png" alt="" /></div><div class="text">Маскировка не смогла спасти жертву Супер-Мутанта</div></div>'; break;
					case 1: _s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/7.png" alt="" /></div><div class="text">Доктор не смог спасти жертву Супер-Мутанта</div></div>'; break;
					case 2: _s = '<div class="extra"><div class="img"><img src="/images/events/prof/powers/7.png" alt="" /></div><div class="text">Комиссар не смог спасти жертву Супер-��утанта</div></div>'; break;
				}
				if (!_SOUND_err) _SOUND_arr['sfx']['ghost'].play();
				break;
				
			case __ge['LIL_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				if (!_SOUND_err) _SOUND_arr['sfx']['lili_turn'].play();
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Ночью убью '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				break;
			case __ge['LIL_INF']:
				if (pla_data['person'] != 20 || pla_data['dead']){
					if (!_SOUND_err) _SOUND_arr['sfx']['lili_turn'].play();
					_s = '<p class="night-turn">Взрывная Лили выбрала цель для убийства</p>';
				}
				break;
			case __ge['LIL_KILL']:
				_s = '<p class="death-msg"><img src="/img/persons/big/lili_'+ my_gender +'.png" class="miniRole" />'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит Взрывной Лили</p>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7]];
				break;
			case __ge['LIL_PKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/1.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит супер-силой «Ядовитая бомба»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['poison_kill'].play();
				break;
			case __ge['LIL_AKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/3.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит «Атомной бомбой»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) {
					_SOUND_arr['sfx']['bomb_atom_do'].stop();
					_SOUND_arr['sfx']['bomb_atom_do'].play();
				}
				break;
			case __ge['LIL_BKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/8.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' взорвался на «Бомбе мести»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['bomb_revenge_do'].play();
				break;
			case __ge['LIL_OKILL0']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/9.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был предан своим союзником и убит «Подлой бомбой»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['bomb_vile_do'].play();
				break;
			case __ge['LIL_OKILL1']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/9.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' взорвался на «Подлой бомбе», пожертвовав собой</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['bomb_vile_do'].play();
				break;
			case __ge['LIL_TKILL']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/6.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит «Связывающей бомбой»</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['bomb_linking'].play();
				break;
			case __ge['LIL_SPOWER']:
				switch(parseInt(arr[1])){
					case 1:
						if (!_spc && arr[2] == 1){
							if (!_spc) ExtraAnim.add("poison", arr[3]);
						}else{
							_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/1.png" alt="" /></div><div class="text">Игрок был отравлен «Ядовитой бомбой» и умрёт через сутки</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['beard_poison'].play();
						}
						break;
					case 2:
						if (!_spc && arr[2] == 1){
							pla_data['act'] = -1;
							_GM_action("", "upd", "acts");
							_GM_action("", "upd", "freeze", arr[3]);
							_GM_action("", "lil_bomb", "remove");
						}else{
							_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/2.png" alt="" /></div><div class="text">Игрока заморозило при помощи супер-силы «Цепная заморозка»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['bomb_chainfreeze_do'].play();
						}
						break;
					case 3:
						switch (parseInt(arr[2])){
							case 0:
								_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/3.png" alt="" /></div><div class="text">'+ _PL_nick(arr[3], arr[4], 'nick') +' провалил обезвреживание «Атомной бомбы»</div></div>';
								if (!_spc && typeof gam_data['atm_bomb'] != "undefined") {
									gam_data['atm_bomb'][1] ++;
									_GM_action("", "atm_bomb", "upd");
								}
								break;
							case 1:
								_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/lili/powers/3.png" alt="" /></div><div class="text">Вы установили «Атомную бомбу»! Скоро бомба активируется</div></div>');
								break;
							case 2:
								_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/lili/powers/3.png" alt="" /></div><div class="text">До активации «Атомной бомбы» остался один день</div></div>');
								break;
							case 3:
								_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/lili/powers/3.png" alt="" /></div><div class="text">Атомная бомба активирована! Бомба взорвётся, если провалов будет больше, чем удачных попыток</div></div>');
								if (!_spc){
									gam_data['atm_bomb'] = [20, 0, 0];
									_GM_action("", "atm_bomb");
								}
								if (!_spc && pla_data['person'] != 20 && !pla_data['dead']){
									pla_data['pwa3'] = [15, 3];
									_GM_action("", "lil_bomb");
								}
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 5;
									setTimeout(function(){
										if (SMU_update == -1 && !SMU_check_tf) SMU_update = 1;
									}, 13000);
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['bomb_atom_use'].play();
								break;
							case 4:
								_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/3.png" alt="" /></div><div class="text">Игрокам удалось дезактивировать «Атомную бомбу»</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['bomb_atom_deactivate'].play();
								if (!_spc) _GM_action("", "atm_bomb", "remove");
								break;
						}
						break;
					case 4:
						if (!_spc && arr[2] == 1){
							if ($("#upl_" + arr[3]).length){
								var _oo = $("#upl_" + arr[3]).find(".ico");
								if ($(_oo).length){
									$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
									$(_oo).attr("title", t_persons[arr[6]]);
									$(_oo).attr("label", arr[6]);
								}
							}
							_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/4.png" alt="" /></div><div class="text">«Бомба раскрытия роли» дала результат: '+ _PL_nick(arr[3], arr[4], 'nick') +' - '+ t_persons[arr[6]] +'</div></div>';
						}else{
							_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/4.png" alt="" /></div><div class="text">Взрывная Лили узнала роль игрока при помощи «Бомбы раскрытия роли»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['sixth_sense'].play();
						}
						break;
					case 5:
						if (!_spc && arr[2] == 1){
							_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/5.png" alt="" /></div><div class="text">Вас лишили трёх ночных ходов при помощи «Бомбы лишения хода»</div></div>';
						}else{
							_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/5.png" alt="" /></div><div class="text">Игрок лишился трёх ночных ходов из-за «Бомбы лишения хода»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['megashocker'].play();
						}
						break;
					case 6:
						if (!_spc){
							if (arr[2] == 1){
								ExtraAnim.add("extra_chain", arr[3]);
								ExtraAnim.add("extra_chain", arr[4]);
							}else{
								_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/6.png" alt="" /></div><div class="text">Вас связало с другим игроком «Связывающей бомбой»</div></div>';
							}
						}
						break;
					case 7:
						if (!_spc && arr[2] == 1){
							//if (my_play_c >= 100) _HX_hint('bum35');
						}else{
							switch (arr[3]){
								case 'def': 
									_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/7.png" alt="" /></div><div class="text">Игрок взорвался на «Усыпляющей бомбе» и лишил команду граждан ночного хода</div></div>'; 
									break;
								case 'maf': 
									_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/7.png" alt="" /></div><div class="text">Игрок взорвался на «Усыпляющей бомбе» и лишил команду мафии ночного хода</div></div>'; 
									break;
								case 'man': 
									_s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/7.png" alt="" /></div><div class="text">Маньяк взорвался на «Усыпляющей бомбе» и лишил себя хода</div></div>'; 
									break;
							}
							if (!_SOUND_err) _SOUND_arr['sfx']['bomb_sleep_do'].play();
						}
						break;
					case 8:
						if (!_spc && arr[2] == 1){
							ExtraAnim.add("revange_bomb", arr[3]);
							_GM_ChatBuffer.add("day", '<div class="extra"><div class="img"><img src="/images/events/lili/powers/8.png" alt="" /></div><div class="text">Вы установили «Бомбу мести» на игрока '+ _PL_nick(arr[3], arr[4], 'nick') +'</div></div>');
						}
						break;
					case 9:
						//if (!_spc && arr[2] == 1 && my_play_c >= 100) _HX_hint('bum37');
						break;
				}
				break;
			case __ge['LIL_BOMB']:
				if (!_spc && !parseInt(arr[2])){
					pla_data['pwa3'] = [15, parseInt(arr[1])];
					_GM_action("", "lil_bomb");
				}else{
					var _tt = '';
					switch(parseInt(arr[1])){
						case 1: _tt = 'Игрок обезвредил «Ядовитую бомбу»'; break;
						case 2: _tt = 'Игрок обезвредил «Цепную заморозку»'; break;
						case 3: 
							_tt = _PL_nick(arr[3], arr[4], 'nick') +' обезвредил «Атомную бомбу»'; 
							if (!_spc && typeof gam_data['atm_bomb'] != "undefined") {
								gam_data['atm_bomb'][2] ++;
								_GM_action("", "atm_bomb", "upd");
							}
							break;
						case 4: _tt = 'Игрок обезвредил «Бомбу раскрытия роли»'; break;	
						case 5: _tt = 'Игрок обезвредил «Бомбу лишения хода»'; break;
						case 6: 
							_tt = 'Игрок обезвредил «Связывающую бомбу»'; 
							if (!_spc) ExtraAnim.remove("extra_chain");
							break;
						case 7: _tt = 'Игрок обезвредил «Усыпляющую бомбу»'; break;	
						case 9: _tt = 'Игрок пожертвовал союзниками и избежал смерти от «Подлой бомбы»'; break;
					}
					if (_tt != '') _s = '<div class="extra"><div class="img"><img src="/images/events/lili/powers/'+ arr[1] +'.png" alt="" /></div><div class="text">'+ _tt +'</div></div>';
				}
				break;
			case __ge['LIL_FRZ']:
				if (!_spc){
					if (gam_data['v_mode']){
						night_frz = 3;
					}else{
						pla_data['act'] = -1;
						_GM_action("", "upd", "acts");
						//_GM_action("", "upd", "freeze", 14);
						_s = '<p class="info-msg freeze-txt">Вас лишили ночного хода при помощи эффекта!</p>';
					}
				}
				break;

			case __ge['PL_SUICIDE']:
				_s = '<p class="death-msg">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' покончил жизнь самоубийством! Пора бороться со стрессами в нашем городе</p>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				break;
			case __ge['PL_SPK_WARN']:
				if (parseInt(arr[2]) == 2){
					if (arr[1] == my_id && !_spc){
						_s = '<p class="warn-msg">Вы продолжительное время сохраняете подозрительное молчание, Вас может настигнуть шальная пуля</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['nospk'].play();
					}
				}else if (parseInt(arr[2]) == 1){
					if ($("#upl_" + arr[1]).length){
						var _oo = $("#upl_" + arr[1]).find(".noSpeak");
						if ($(_oo).length && $(_oo).hasClass("not-displayed")){
							$(_oo).removeClass("not-displayed");
						}
					}
					if (arr[1] == my_id && !_spc){
						_s = '<p class="warn-msg">Вы продолжительное время сохраняете подозрительное молчание, Вас может настигнуть шальная пуля</p>';
						if (!_SOUND_err) _SOUND_arr['sfx']['nospk'].play();
						_HX_noob('all3');
					}
				}else{
					if ($("#upl_" + arr[1]).length){
						var _oo = $("#upl_" + arr[1]).find(".noSpeak");
						if ($(_oo).length && !$(_oo).hasClass("not-displayed")){
							$(_oo).addClass("not-displayed");
						}
					}
				}
				break;
			case __ge['PL_SPK_DIE']:
				_s = '<p class="death-msg">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' слишком долго молчал в игре и поэтому его убила шальная пуля</p>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				break;
			case __ge['PL_WIN']:
				if (!_spc){
					pla_data['win'] = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[7], arr[8], arr[9], arr[10], arr[11], arr[12], arr[13], arr[14]];
				}
				break;
				
						
			
			
			
			
			
			
			
			case __ge['EXT_SAFE']:
				if (!_spc){
					switch(arr[1]){
						case 101:
							switch(arr[2]){
								case -1: _s = '<div class="extra"><div class="img"><img src="/img/extras/101.png" alt="" /></div><div class="text">Ваш жучок обезвредил прослушивание</div></div>'; break;
								case 0:  _s = '<p class="night-act">Вы подсадили жучка игроку '+_PL_nick(arr[3], arr[4], 'nick')+', ждите информацию утром</p>';
									if (!_SOUND_err) _SOUND_arr['sfx']['bug'].play();
									break;
								case 1:
								case 2:  
									_text  = 'Вами прослушанный игрок '+_PL_nick(arr[3], arr[4], 'nick')+' '+(arr[2] > 1 ? 'играет активную роль' : 'этой ночью не делал хода');
									_text2 = 'Вами прослушанный игрок '+arr[4]+' '+(arr[2] > 1 ? 'играет активную роль' : 'этой ночью не делал хода');
									_s = '<div class="extra"><div class="img"><img src="/img/extras/101.png" alt="" /></div><div class="text"> '+ _text +' <button class="writeToChat cssGreenButton" onclick="_CHT_action(\'ich\', \'write_to_input\', \''+ _text2 +'\'); return false">Рассказать</button></div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['bug_result'].play();
									break;
								case 3:  _s = '<div class="extra"><div class="img"><img src="/img/extras/101.png" alt="" /></div><div class="text">Ваш жучок был обезврежен жучком игрока '+_PL_nick(arr[3], arr[4], 'nick')+'</div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['bug_result'].play();
									break;
							}
							break;
						case 104:
							switch(arr[2]){
								case 0: _s = '<p class="night-act">Вы подключили детектор лжи игроку '+_PL_nick(arr[3], arr[4], 'nick')+', ждите результатов</p>'; 
									if (!_SOUND_err) _SOUND_arr['sfx']['lie_detector'].play();
									break;
								case 1:
									if ($("#upl_" + arr[3]).length){
										var _oo = $("#upl_" + arr[3]).find(".ico");
										if ($(_oo).length){
											$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
											$(_oo).attr("title", t_persons[arr[6]]);
											$(_oo).attr("label", arr[6]);
										}
									}
									_text  = 'Детектор лжи дал результаты: '+_PL_nick(arr[3], arr[4], 'nick')+' - '+t_persons[arr[6]];
									_text2 = 'Детектор лжи дал результаты: '+arr[4]+' - '+t_persons[arr[6]];
									_s = '<div class="extra"><div class="img"><img src="/img/extras/104.png" alt="" /></div><div class="text"> '+ _text +' <button class="writeToChat cssGreenButton" onclick="_CHT_action(\'ich\', \'write_to_input\', \''+ _text2 +'\'); return false">Рассказать</button></div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['lie_d_result'].play();
									break;
							}
							break;
						case 105:
							switch(arr[2]){
								case -4: _s = '<p class="warn-msg">Вы чудом увернулись от выстрела из револьвера!</p>'; break;
								case -3: _s = '<p class="warn-msg">'+_PL_nick(arr[3], arr[4], 'nick')+' чудом увернулся от выстрела из револьвера</p>'; break;
							}
							break;
						case 106:
							if (arr[2] != -9){
								_s = '<p class="warn-msg">Игрок проигнорировал вашу маскировку при помощи экстры «Ночное зрение»!</p>'; break;
							}
							break;
						case 198:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/198.png" alt="" /></div><div class="text">Вы стали бессмертным до конца партии! Вас невозможно убить, только посадить в тюрьму</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['lin_amulet_ressurect'].play();
							break;
						case 316:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/316.png" alt="" /></div><div class="text">Вы стали бессмертным до конца партии! Вас невозможно убить, только посадить в тюрьму</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['lin_amulet_ressurect'].play();
							break;
						case 334:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/334.png" alt="" /></div><div class="text">Вы использовали мега-экстру «Супер Босс Мафии»! До конца партии ваш ночной ход замораживает насмерть выбранного игрока и замораживает случайного соперника. Шанс сбежать из тюрьмы становится 75%, шанс воскреситься становится 75%. Шансы не суммируются с другими талантами или усилениями.</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['lin_amulet_ressurect'].play();
							break;	
						case 338:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/338.png" alt="" /></div><div class="text">Вы использовали мега-экстру «Супер Маньяк»! До конца партии ваш ночной ход становится мгновенным и пробивным (игнорирует маску, доктора и комиссара). Шанс сбежать из тюрьмы становится 75%, шанс воскреситься становится 75%. Шансы не суммируются с другими талантами или усилениями.</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['lin_amulet_ressurect'].play();
							break;
						case 343:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/343.png" alt="" /></div><div class="text">Вы использовали мега-экстру «Супер Двуликий»! Вы мгновенно присоединяетесь к команде мафии, ваш ночной ход становится мгновенным и пробивным (игнорирует маску, доктора и комиссара). Шанс сбежать из тюрьмы становится 75%, шанс воскреситься становится 75%. Шансы не суммируются с другими талантами или усилениями.</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['lin_amulet_ressurect'].play();
							break;	
						case 107:
							if (arr[2] == 1){
								_s = '<p class="warn-msg">Слышно по рации: вашей рации мешает рация соперника</p>';
							}else{
								_s = '<p class="warn-msg">Слышно по рации: планируют убить '+_PL_nick(arr[3], arr[4], 'nick')+'</p>';
							}
							break;
						case 108:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/108.png" alt="" /></div><div class="text">Паспорт скрыл вашу истинную роль от комиссара</div></div>';
							if (!_spc && !parseInt(arr[2])) ExtraEff.remove(108);
							if (!_SOUND_err) _SOUND_arr['sfx']['pasport'].play();
							break;
						case 111:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/111.png" alt="" /></div><div class="text">Миноискатель спас вас от подрыва на мине!</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['mine_detector'].play();
							break;
						case 321:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/321.png" alt="" /></div><div class="text">Вы изменили негативный эффект Гадалки на позитивный при помощи экстры «Клевер удачи»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['luck_clover'].play();
							break;	
						case 115:
							switch(arr[2]){
								case -4: _s = '<p class="warn-msg">Вы чудом избежали смерти от киллера!</p>'; break;
								case -3: _s = '<p class="warn-msg">'+_PL_nick(arr[3], arr[4], 'nick')+' чудом избежал смерти от киллера</p>'; break;
							}
							break;
						case 153:
							_s = '<p class="warn-msg">Антифриз спас вас от заморозки!</p>';
							if (!_SOUND_err) _SOUND_arr['sfx']['antifreeze'].play();
							break;
						case 155:
							switch(arr[2]){
								case 0: _s = '<div class="extra"><div class="img"><img src="/img/extras/155.png" alt="" /></div><div class="text">Вы раскрыли свою роль игроку '+_PL_nick(arr[3], arr[4], 'nick')+'</div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['confession'].play();
									break;
								case 1:
									if ($("#upl_" + arr[3]).length){
										var _oo = $("#upl_" + arr[3]).find(".ico");
										if ($(_oo).length){
											$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
											$(_oo).attr("title", t_persons[arr[6]]);
											$(_oo).attr("label", arr[6]);
										}
									}
									_text  = _PL_nick(arr[3], arr[4], 'nick')+' - '+t_persons[arr[6]]+' раскрыл вам свою роль';
									_text2 = arr[4]+' - '+t_persons[arr[6]]+' раскрыл вам свою роль';
									_s = '<div class="extra greenBg"><div class="img"><img src="/img/extras/155.png" alt="" /></div><div class="text"> '+ _text +' <button class="writeToChat cssGreenButton" onclick="_CHT_action(\'ich\', \'write_to_input\', \''+ _text2 +'\'); return false">Рассказать</button></div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['confession'].play();
									break;
								case 2: _s = '<p class="warn-msg">Вы пытались исповедаться, но вам никто не поверил</p>'; break;
							}
							break;
						case 156:
							switch(arr[2]){
								case 2: _s = '<p class="night-act">Гадание не принесло результата</p>'; break;
								case 3:
								case 1:
									if ($("#upl_" + arr[3]).length){
										var _oo = $("#upl_" + arr[3]).find(".ico");
										if ($(_oo).length){
											$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
											$(_oo).attr("title", t_persons[arr[6]]);
											$(_oo).attr("label", arr[6]);
										}
									}
									var _t = (parseInt(arr[2]) == 3 ? 'Талант/усиление «Таро бустер» раскрыл вам роль игрока' : 'Карты таро раскрыли вам роль');
									_text  = _t +': '+_PL_nick(arr[3], arr[4], 'nick')+' - '+t_persons[arr[6]];
									_text2 = _t +': '+arr[4]+' - '+t_persons[arr[6]];
									_s = '<div class="extra"><div class="img"><img src="/img/extras/156.png" alt="" /></div><div class="text"> '+ _text +' <button href="#" class="cssGreenButton writeToChat" onclick="_CHT_action(\'ich\', \'write_to_input\', \''+ _text2 +'\'); return false">Рассказать</button></div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['taro'].play();
									break;
							}
							break;
						case 157:
							if (!_spc && parseInt(arr[2]) == 1){
								if (!gam_data['v_mode']){
									day_frz = 1;
								}else{
									pla_data['act'] = -1;
									_GM_action("", "upd", "acts");
								}
							}
							break;	
						case 158:
							switch(arr[2]){
								case -9: _s = '<p class="warn-msg">Ваш Бронежилет пробило насквозь!</p>'; break;
								case -2: _s = '<p class="warn-msg">Китайский бронежилет не спас вас от пули!</p>'; break;
								case -1: _s = '<div class="extra"><div class="img"><img src="/img/extras/158.png" alt="" /></div><div class="text">В вас стреляли, но бронежилет спас вам жизнь!</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['body_armour'].play();
								break;
								case 0:  _s = '<p class="warn-msg">'+_PL_nick(arr[3], arr[4], 'nick')+' выжил, благодаря бронежилету</p>';
								if (!_SOUND_err) _SOUND_arr['sfx']['body_armour'].play();
								break;
							}
							break;
						case 170:
							if (arr[2] == 1) _s = '<p class="warn-msg">Вы пробудились от снотворного при помощи таланта/усиления «Бессонница»!</p>';
							break;	
						case 171:
							switch(arr[2]){
								case -2: _s = '<p class="warn-msg">Телохранитель не смог спасти вас от смерти!</p>'; break;
								case -1: 
									_s = '<div class="extra"><div class="img"><img src="/img/extras/171.png" alt="" /></div><div class="text">Телохранитель спас вас от киллера!</div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['bodyguard'].play();
									break;
								case 0:  _s = '<p class="warn-msg">Телохранитель спас '+_PL_nick(arr[3], arr[4], 'nick')+' от смерти</p>';
									if (!_SOUND_err) _SOUND_arr['sfx']['bodyguard'].play();
									break;
							}
							break;
						case 191:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/191.png" alt="" /></div><div class="text">Вы получили +250 опыта при помощи экстры «Жетон Якудза»! Опыт прибавится по окончанию партии</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['yak_token'].play();
							break;
						case 133:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/133.png" alt="" /></div><div class="text">Вы получили +100 опыта в клан при помощи экстры «Жетон на клановый опыт»! Опыт прибавится по окончанию партии</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['ny_token'].play();
							break;
						case 134:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/134.png" alt="" /></div><div class="text">Вы получили +75 рейтинга при помощи экстры «Жетон на рейтинг»! Рейтинг прибавится по окончанию партии</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['ny_token'].play();
							break;
						case 143:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/143.png" alt="" /></div><div class="text">Вы получили +75 рейтинга при помощи экстры «Весенний жетон на рейтинг»! Рейтинг прибавится по окончанию партии</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['ny_token'].play();
							break;	
						case 139:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/139.png" alt="" /></div><div class="text">Вы получили +50 опыта в клан при помощи экстры «Весенний жетон на клановый опыт»! Опыт прибавится по окончанию партии</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['ny_token'].play();
							break;	
						case 294:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/294.png" alt="" /></div><div class="text">Вы получили +250 опыта при помощи экстры «Карнавальный жетон на опыт»! Опыт прибавится по окончанию партии</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['carnival_token'].play();
							break;
						case 120:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/120.png" alt="" /></div><div class="text">Вы получили +125 опыта при помощи экстры «Зимний жетон на опыт»! Опыт прибавится по окончанию партии</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['ny_token'].play();
							break;
						case 126:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/126.png" alt="" /></div><div class="text">Вы получили +500 опыта при помощи экстры «Зимний Мега-жетон на опыт»! Опыт прибавится по окончанию партии</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['ny_token'].play();
							break;
						case 203:
							if (arr[2] == 1){
								if ($("#upl_" + arr[3]).length){
									var _oo = $("#upl_" + arr[3]).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
										$(_oo).attr("title", t_persons[arr[6]]);
										$(_oo).attr("label", arr[6]);
									}
								}
								_text  = 'Пытки паяльником дали результат: '+ _PL_nick(arr[3], arr[4], 'nick') +' - '+ t_persons[arr[6]];
								_text2 = 'Пытки паяльником дали результат: '+ arr[4] +' - '+ t_persons[arr[6]];
								_s = '<div class="extra"><div class="img"><img src="/img/extras/203.png" alt="" /></div><div class="text">'+ _text +' <button href="#" class="cssGreenButton writeToChat" onclick="_CHT_action(\'ich\', \'write_to_input\', \''+ _text2 +'\'); return false">Рассказать</button></div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['copper'].play();
							}	
							break;
						case 204:
						case 224:
							if (arr[2] == 1 && arr[3] == my_id && !_spc){
								pla_data['act'] = -2;
								_GM_action("", "upd", "acts");
								_GM_action("", "upd", "freeze", 7);
								if (arr[1] == 204){
									_s = '<p class="info-msg freeze-txt">Вас контузило шокером до конца дня! Вы не можете писать в чат и голосовать!</p>';
								}else{
									_s = '<p class="info-msg freeze-txt">Вас контузило Мегашокером 9000 до конца дня! Вы не можете писать в чат и голосовать!</p>';
									ExtraAnim.add(224, my_id); 
								}	
								_GM_action("", "upd", "zgchk");
							}else if (arr[2] == 0 && arr[3] != my_id && !_spc){
								_s = '<div class="extra"><div class="img"><img src="/img/extras/'+ arr[1] +'.png" alt="" /></div><div class="text">Вы контузили игрока '+_PL_nick(arr[3], arr[4], 'nick')+'!</div></div>';
								if (arr[1] == '224'){
									ExtraAnim.add(224, arr[3]);	
								}
							}
							break;
						case 225:
							if (!_spc){
								_s = '<div class="extra"><div class="img"><img src="/img/extras/225.png" alt="" /></div><div class="text">Вы отравили игрока '+_PL_nick(arr[3], arr[4], 'nick')+'!</div></div>';
								ExtraAnim.add(225, arr[3]);
							}
							break;
						case 345:
							if (!_spc){
								ExtraAnim.add("poison", arr[3]);
							}
							break;
						case 207:
							_s = '<p class="warn-msg">Вы подкинули Паспорт мафиози игроку '+_PL_nick(arr[3], arr[4], 'nick')+'!</p>';
							if (!_SOUND_err) _SOUND_arr['sfx']['passport_maf'].play();
							break;
						case 220:
							if (arr[2] == 1 && !_spc){
								pla_data['act'] = -2;
								_GM_action("", "upd", "acts");
								_GM_action("", "upd", "freeze", 8);
							}
							break;
						case 223:
							if (arr[2] == 2) _s = '<p class="night-act">Вирус не подействовал</p>';
							break;
						case 240:
							if (arr[2] == 1){
								if ($("#upl_" + arr[3]).length){
									var _oo = $("#upl_" + arr[3]).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
										$(_oo).attr("title", t_persons[arr[6]]);
										$(_oo).attr("label", arr[6]);
									}
								}
								var _text  = 'Джокер раскрыл роль случайного игрока: '+ _PL_nick(arr[3], arr[4], 'nick') +' - '+ t_persons[arr[6]];
								var _text2 = 'Джокер раскрыл роль случайного игрока: '+ arr[4]+ ' - '+ t_persons[arr[6]];
								_s = '<div class="extra"><div class="img"><img src="/img/extras/240.png" alt="" /></div><div class="text">'+ _text +' <button href="#" class="cssGreenButton writeToChat" onclick="_CHT_action(\'ich\', \'write_to_input\', \''+ _text2 +'\', \'dddd\'); return false">Рассказать</button></div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['joker'].play();
							}
							break;
						case 241:
							if (!_spc && arr[2] == 1) {
								pla_data['act'] = -1;
								_GM_action("", "upd", "acts");
								_GM_action("", "upd", "freeze", 2);
							}
							break;
						case 242:
							if (!_spc && arr[2] == 1) {
								pla_data['act'] = -2;
								_GM_action("", "upd", "acts");
								_GM_action("", "upd", "freeze", 3);
							}
							break;
						case 251:
							if (!_spc){
								ExtraAnim.add(251, arr[3]);
							}
							break;
						case 257:
							_s = '<div class="extra"><div class="img"><img src="/img/extras/257.png" alt="" /></div><div class="text">Вы проигнорировали маскировку игрока при помощи экстры «Ночное зрение»!</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['night_vision'].play();
							break;
						case 252:
							switch (parseInt(arr[2])){
								case 1:
									if (!_spc){
										_s = '<div class="extra"><div class="img"><img src="/img/extras/252.png" alt="" /></div><div class="text">Вы сменили цель под действием экстры «Крепкий ром»</div></div>';
									}
									if (!_SOUND_err) _SOUND_arr['sfx']['rum_target'].play();
									break;
								case 2:
									if (!_spc){
										_s = '<div class="extra"><div class="img"><img src="/img/extras/252.png" alt="" /></div><div class="text">Вам удалось выбрать верную цель</div></div>';
									}
									if (!_SOUND_err) _SOUND_arr['sfx']['rum_target'].play();
									break;
							}
							break;
						case 197:
							if (arr[2] == 1){
								if ($("#upl_" + arr[3]).length){
									var _oo = $("#upl_" + arr[3]).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
										$(_oo).attr("title", t_persons[arr[6]]);
										$(_oo).attr("label", arr[6]);
									}
								}
								_text  = 'Эликсир правды раскрыл роль: '+ _PL_nick(arr[3], arr[4], 'nick') +' - '+ t_persons[arr[6]];
								_text2 = 'Эликсир правды раскрыл роль: '+ arr[4] +' - '+ t_persons[arr[6]];
								_s = '<div class="extra"><div class="img"><img src="/img/extras/197.png" alt="" /></div><div class="text">'+ _text +' <button href="#" class="cssGreenButton writeToChat" onclick="_CHT_action(\'ich\', \'write_to_input\', \''+ _text2 +'\'); return false">Рассказать</button></div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['sixth_sense'].play();
							}
							break;
						case 125:
							if (arr[2] == 1){
								if ($("#upl_" + arr[3]).length){
									var _oo = $("#upl_" + arr[3]).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
										$(_oo).attr("title", t_persons[arr[6]]);
										$(_oo).attr("label", arr[6]);
									}
								}
								_text  = 'Новогодние Таро раскрыли роль: '+ _PL_nick(arr[3], arr[4], 'nick') +' - '+ t_persons[arr[6]];
								_text2 = 'Новогодние Таро раскрыли роль: '+ arr[4] +' - '+ t_persons[arr[6]];
								_s = '<div class="extra"><div class="img"><img src="/img/extras/125.png" alt="" /></div><div class="text">'+ _text +' <button href="#" class="cssGreenButton writeToChat" onclick="_CHT_action(\'ich\', \'write_to_input\', \''+ _text2 +'\'); return false">Рассказать</button></div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['ny_taro_use'].play();
							}
							break;
						case 132:
							if (arr[2] == 1){
								if ($("#upl_" + arr[3]).length){
									var _oo = $("#upl_" + arr[3]).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
										$(_oo).attr("title", t_persons[arr[6]]);
										$(_oo).attr("label", arr[6]);
									}
								}
								_text  = 'Таро от Лили раскрыли роль: '+ _PL_nick(arr[3], arr[4], 'nick') +' - '+ t_persons[arr[6]];
								_text2 = 'Таро от Лили раскрыли роль: '+ arr[4] +' - '+ t_persons[arr[6]];
								_s = '<div class="extra"><div class="img"><img src="/img/extras/132.png" alt="" /></div><div class="text">'+ _text +' <button href="#" class="cssGreenButton writeToChat" onclick="_CHT_action(\'ich\', \'write_to_input\', \''+ _text2 +'\'); return false">Рассказать</button></div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['car_taro_use'].play();
							}
							break;
						case 145:
							if (arr[2] == 1){
								if ($("#upl_" + arr[3]).length){
									var _oo = $("#upl_" + arr[3]).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
										$(_oo).attr("title", t_persons[arr[6]]);
										$(_oo).attr("label", arr[6]);
									}
								}
								_text  = 'Пасхальные Таро раскрыли роль: '+ _PL_nick(arr[3], arr[4], 'nick') +' - '+ t_persons[arr[6]];
								_text2 = 'Пасхальные Таро раскрыли роль: '+ arr[4] +' - '+ t_persons[arr[6]];
								_s = '<div class="extra"><div class="img"><img src="/img/extras/145.png" alt="" /></div><div class="text">'+ _text +' <button href="#" class="cssGreenButton writeToChat" onclick="_CHT_action(\'ich\', \'write_to_input\', \''+ _text2 +'\'); return false">Рассказать</button></div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['car_taro_use'].play();
							}
							break;
						case 317:
							if (arr[2] == 1){
								if ($("#upl_" + arr[3]).length){
									var _oo = $("#upl_" + arr[3]).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
										$(_oo).attr("title", t_persons[arr[6]]);
										$(_oo).attr("label", arr[6]);
									}
								}
								_text  = 'Таро от Бандитос раскрыли роль: '+ _PL_nick(arr[3], arr[4], 'nick') +' - '+ t_persons[arr[6]];
								_text2 = 'Таро от Бандитос раскрыли роль: '+ arr[4] +' - '+ t_persons[arr[6]];
								_s = '<div class="extra"><div class="img"><img src="/img/extras/317.png" alt="" /></div><div class="text">'+ _text +' <button href="#" class="cssGreenButton writeToChat" onclick="_CHT_action(\'ich\', \'write_to_input\', \''+ _text2 +'\'); return false">Рассказать</button></div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['car_taro_use'].play();
							}
							break;	
						case 292:
							if (arr[2] == 1){
								if ($("#upl_" + arr[3]).length){
									var _oo = $("#upl_" + arr[3]).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
										$(_oo).attr("title", t_persons[arr[6]]);
										$(_oo).attr("label", arr[6]);
									}
								}
								_text  = 'Карнавальные Таро раскрыли роль: '+ _PL_nick(arr[3], arr[4], 'nick') +' - '+ t_persons[arr[6]];
								_text2 = 'Карнавальные Таро раскрыли роль: '+ arr[4] +' - '+ t_persons[arr[6]];
								_s = '<div class="extra"><div class="img"><img src="/img/extras/292.png" alt="" /></div><div class="text">'+ _text +' <button href="#" class="cssGreenButton writeToChat" onclick="_CHT_action(\'ich\', \'write_to_input\', \''+ _text2 +'\'); return false">Рассказать</button></div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['car_taro_use'].play();
							}
							break;
						case 302:
							if (arr[2] == 1){
								if ($("#upl_" + arr[3]).length){
									var _oo = $("#upl_" + arr[3]).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
										$(_oo).attr("title", t_persons[arr[6]]);
										$(_oo).attr("label", arr[6]);
									}
								}
								_text  = 'Прогревание «Утюгом Тони» дало результат: '+ _PL_nick(arr[3], arr[4], 'nick') +' - '+ t_persons[arr[6]];
								_text2 = 'Прогревание «Утюгом Тони» дало результат: '+ arr[4] +' - '+ t_persons[arr[6]];
								_s = '<div class="extra"><div class="img"><img src="/img/extras/302.png" alt="" /></div><div class="text">'+ _text +' <button href="#" class="cssGreenButton writeToChat" onclick="_CHT_action(\'ich\', \'write_to_input\', \''+ _text2 +'\'); return false">Рассказать</button></div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_iron'].play();
							}	
							break;
						case 303:
							if (arr[2] == 1 && arr[3] == my_id && !_spc){
								pla_data['act'] = -2;
								_GM_action("", "upd", "acts");
								_GM_action("", "upd", "freeze", 3);
								ExtraAnim.add('chain', my_id, true); 
								_GM_action("", "upd", "zgchk");
							}else if (arr[2] == 2 && arr[3] != my_id && !_spc){
								ExtraAnim.add('chain', arr[3], true);
							}
							break;	
						case 304:
							switch (parseInt(arr[2])){
								case 0: _s = '<div class="extra"><div class="img"><img src="/img/extras/304.png" alt="" /></div><div class="text">Вы использовали мега-экстру «Поддельные паспорта»</div></div>'; 
									if (!_SOUND_err) _SOUND_arr['sfx']['extra_megaextra'].play();
									break;
								case 1: 
									var __ct = (arr[6] == 'maf' ? 'cmf' : 'ctn');
									_CHT_append(__ct, '<div class="extra"><div class="img"><img src="/img/extras/304.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' использовал мега-экстру «Поддельные паспорта». Все в команде получают эффект «Паспорт», который скрывает роль от комиссара</div></div>');
									if (!$("#"+ __ct +"_tab").hasClass("new-message") && _CHT_c_tab != __ct){
										$("#"+ __ct +"_tab").addClass("new-message");
									}
									ExtraEff.add(108);
									break;
							}
							break;
						case 305:
							switch (parseInt(arr[2])){
								case 0: _s = '<div class="extra"><div class="img"><img src="/img/extras/305.png" alt="" /></div><div class="text">Вы использовали мега-экстру «Реаниматоры Тони»</div></div>'; 
									if (!_SOUND_err) _SOUND_arr['sfx']['extra_megaextra'].play();
									break;
								case 1: 
									var __ct = (arr[6] == 'maf' ? 'cmf' : 'ctn');
									_CHT_append(__ct, '<div class="extra"><div class="img"><img src="/img/extras/305.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' использовал мега-экстру «Реаниматоры Тони». Все в команде получают эффект «Реаниматор», который воскрешает игрока сразу после смерти</div></div>');
									if (!$("#"+ __ct +"_tab").hasClass("new-message") && _CHT_c_tab != __ct){
										$("#"+ __ct +"_tab").addClass("new-message");
									}
									ExtraEff.add(208);
									break;
							}
							break;
						case 306:
							switch (parseInt(arr[2])){
								case 0: _s = '<div class="extra"><div class="img"><img src="/img/extras/306.png" alt="" /></div><div class="text">Вы использовали мега-экстру «Минное поле»</div></div>'; 
									if (!_SOUND_err) _SOUND_arr['sfx']['extra_megaextra'].play();
									break;
								case 1: 
									var __ct = (arr[6] == 'maf' ? 'cmf' : 'ctn');
									_CHT_append(__ct, '<div class="extra"><div class="img"><img src="/img/extras/306.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' использовал мега-экстру «Минное поле». Все в команде получают эффект «Растяжка», который убивает любого, кто пытается проголосовать против союзника</div></div>');
									if (!$("#"+ __ct +"_tab").hasClass("new-message") && _CHT_c_tab != __ct){
										$("#"+ __ct +"_tab").addClass("new-message");
									}
									ExtraEff.add(202);
									break;
							}
							break;	
						case 307:
							switch (parseInt(arr[2])){
								case 0: _s = '<div class="extra"><div class="img"><img src="/img/extras/307.png" alt="" /></div><div class="text">Вы использовали мега-экстру «Липа Тони»</div></div>'; 
									if (!_SOUND_err) _SOUND_arr['sfx']['extra_megaextra'].play();
									break;
								case 1: 
									var __ct = (arr[6] == 'maf' ? 'cmf' : 'ctn');
									_CHT_append(__ct, '<div class="extra"><div class="img"><img src="/img/extras/307.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' использовал мега-экстру «Липа Тони». Все соперники получают эффект «Паспорт мафиози», который покажет роль Мафиози при проверке комиссара</div></div>');
									if (!$("#"+ __ct +"_tab").hasClass("new-message") && _CHT_c_tab != __ct){
										$("#"+ __ct +"_tab").addClass("new-message");
									}
									break;
							}
							break;
						case 308:
							switch (parseInt(arr[2])){
								case 0: _s = '<div class="extra"><div class="img"><img src="/img/extras/308.png" alt="" /></div><div class="text">Вы использовали мега-экстру «Тачки Тони»</div></div>'; 
									if (!_SOUND_err) _SOUND_arr['sfx']['extra_megaextra'].play();
									break;
								case 1: 
									var __ct = (arr[6] == 'maf' ? 'cmf' : 'ctn');
									_CHT_append(__ct, '<div class="extra"><div class="img"><img src="/img/extras/308.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' использовал мега-экстру «Тачки Тони». Все в команде получают эффект «Автомобиль», который спасает от посадки в тюрьму</div></div>');
									if (!$("#"+ __ct +"_tab").hasClass("new-message") && _CHT_c_tab != __ct){
										$("#"+ __ct +"_tab").addClass("new-message");
									}
									ExtraEff.add(109);
									break;
							}
							break;
						case 329:
							switch (parseInt(arr[2])){
								case 1:
								case 8:
								case 9:
								case 10:
									_s = '<div class="extra"><div class="img"><img src="/img/extras/329.png" alt="" /></div><div class="text">На вас использовали экстру «Негативный эффект»: '+ __feff_neg[arr[2]] +'</div></div>';
									break;
								case 2:
									_s = '<div class="extra"><div class="img"><img src="/img/extras/329.png" alt="" /></div><div class="text">Экстра «Негативный эффект» лишила вас экстры: '+ __store[arr[3]].title +'</div></div>';
									_GM_action("gxt", "exts", "set", [arr[3]]);
									_GM_action("exl", "exts", "upd", [arr[3]]);
									break;
								case 4:
									_s = '<div class="extra"><div class="img"><img src="/img/extras/329.png" alt="" /></div><div class="text">На вас использовали экстру «Негативный эффект»: '+ __feff_neg[arr[2]] +'</div></div>';
									pla_data['act'] = -2;
									_GM_action("", "upd", "acts");
									_GM_action("", "upd", "freeze", 3);
									break;
								case 5:
									_s = '<div class="extra"><div class="img"><img src="/img/extras/329.png" alt="" /></div><div class="text">На вас использовали экстру «Негативный эффект»: '+ __feff_neg[arr[2]] +'</div></div>';
									for(var i = 1; i <= 15; i++){
										__ERASER_throw();
									}
									__ERASER_throw(7);
									break;
								case 7: 
									_s = '<div class="extra"><div class="img"><img src="/img/extras/329.png" alt="" /></div><div class="text">На вас использовали экстру «Негативный эффект»: '+ __feff_neg[arr[2]] +'</div></div>';
									pla_data['antichat'] = 1;
									break;
							}
							break;	
					}
					if (arr[2] == -1 || arr[2] == -2 || arr[2] == -9){
						if (__store[arr[1]] && __store[arr[1]].type == "extra" && __store[arr[1]].limit){
							if (!pla_data['el'+ arr[1]]){
								pla_data['el'+ arr[1]] = 1;
							}else{
								pla_data['el'+ arr[1]] ++;
							}
						}
						_GM_action("gxt", "exts", "set", [arr[1]]);
						_GM_action("exl", "exts", "upd", [arr[1]]);
					}
				}
				break;

			case __ge['EXT_INF']:
				switch(arr[1]){
					case 103:
						if ($("#upl_" + arr[3]).length){
							var _v = parseInt(arr[7]);
							var _oo = $("#upl_" + arr[3]).find(".count");
							if ($(_oo).length && _v > 0){
								$(_oo).html(_v);
								if ($(_oo).hasClass("not-displayed")){
									$(_oo).removeClass("not-displayed");
								}
								_GM_action("", "upd", "vote_pad");
							}
						}
						_s = '<div class="extra"><div class="img"><img src="/img/extras/103.png" alt="" /></div><div class="text">'+_PL_nick(arr[5], arr[6], 'nick')+' удвоил свой голос против '+_PL_nick(arr[3], arr[4], 'nick')+'</div></div>';
						if (arr[3] == my_id) _GM_action("", "upd", "zgchk");
						if (!_SOUND_err) _SOUND_arr['sfx']['double_vote'].play();
						break;
					case 106:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/106.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' скрылся при помощи маскировки!</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['mask'].play();
						break;
					case 109:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/109.png" alt="" /></div><div class="text">Голосование отменяется! '+_PL_nick(arr[3], arr[4], 'nick')+' уехал на автомобиле из города</div></div>';
						if (!_spc && my_id == arr[3] && !parseInt(arr[2])) ExtraEff.remove(109);
						if (!_SOUND_err) _SOUND_arr['sfx']['auto'].play();
						if (!_spc && gam_iscripter && SMU_update == -1 && !SMU_check_tf){
							SMU_update = 1;
						}
						break;
					case 114:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/114.png" alt="" /></div><div class="text">Экстра «Психоз» заставила всех проголосовать против игрока '+ _PL_nick(arr[3], arr[4], 'nick') +'</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['psyho'].play();
						if (!_spc){
							gam_data['sp'] = arr[3];
						}
						break;
					case 136:
						switch (parseInt(arr[2])){
							case 0:
								if (!_spc && !pla_data['dead']){
									pla_data['punish'] = 0;
									var _phs = '/images/_.gif';
									if ($("#gpl_"+ arr[3]).length){
										_phs = $("#gpl_"+ arr[3]).parent("li").find(".gpl-img").attr("src");
									}
									gam_data['punish'] = [15, arr[3], arr[6], 0, 0, arr[4], _phs];
									_GM_action("", "punish");
									if (!_SOUND_err) _SOUND_arr['sfx']['punishment_use'].play();
								}
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 5;
									setTimeout(function(){
										if (SMU_update == -1 && !SMU_check_tf) SMU_update = 1;
									}, 15000);
								}
								break;
							case 1:
								var _peff = parseInt(arr[6]);
								if (!_peff){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/136.png" alt="" /></div><div class="text">Игроки пощадили '+ _PL_nick(arr[3], arr[4], 'nick') +'</div></div>';
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/136.png" alt="" /></div><div class="text">Игроки выбрали для '+ _PL_nick(arr[3], arr[4], 'nick') +' наказание: «'+ __punishs[_peff] +'»</div></div>';
									if (!_spc && _peff == 2 && arr[3] == my_id){
										pla_data['act'] = -2;
										_GM_action("", "upd", "acts");
										_GM_action("", "upd", "freeze", 3);
									}
									if (!_spc && _peff == 6 && arr[3] == my_id){
										for(var i = 1; i <= 15; i++){
											__ERASER_throw();
										}
										__ERASER_throw(7);
									}
								}
								if (!_spc) _GM_action("", "punish", "remove");
								break;
							case 2:
								if (!_spc && !pla_data['dead'] && typeof gam_data['punish'] != "undefined") {
									gam_data['punish'][(arr[3] == 2 ? 4 : 3)] ++;
									$("#pp_punish ul li:nth-child("+ arr[3] +")").find("div.voteCount").html(gam_data['punish'][(arr[3] == 2 ? 4 : 3)]);
								}
								break;
							case 4:
								if (!_spc && arr[3] != my_id){
									if ($("#upl_" + arr[3]).length){
										var _oo = $("#upl_" + arr[3]).find(".ico");
										if ($(_oo).length){
											$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
											$(_oo).attr("title", t_persons[arr[6]]);
											$(_oo).attr("label", arr[6]);
										}
									}
								}
								_s = '<div class="extra"><div class="img"><img src="/img/extras/136.png" alt="" /></div><div class="text">Игроки выбрали для '+ _PL_nick(arr[3], arr[4], 'nick') +' наказание: «'+ __punishs[4] +'»! '+ _PL_nick(arr[3], arr[4], 'nick') +' - '+ t_persons[arr[6]] +'</div></div>';
								if (!_spc) _GM_action("", "punish", "remove");
								break;
						}
						break;
					case 138:
						switch (parseInt(arr[2])){
							case 0:
								if (!_spc && !pla_data['dead']){
									pla_data['punish'] = 0;
									var _phs = '/images/_.gif';
									if ($("#gpl_"+ arr[3]).length){
										_phs = $("#gpl_"+ arr[3]).parent("li").find(".gpl-img").attr("src");
									}
									gam_data['punish'] = [15, arr[3], arr[6], 0, 0, arr[4], _phs];
									_GM_action("", "punish");
								}
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 5;
									setTimeout(function(){
										if (SMU_update == -1 && !SMU_check_tf) SMU_update = 1;
									}, 15000);
								}
								break;
							case 1:
								var _peff = parseInt(arr[6]);
								if (!_peff){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/138.png" alt="" /></div><div class="text">Игроки решили не давать бонус игроку '+ _PL_nick(arr[3], arr[4], 'nick') +'</div></div>';
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/138.png" alt="" /></div><div class="text">Игроки выбрали для '+ _PL_nick(arr[3], arr[4], 'nick') +' бонус: «'+ __punishs[_peff] +'»</div></div>';
									if (!_spc && arr[3] == my_id){
										if (!parseInt(arr[7][0])){
											_SGF_put('eas', 'coins_1');
										}else{
											_GM_action("gxt", "exts", (!$("#gxt_"+ arr[7][0]).length ? "add" : "set"), [arr[7][0], arr[7][1]]);
											_GM_action("exl", "exts", "upd", [arr[7][0]]);
											_EXT_put(arr[7][0]);
										}
									}
								}
								if (!_spc) _GM_action("", "punish", "remove");
								break;
							case 2:
								if (!_spc && !pla_data['dead'] && typeof gam_data['punish'] != "undefined") {
									gam_data['punish'][(arr[3] == 2 ? 4 : 3)] ++;
									$("#pp_punish ul li:nth-child("+ arr[3] +")").find("div.voteCount").html(gam_data['punish'][(arr[3] == 2 ? 4 : 3)]);
								}
								break;
						}
						break;
					case 341:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/341.png" alt="" /></div><div class="text">Три игрока стали живыми щитами</div></div>';
						ExtraAnim.remove(341);
						$.each(arr[3], function(_k, _v){
							ExtraAnim.add(341, _v);
						});
						if (!_SOUND_err) _SOUND_arr['sfx']['invisible'].play();
						break;	
					case 153:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/153.png" alt="" /></div><div class="text">Игрок разморозился антифризом</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['antifreeze'].play();
						break;
					case 154:
						if ($("#upl_" + arr[3]).length){
							var _oo = $("#upl_" + arr[3]).find(".noSpeak");
							if ($(_oo).length && !$(_oo).hasClass("not-displayed")){
								$(_oo).addClass("not-displayed");
							}
						}
						_s = '<div class="extra"><div class="img"><img src="/img/extras/154.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' проснулся от будильника</div></div>';
						break;
					case 157:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/157.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' был лишен права голоса экстрой «Бюрократ»</div></div>';
						if (parseInt(arr[2]) == 1){
							_s += '<div class="extra"><div class="img"><img src="/images/tal/x/62.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' был лишён голоса на 3 дня при помощи таланта «Тройной бюрократ»</div></div>';
						}
						if (arr[3] == my_id && !_spc){
							pla_data['act'] = -1;
							_GM_action("", "upd", "acts");
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['bureaucrat'].play();
						break;
					case 159:
						_s = '<p class="warn-msg">'+_PL_nick(arr[3], arr[4], 'nick')+' '+ (parseInt(arr[2]) ? 'сделал дополнительный выстрел из АК-47 при помощи таланта/усиления «Тройной выстрел»' : 'начал расстреливать всех из АК-47') +'</p>'+
							'<p class="warn-msg">'+_PL_nick(arr[5], arr[6], 'nick')+' чудом увернулся от пуль</p>';
						break;
					case 170:
						switch(arr[3]){
							case 'def':
								_s = '<div class="extra"><div class="img"><img src="/img/extras/170.png" alt="" /></div><div class="text">Граждане использовали экстру «Снотворное»</div></div>';
								break;
							case 'maf':
								_s = '<div class="extra"><div class="img"><img src="/img/extras/170.png" alt="" /></div><div class="text">Мафиози использовали экстру «Снотворное»</div></div>';
								break;
							case 'ton':
								_s = '<div class="extra"><div class="img"><img src="/img/extras/170.png" alt="" /></div><div class="text">Семья Жирного Тони использовали экстру «Снотворное»</div></div>';
								break;
							case 'rip':
								_s = '<div class="extra"><div class="img"><img src="/img/extras/170.png" alt="" /></div><div class="text">Потрошитель усыпил город при помощи экстры «Снотворное»</div></div>';
								break;
							case 'man':
								_s = '<div class="extra"><div class="img"><img src="/img/extras/170.png" alt="" /></div><div class="text">Маньяк использовал экстру «Снотворное»</div></div>';
								break;
							case 'zom':
								_s = '<div class="extra"><div class="img"><img src="/img/extras/170.png" alt="" /></div><div class="text">Профессор использовал экстру «Снотворное»</div></div>';
								break;	
							case 'val':
								_s = '<div class="extra"><div class="img"><img src="/img/extras/170.png" alt="" /></div><div class="text">Валентин использовал экстру «Снотворное»</div></div>';
								break;
							case 'yak':
								_s = '<div class="extra"><div class="img"><img src="/img/extras/170.png" alt="" /></div><div class="text">Якудза использовали экстру «Снотворное»</div></div>';
								break;
							case 'brd':
								_s = '<div class="extra"><div class="img"><img src="/img/extras/170.png" alt="" /></div><div class="text">Чёрная Борода использовал экстру «Снотворное»</div></div>';
								break;
							case 'lil':
								_s = '<div class="extra"><div class="img"><img src="/img/extras/170.png" alt="" /></div><div class="text">Взрывная Лили использовала экстру «Снотворное»</div></div>';
								break;
							case 'bab':
								_s = '<div class="extra"><div class="img"><img src="/img/extras/170.png" alt="" /></div><div class="text">Братья Бандитос использовали экстру «Снотворное»</div></div>';
								break;
							case 'asa1':
							case 'asa2':
							case 'asa3':
								_s = '<div class="extra"><div class="img"><img src="/img/extras/170.png" alt="" /></div><div class="text">Убийца использовал экстру «Снотворное»</div></div>';
								break;
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['sleep_pills'].play();
						break;
					case 180:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/180.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл мешок с подарками</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['gift_bag'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								switch(parseInt(_v[0])){
									case 0:
										_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из своего мешка с подарками</div></div>';
										if (!_spc && arr[3] == my_id){
											_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
											_GM_action("exl", "exts", "upd", [_v[1]]);
											_SGF_put('ny', 'extra');
										}
										break;
									case 1:
									case 2:
										_s += '<div class="extra"><div class="img"><img src="/images/events/ny/gifts/'+ k_persons[_v[0]] +'_'+ my_gender +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил '+ (parseInt(_v[0]) == 2 ? 'новогодний образ мафиози' : 'новогодний образ гражданина') +' из своего мешка с подарками</div></div>';
										if (!_spc && arr[3] == my_id){
											_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
											_GM_action("exl", "exts", "upd", [_v[1]]);
											_SGF_put('ny', k_persons[_v[0]] +'_'+ my_gender);
										}
										break;	
									case 3:
										_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил жирный шрифт из своего мешка с подарками</div></div>';
										if (!_spc && arr[3] == my_id){
											_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
											_GM_action("exl", "exts", "upd", [_v[1]]);
											_SGF_put('ny', 'bold');
										}
										break;
									case 4:
										_s += '<div class="extra"><div class="img"><img src="/images/events/ny/gifts/lottery.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил лотерейный билет из своего мешка с подарками</div></div>';
										if (!_spc && arr[3] == my_id){
											_SGF_put('ny', 'lottery');
										}
										break;
								}
							});
						}
						if (arr[7]){
							$.each(arr[7], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[2] +'.png" alt="" /></div><div class="text">'+_PL_nick(_v[0], _v[1], 'nick')+' получил экстру «'+ __store[parseInt(_v[2])].title +'» из мешка с подарками игрока '+_PL_nick(arr[3], arr[4], 'nick')+'</div></div>';
								if (!_spc && _v[0] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[2]).length ? "add" : "set"), [_v[2], _v[3]]);
									_GM_action("exl", "exts", "upd", [_v[2]]);
									_SGF_put('ny', 'extra');
								}
							});
						}
						break;
					case 181:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/181.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл Пасхальную корзинку</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['event_extra'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								switch(parseInt(_v[0])){
									case 0:
										_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из своей Пасхальной корзинки</div></div>';
										if (!_spc && arr[3] == my_id){
											_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
											_GM_action("exl", "exts", "upd", [_v[1]]);
											_SGF_put('easter', 'extra');
										}
										break;
									case 1:
									case 2:
										_s += '<div class="extra"><div class="img"><img src="/images/events/easter/gifts/'+ k_persons[_v[0]] +'_'+ my_gender +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил '+ (parseInt(_v[0]) == 2 ? 'Пасхальный образ мафиози' : 'Пасхальный образ гражданина') +' из своей Пасхальной корзинки</div></div>';
										if (!_spc && arr[3] == my_id){
											_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
											_GM_action("exl", "exts", "upd", [_v[1]]);
											_SGF_put('easter', k_persons[_v[0]] +'_'+ my_gender);
										}
										break;
									case 3:
										_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил Аквамариновую краску из своей Пасхальной корзинки</div></div>';
										if (!_spc && arr[3] == my_id){
											_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
											_GM_action("exl", "exts", "upd", [_v[1]]);
											_SGF_put('easter', 'aqua');
										}
										break;
									case 4:
										_s += '<div class="extra"><div class="img"><img src="/images/events/love/gifts/lottery.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил лотерейный билет из своей Пасхальной корзинки</div></div>';
										if (!_spc && arr[3] == my_id){
											_SGF_put('easter', 'lottery');
										}
										break;
								}
							});
						}
						if (arr[7]){
							$.each(arr[7], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[2] +'.png" alt="" /></div><div class="text">'+_PL_nick(_v[0], _v[1], 'nick')+' получил экстру «'+ __store[parseInt(_v[2])].title +'» из Пасхальной корзинки игрока '+_PL_nick(arr[3], arr[4], 'nick')+'</div></div>';
								if (!_spc && _v[0] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[2]).length ? "add" : "set"), [_v[2], _v[3]]);
									_GM_action("exl", "exts", "upd", [_v[2]]);
									_SGF_put('easter', 'extra');
								}
							});
						}
						break;
					case 182:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/182.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл Ящик с оружием</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['arms_box'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из своего Ящика с оружием</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_SGF_put('fat-tony', _v[0]);
								}
							});
						}
						break;
					case 183:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/183.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл Сундук с трофеями</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['open_chest'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из своего Сундука с трофеями</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_SGF_put('fat-tony', _v[0]);
								}
							});
						}
						break;
					case 184:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/184.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл Чемоданчик с экстрами</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['suitcase_use'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из своего Чемоданчика с экстрами</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_SGF_put('fat-tony', _v[0]);
								}
							});
						}
						break;
					case 186:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/186.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' принял участие в Новогодней лотерее!</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['lottery'].play();
						if (arr[6]){
							_s += '<div class="extra"><div class="img"><img src="/images/events/eas/gifts/coins_3.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' выиграл <b>супер-приз</b> <b>'+ arr[6] +'</b> монет в Новогодней лотерее!</div></div>';
							if (!_spc && arr[3] == my_id){
								//_WND_proc("santa", "lottery", arr[6]);
							}
						}
						if (arr[7]){
							_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ arr[7][1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил утешительный приз - экстру «'+ __store[parseInt(arr[7][1])].title +'»</div></div>';
							if (!_spc && arr[3] == my_id){
								_GM_action("gxt", "exts", (!$("#gxt_"+ arr[7][1]).length ? "add" : "set"), [arr[7][1], arr[7][2]]);
								_GM_action("exl", "exts", "upd", [arr[7][1]]);
								_EXT_put(arr[7][1]);
							}
						}
						break;
					case 189:
						switch (parseInt(arr[2])){
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/189.png" alt="" /></div><div class="text">От частых бросков у «Бочонка с порохом» затух фитиль!</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['powder_b_lose'].play();
								if (!_spc) ExtraAnim.remove(189);
								break;
							case 1:
								if (arr[6] == my_id && !_spc){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/189.png" alt="" /></div><div class="text">В вас кинули «Бочонок с порохом»! Срочно киньте его другому игроку<button class="cssGreenButton" ondblclick="return false" onclick="_GM_action(\'\', \'powder_b\');return false;" hidefocus="true">Кинуть</button></div></div>';
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/189.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' успел кинуть «Бочонок с порохом» в игрока '+_PL_nick(arr[6], arr[7], 'nick')+'</div></div>';
								}
								if (!_spc) ExtraAnim.move(189, arr[3], arr[6]);
								if (!_SOUND_err) _SOUND_arr['sfx']['powder_b_use'].play();
								break;
							default:
								if (arr[3] == my_id && !_spc){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/189.png" alt="" /></div><div class="text">В вас кинули «Бочонок с порохом»! Срочно киньте его другому игроку<button class="cssGreenButton" ondblclick="return false" onclick="_GM_action(\'\', \'powder_b\');return false" hidefocus="true">Кинуть</button></div></div>';
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/189.png" alt="" /></div><div class="text">В игрока '+_PL_nick(arr[3], arr[4], 'nick')+' кинули «Бочонок с порохом»</div></div>';
								}
								if (!_spc) ExtraAnim.add(189, arr[3]);
								if (!_SOUND_err) _SOUND_arr['sfx']['powder_b_use'].play();
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 4;
									setTimeout(function(){
										if (SMU_update == -1 && !SMU_check_tf) SMU_update = 1;
									}, 8000);
								}
								break;
						}	
						break;
					case 196:
						switch (parseInt(arr[2])){
							case 1:
								var _s1 = (parseInt(arr[9]) < 3 ? '<br/>Бомба скоро взорвётся!' : '');
								if (arr[6] == my_id && !_spc){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/196.png" alt="" /></div><div class="text">В вас кинули «Нестабильную бомбу»! Срочно киньте её другому игроку<button class="cssGreenButton" ondblclick="return false" onclick="_GM_action(\'\', \'powder_b\');return false;" hidefocus="true">Кинуть</button>'+ _s1 +'</div></div>';
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/196.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' перекинул «Нестабильную бомбу» в игрока '+_PL_nick(arr[6], arr[7], 'nick')+ _s1 +'</div></div>';
								}
								if (!_spc) ExtraAnim.move(196, arr[3], arr[6]);
								if (!_SOUND_err) _SOUND_arr['sfx']['unstable_throw'].play();
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 0;
								}
								break;
							default:
								if (arr[3] == my_id && !_spc){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/196.png" alt="" /></div><div class="text">В вас кинули «Нестабильную бомбу»! Срочно киньте её другому игроку<button class="cssGreenButton" ondblclick="return false" onclick="_GM_action(\'\', \'powder_b\');return false" hidefocus="true">Кинуть</button></div></div>';
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/196.png" alt="" /></div><div class="text">В игрока '+_PL_nick(arr[3], arr[4], 'nick')+' кинули «Нестабильную бомбу»</div></div>';
								}
								if (!_spc) ExtraAnim.add(196, arr[3]);
								if (!_SOUND_err) _SOUND_arr['sfx']['unstable_throw'].play();
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 0;
								}
								break;
						}	
						break;	
					case 273:
						switch (parseInt(arr[2])){
							case 1:
								var _s1 = (parseInt(arr[9]) < 3 ? '<br/>Бомба стала очень нестабильной и скоро взорвётся!' : '');
								if (arr[6] == my_id && !_spc){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/273.png" alt="" /></div><div class="text">В вас кинули «Старую бомбу»! Срочно киньте её другому игроку<button class="cssGreenButton" ondblclick="return false" onclick="_GM_action(\'\', \'powder_b\');return false;" hidefocus="true">Кинуть</button>'+ _s1 +'</div></div>';
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/273.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' перекинул «Старую бомбу» в игрока '+_PL_nick(arr[6], arr[7], 'nick')+ _s1 +'</div></div>';
								}
								if (!_spc) ExtraAnim.move('oldbomb', arr[3], arr[6]);
								if (!_SOUND_err) _SOUND_arr['sfx']['powder_b_use'].play();
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 0;
								}
								break;
							default:
								if (arr[3] == my_id && !_spc){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/273.png" alt="" /></div><div class="text">В вас кинули «Старую бомбу»! Срочно киньте её другому игроку<button class="cssGreenButton" ondblclick="return false" onclick="_GM_action(\'\', \'powder_b\');return false" hidefocus="true">Кинуть</button></div></div>';
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/273.png" alt="" /></div><div class="text">В игрока '+_PL_nick(arr[3], arr[4], 'nick')+' кинули «Старую бомбу»</div></div>';
								}
								if (!_spc) ExtraAnim.add('oldbomb', arr[3]);
								if (!_SOUND_err) _SOUND_arr['sfx']['powder_b_use'].play();
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 0;
								}
								break;
						}	
						break;
					case 318:
						switch (parseInt(arr[2])){
							case 1:
								var _s1 = (parseInt(arr[9]) < 3 ? '<br/>Фитиль у динамита почти сгорел!' : '');
								if (arr[6] == my_id && !_spc){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/318.png" alt="" /></div><div class="text">В вас кинули «Динамит»! Срочно киньте его другому игроку'+ _s1 +'</div></div>';
									_GM_action("", "dynamit");
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/318.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' перекинул «Динамит» в игрока '+_PL_nick(arr[6], arr[7], 'nick')+ _s1 +'</div></div>';
								}
								if (!_spc) ExtraAnim.move(318, arr[3], arr[6]);
								if (!_SOUND_err) _SOUND_arr['sfx']['powder_b_use'].play();
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 0;
								}
								break;
							default:
								if (arr[3] == my_id && !_spc){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/318.png" alt="" /></div><div class="text">В вас кинули «Динамит»! Срочно киньте его другому игроку</div></div>';
									_GM_action("", "dynamit");
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/318.png" alt="" /></div><div class="text">В игрока '+_PL_nick(arr[3], arr[4], 'nick')+' кинули «Динамит»</div></div>';
								}
								if (!_spc) ExtraAnim.add(318, arr[3]);
								if (!_SOUND_err) _SOUND_arr['sfx']['powder_b_use'].play();
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 0;
								}
								break;
						}	
						break;	
					case 280:
						switch (parseInt(arr[2])){
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/280.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' весь покрыт смяткой после взрыва «Смятка-бомбы»</div></div>';
								if (!_spc && arr[3] == my_id){
									for(var i = 1; i <= 15; i++){
										__ERASER_throw();
									}
									__ERASER_throw(7);
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['powder_b_explode'].play();
								if (!_spc) ExtraAnim.remove('eggbomb');
								break;
							case 1:
								var _s1 = (parseInt(arr[9]) < 3 ? '<br/>«Смятка-бомба» стала очень нестабильной и скоро взорвётся!' : '');
								if (arr[6] == my_id && !_spc){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/280.png" alt="" /></div><div class="text">В вас кинули «Смятка-бомбу»! Срочно киньте его другому игроку<button class="cssGreenButton" ondblclick="return false" onclick="_GM_action(\'\', \'powder_b\');return false;" hidefocus="true">Кинуть</button>'+ _s1 +'</div></div>';
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/280.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' перекинул «Смятка-бомбу» в игрока '+_PL_nick(arr[6], arr[7], 'nick')+ _s1 +'</div></div>';
								}
								if (!_spc) ExtraAnim.move('eggbomb', arr[3], arr[6]);
								if (!_SOUND_err) _SOUND_arr['sfx']['powder_b_use'].play();
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 0;
								}
								break;
							default:
								if (arr[3] == my_id && !_spc){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/280.png" alt="" /></div><div class="text">В вас кинули «Смятка-бомбу»! Срочно киньте его другому игроку<button class="cssGreenButton" ondblclick="return false" onclick="_GM_action(\'\', \'powder_b\');return false" hidefocus="true">Кинуть</button></div></div>';
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/280.png" alt="" /></div><div class="text">В игрока '+_PL_nick(arr[3], arr[4], 'nick')+' кинули «Смятка-бомбу»</div></div>';
								}
								if (!_spc) ExtraAnim.add('eggbomb', arr[3]);
								if (!_SOUND_err) _SOUND_arr['sfx']['powder_b_use'].play();
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 0;
								}
								break;
						}	
						break;
					case 190:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/190.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' избежал ночного визита при помощи экстры «Дымовая бомбочка»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['dummy_b'].play();
						break;
					case 193:
						//_s = '<div class="extra"><div class="img"><img src="/img/extras/193.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Кейс с экстрами»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['suitcase_use'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из «Кейса с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 122:
						//_s = '<div class="extra"><div class="img"><img src="/img/extras/122.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Мешок с экстрами»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['bag_open'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из «Мешок с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 130:
						if (!_SOUND_err) _SOUND_arr['sfx']['bag_open'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из «Коробки с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;		
					case 194:
						//_s = '<div class="extra"><div class="img"><img src="/img/extras/194.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Огромный кейс с экстрами»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['suitcase_use'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из «Огромного кейса с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 123:
						//_s = '<div class="extra"><div class="img"><img src="/img/extras/123.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Огромный мешок с экстрами»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['huge_bug_open'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из «Огромного мешка с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 131:
						if (!_SOUND_err) _SOUND_arr['sfx']['huge_bug_open'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из «Огромной коробки с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 296:
						if (!_SOUND_err) _SOUND_arr['sfx']['huge_bug_open'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из «Огромного мешка с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 336:
						if (!_SOUND_err) _SOUND_arr['sfx']['huge_bug_open'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из «Мешка с мега-экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 337:
						if (!_SOUND_err) _SOUND_arr['sfx']['huge_bug_open'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из «Мешка с экстрами на рейтинг»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 339:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/339.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' использовал мега-экстру «Зелье адреналина» и готов стрелять в игроков</div></div>';
						if (arr[3] == my_id && !_spc){
							pla_data['adrenalin'] = 1;
							_GM_action("", "adrenalin");
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['bureaucrat'].play();
						break;
					case 312:
						if (!_SOUND_err) _SOUND_arr['sfx']['huge_bug_open'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из «Большого набора с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;	
					case 140:
						if (!_SOUND_err) _SOUND_arr['sfx']['huge_bug_open'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из «Экзотической коробки»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;		
					case 141:
						if (!_SOUND_err) _SOUND_arr['sfx']['huge_bug_open'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из «Огромной корзинки с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 204:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/204.png" alt="" /></div><div class="text">Игрока контузило шокером до конца дня</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['shocker'].play();
						break;
					case 205:
						switch(arr[2]){
							case 0:
								if (arr[3] == my_id && !_spc){
									_s = '<p class="warn-msg">На вас установили магнит, любая следующая пуля полетит в вашу сторону</p>';
									if (!_SOUND_err) _SOUND_arr['sfx']['magnet'].play();
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/205.png" alt="" /></div><div class="text">На игрока '+_PL_nick(arr[3], arr[4], 'nick')+' установили магнит, любая следующая пуля полетит прямо в него</div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['magnet'].play();
								}
								if (!_spc) ExtraAnim.remove(205);
								if (!_spc) ExtraAnim.add(205, arr[3]);
								break;
							case 1:
								_s = '<p class="warn-msg">'+_PL_nick(arr[3], arr[4], 'nick')+' притянул к себе пулю магнитом</p>';
								if (!_spc) ExtraAnim.remove(205);
								if (!_SOUND_err) _SOUND_arr['sfx']['magnet_use'].play();
								break;
						}
						break;
					case 206:
						if (arr[3] == my_id && !_spc){
							_s = '<p class="warn-msg">Вас заковали в кандалы, использование экстр теперь недоступно</p>';
							pla_data['shackles'] = 1;
						}else{
							_s = '<div class="extra"><div class="img"><img src="/img/extras/206.png" alt="" /></div><div class="text">Игрока '+_PL_nick(arr[3], arr[4], 'nick')+' заковали в кандалы, лишив возможности использовать экстры</div></div>';
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['fetters'].play();
						break;
					case 207:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/207.png" alt="" /></div><div class="text">Кто-то обманул граждан, подкинув игроку Паспорт мафиози</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['passport_maf'].play();
						break;	
					case 208:
						if (arr[7] == 20){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/341.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' был воскрешён при помощи мега-экстры «Живой щит»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['reanimator'].play();
						}else if (arr[7] == 19){
							_s = '<div class="extra"><div class="img"><img src="/images/tal/x/83.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' воскресился при помощи таланта «Двойное воскрешение»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['reanimator'].play();
						}else if (arr[7] == 18){
							_s = '<div class="extra"><div class="img"><img src="/images/tal/x/66.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' сбежал из тюрьмы при помощи таланта «Бегство»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['latchkey'].play();
						}else if (arr[7] == 17){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/343.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' воскресился при помощи мега-экстры «Супер Двуликий»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['reanimator'].play();	
						}else if (arr[7] == 16){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/343.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' сбежал из тюрьмы при помощи мега-экстры «Супер Двуликий»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['latchkey'].play();	
						}else if (arr[7] == 15){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/334.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' воскресился при помощи мега-экстры «Супер Босс Мафии»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['reanimator'].play();	
						}else if (arr[7] == 14){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/334.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' сбежал из тюрьмы при помощи мега-экстры «Супер Босс Мафии»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['latchkey'].play();	
						}else if (arr[7] == 13){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/338.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' воскресился при помощи мега-экстры «Супер Маньяк»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['reanimator'].play();
						}else if (arr[7] == 12){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/338.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' сбежал из тюрьмы при помощи мега-экстры «Супер Маньяк»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['latchkey'].play();
						}else if (arr[7] == 11){
							_s = '<div class="extra"><div class="img"><img src="/images/events/ripper/powers/1.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' - Потрошитель восстал из мёртвых!</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['immortality'].play();
							if (typeof reanim_tms[34] != "undefined" && reanim_tms[34] != null){
								clearTimeout(reanim_tms[34]);
								reanim_tms[34] = null;
							}
						}else if (arr[7] == 10){
							_s = '<div class="extra"><div class="img"><img src="/images/tal/x/61.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' реанимирован при помощи таланта «Бессмертие»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['reanimator'].play();
						}else if (arr[7] == 8){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/16.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' был воскрешён при помощи супер-силы «Полевой доктор»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['reanimator'].play();
						}else if (arr[7] == 7){
							_s = '<div class="extra"><div class="img"><img src="/images/events/banditos/powers/15.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' освободился из тюрьмы при помощи супер-силы «Отмычки»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['latchkey'].play();
						}else if (arr[7] == 6){
							_s = '<div class="extra"><div class="img"><img src="/images/tal/x/55.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' сбежал из тюрьмы при помощи таланта/усиления «Побег»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['reanimator'].play();
						}else if (arr[7] == 9){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/316.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' воскрес при помощи мега-экстры «Бессмертие»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['beard_immortality'].play();	
						}else if (arr[7] == 5){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/198.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' воскрес при помощи экстры «Эликсир бессмертия»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['beard_immortality'].play();
						}else if (arr[7] == 4){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/233.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' реанимирован при помощи Усиления</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['reanimator'].play();
						}else if (arr[7] == 3){
							_s = '<div class="extra"><div class="img"><img src="/images/events/lin/popups/10.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' реанимирован при помощи «Амулета жизни» от Тётушки Лин</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['lin_amulet_ressurect'].play();
						}else if (arr[7] == 2){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/208.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' реанимирован при помощи таланта «Эликсир воскрешения»</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['reanimator'].play();
						}else{
							_s = '<div class="extra"><div class="img"><img src="/img/extras/208.png" alt="" /></div><div class="text">Игрок '+_PL_nick(arr[3], arr[4], 'nick')+' был оживлён реаниматором</div></div>';
							if (!_SOUND_err) _SOUND_arr['sfx']['reanimator'].play();
							if (!_spc && my_id == arr[3]) ExtraEff.remove(208);
						}
						var __data = (spc_id && !gam_id ? spc_data : gam_data);
						if (typeof __data['v_left'][arr[2]] != "undefined"){
							if (spc_id && !gam_id){
								spc_data['v_left'][arr[2]] ++;
							}else{
								gam_data['v_left'][arr[2]] ++;
							}
						}else{
							if (spc_id && !gam_id){
								spc_data['v_left'][arr[2]] = 1;
							}else{
								gam_data['v_left'][arr[2]] = 1;
							}
						}
						var __data = (spc_id && !gam_id ? spc_data : gam_data);
						if (typeof __data['v_left'] != "undefined" && !__data['no_rolebar']){
							var _team = ['', ''];
							var _team_c = [0, 0];
							$.each(__data['v_left'], function(_k, _v){
								var data_tip = '<img src=\'/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png\' class=\'hintRoleImg\' alt=\'\' /><div class=\'whoIsLifeText\'><h2>'+ t_persons[_k] +'</h2>'+ GetText.roleHint(k_persons[_k])+'</div>';
								_team[__team_by_person(_k)] += '<li class="role hoverHint" data-tip="'+ data_tip +'" id="whl_role_'+ _k +'"><div class="dead'+(parseInt(_v) > 0 ? ' not-displayed' : '')+'"></div><img src="/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png" alt="" /><span class="count'+(parseInt(_v) < 2 ? ' not-displayed' : '')+'">'+ _v +'</span></li>' +"\n";
								_team_c[__team_by_person(_k)] += parseInt(_v);
							});
							if (spc_id && !gam_id){
								$(".whoIsLife").html(_team[1] +'<div class="vs" style="font-size:15px;font-weight:bold;"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></div>'+ _team[0]);
							}else{
								$(".whoIsLife").html(_team[1] +'<li class="vs"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></li>'+ _team[0]);
							}
							ptip.init('.whoIsLife .hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause'});
						}
						if (arr[3] == my_id && !_spc){
							pla_data['dead'] = 0;
							pla_data['person'] = arr[2];
							pla_data['figure'] = arr[6];
							if ($(".bookmarks").hasClass("dead")){
								$(".bookmarks").removeClass("dead");
							}
							if ($("#myExtras").hasClass("disabled")){
								$("#myExtras").removeClass("disabled");
							}
							if ($("#myExtras").hasClass("locked")){
								$("#myExtras").removeClass("locked");
							}
							$("#gamePage").removeClass("dead");
							$("#chatContainer").find(".smiles li.last-word:not(.not-displayed)").addClass("not-displayed").prev().removeClass("not-displayed");
							_GM_action("", "upd", "person", true);
							if (dlg_exit_tm) {
								clearTimeout(dlg_exit_tm);
								dlg_exit_tm = null;
							}
							_GM_action("f", "upd", "pp_dh", "dlg_exit");
						}
						if ($("#upl_" + arr[3]).length){
							var _oo = $("#upl_" + arr[3]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+(arr[2] > 0 ? k_persons[arr[2]] : "unknown") + arr[6] + "_"+ arr[5] +".png)");
								$(_oo).attr("title", t_persons[arr[2]]);
								$(_oo).attr("label", arr[2]);
							}
							var _oo = $("#upl_" + arr[3]).find(".noSpeak");
							if ($(_oo).length && !$(_oo).hasClass("not-displayed")){
								$(_oo).addClass("not-displayed");
							}
							var _oo = $("#upl_" + arr[3]).find(".name");
							if ($(_oo).length && $(_oo).hasClass("ndead")){
								$(_oo).removeClass("ndead");
							}
							var _oo = $("#upl_" + arr[3]).find(".ico");
							if ($(_oo).length && $(_oo).hasClass("idead")){
								$(_oo).removeClass("idead");
							}
							var _oo = $("#upl_" + arr[3]).find(".hint");
							if ($(_oo).length){
								$(_oo).html('');
							}
							var _oo = $("#upl_" + arr[3]).find(".dead");
							if ($(_oo).length){
								$(_oo).attr("label", 0);
								if (!$(_oo).hasClass("not-displayed")){
									$(_oo).addClass("not-displayed");
								}
							}
							var _oo = $("#upl_" + arr[3]).find(".actionButton");
							if ($(_oo).length){
								$(_oo).attr("label", "");
								if (!$(_oo).hasClass("off")) $(_oo).addClass("off");
							}
						}
						if (arr[3] == my_id && !_spc){
							_GM_action("", "upd", "pvt_dd");
							_GM_action("", "upd", "tabs");
						}
						_GM_action("", "upd", "acts");
						_GM_action("", "upd", "x2chk");
						_GM_action("", "upd", "zgchk");
						break;
					case 315:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/315.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' освободился из тюрьмы при помощи мега-экстры «Отмычки»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['latchkey'].play();
						var __data = (spc_id && !gam_id ? spc_data : gam_data);
						if (typeof __data['v_left'][arr[2]] != "undefined"){
							if (spc_id && !gam_id){
								spc_data['v_left'][arr[2]] ++;
							}else{
								gam_data['v_left'][arr[2]] ++;
							}
						}else{
							if (spc_id && !gam_id){
								spc_data['v_left'][arr[2]] = 1;
							}else{
								gam_data['v_left'][arr[2]] = 1;
							}
						}
						var __data = (spc_id && !gam_id ? spc_data : gam_data);
						if (typeof __data['v_left'] != "undefined" && !__data['no_rolebar']){
							var _team = ['', ''];
							var _team_c = [0, 0];
							$.each(__data['v_left'], function(_k, _v){
								var data_tip = '<img src=\'/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png\' class=\'hintRoleImg\' alt=\'\' /><div class=\'whoIsLifeText\'><h2>'+ t_persons[_k] +'</h2>'+ GetText.roleHint(k_persons[_k])+'</div>';
								_team[__team_by_person(_k)] += '<li class="role hoverHint" data-tip="'+ data_tip +'" id="whl_role_'+ _k +'"><div class="dead'+(parseInt(_v) > 0 ? ' not-displayed' : '')+'"></div><img src="/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png" alt="" /><span class="count'+(parseInt(_v) < 2 ? ' not-displayed' : '')+'">'+ _v +'</span></li>' +"\n";
								_team_c[__team_by_person(_k)] += parseInt(_v);
							});
							if (spc_id && !gam_id){
								$(".whoIsLife").html(_team[1] +'<div class="vs" style="font-size:15px;font-weight:bold;"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></div>'+ _team[0]);
							}else{
								$(".whoIsLife").html(_team[1] +'<li class="vs"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></li>'+ _team[0]);
							}
							ptip.init('.whoIsLife .hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause'});
						}
						if (arr[3] == my_id && !_spc){
							pla_data['dead'] = 0;
							pla_data['person'] = arr[2];
							pla_data['figure'] = arr[6];
							if ($(".bookmarks").hasClass("dead")){
								$(".bookmarks").removeClass("dead");
							}
							if ($("#myExtras").hasClass("disabled")){
								$("#myExtras").removeClass("disabled");
							}
							if ($("#myExtras").hasClass("locked")){
								$("#myExtras").removeClass("locked");
							}
							$("#gamePage").removeClass("dead");
							$("#chatContainer").find(".smiles li.last-word:not(.not-displayed)").addClass("not-displayed").prev().removeClass("not-displayed");
							_GM_action("", "upd", "person", true);
							if (dlg_exit_tm) {
								clearTimeout(dlg_exit_tm);
								dlg_exit_tm = null;
							}
							_GM_action("f", "upd", "pp_dh", "dlg_exit");
						}
						if ($("#upl_" + arr[3]).length){
							var _oo = $("#upl_" + arr[3]).find(".ico");
							if ($(_oo).length){
								$(_oo).css("background-image", "url(/img/persons/big/"+(arr[2] > 0 ? k_persons[arr[2]] : "unknown") + arr[6] + "_"+ arr[5] +".png)");
								$(_oo).attr("title", t_persons[arr[2]]);
								$(_oo).attr("label", arr[2]);
							}
							var _oo = $("#upl_" + arr[3]).find(".noSpeak");
							if ($(_oo).length && !$(_oo).hasClass("not-displayed")){
								$(_oo).addClass("not-displayed");
							}
							var _oo = $("#upl_" + arr[3]).find(".name");
							if ($(_oo).length && $(_oo).hasClass("ndead")){
								$(_oo).removeClass("ndead");
							}
							var _oo = $("#upl_" + arr[3]).find(".ico");
							if ($(_oo).length && $(_oo).hasClass("idead")){
								$(_oo).removeClass("idead");
							}
							var _oo = $("#upl_" + arr[3]).find(".hint");
							if ($(_oo).length){
								$(_oo).html('');
							}
							var _oo = $("#upl_" + arr[3]).find(".dead");
							if ($(_oo).length){
								$(_oo).attr("label", 0);
								if (!$(_oo).hasClass("not-displayed")){
									$(_oo).addClass("not-displayed");
								}
							}
							var _oo = $("#upl_" + arr[3]).find(".actionButton");
							if ($(_oo).length){
								$(_oo).attr("label", "");
								if (!$(_oo).hasClass("off")) $(_oo).addClass("off");
							}
						}
						if (arr[3] == my_id && !_spc){
							_GM_action("", "upd", "pvt_dd");
							_GM_action("", "upd", "tabs");
						}
						_GM_action("", "upd", "acts");
						_GM_action("", "upd", "x2chk");
						_GM_action("", "upd", "zgchk");
						break;	
					case 220:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/220.png" alt="" /></div><div class="text">Игрок наступил на парализующую ловушку</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['paralyzing_trap'].play();
						break;
					case 221:
                                                if ($("#upl_" + arr[3]).length){
							var _oo = $("#upl_" + arr[3]).find(".count");
			                                if ($(_oo).length){
				                                if (!$(_oo).hasClass("not-displayed")){
					                                $(_oo).addClass("not-displayed");
				                                }
				                                $(_oo).html('0');
				                                _GM_action("", "upd", "vote_pad");
			                                }
						}
					        _s = '<div class="extra"><div class="img"><img src="/img/extras/221.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' снял с себя все голоса при помощи экстры Невидимка</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['invisible'].play();
						break;
					case 222:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/222.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' стальной кожей срикошетил пулю в случайного игрока</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['iron_skin'].play();
						break;
					case 224:
						if (parseInt(arr[2]) == 1){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/224.png" alt="" /></div><div class="text">Кто-то из зрителей контузил игрока при помощи Мегашокера 9000</div></div>';
						}else{
							_s = '<div class="extra"><div class="img"><img src="/img/extras/224.png" alt="" /></div><div class="text">Игрока контузило при помощи Мегашокера 9000</div></div>';
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['megashocker'].play();
						break;
					case 225:
						if (parseInt(arr[2]) == 2){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/225.png" alt="" /></div><div class="text">Игроку удалось пережить колбу с ядом!</div></div>';
						}else if (parseInt(arr[2]) == 1){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/225.png" alt="" /></div><div class="text">Один из зрителей бросил колбу с ядом! Кто-то из игроков умрёт через сутки</div></div>';
						}else{
							_s = '<div class="extra"><div class="img"><img src="/img/extras/225.png" alt="" /></div><div class="text">Кто-то из игроков был отравлен ядом и умрёт через сутки</div></div>';
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['poison'].play();
						break;
					case 345:
						if (parseInt(arr[2]) == 1){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/345.png" alt="" /></div><div class="text">«Вирус» перекинулся на другого игрока</div></div>';
						}else{
							_s = '<div class="extra"><div class="img"><img src="/img/extras/345.png" alt="" /></div><div class="text">Игрок был отравлен «Вирусом» и умрёт через сутки</div></div>';
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['poison'].play();
						break;
					case 226:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/226.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл коробку с сюрпризом</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['surprise_box'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								switch(parseInt(_v[0])){
									case 0:
										_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из своей коробки с сюрпризом</div></div>';
										if (!_spc && arr[3] == my_id){
											_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
											_GM_action("exl", "exts", "upd", [_v[1]]);
											_SGF_put('love', 'extra');
										}
										break;
									case 1:
									case 2:
										_s += '<div class="extra"><div class="img"><img src="/images/events/love/gifts/'+ k_persons[_v[0]] +'_'+ my_gender +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил '+ (parseInt(_v[0]) == 2 ? 'образ влюблённого мафиози' : 'образ одинокого гражданина') +' из своей коробки с сюрпризом</div></div>';
										if (!_spc && arr[3] == my_id){
											_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
											_GM_action("exl", "exts", "upd", [_v[1]]);
											_SGF_put('love', k_persons[_v[0]] +'_'+ my_gender);
										}
										break;
									case 3:
										_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил розовую краску из своей коробки с сюрпризом</div></div>';
										if (!_spc && arr[3] == my_id){
											_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
											_GM_action("exl", "exts", "upd", [_v[1]]);
											_SGF_put('love', 'paint');
										}
										break;
									case 4:
										_s += '<div class="extra"><div class="img"><img src="/images/events/love/gifts/lottery.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил лотерейный билет из своей коробки с сюрпризом</div></div>';
										if (!_spc && arr[3] == my_id){
											_SGF_put('love', 'lottery');
										}
										break;
								}
							});
						}
						if (arr[7]){
							$.each(arr[7], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[2] +'.png" alt="" /></div><div class="text">'+_PL_nick(_v[0], _v[1], 'nick')+' получил экстру «'+ __store[parseInt(_v[2])].title +'» из коробки с сюрпризом игрока '+_PL_nick(arr[3], arr[4], 'nick')+'</div></div>';
								if (!_spc && _v[0] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[2]).length ? "add" : "set"), [_v[2], _v[3]]);
									_GM_action("exl", "exts", "upd", [_v[2]]);
									_SGF_put('love', 'extra');
								}
							});
						}
						break;
					case 239:
						switch (parseInt(arr[2])){
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/239.png" alt="" /></div><div class="text">Игрока '+_PL_nick(arr[3], arr[4], 'nick')+' парализовало при открытии «Коробки с сюрпризом»</div></div>';
								if (!_spc && arr[3] == my_id) {
									pla_data['act'] = -2;
									_GM_action("", "upd", "acts");
									_GM_action("", "upd", "freeze", 3);
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['negative_effect'].play();
								break;
							case 3:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/239.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил много-много сердечек на экран, открыв «Коробку с сюрпризом»</div></div>';
								if (!_spc && arr[3] == my_id){
									for(var i = 1; i <= 15; i++){
										__ERASER_throw();
									}
									__ERASER_throw(7);
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['negative_effect'].play();
								break;
							case 4:
								if ($("#upl_" + arr[3]).length){
									var _oo = $("#upl_" + arr[3]).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
										$(_oo).attr("title", t_persons[arr[6]]);
										$(_oo).attr("label", arr[6]);
									}
								}
								_s = '<div class="extra"><div class="img"><img src="/img/extras/239.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' - '+t_persons[arr[6]]+' раскрыл всем свою роль, открыв «Коробку с сюрпризом»</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['negative_effect'].play();
								break;
							case 5:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/239.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' потерял 10 монет, открыв «Коробку с сюрпризом»</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['negative_effect'].play();
								break;
							case 6:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/239.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил +1 монету из «Коробки с сюрпризом»</div></div>';
								if (!_spc && arr[3] == my_id) {
									_SGF_put('love', 'coins_1');
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['positive_effect'].play();
								break;
							case 7:
								_s += '<div class="extra"><div class="img"><img src="/img/extras/239.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил розовую краску из «Коробки с сюрпризом»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ arr[6]).length ? "add" : "set"), [arr[6], arr[7]]);
									_GM_action("exl", "exts", "upd", [arr[6]]);
									_SGF_put('love', 'paint');
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['positive_effect'].play();
								break;
							case 8:
								_s += '<div class="extra"><div class="img"><img src="/img/extras/239.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил образ одинокого гражданина из «Коробки с сюрпризом»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ arr[6]).length ? "add" : "set"), [arr[6], arr[7]]);
									_GM_action("exl", "exts", "upd", [arr[6]]);
									_SGF_put('love', k_persons[1] +'_'+ my_gender);
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['positive_effect'].play();
								break;
							case 9:
								_s += '<div class="extra"><div class="img"><img src="/img/extras/239.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил образ влюблённого мафиози из «Коробки с сюрпризом»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ arr[6]).length ? "add" : "set"), [arr[6], arr[7]]);
									_GM_action("exl", "exts", "upd", [arr[6]]);
									_SGF_put('love', k_persons[2] +'_'+ my_gender);
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['positive_effect'].play();
								break;
							case 10:
								_s += '<div class="extra"><div class="img"><img src="/img/extras/239.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил жирный шрифт из «Коробки с сюрпризом»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ arr[6]).length ? "add" : "set"), [arr[6], arr[7]]);
									_GM_action("exl", "exts", "upd", [arr[6]]);
									_SGF_put('love', 'bold');
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['positive_effect'].play();
								break;
							case 11:
								_s += '<div class="extra"><div class="img"><img src="/img/extras/239.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(arr[6])].title +'» из «Коробки с сюрпризом»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ arr[6]).length ? "add" : "set"), [arr[6], arr[7]]);
									_GM_action("exl", "exts", "upd", [arr[6]]);
									_EXT_put(arr[6]);
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['positive_effect'].play();
								break;
							default:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/239.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' поставил «Коробку с сюрпризом». Внут��и трёх игроков ждёт сюрприз!'+ (!_spc ? '<button class="cssGreenButton" ondblclick="return false" onclick="_GM_action(\'\', \'vl_surp_box\', false, event);return false;" hidefocus="true">Открыть</button>' : '') +'</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['box_installation'].play();
								break;
						}
						break;
					case 241:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/241.png" alt="" /></div><div class="text">Игрок использовал экстру «Кража»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['extra_theft'].play();
						break;
					case 242:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/242.png" alt="" /></div><div class="text">Игрока парализовало при помощи экстры «Удар в спину»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['extra_backpunch'].play();
						break;
					case 243:
						switch (parseInt(arr[2])){
							case 1:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/243.png" alt="" /></div><div class="text">Огонь от экстры «Коктейль Молотова» перекинулся на игрока '+_PL_nick(arr[3], arr[4], 'nick')+'</div></div>';
								//if (!_SOUND_err) _SOUND_arr['sfx']['molotov_c_fire'].play();
								break;
							default:
								if (arr[3] == my_id && !_spc){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/243.png" alt="" /></div><div class="text">В вас бросили «Коктейль Молотова»</div></div>';
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/243.png" alt="" /></div><div class="text">В игрока '+_PL_nick(arr[3], arr[4], 'nick')+' бросили «Коктейль Молотова»</div></div>';
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['molotov_c_use'].play();
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 4;
									setTimeout(function(){
										if (SMU_update == -1 && !SMU_check_tf) SMU_update = 1;
									}, 5000);
								}
								break;
						}
						if (!_spc) ExtraAnim.add(243, arr[3]);
						break;
					case 142:
						if (!_SOUND_err) _SOUND_arr['sfx']['ny_token'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/images/events/eas/gifts/stars.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' выиграл <b>'+ _v +'</b> звёзд в «Звёздной лотерее»</div></div>';
								if (!_spc && arr[3] == my_id){
									if (parseInt(_v) >= 30){
										//_WND_proc("easter", "lottery_star", _v);
									}
									_SGF_put('eas', 'stars');
								}
							});
						}
						if (arr[7]){
							$.each(arr[7], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[0] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[0])].title +'» за участие в «Звёздной лотерее»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[0]).length ? "add" : "set"), [_v[0], _v[1]]);
									_GM_action("exl", "exts", "upd", [_v[0]]);
									_EXT_put(_v[0]);
								}
							});
						}										
						break;	
					case 249:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/249.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' принял участие в Пасхальной лотерее!</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['lottery'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/images/events/eas/gifts/coins_3.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' выиграл'+ (_i == 3 ? ' <b>супер-приз</b>' : '') +' <b>'+ _v +'</b> монет в Пасхальной лотерее!</div></div>';
								if (!_spc && arr[3] == my_id){
									//_WND_proc("easter", "lottery", _v);
								}
							});
						}
						if (arr[7]){
							$.each(arr[7], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил утешительный приз - экстру «'+ __store[parseInt(_v[1])].title +'»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}										
						break;
					case 250:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/250.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Корзинку с экстрами»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['event_extra'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из своей «Корзинки с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 256:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/256.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Ящик с экстрами»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['arms_box'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из своего «Ящика с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 251:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/251.png" alt="" /></div><div class="text">Игрок получил «Чёрную метку»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['blackmark_set'].play();
						break;
					case 252:
						if (!_spc && arr[3] == my_id){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/252.png" alt="" /></div><div class="text">На вас использовали экстру «Крепкий ром»! Все ваши действия будут иметь случайную цель в течение 1 минуты</div></div>';
						}else{
							_s = '<div class="extra"><div class="img"><img src="/img/extras/252.png" alt="" /></div><div class="text">На игрока '+_PL_nick(arr[3], arr[4], 'nick')+' использовали экстру «Крепкий ром»</div></div>';
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['rum_set'].play();
						if (!_spc){
							ExtraAnim.add(252, arr[3]);
							ExtraAnim.removeAfter(252, arr[3], 60000);
						}
						break;
					case 253:
						switch (parseInt(arr[2])){
							case 1:
								if (!_spc && arr[3] == my_id){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/253.png" alt="" /></div><div class="text">Вы убежали в укрытие</div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['ship_cannon_hide'].play();
								}
								ExtraAnim.remove(253, arr[3]);
								break;
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/253.png" alt="" /></div><div class="text">Все игроки успели укрыться</div></div>';
								break;
							default:
								if (!_spc) {
									_s = '<div class="extra"><div class="img"><img src="/img/extras/253.png" alt="" /></div><div class="text">Кто-то начал палить из «Корабельной пушки»! Жми на кнопку, чтобы уцелеть!<button class="cssGreenButton" ondblclick="return false" onclick="_GM_action(\'\', \'ship_cannon\');return false;" hidefocus="true">В укрытие!</button></div></div>';
								} else {
									_s = '<div class="extra"><div class="img"><img src="/img/extras/253.png" alt="" /></div><div class="text">Кто-то начал палить из «Корабельной пушки»!</div></div>';
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['ship_cannon_fire'].play();
								if (!_spc){
									for (var _i = 0; _i < arr[3].length; _i++) {
										ExtraAnim.add(253, arr[3][_i]);
									}
								}
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 4;
									setTimeout(function(){
										if (SMU_update == -1 && !SMU_check_tf) SMU_update = 1;
									}, 10000);
								}
								break;
						}
						break;
					case 263:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/263.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' принял участие в Карнавальной лотерее!</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['lottery'].play();
						if (arr[6]){
							_s += '<div class="extra"><div class="img"><img src="/images/events/eas/gifts/coins_3.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' выиграл <b>супер-приз</b> <b>'+ arr[6] +'</b> монет в Карнавальной лотерее!</div></div>';
							if (!_spc && arr[3] == my_id){
								//_WND_proc("carnival", "lottery", arr[6]);
								_HX_hint('car17');
							}
						}
						if (arr[7]){
							_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ arr[7][1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил утешительный приз - экстру «'+ __store[parseInt(arr[7][1])].title +'»</div></div>';
							if (!_spc && arr[3] == my_id){
								_GM_action("gxt", "exts", (!$("#gxt_"+ arr[7][1]).length ? "add" : "set"), [arr[7][1], arr[7][2]]);
								_GM_action("exl", "exts", "upd", [arr[7][1]]);
								_EXT_put(arr[7][1]);
								_HX_hint('car16');
							}
						}										
						break;
					case 264:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/264.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Мешок с экстрами»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['bag_open'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из своего «Мешка с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 187:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/187.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Ларец с экстрами»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['open_yakuza_chest'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из своего «Ларца с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 245:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/245.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Шкатулку с экстрами»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['vl_case_use'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из своей «Шкатулки с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 271:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/271.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Клад с экстрами»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['open_yakuza_chest'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'» из своего «Клада с экстрами»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}
						break;
					case 278:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/278.png" alt="" /></div><div class="text">В игрока '+_PL_nick(arr[3], arr[4], 'nick')+' кинули «Снежную бомбу»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['snow_bomb'].play();
						if (!_spc && arr[3] == my_id){
							for(var i = 1; i <= 15; i++){
								__ERASER_throw();
							}
							__ERASER_throw(7);
						}
						break;
					case 287:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/287.png" alt="" /></div><div class="text">Игрока '+_PL_nick(arr[3], arr[4], 'nick')+' ударили «Кувалдой Марко»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['extra_markohammer'].play();
						if (!_spc && arr[3] == my_id){
							for(var i = 1; i <= 15; i++){
								__ERASER_throw();
							}
							__ERASER_throw(7);
						}
						break;	
					case 281:
						switch (parseInt(arr[2])){
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/'+ parseInt(arr[6]) +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' со всей силы стукнул по яйцу! Из яйца выпала экстра «'+ __store[parseInt(arr[6])].title +'»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ arr[6]).length ? "add" : "set"), [arr[6], arr[7]]);
									_GM_action("exl", "exts", "upd", [arr[6]]);
									_EXT_put(arr[6]);
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['stone_egg_success'].play();
								break;
							case 1:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/281.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' попытался разбить яйцо, но ничего не вышло!</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['stone_egg_fail'].play();
								break;
							default:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/281.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' поставил «Окаменелое яйцо». Испытай удачу, попробуй разбить яйцо! Разбившему - экстра в подарок.'+ (!_spc ? '<button class="cssGreenButton" ondblclick="return false" onclick="_DLG(\'break_egg\');return false;" hidefocus="true">Разбить яйцо</button>' : '') +'</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['stone_egg_do'].play();
								break;
						}
						break;
					case 286:
						switch (parseInt(arr[2])){
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/'+ parseInt(arr[6]) +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Сейф Тони» и получил «'+ __store[parseInt(arr[6])].title +'»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ arr[6]).length ? "add" : "set"), [arr[6], arr[7]]);
									_GM_action("exl", "exts", "upd", [arr[6]]);
									_EXT_put(arr[6]);
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_safetonysuccess'].play();
								break;
							case 1:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/286.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' не смог открыть «Сейф Тони»</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_safetonyfail'].play();
								break;
							default:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/286.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' поставил «Сейф Тони». Испытай удачу, попробуй открыть сейф! Открывшему - экстра в подарок!'+ (!_spc ? '<button class="cssGreenButton" ondblclick="return false" onclick="_DLG(\'safe_open\');return false;" hidefocus="true">Открыть сейф</button>' : '') +'</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_safetonyuse'].play();
								break;
						}
						break;
					case 124:
						switch (parseInt(arr[2])){
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/'+ parseInt(arr[6]) +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' разбил лёд и получил «'+ __store[parseInt(arr[6])].title +'»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ arr[6]).length ? "add" : "set"), [arr[6], arr[7]]);
									_GM_action("exl", "exts", "upd", [arr[6]]);
									_EXT_put(arr[6]);
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['ice_extra'].play();
								break;
							case 1:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/124.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' не смог разбить лёд</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['ice_extra_fail'].play();
								break;
							default:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/124.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' поставил «Замороженную экстру». Попробуй разбить лёд! Разбившему - экстра в подарок!'+ (!_spc ? '<button class="cssGreenButton" ondblclick="return false" onclick="_DLG(\'safe_open_s\');return false;" hidefocus="true">Разбить лёд</button>' : '') +'</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['ice_extra'].play();
								break;
						}
						break;
					case 288:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/288.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' принял участие в Золотой лотерее!</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['lottery'].play();
						if (arr[6]){
							$.each(arr[6], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/images/events/eas/gifts/coins_3.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' выиграл'+ (_i == 3 ? ' <b>супер-приз</b>' : '') +' <b>'+ _v +'</b> монет в Золотой лотерее!</div></div>';
							});
						}
						if (arr[7]){
							$.each(arr[7], function(_i, _v) {
								_s += '<div class="extra"><div class="img"><img src="/img/extras/'+ _v[1] +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' получил экстру «'+ __store[parseInt(_v[1])].title +'»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ _v[1]).length ? "add" : "set"), [_v[1], _v[2]]);
									_GM_action("exl", "exts", "upd", [_v[1]]);
									_EXT_put(_v[1]);
								}
							});
						}										
						break;
					case 137:
						switch (parseInt(arr[2])){
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/'+ parseInt(arr[6]) +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Сейф Лили» и получил «'+ __store[parseInt(arr[6])].title +'»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ arr[6]).length ? "add" : "set"), [arr[6], arr[7]]);
									_GM_action("exl", "exts", "upd", [arr[6]]);
									_EXT_put(arr[6]);
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_safetonysuccess'].play();
								break;
							case 1:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/137.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' не смог открыть «Сейф Лили»</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_safetonyfail'].play();
								break;
							default:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/137.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' поставил «Сейф Лили». Попробуй открыть сейф, открывшему - экстра в подарок!'+ (!_spc ? '<button class="cssGreenButton" ondblclick="return false" onclick="_DLG(\'safe_open_l\');return false;" hidefocus="true">Открыть сейф</button>' : '') +'</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_safetonyuse'].play();
								break;
						}
						break;
					case 313:
						switch (parseInt(arr[2])){
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/'+ parseInt(arr[6]) +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Сейф» и получил «'+ __store[parseInt(arr[6])].title +'»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ arr[6]).length ? "add" : "set"), [arr[6], arr[7]]);
									_GM_action("exl", "exts", "upd", [arr[6]]);
									_EXT_put(arr[6]);
								}
								if (!_spc) _GM_action("", "safe", "remove");
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_safetonysuccess'].play();
								break;
							case 1:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/313.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' не смог открыть «Сейф»</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_safetonyfail'].play();
								break;
							default:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/313.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' поставил «Сейф». Попробуй открыть сейф, открывшему - экстра в подарок!</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_safetonyuse'].play();
								if (!_spc && !pla_data['dead']) {
									gam_data['safe'] = 7;
									_GM_action("", "safe");
								}
								break;
						}
						break;	
					case 195:
						switch (parseInt(arr[2])){
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/'+ parseInt(arr[6]) +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' открыл «Сейф Профессора» и получил «'+ __store[parseInt(arr[6])].title +'»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ arr[6]).length ? "add" : "set"), [arr[6], arr[7]]);
									_GM_action("exl", "exts", "upd", [arr[6]]);
									_EXT_put(arr[6]);
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_safetonysuccess'].play();
								break;
							case 1:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/195.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' не смог открыть «Сейф Профессора»</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_safetonyfail'].play();
								break;
							default:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/195.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' поставил «Сейф Профессора». Попробуй открыть сейф, открывшему - экстра в подарок!'+ (!_spc ? '<button class="cssGreenButton" ondblclick="return false" onclick="_DLG(\'safe_open_p\');return false;" hidefocus="true">Открыть сейф</button>' : '') +'</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_safetonyuse'].play();
								break;
						}
						break;	
					case 290:
						switch (parseInt(arr[2])){
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/'+ parseInt(arr[6]) +'.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' разбил пиньяту и получил «'+ __store[parseInt(arr[6])].title +'»</div></div>';
								if (!_spc && arr[3] == my_id){
									_GM_action("gxt", "exts", (!$("#gxt_"+ arr[6]).length ? "add" : "set"), [arr[6], arr[7]]);
									_GM_action("exl", "exts", "upd", [arr[6]]);
									_EXT_put(arr[6]);
								}
								if (!_spc) _GM_action("", "safe", "remove");
								if (!_SOUND_err) _SOUND_arr['sfx']['pinjata_win'].play();
								break;
							case 1:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/290.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' не попал по пиньяте</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['pinjata_fail'].play();
								break;
							default:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/290.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' повесил пиньяту. Испытай удачу, попробуй разбить пиньяту! Разбившему - экстра в подарок!</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['pinjata_use'].play();
								if (!_spc && !pla_data['dead']) {
									gam_data['safe'] = 3;
									_GM_action("", "safe");
								}
								break;
						}
						break;
					case 291:
						switch (parseInt(arr[2])){
							case 2:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/291.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' выигрывает '+ arr[6] +' монет!</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['dice_win'].play();
								break;
							case 1:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/291.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' бросает игровые кости! Сумма баллов на игровых костях: '+ arr[6] +'!</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['dice_use'].play();
								break;
							default:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/291.png" alt="" /></div><div class="text">'+_PL_nick(arr[3], arr[4], 'nick')+' хочет сыграть с другим игроком на монеты! Кто выкинет большее число на игральных костях - тот и победит!'+ (!_spc && arr[3] != my_id ? '<button class="cssGreenButton" ondblclick="return false" onclick="_GM_action(\'\', \'dice\', \'show\', \''+ arr[3] +'\');return false;" hidefocus="true">Смотреть</button>' : '') +'</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['dice_use'].play();
								break;
						}
						break;
					case 301:
						switch (parseInt(arr[2])){
							case 1:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/301.png" alt="" /></div><div class="text">Огонь от «Огнемёта Тони» перекинулся на игрока '+_PL_nick(arr[3], arr[4], 'nick')+'</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['molotov_c_fire'].play();
								break;
							default:
								if (arr[3] == my_id && !_spc){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/301.png" alt="" /></div><div class="text">Вас подожгли из «Огнемёта Тони»</div></div>';
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/301.png" alt="" /></div><div class="text">Игрока '+_PL_nick(arr[3], arr[4], 'nick')+' подожгли из «Огнемёта Тони»</div></div>';
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['extra_flamethrower'].play();
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 4;
								}
								break;
						}
						if (!_spc) ExtraAnim.add('fire', arr[3], true);
						break;
					case 303:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/303.png" alt="" /></div><div class="text">Игрок использовал «Шоковую гранату», парализовав случайное кол-во игроков</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['extra_shockgrenade'].play();
						break;
					case 314:
						switch (parseInt(arr[2])){
							case 1:
								_s = '<div class="extra"><div class="img"><img src="/img/extras/314.png" alt="" /></div><div class="text">Огонь от мега-экстры «Напалм» перекинулся на игрока '+_PL_nick(arr[3], arr[4], 'nick')+'</div></div>';
								if (!_SOUND_err) _SOUND_arr['sfx']['molotov_c_fire'].play();
								break;
							default:
								if (arr[3] == my_id && !_spc){
									_s = '<div class="extra"><div class="img"><img src="/img/extras/314.png" alt="" /></div><div class="text">Вас подожгли мега-экстрой «Напалм»</div></div>';
								}else{
									_s = '<div class="extra"><div class="img"><img src="/img/extras/314.png" alt="" /></div><div class="text">Игрока '+_PL_nick(arr[3], arr[4], 'nick')+' подожгли мега-экстрой «Напалм»</div></div>';
								}
								if (!_SOUND_err) _SOUND_arr['sfx']['napalm'].play();
								if (!_spc && gam_iscripter){
									if (SMU_update == -1 && !SMU_check_tf) SMU_update = 4;
								}
								break;
						}
						if (!_spc) ExtraAnim.add('fire', arr[3], true);
						break;
					case 299:
						var _t = '';
						switch(arr[3]){
							case 'def': _t = 'Граждане использовали'; break;
							case 'maf': _t = 'Мафиози использовали'; break;
							case 'ton': _t = 'Семья Жирного Тони использовали'; break;
							case 'rip': _t = 'Потрошитель использовал'; break;
							case 'man': _t = 'Маньяк использовал'; break;
							case 'zom': _t = 'Профессор использовал'; break;
							case 'val': _t = 'Валентин использовал'; break;
							case 'yak': _t = 'Якудза использовал'; break;
							case 'brd': _t = 'Чёрная Борода использовал'; break;
							case 'lil': _t = 'Взрывная Лили использовала'; break;
							case 'bab': _t = 'Братья Бандитос использовали'; break;
							case 'asa1': 
							case 'asa2':
							case 'asa3': _t = 'Убийца использовал'; break;
						}
						_s = '<div class="extra"><div class="img"><img src="/img/extras/299.png" alt="" /></div><div class="text">'+ _t +' мега-экстру «Самоцвет истощения». До конца партии отключает все игровые таланты у соперников</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['magic_fetter_use'].play();
						break;
					case 322:
						var _t = '';
						switch(arr[3]){
							case 'def': _t = 'Граждане использовали'; break;
							case 'maf': _t = 'Мафиози использовали'; break;
							case 'ton': _t = 'Семья Жирного Тони использовали'; break;
							case 'rip': _t = 'Потрошитель использовал'; break;
							case 'man': _t = 'Маньяк использовал'; break;
							case 'zom': _t = 'Профессор использовал'; break;
							case 'val': _t = 'Валентин использовал'; break;
							case 'yak': _t = 'Якудза использовал'; break;
							case 'brd': _t = 'Чёрная Борода использовал'; break;
							case 'lil': _t = 'Взрывная Лили использовала'; break;
							case 'bab': _t = 'Братья Бандитос использовали'; break;
							case 'asa1': 
							case 'asa2':
							case 'asa3': _t = 'Убийца использовал'; break;
						}
						_s = '<div class="extra"><div class="img"><img src="/img/extras/322.png" alt="" /></div><div class="text">'+ _t +' мега-экстру «Шар запрета предсказаний». До конца партии запрещает всем соперникам: использовать любое раскрытие роли экстрами</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['crystal_ball_use'].play();
						break;
					case 323:
						var _t = '';
						switch(arr[3]){
							case 'def': _t = 'Граждане использовали'; break;
							case 'maf': _t = 'Мафиози использовали'; break;
							case 'ton': _t = 'Семья Жирного Тони использовали'; break;
							case 'rip': _t = 'Потрошитель использовал'; break;
							case 'man': _t = 'Маньяк использовал'; break;
							case 'zom': _t = 'Профессор использовал'; break;
							case 'val': _t = 'Валентин использовал'; break;
							case 'yak': _t = 'Якудза использовал'; break;
							case 'brd': _t = 'Чёрная Борода использовал'; break;
							case 'lil': _t = 'Взрывная Лили использовала'; break;
							case 'bab': _t = 'Братья Бандитос использовали'; break;
							case 'asa1': 
							case 'asa2':
							case 'asa3': _t = 'Убийца использовал'; break;
						}
						_s = '<div class="extra"><div class="img"><img src="/img/extras/323.png" alt="" /></div><div class="text">'+ _t +' мега-экстру «Магические оковы». До конца партии запрещает всем соперникам использовать экстры: Револьвер, Киллер, Снайперская винтовка и АК-47</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['magic_fetter_use'].play();
						break;
					case 340:
						var _t = '';
						switch(arr[3]){
							case 'def': _t = 'Граждане'; break;
							case 'maf': _t = 'Мафия'; break;
							case 'ton': _t = 'Семья Жирного Тони'; break;
							case 'rip': _t = 'Потрошитель'; break;
							case 'man': _t = 'Маньяк'; break;
							case 'zom': _t = 'Профессор'; break;
							case 'val': _t = 'Валентин'; break;
							case 'yak': _t = 'Якудза'; break;
							case 'brd': _t = 'Чёрная Борода'; break;
							case 'lil': _t = 'Взрывная Лили использовала'; break;
							case 'bab': _t = 'Братья Бандитос'; break;
							case 'asa1': 
							case 'asa2':
							case 'asa3': _t = 'Убийца'; break;
						}
						switch(arr[2]){
							case 0: _s = '<div class="extra"><div class="img"><img src="/img/extras/340.png" alt="" /></div><div class="text">Мега-экстра «Песочные часы» активирована! Команда «'+ _t +'» победит через 4 дня!</div></div>'; break;
							case 1: _s = '<div class="extra"><div class="img"><img src="/img/extras/340.png" alt="" /></div><div class="text">Остался 1 день до победы команды «'+ _t +'» при помощи мега-экстры «Песочные часы»!</div></div>'; break;
							case 2: _s = '<div class="extra"><div class="img"><img src="/img/extras/340.png" alt="" /></div><div class="text">Мега-экстра «Песочные часы» сработала и мгновенно отдала победу в партии команде «'+ _t +'»!</div></div>'; break;
						}
						break;
					case 329:
						if (!parseInt(arr[2])){
							if (parseInt(arr[3]) != 11){
								_s = '<div class="extra"><div class="img"><img src="/img/extras/329.png" alt="" /></div><div class="text">На игрока использовали экстру «Негативный эффект»: '+ __feff_neg[arr[3]] +'</div></div>';
							}
						}else{
							switch (parseInt(arr[3])){
								case 6:
								case 12:
									if ($("#upl_" + arr[4]).length){
										var _oo = $("#upl_" + arr[4]).find(".ico");
										if ($(_oo).length){
											$(_oo).css("background-image", "url(/img/persons/big/"+(arr[7] > 0 ? k_persons[arr[7]] : "unknown") + arr[8] +"_"+ arr[6] +".png)");
											$(_oo).attr("title", t_persons[arr[7]]);
											$(_oo).attr("label", arr[7]);
										}
									}
									_s = '<div class="extra"><div class="img"><img src="/img/extras/329.png" alt="" /></div><div class="text">Экстра «Негативный эффект раскрыла роль: '+_PL_nick(arr[4], arr[5], 'nick')+' - '+t_persons[arr[7]]+'</div></div>';
									break;
								case 11:
									switch (parseInt(arr[4])){
										case 1:
											_s = '<div class="extra"><div class="img"><img src="/img/extras/329.png" alt="" /></div><div class="text">Огонь перекинулся на игрока '+_PL_nick(arr[5], arr[6], 'nick')+'</div></div>';
											if (!_SOUND_err) _SOUND_arr['sfx']['molotov_c_fire'].play();
											break;
										default:
											_s = '<div class="extra"><div class="img"><img src="/img/extras/329.png" alt="" /></div><div class="text">На игрока '+ _PL_nick(arr[5], arr[6], 'nick') +' использовали экстру «Негативный эффект»: '+ __feff_neg[arr[3]] +'</div></div>';
											if (!_SOUND_err) _SOUND_arr['sfx']['napalm'].play();
											if (!_spc && gam_iscripter){
												if (SMU_update == -1 && !SMU_check_tf) SMU_update = 4;
											}
											break;
									}
									if (!_spc) ExtraAnim.add('fire', arr[5], true);
									break;
							}
						}
						break;
				}
				if (arr[2] == -1 && arr[3] == my_id && !_spc){
					if (__store[arr[1]] && __store[arr[1]].type == "extra" && __store[arr[1]].limit){
						if (!pla_data['el'+ arr[1]]){
							pla_data['el'+ arr[1]] = 1;
						}else{
							pla_data['el'+ arr[1]] ++;
						}
					}
					_GM_action("gxt", "exts", "set", [arr[1]]);
					_GM_action("exl", "exts", "upd", [arr[1]]);
				}
				break;

			case __ge['EXT_KILL']:
				switch(arr[7][0]){
					case 105:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/105.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' '+ (typeof arr[7][1] != "undefined" && parseInt(arr[7][1]) ? 'был убит при помощи таланта «Револьвер бустер»' : 'был застрелен из револьвера') +'</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['revolver'].play();
						break;
					case 110:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/110.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' подорвался на мине, проголосовав против игрока '+_PL_nick(arr[7][1], arr[7][2], 'nick')+'</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['mine'].play();
						if (arr[7][1] == my_id && !_spc){
							if (__store[arr[7][0]] && __store[arr[7][0]].type == "extra" && __store[arr[7][0]].limit){
								if (!pla_data['el'+ arr[7][0]]){
									pla_data['el'+ arr[7][0]] = 1;
								}else{
									pla_data['el'+ arr[7][0]] ++;
								}
							}
							_GM_action("gxt", "exts", "set", [arr[7][0]]);
							_GM_action("exl", "exts", "upd", [arr[7][0]]);
						}
						break;
					case 115:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/115.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит киллером</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['killer'].play();
						break;
					case 135:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/135.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит взрывом «Мега-бомбы»</div></div>';
						if (!_SOUND_err) {
							_SOUND_arr['sfx']['bomb_revenge_do'].stop();
							_SOUND_arr['sfx']['bomb_revenge_do'].play();
						}
						break;
					case 333:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/333.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был заморожен насмерть при помощи мега-экстры «Смертельная заморозка»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['turn_boss'].play();
						break;
					case 339:
						if (arr[7][1] == arr[1]){
							_s = '<div class="extra"><div class="img"><img src="/img/extras/339.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит при помощи мега-экстры «Зелье адреналина» игроком '+ _PL_nick(arr[7][1], arr[7][2], 'nick') +'</div></div>';
						}else{
							_s = '<div class="extra"><div class="img"><img src="/img/extras/339.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был заморожен насмерть при помощи мега-экстры «Смертельная заморозка»</div></div>';
						}
						if (!_SOUND_err) _SOUND_arr['sfx']['revolver'].play();
						break;
					case 341:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/341.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит при помощи мега-экстры «Живой щит»</div></div>';
						break;
					case 136:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/136.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит при помощи экстры «Наказание»</div></div>';
						//if (!_SOUND_err) _SOUND_arr['sfx']['molotov_c_fire'].play();
						break;
					case 159:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/159.png" alt="" /></div><div class="text">'+_PL_nick(arr[7][1], arr[7][2], 'nick')+' '+ (typeof arr[7][3] != "undefined" && parseInt(arr[7][3]) ? 'сделал дополнительный выстрел из АК-47 при помощи таланта/усиления «Тройной выстрел»' : 'начал расстреливать всех из АК-47') +'</div></div>'+
							'<p class="death-msg">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' '+(arr[7][1] == arr[1] ? 'застрелил сам себя' : 'расстрелен очередью')+'!</p>';
							if (!_SOUND_err) _SOUND_arr['sfx']['ak47'].play();
						break;
					case 188:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/188.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит «Катаной»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['katana'].play();
						break;
					case 189:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/189.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' взорвался от «Бочонка с порохом»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['powder_b_explode'].play();
						if (!_spc) ExtraAnim.remove(189);
						break;
					case 196:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/196.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' взорвался, пытаясь бросить «Нестабильную бомбу»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['unstable_explode'].play();
						if (!_spc) ExtraAnim.remove(196);
						break;	
					case 273:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/273.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' взорвался, пытаясь бросить «Старую бомбу»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['powder_b_explode'].play();
						if (!_spc) ExtraAnim.remove('oldbomb');
						break;
					case 318:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/318.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' взорвался, пытаясь бросить «Динамит»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['powder_b_explode'].play();
						if (!_spc) ExtraAnim.remove('oldbomb');
						break;	
					case 200:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/200.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' '+ (typeof arr[7][1] != "undefined" && parseInt(arr[7][1]) ? 'был убит при помощи таланта «Двойной снайпер»' : 'убит из снайперской винтовки') +'</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['sniper_rifle'].play();
						break;
					case 202:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/202.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' подорвался на растяжке, проголосовав против игрока '+_PL_nick(arr[7][1], arr[7][2], 'nick')+'</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['trip_wire'].play();
						if (arr[7][1] == my_id && !_spc && parseInt(arr[7][3]) != 1){
							if (__store[arr[7][0]] && __store[arr[7][0]].type == "extra" && __store[arr[7][0]].limit){
								if (!pla_data['el'+ arr[7][0]]){
									pla_data['el'+ arr[7][0]] = 1;
								}else{
									pla_data['el'+ arr[7][0]] ++;
								}
							}
							_GM_action("gxt", "exts", "set", [arr[7][0]]);
							_GM_action("exl", "exts", "upd", [arr[7][0]]);
						}
						if (!_spc && my_id == arr[7][1] && parseInt(arr[7][3])) ExtraEff.remove(202);
						break;
					case 223:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/223.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит вирусом Зомби</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['virus_die'].play();
						break;
					case 225:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/225.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был отравлен ядом</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['poison_kill'].play();
						break;
					case 345:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/345.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит мега-экстрой «Вирус»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['poison_kill'].play();
						break;	
					case 243:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/243.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит при помощи экстры «Коктейль Молотова»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['molotov_c_fire'].play();
						break;
					case 239:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/239.png" alt="" /></div><div class="text">Сюрприз! '+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' взорвался, открыв «Коробку с сюрпризом»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['ship_cannon_kill'].play();
						break;
					case 251:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/251.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит «Чёрной меткой»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['blackmark_kill'].play();
						if (!_spc) ExtraAnim.remove(251);
						break;
					case 253:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/253.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит выстрелом из «Корабельной пушки»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['ship_cannon_kill'].play();
						if (!_spc) ExtraAnim.remove(253);
						break;
					case 301:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/301.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит при помощи «Огнемёта Тони»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['molotov_c_fire'].play();
						break;
					case 314:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/314.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит мега-экстрой «Напалм»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['molotov_c_fire'].play();
						break;
					case 329:
						_s = '<div class="extra"><div class="img"><img src="/img/extras/329.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит экстрой «Негативный эффект»</div></div>';
						if (!_SOUND_err) _SOUND_arr['sfx']['open_card_negative'].play();
						break;	
				}
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				break;

			case __ge['ALL_MISS']:
				if (typeof arr[1] != "undefined"){
					var _aa = '';
					var _is_com = false;
					$.each(arr[1], function(_i, _v) {
						_aa += (_i > 0 ? ', ' : '')+ t_persons[_v];
						if (_v == 4) _is_com = true;
					});
					var __data = (spc_id && !gam_id ? spc_data : gam_data);
					if (!__data['no_rolebar']){
						_GM_ChatBuffer.add("miss", '<p class="night-msg">Не ходили ночью: '+ _aa +'</p>');
					}
					if (_is_com && !pla_data['dead'] && !pla_data['freeze']) {
						switch (pla_data['person']){
							case 1: _HX_noob('cit14'); break;
							case 5: _HX_noob('ser15'); break;
							case 6: _HX_noob('doc14'); break;
							case 7: _HX_noob('med14'); break;
							case 10: _HX_noob('bth14'); break;
							case 11: _HX_noob('thf14'); break;
							case 12: _HX_noob('wit13'); break;
						}
					}	
				}
				break;
				
			case __ge['FRZ_MISS']:
				_s = '<p class="warn-msg">Вас лишили хода!</p>';
				if (!_spc && !pla_data['dead']){
					switch (pla_data['person']){
						case 2:
							if (typeof gam_data['v_left'][10] != "undefined") _HX_noob('maf15');
							if (typeof gam_data['v_left'][11] != "undefined") _HX_noob('maf16');
							break;
						case 3:
							if (typeof gam_data['v_left'][10] != "undefined") _HX_noob('man9');
							if (typeof gam_data['v_left'][11] != "undefined") _HX_noob('man10');
							break;	
						case 4:
							if (typeof gam_data['v_left'][10] != "undefined") _HX_noob('kom15');
							if (typeof gam_data['v_left'][11] != "undefined") _HX_noob('kom16');
							break;
						case 6:
							if (typeof gam_data['v_left'][10] != "undefined") _HX_noob('doc18');
							if (typeof gam_data['v_left'][11] != "undefined") _HX_noob('doc19');
							break;
						case 9:
							if (typeof gam_data['v_left'][10] != "undefined") _HX_noob('bos8');
							if (typeof gam_data['v_left'][11] != "undefined") _HX_noob('bos9');
							break;
						case 25:
							if (typeof gam_data['v_left'][10] != "undefined") _HX_hint('bif13');
							if (typeof gam_data['v_left'][11] != "undefined") _HX_hint('bif15');
							break;
						case 26:
							if (typeof gam_data['v_left'][10] != "undefined") _HX_hint('bif14');
							if (typeof gam_data['v_left'][11] != "undefined") _HX_hint('bif16');
							break;
					}
				}
				break;
				
			case __ge['COS_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду дарить шкатулку '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['dresser_turn'].play();
				break;
			case __ge['COS_INF']:
				if (pla_data['person'] != 23 || pla_data['dead']){
					_s = '<p class="night-turn">Костюмер пошёл дарить шкатулку</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['dresser_turn'].play();
				}
				break;
			case __ge['COS_GIFT']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/carnival_2020/item-chest.png" alt="" /></div><div class="text">'+ _PL_nick(arr[1], arr[2], false, false, true) +' получил «Шкатулку Костюмера» от Костюмера!'+ (arr[1] != my_id ? ' <a href="#" onclick="ers_uid=\''+ arr[1] +'\';_DLG(\'eraser\');return false" class="reply" hidefocus="true">Кинуть ведро краски</a>' : '') +'</div></div>';
				if (arr[1] == my_id && !_spc){
					leagueProc("chest", 'carnival', arr[4]);
				}
				break;
			case __ge['COS_FAIL']:
				switch(parseInt(arr[1])){
					case 0: 
						_s = '<p class="night-msg">Костюмер подарил все подарки!</p>'; 
						break;
					case 1: 
						_s = '<div class="extra"><div class="img"><img src="/images/events/carnival_2020/item-paint.png" alt="" /></div><div class="text">'+ _PL_nick(arr[2], arr[3], 'nick') +' получил ведро краски от Костюмера вместо подарка! <a href="#" onclick="ers_uid=\''+ arr[2] +'\';_DLG(\'eraser\');return false" class="reply" hidefocus="true">Кинуть ведро краски</a></div></div>'; 
						if (arr[2] == my_id && !_spc){
							__ERASER_throw(7);
						}
						if (!pla_data['dead'] && pla_data['person'] == 23) {
							_s += '<p class="night-msg">Вы не получили шкатулку, т.к. игрок уже получал от вас «Шкатулку Костюмера»!</p>';
						}
						break;
				}
				break;
			case __ge['COS_OWN']:
				if (!_spc){
					_s = '<div class="extra"><div class="img"><img src="/images/events/carnival_2020/item-chest.png" alt="" /></div><div class="text">За подаренную шкатулку вы получили «Шкатулку Костюмера»!</div></div>';
					leagueProc("chest", 'carnival', arr[1]);
				}
				break;	
				
			case __ge['SAN_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду дарить «Мешок с подарками» '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['ded_moroz'].play();
				break;
			case __ge['SAN_INF']:
				if (pla_data['person'] != 13 || pla_data['dead']){
					_s = '<p class="night-turn">Дед Мороз пошёл дарить «Мешок с подарками»</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['ded_moroz'].play();
				}
				break;
			case __ge['SAN_GIFT']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/newyear_2020/item-bag.png" alt="" /></div><div class="text">'+ _PL_nick(arr[1], arr[2], false, false, true) +' получил «Мешок с подарками» от Деда Мороза!'+ (arr[1] != my_id ? ' <a href="#" onclick="ers_uid=\''+ arr[1] +'\';_DLG(\'eraser\');return false" class="reply" hidefocus="true">Кинуть снежок</a>' : '') +'</div></div>';
				if (arr[1] == my_id && !_spc){
					leagueProc("chest", 'newyear', arr[4]);
				}
				break;
			case __ge['SAN_FAIL']:
				switch(parseInt(arr[1])){
					case 0: 
						_s = '<p class="night-msg">Дед Мороз подарил все подарки!</p>'; 
						break;
					case 1: 
						_s = '<div class="extra"><div class="img"><img src="/images/events/newyear_2020/item-snow.png" alt="" /></div><div class="text">'+ _PL_nick(arr[2], arr[3], 'nick') +' получил снежком в лоб от Деда Мороза вместо подарка! <a href="#" onclick="ers_uid=\''+ arr[2] +'\';_DLG(\'eraser\');return false" class="reply" hidefocus="true">Кинуть снежок</a></div></div>'; 
						if (arr[2] == my_id && !_spc){
							__ERASER_throw(7);
						}
						if (!pla_data['dead'] && pla_data['person'] == 13) {
							_s += '<p class="night-msg">Вы не получили «Мешок с подарками», т.к. игрок уже получал от вас «Мешок с подарками»!</p>';
						}
						break;
				}
				break;
			case __ge['SAN_OWN']:
				if (!_spc){
					_s = '<div class="extra"><div class="img"><img src="/images/events/newyear_2020/item-bag.png" alt="" /></div><div class="text">За подаренный «Мешок с подарками» вы получили «Мешок с подарками»!</div></div>';
					leagueProc("chest", 'newyear', arr[1]);
				}
				break;
				
			case __ge['GRN_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду дарить гадости '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['grinch_turn'].play();
				break;
			case __ge['GRN_INF']:
				if (pla_data['person'] != 22 || pla_data['dead']){
					_s = '<p class="night-turn">Гринч пошёл дарить гадости</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['grinch_turn'].play();
				}
				break;
			case __ge['GRN_GIFT']:
				if (!parseInt(arr[4])){
					_s = '<div class="extra"><div class="img"><img src="/images/events/ny/extras-gifts/item-0.png" alt="" /></div><div class="text">'+ _PL_nick(arr[1], arr[2], false, false, true) +' получил «Коробку с леденцами» от Гринча!</div></div>';
					if (arr[1] == my_id && !_spc){
						_SGF_put('ny', 'item-0');
					}
					if (!pla_data['dead'] && pla_data['person'] == 22) _HX_hint('san34');
				}else{
					if (arr[1] == my_id && !_spc){
						_s = '<div class="extra"><div class="img"><img src="/images/events/ny/extras-gifts/item-6.png" alt="" /></div><div class="text">Вы получили «Гадость» от Гринча!<button class="cssGreenButton" ondblclick="return false" onclick="_Event();return false" hidefocus="true">Посмотреть</button></div></div>';
						_SGF_put('ny', 'item-6');
						if (my_play_c >= 100) {
							_HX_hint('san47');
						}
					}else{
						_s = '<div class="extra"><div class="img"><img src="/images/events/ny/extras-gifts/item-6.png" alt="" /></div><div class="text">'+ _PL_nick(arr[1], arr[2], false, false, true) +' получил «Гадость» от Гринча <a href="#" onclick="ers_uid=\''+ arr[1] +'\';_DLG(\'eraser\');return false" class="reply" hidefocus="true">Кинуть снежок</a></div></div>';
					}
					if (!pla_data['dead'] && pla_data['person'] == 22) {
						_HX_hint('san33')
					}
				}
				break;
			case __ge['GRN_FAIL']:
				switch(parseInt(arr[1])){
					case 0: 
						_s = '<p class="night-msg">Гринч подарил все гадости!</p>'; 
						if (!pla_data['dead'] && pla_data['person'] == 22) _HX_hint('san35');
						break;
					case 1: 
						_s = '<p class="night-msg">'+ _PL_nick(arr[2], arr[3], 'nick') +' уже получал «Коробку с леденцами» в этой партии!</p>'; 
						break;		
					case 2: 
						_s = '<p class="night-msg">'+ _PL_nick(arr[2], arr[3], 'nick') +' не получил гадость, закончилось место!</p>'; 
						break;
				}
				break;
			case __ge['GRN_OWN']:
				if (!_spc){
					if (!parseInt(arr[1])){
						_s = '<div class="extra"><div class="img"><img src="/images/events/ny/extras-gifts/item-0.png" alt="" /></div><div class="text">За подаренную «Коробку с леденцами» вы получили «Коробку с леденцами»!<button class="cssGreenButton" ondblclick="return false" onclick="_Event();return false" hidefocus="true">Посмотреть</button></div></div>';
					}else{
						var _ii = ['', 'Обычный мешок', 'Золотой мешок', 'Бриллиантовый мешок', 'Новогодний набор'];
						_s = '<div class="extra"><div class="img"><img src="/images/events/ny/extras-gifts/item-'+ arr[1] +'.png" alt="" /></div><div class="text">За подаренную гадость  вы получили «'+ _ii[arr[1]] +'»!<button class="cssGreenButton" ondblclick="return false" onclick="_Event();return false" hidefocus="true">Посмотреть</button></div></div>';
					}
					_SGF_put('ny', 'item-'+ arr[1]);
				}
				break;
				
			case __ge['TEL_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Ночью гадаю '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['teller_turn'].play();
				break;
			case __ge['TEL_INF']:
				if (pla_data['person'] != 39 || pla_data['dead']){
					_s = '<p class="night-turn">Гадалка пошла гадать игроку</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['teller_turn'].play();
				}
				break;
			case __ge['TEL_FAIL']:
				_s = '<p class="night-msg">У Гадалки закончились все карты судьбы!</p>'; 
				break;
			case __ge['TEL_CARDS']:
				if (!_spc){
					if (!parseInt(arr[1])){
						_GM_action("", "tel_cards");
					}else{
						_GM_action("", "tel_cards", "", false);
						var _resp = [];
						$.each(arr[2], function(_i, _a) {
							_resp.push([_a[0], (_a[1] == "pos" ? "positive" : "negative"), (_a[1] == "pos" ? __feff_pos[_a[2]] : __feff_neg[_a[2]])]);
						});
						Gadalka.choiceComplete(_resp);
					}
				}
				break;
			case __ge['TEL_EFF']:
				if (!parseInt(arr[1])){
					if (parseInt(arr[2])){
						_s = '<div class="extra"><div class="img"><img src="/images/events/carnival2/'+ arr[3] +'_eff.png" alt="" /></div><div class="text">Гадалка получила '+ (arr[3] == "pos" ? 'позитивный' : 'негативный')+' эффект: '+ (arr[3] == "pos" ? __feff_pos[arr[4]] : __feff_neg[arr[4]]) +'</div></div>';
					}else{
						_s = '<div class="extra"><div class="img"><img src="/images/events/carnival2/'+ arr[3] +'_eff.png" alt="" /></div><div class="text">Игрок получил '+ (arr[3] == "pos" ? 'позитивный' : 'негативный')+' эффект от Гадалки: '+ (arr[3] == "pos" ? __feff_pos[arr[4]] : __feff_neg[arr[4]]) +'</div></div>';
					}
				}else{
					switch(arr[2]){
						case 'p1': 
						case 'n6':
						case 'n12':
							if ($("#upl_" + arr[3]).length){
								var _oo = $("#upl_" + arr[3]).find(".ico");
								if ($(_oo).length){
									$(_oo).css("background-image", "url(/img/persons/big/"+(arr[6] > 0 ? k_persons[arr[6]] : "unknown") + arr[7] +"_"+ arr[5] +".png)");
									$(_oo).attr("title", t_persons[arr[6]]);
									$(_oo).attr("label", arr[6]);
								}
							}
							_s = '<div class="extra"><div class="img"><img src="/images/events/carnival2/'+ (arr[2] == 'p1' ? 'pos' : 'neg') +'_eff.png" alt="" /></div><div class="text">Карты судьбы раскрыли роль: '+_PL_nick(arr[3], arr[4], 'nick')+' - '+t_persons[arr[6]]+'</div></div>';
							break;
						case 'n8':
							_s = '<div class="extra"><div class="img"><img src="/images/events/carnival2/neg_eff.png" alt="" /></div><div class="text">Вы отравлены негативным эффектом карт судьбы и умрёте через сутки!</div></div>';
							if (!_spc) ExtraAnim.add("poison", my_id);
							break;	
						case 'n2':
							_GM_action("gxt", "exts", "set", [arr[3]]);
							_GM_action("exl", "exts", "upd", [arr[3]]);
							_s = '<div class="extra"><div class="img"><img src="/images/events/carnival2/neg_eff.png" alt="" /></div><div class="text">Карты судьбы лишили вас экстры: '+ __store[arr[3]].title +'</div></div>';
							break;
						case 'p4':
						case 'n4':
							if (!_spc) {
								pla_data['act'] = -2;
								_GM_action("", "upd", "acts");
								_GM_action("", "upd", "freeze", 3);
							}
							break;
						case 'n5':
							if (!_spc){
								for(var i = 1; i <= 15; i++){
									__ERASER_throw();
								}
								__ERASER_throw(7);
							}
							break;
						case 'p5': _SGF_put('carnival2', 'coins_2'); break;
						case 'p6': _SGF_put('carnival2', 'coins_1'); break;
						case 'p7': _SGF_put('carnival2', 'coins_3'); break;
						case 'p8': _SGF_put('carnival2', 'coins_4'); break;
						case 'p9':
						case 'p10':
						case 'p11':
						case 'p12':
						case 'p13':
						case 'p14':
							_GM_action("gxt", "exts", (!$("#gxt_"+ arr[3]).length ? "add" : "set"), [arr[3], arr[4]]);
							_GM_action("exl", "exts", "upd", [arr[3]]);
							_EXT_put(arr[3]);
							break;
						case 'p17': _SGF_put('carnival2', 'ruby'); break;
						case 'n7': pla_data['antichat'] = 1; break;
						case 'n11':
							switch (parseInt(arr[3])){
								case 1:
									_s = '<div class="extra"><div class="img"><img src="/images/events/carnival2/neg_eff.png" alt="" /></div><div class="text">Огонь перекинулся на игрока '+_PL_nick(arr[4], arr[5], 'nick')+'</div></div>';
									if (!_SOUND_err) _SOUND_arr['sfx']['molotov_c_fire'].play();
									break;
								default:
									if (!_SOUND_err) _SOUND_arr['sfx']['napalm'].play();
									if (!_spc && gam_iscripter){
										if (SMU_update == -1 && !SMU_check_tf) SMU_update = 4;
									}
									break;
							}
							if (!_spc) ExtraAnim.add('fire', arr[4], true);
							break;
					}
				}
				break;
			case __ge['TEL_KILL1']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/carnival2/pos_eff.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит картой судьбы Гадалки</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['open_card_negative'].play();
				break;
			case __ge['TEL_KILL2']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/carnival2/neg_eff.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' - '+t_persons[arr[4]]+' был убит картой судьбы Гадалки</div></div>';
				_dd = [arr[1], arr[2], arr[3], arr[4], arr[5], arr[6], arr[8]];
				if (!_SOUND_err) _SOUND_arr['sfx']['open_card_negative'].play();
				break;
				
			case __ge['BUN_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду дарить подарок '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['role_turn'].play();
				break;
			case __ge['BUN_INF']:
				if (pla_data['person'] != 15 || pla_data['dead']){
					_s = '<p class="night-turn">Добрый Зайка пошёл дарить подарок</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['role_turn'].play();
				}
				break;
			case __ge['BUN_GIFT']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/easter_2020/gift.png" alt="" /></div><div class="text">'+ _PL_nick(arr[1], arr[2], false, false, true) +' получил подарок от Доброго Зайки!'+ (arr[1] != my_id ? ' <a href="#" onclick="ers_uid=\''+ arr[1] +'\';_DLG(\'eraser\');return false" class="reply" hidefocus="true">Кинуть яйцо</a>' : '') +'</div></div>';
				if (arr[1] == my_id && !_spc){
					leagueProc("chest", 'easter1', arr[4]);
				}
				break;
			case __ge['BUN_FAIL']:
				switch(parseInt(arr[1])){
					case 0: 
						_s = '<p class="night-msg">Добрый Зайка подарил все подарки!</p>'; 
						break;
					case 1: 
						_s = '<div class="extra"><div class="img"><img src="/images/events/easter_2020/item-egg.png" alt="" /></div><div class="text">'+ _PL_nick(arr[2], arr[3], 'nick') +' получил страусиным яйцом в лоб от Доброго Зайки вместо подарка! <a href="#" onclick="ers_uid=\''+ arr[2] +'\';_DLG(\'eraser\');return false" class="reply" hidefocus="true">Кинуть яйцо</a></div></div>'; 
						if (arr[2] == my_id && !_spc){
							__ERASER_throw(7);
						}
						if (!pla_data['dead'] && pla_data['person'] == 15) {
							_s += '<p class="night-msg">Вы не получили подарок, т.к. игрок уже получал от вас «Подарок от Зайки»!</p>';
						}
						break;
				}
				break;
			case __ge['BUN_OWN']:
				if (!_spc){
					_s = '<div class="extra"><div class="img"><img src="/images/events/easter_2020/gift.png" alt="" /></div><div class="text">За подаренный подарок вы получили «Подарок от Зайки»!</div></div>';
					leagueProc("chest", 'easter1', arr[1]);
				}
				break;
				
			case __ge['BUNN_ACT']:
				if (arr[3] == my_id && !_spc){
					pla_data['act'] = arr[1];
					_GM_action("f", "upd", "pp_dh", "vte");
					_GM_action("", "upd", "acts");
				}
				_s = '<p class="night-act">'+_PL_nick(arr[3], arr[4], 'nick')+': Иду дарить подарок '+_PL_nick(arr[1], arr[2], 'nick')+'</p>';
				if (!_SOUND_err) _SOUND_arr['sfx']['role_turn'].play();
				break;
			case __ge['BUNN_INF']:
				if (pla_data['person'] != 28 || pla_data['dead']){
					_s = '<p class="night-turn">Нефритовый Зайка пошёл дарить подарок</p>';
					if (!_SOUND_err) _SOUND_arr['sfx']['role_turn'].play();
				}
				break;
			case __ge['BUNN_GIFT']:
				_s = '<div class="extra"><div class="img"><img src="/images/events/easter_2020/gift-nefrit.png" alt="" /></div><div class="text">'+ _PL_nick(arr[1], arr[2], false, false, true) +' получил подарок от Нефритового Зайки!'+ (arr[1] != my_id ? ' <a href="#" onclick="ers_uid=\''+ arr[1] +'\';_DLG(\'eraser\');return false" class="reply" hidefocus="true">Кинуть яйцо</a>' : '') +'</div></div>';
				if (arr[1] == my_id && !_spc){
					leagueProc("chest", 'easter2', arr[4]);
				}
				break;
			case __ge['BUNN_FAIL']:
				switch(parseInt(arr[1])){
					case 0: 
						_s = '<p class="night-msg">Нефритовый Зайка подарил все подарки!</p>'; 
						break;
					case 1: 
						_s = '<div class="extra"><div class="img"><img src="/images/events/easter_2020/item-egg.png" alt="" /></div><div class="text">'+ _PL_nick(arr[2], arr[3], 'nick') +' получил страусиным яйцом в лоб от Нефритового Зайки вместо подарка! <a href="#" onclick="ers_uid=\''+ arr[2] +'\';_DLG(\'eraser\');return false" class="reply" hidefocus="true">Кинуть яйцо</a></div></div>'; 
						if (arr[2] == my_id && !_spc){
							__ERASER_throw(7);
						}
						if (!pla_data['dead'] && pla_data['person'] == 28) {
							_s += '<p class="night-msg">Вы не получили подарок, т.к. игрок уже получал от вас «Подарок от Нефритового Зайки»!</p>';
						}
						break;
				}
				break;
			case __ge['BUNN_OWN']:
				if (!_spc){
					_s = '<div class="extra"><div class="img"><img src="/images/events/easter_2020/gift-nefrit.png" alt="" /></div><div class="text">За подаренный подарок вы получили «Подарок от Нефритового Зайки»!</div></div>';
					leagueProc("chest", 'easter2', arr[1]);
				}
				break;
		}
		if (_s != '') _CHT_add("s" + (_spc ? "p" : ""), _s);
		if (_dd){
			if (_dd[3] == 8){
				_CHT_add("s" + (_spc ? "p" : ""), '<p class="death-msg">'+ (parseFloat(_dd[5]) > 0 ? 'Смертник унес с собой в могилу '+ _dd[5] +' монет из банка' : 'Смертник получает монеты только если его посадят на голосовании или убьют ночью') +'</p>');
				if (!_spc && pla_data['person'] == 8){
					if (parseFloat(_dd[5]) > 0){
						_HX_noob('ddm5');
					}else{
						_HX_noob('ddm6');
					}
				}
			}
			_GM_action("", "do", "dead", _dd);
			if (_dd[3] == 2 || _dd[3] == 9 || _dd[3] == 25 || _dd[3] == 26 || _dd[3] == 29 || _dd[3] == 47){
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				var _maf_cc = ((typeof __data['v_left'][2] != "undefined" ? parseInt(__data['v_left'][2]) : 0) +
					(typeof __data['v_left'][9] != "undefined" ? parseInt(__data['v_left'][9]) : 0) +
					(typeof __data['v_left'][25] != "undefined" ? parseInt(__data['v_left'][25]) : 0) +
					(typeof __data['v_left'][26] != "undefined" ? parseInt(__data['v_left'][26]) : 0) +
					(typeof __data['v_left'][29] != "undefined" ? parseInt(__data['v_left'][29]) : 0) +
					(typeof __data['v_left'][47] != "undefined" ? parseInt(__data['v_left'][47]) : 0));	
				if (_maf_cc == 1){
					if (typeof __data['v_left'][47] != "undefined" && parseInt(__data['v_left'][47]) == 1 && !my_rost){
						_CHT_add("s" + (_spc ? "p" : ""), '<p class="night-msg"><img src="/img/persons/big/fakecop_'+ my_gender +'.png" class="miniRole" />Продажный комиссар остался один, подобрал пистолет и готов убивать!');
						if (pla_data['person'] == 47) {
							_GM_action("", "upd", "acts");
						}
					}else if (typeof __data['v_left'][29] != "undefined" && parseInt(__data['v_left'][29]) == 1){
						_CHT_add("s" + (_spc ? "p" : ""), '<p class="night-msg"><img src="/img/persons/big/bigman_'+ my_gender +'.png" class="miniRole" />Громила остался один и впал в ярость! Каждый удар теперь смертелен!');
					}
				}
			}
			if (_dd[3] == 16 || _dd[3] == 17 || _dd[3] == 30 || _dd[3] == 31 || _dd[3] == 32 || _dd[3] == 33 || _dd[3] == 41){
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				var _ton_cc = ((typeof __data['v_left'][16] != "undefined" ? parseInt(__data['v_left'][16]) : 0) +
					(typeof __data['v_left'][17] != "undefined" ? parseInt(__data['v_left'][17]) : 0) +
					(typeof __data['v_left'][30] != "undefined" ? parseInt(__data['v_left'][30]) : 0) +
					(typeof __data['v_left'][31] != "undefined" ? parseInt(__data['v_left'][31]) : 0) +
					(typeof __data['v_left'][32] != "undefined" ? parseInt(__data['v_left'][32]) : 0) +
					(typeof __data['v_left'][33] != "undefined" ? parseInt(__data['v_left'][33]) : 0) +
					(typeof __data['v_left'][41] != "undefined" ? parseInt(__data['v_left'][41]) : 0));	
				if (_ton_cc == 1){
					if (typeof __data['v_left'][33] != "undefined" && parseInt(__data['v_left'][33]) == 1 && !my_rost){
						_CHT_add("s" + (_spc ? "p" : ""), '<p class="night-msg"><img src="/img/persons/big/rosario_'+ my_gender +'.png" class="miniRole" />Розарио остался один, подобрал пистолет и готов убивать!');
						if (pla_data['person'] == 33) {
							_GM_action("", "upd", "acts");
						}
					}else if (typeof __data['v_left'][30] != "undefined" && parseInt(__data['v_left'][30]) == 1){
						_CHT_add("s" + (_spc ? "p" : ""), '<p class="night-msg"><img src="/img/persons/big/marko_'+ my_gender +'.png" class="miniRole" />Марко остался один и впал в ярость! Каждый удар теперь смертелен!');
					}else if (typeof __data['v_left'][17] != "undefined" && parseInt(__data['v_left'][17]) == 1){
						_CHT_add("s" + (_spc ? "p" : ""), '<p class="night-msg"><img src="/img/persons/big/fattony_'+ my_gender +'.png" class="miniRole" />Жирный Тони остался один! Теперь его единственное действие - поджигание соперников!');
					}
				}
			}
			if (_dd[3] == 35 || _dd[3] == 36 || _dd[3] == 37 || _dd[3] == 38){
				var __data = (spc_id && !gam_id ? spc_data : gam_data);
				var _yak_cc = ((typeof __data['v_left'][35] != "undefined" ? parseInt(__data['v_left'][35]) : 0) +
					(typeof __data['v_left'][36] != "undefined" ? parseInt(__data['v_left'][36]) : 0) +
					(typeof __data['v_left'][37] != "undefined" ? parseInt(__data['v_left'][37]) : 0) +
					(typeof __data['v_left'][38] != "undefined" ? parseInt(__data['v_left'][38]) : 0));	
				if (_yak_cc == 1){
					if (typeof __data['v_left'][35] != "undefined" && parseInt(__data['v_left'][35]) == 1){
						_CHT_add("s" + (_spc ? "p" : ""), '<p class="night-msg"><img src="/img/persons/big/leen_'+ my_gender +'.png" class="miniRole" />Тётушка Лин осталась одна из команды Якудза! Теперь её единственное действие - убийство игроков');
					}else if (typeof __data['v_left'][37] != "undefined" && parseInt(__data['v_left'][37]) == 1){
						_CHT_add("s" + (_spc ? "p" : ""), '<p class="night-msg"><img src="/img/persons/big/hill_'+ my_gender +'.png" class="miniRole" />Гора остался один и впал в ярость! Каждый удар теперь смертелен!');
					}
				}
			}
		}
	}
}

</script>
<script type="text/javascript">

function _INF_DG(){

	$.ajax({
		async: true,
		cache: false,
		type: "POST",
		url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
		data: {method: "inf_dg"},
		dataType: "json",
		success: function(data) {
			if (typeof data.ret != "undefined"){
				$.each(data.ret, function(_i, _v) {
					openItem(_v[0], _v[1], _v[2]);
				});
				if (!_SOUND_err) _SOUND_arr['sfx']['bag_open'].play();
				function openItem(key, val, xtr){
					/*var _mx0 = hdr_offset_x; var _mx1 = hdr_offset_x + 800;
					var _my0 = hdr_offset_y; var _my1 = hdr_offset_y + 500;
					var random_X = Math.floor(Math.random() * (_mx1 - _mx0 + 1)) + _mx0;
					var random_Y = Math.floor(Math.random() * (_my1 - _my0 + 1)) + _my0 + 50;*/
					
					var _frameSizeX = 100;
					var _frameSizeY = 120;
					var _randomRangeX = 1000 - Math.floor(_frameSizeX * 1.5);
					var _randomRangeY = 750 - Math.floor(_frameSizeY * 1.5);
					var random_X = Math.floor(Math.random() * _randomRangeX + (_frameSizeX / 2));
					var random_Y = Math.floor(Math.random() * _randomRangeY + (_frameSizeY / 2));
					
					var start_X = 0;
					var start_Y = 0;
					if (key == 'extra'){
						_GM_action("gxt", "exts", (!$("#gxt_"+ val).length ? "add" : "set"), [val, xtr]);
						_GM_action("exl", "exts", "upd", [val]);
						var elem = '<div class="itemContainer" targetX="'+ random_X +'" targetY="'+ random_Y +'" style="left: '+ start_X +'px; top: '+ start_Y +'px" onclick="_SGF(this, 0, event);return false"><div class="borderContainer"><img src="/img/extras/'+ val +'.png" class="extraIco" /><div class="border"></div></div><div class="name"><span>'+ __store[val].title +'</span></div></div>';
					}else{
						switch(key){
							case 'coins':
								var _t = val +' монет';
								var _k = 'coins_'+ (parseInt(val) >= 1000 ? 4 : (val == 300 ? 3 : (val == 100 ? 2 : 1)));
								break;
							case 'ruby':
								var _t = val +' рубинов';
								var _k = key;
								break;
						}
						var elem = '<div class="itemContainer" targetX="'+ random_X +'" targetY="'+ random_Y +'" style="left: '+ start_X +'px; top: '+ start_Y +'px" onclick="_SGF(this, 0, event);return false"><div class="borderContainer" style="padding:0 0 10px 0"><img src="/images/events/ny/gifts/'+ _k +'.png" /><div class="name"><span>'+ _t +'</span></div></div>';
					}
					$(elem).appendTo("#rootContainer").addClass("show").animate({
							top: random_Y,
							left: random_X
						}, 500, "swing", function() {
						$(this).find(".name").fadeIn();
					});
				}
			}
		}
	});
}

function _IFACE_do(cmd, args){
	
	switch (cmd){

		/* Initialization */
		case "init":
			if (ifc_mode == ""){
				var _mode = "chat";
				if (gam_id > 0){
					if (gam_state == "play" || gam_state == "fin"){
						_mode = "game";
					}else{
						_mode = "room";
					}
				}
				//
				if (!isMobile) {
					$("#uol_scrollbar").tinyscrollbar({
						sizethumb: 46,
						change: function(pos){
							_UL_scrl_change("uol", pos, 44, 45);
						},
						updated: function(pos){
							_UL_scrl_change("uol", pos, 44, 10);
						}
					});
					$("#ufv_scrollbar").tinyscrollbar({
						sizethumb: 46,
						change: function(pos){
							_UL_scrl_change("ufv", pos, 44, 45);
						},
						updated: function(pos){
							_UL_scrl_change("ufv", pos, 44, 10);
						}
					});
					$("#upl_scrollbar").tinyscrollbar({
						sizethumb: 46
					});
				}else{
					$("#uol_scrollbar .viewport").scroll(function() {
						_UL_scrl_change("uol", $(this).scrollTop(), 44, 45);
					});
					$("#ufv_scrollbar .viewport").scroll(function() {
						_UL_scrl_change("ufv", $(this).scrollTop(), 44, 45);
					});
				
				}

				return _mode;
			}
			break;

		/* Mode switch */
		case "mode":
			if (typeof args != "undefined" && typeof args.m != "undefined" && ifc_mode != args.m){
				var _mode_f = ifc_mode;
				var _mode_t = args.m;
				if (_mode_f == ""){
					if (my_gift && __store[my_gift] && __store[my_gift].type == "gift"){
						var _pp = $("#myProfilePhoto").find(".gifts");
						if ($(_pp).length){
							if (__store[my_gift].ext == 'swf'){
								$(_pp).html(_SWF_obj(my_gift, 40, 40));
								if (!$(_pp).hasClass("swf")) $(_pp).addClass("swf");
							}else{
								$(_pp).html('<img src="/images/gifts/'+ my_gift +'.'+ __store[my_gift].ext +'" alt="" />');
							}
						}
					}
					if (my_gold_prf){
						var _pp = $("#myProfilePhoto").find(".border");
						if ($(_pp).length){
							if (!$(_pp).hasClass("gold-profile")){
								$(_pp).addClass("gold-profile");
							}
						}
					}
					if (my_clan && clx_data[my_clan]){
						$(".profileBlock").find("span.clan").html(' '+(clx_data[my_clan][0] != '' ? '<img src="'+ cln_url + clx_data[my_clan][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[my_clan][1]);
						if (clx_data[my_clan][2]){
							var _rk = '';
							if (clx_data[my_clan][2][0] == my_id){
								_rk = '<img src="/images/clan-icons/cl_owner.png" label="owner" title="Глава клана" height="16" alt="" />';
							}else if (clx_data[my_clan][2][1] == my_id){
								_rk = '<img src="/images/clan-icons/cl_mjr_1.png" label="mjr_1" title="Офицер" height="16" alt="" />';
							}else if (clx_data[my_clan][2][2] == my_id){
								_rk = '<img src="/images/clan-icons/cl_mjr_2.png" label="mjr_2" title="Офицер" height="16" alt="" />';
							}else if (clx_data[my_clan][2][3] == my_id){
								_rk = '<img src="/images/clan-icons/cl_banker.png" label="banker" title="Казначей" height="16" alt="" />';
							}else if (clx_data[my_clan][2][4] == my_id){
								_rk = '<img src="/images/clan-icons/cl_supervisor.png" label="supervisor" title="Управляющий" height="16" alt="" />';
							}else if (clx_data[my_clan][2][5] == my_id){
								_rk = '<img src="/images/clan-icons/cl_mjr_3.png" label="mjr_3" title="Офицер" height="16" alt="" />';
							}else if (clx_data[my_clan][2][6] == my_id){
								_rk = '<img src="/images/clan-icons/cl_supervisor_2.png" label="supervisor_2" title="Управляющий" height="16" alt="" />';
							}
							if (_rk != '') $(".profileBlock").find("span.clan-rank").html(_rk);
						}
					}
					$("#myProfilePhoto").find(".level").html(my_level);
					if (_mode_t != "game"){
						var _oo = $("#myProfilePhoto").find(".image");
						if ($(_oo).length){
							if (!$(_oo).hasClass("hidden")){
								$(_oo).addClass("hidden");
							}
							$(_oo).html('<img src="'+ my_phs +'" alt="" onload="_PIX_crop(this, 60);" />');
						}
						$("#myProfilePhoto").attr("title", "");
						_UL_action("uol", "show", {set_root: true});
						_UL_action("ufv", "show", {use_cookie: true, root_scroll: true});
					}else{
						_UL_action("upl", "show", {set_root: true});
						_UL_action("ufv", "show", {use_cookie: true, root_scroll: true});
					}
				}
				switch (_mode_t){
					case "chat":
						$("#gamePage").removeClass("current");
						$("#mainPage").addClass("current");
						$("#roomsListContainer").addClass("current");
						$("#playersQueueBlock").removeClass("current");
						if (!$("#myExtras").hasClass("off")){
							$("#myExtras").addClass("off");
						}
						if ($("#gml_block").hasClass("off")){
							setTimeout(function(){
								$("#gml_list").show("fade", 100);
							}, 200);
							$("#gml_block").removeClass("off");
						}
						if ($(".bookmarks").hasClass("game")){
							$(".bookmarks").removeClass("game");
						}
						if ($(".bookmarks").hasClass("maf")){
							$(".bookmarks").removeClass("maf");
						}
						if ($(".bookmarks").hasClass("ton")){
							$(".bookmarks").removeClass("ton");
						}
						if ($(".extras-list").hasClass("not-chat")){
							$(".extras-list").removeClass("not-chat");
						}
						switch (_mode_f){
							case "room":
								$("#gamePage").removeClass("current");
								$("#mainPage").addClass("current");
								$("#cco_log").divAutoScroll("clear");
								if ($("#chatContainer").hasClass("room")){
									$("#chatContainer").removeClass("room");
								}
								if (!$("#gmr_block").hasClass("off")){
									$("#gmr_block").addClass("off");
								}
								_CHT_action("boss", "marquee");
								var _ii = $("#bossBlock .bossPhoto").children("img");
								if ($(_ii).length){
									_PIX_crop(_ii, 76);
									$("#bossBlock .bossPhoto").show("fade", 250);
								}
								if (typeof args.id != "undefined" && args.id > 0){
									RPX_destroy("s"+(args.id % 2));
								}
								break;
							case "game":
								changeDay("destroy");
								if (!_SOUND_err) _SOUND_arr['music']['game'+ gam_music].stop();
								if ($("#gamePage").hasClass("current")){
									$("#gamePage").removeClass("current");
									$("#mainPage").addClass("current");								
								}
								if($("#gamePage #ufv_cnt").length){
									$("#ufv_cnt").appendTo($("#mainPage .lobyBookmarks li.favorites div.cnt"));
									$("#ufv_scrollbar").appendTo($("#mainPage .favoritesBlock.switch"));
									_UL_action("ufv", "show");
									$("#chatContainer").appendTo($("#mainPage"));
								}
								$("#chatContainer").find(".smiles li.last-word:not(.not-displayed)").addClass("not-displayed").prev().removeClass("not-displayed");
								$("#snt_gifts").html('');
								$("#gxt_list > li.disabled").removeClass("disabled");
								$("#gml_list").html('');
								$("#cco_log").divAutoScroll("clear");
								_GM_action("", "upd", "pp_dd", "fin");
								_GM_action("", "upd", "pp_dd", "extras");
								_GM_action("", "dynamits", "remove");
								_GM_action("", "tel_cards", "remove");
								_GM_action("", "rvs_dog", "remove");
								_GM_action("", "adrenalin", "remove");
								_GM_action("", "punish", "remove");
								_GM_action("", "safe", "remove");
								_GM_action("", "spower", "remove");
								_GM_action("", "man_abomb", "remove");
																_GM_action("", "lpower", "remove");
								_GM_action("", "tpower", "remove");
								_GM_action("", "pep_bomb", "remove");
								_GM_action("gxt", "exts", "del", "spwr");
								var _oo = $("#myProfilePhoto").find(".image");
								if ($(_oo).length){
									if (!$(_oo).hasClass("hidden")){
										$(_oo).addClass("hidden");
									}
									$(_oo).html('<img src="'+ my_phs +'" alt="" onload="_PIX_crop(this, 60);" />');
								}
								$("#myProfilePhoto").attr("title", "");
								if (!$(".game-time-indicator").hasClass("off")){
									$(".game-time-indicator").addClass("off");
									if ($(".game-time-indicator").hasClass("night")){
										$(".game-time-indicator").removeClass("night");
									}
									if ($(".game-time-indicator").hasClass("day")){
										$(".game-time-indicator").removeClass("day");
									}
								}
								
								if ($("#gamePage").hasClass("dead")){
									$("#gamePage").removeClass("dead");
								}
								
								if ($(".bookmarks").hasClass("dead")){
									$(".bookmarks").removeClass("dead");
								}
								if ($("#chatContainer").hasClass("inGameMode")){
									$("#chatContainer").removeClass("inGameMode");
								}
								/*if ($("#gamePage").hasClass("freeze")){
									$("#gamePage").removeClass("freeze");
									_CHT_action("ich", "block", "none", null);
								}*/
								_CHT_action("", "tab", "cco", null);
								_UL_action("uol", "show", {set_root: true});
								_UL_action("upl", "hide", {root_scroll: true});
								//_CHT_action("boss", "marquee");
								if (typeof args.id != "undefined" && args.id > 0){
									RPX_destroy("s"+(args.id % 2));
								}
								//
																RC_node = Math.floor((Math.random() * 2));
								RPX_create("rc"+ RC_node, "http://rc"+ RC_node +".www.mafia-rules.net/", false);
								RPX_listen("rc"+ RC_node, r_pxx + "MAF_CC_" + my_lang, (typeof args.uts != "undefined" && args.uts > 0 ? args.uts : null));
								RPX_listen("rc"+ RC_node, r_pxx + "MAF_LST_" + my_lang, (typeof args.uts != "undefined" && args.uts > 0 ? args.uts : null));
								RPX["rc"+ RC_node].execute();
								$.ajax({
									async: true,
									cache: false,
									type: "POST",
									url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
									data: {method: "uc_lst"},
									dataType: "json",
									success: function(data) {
										/*if (typeof data.ufv != "undefined"){
											$.each(data.ufv, function(_i, _row) {
												_UL_add("ufv", _row);
											});
											_UL_action("ufv", "scroll");
											_UL_action("ufv", "count");
										}*/
										/*if (typeof data.uol != "undefined"){
											var _u = '';
											$.each(data.uol, function(_i, _row) {
												_u += _UL_add("uol", _row, true);
											});
											_UL_action("uol", "scroll");
											_UL_action("uol", "count", true);
										}*/
										if (typeof data.gml != "undefined"){
											$.each(data.gml, function(_i, _row) {
												_GM_action("gml", "list", "add", _row);
												var _ff = $("#gml_"+ _row[0] +":not(.favoriteDetected)");
												if ($(_ff).length){
													var _ll = 0;
													$.each(_row[9], function(_ii, _rr) {
														if ($("#ufv_"+ _rr).length) _ll ++;
													});
													if (_ll > 0) $(_ff).addClass("favoriteDetected");
												}
											});
										}
										if (typeof data.bss != "undefined"){
											if (data.bss[0] == _CHT_bss[0]){
												_CHT_action("boss", "marquee");
												var _ii = $("#bossBlock .bossPhoto").children("img");
												if ($(_ii).length){
													_PIX_crop(_ii, 100);
													$("#bossBlock .bossPhoto").show("fade", 250);
												}
											}
											_CHT_action("", "boss", data.bss);
										}
										if (typeof data.nlvl != "undefined"){
											_GM_action("", "upd", "lvl_up", data.nlvl);
										}
										if (typeof data.nlvl_c != "undefined"){
											_GM_action("", "upd", "lvl_c_up", [0, data.nlvl_c[0], data.nlvl_c[1]]);
										}
										if (typeof data.play_c != "undefined"){
											my_play_c = parseInt(data.play_c);
											MainMenu.update(my_play_c);
											if (my_play_c < 10){
												$("#roomsListContainer").questMap("init", parseInt(my_play_c), function(){
													switch (my_play_c){
														case 1: 
															_HX_hint('joh22'); 
															_WND_proc("newbie", "step1");
															break;
														case 2: 
															_HX_hint('joh23'); 
															_WND_proc("newbie", "questCoin");
															break;
														case 3: 
															_HX_hint('joh24'); 
															_WND_proc("newbie", "step3");
															break;
														case 4: 
															_HX_hint('joh25'); 
															_WND_proc("newbie", "questCoin");
															break;
														case 5: 
															_HX_hint('rud1');
															$("#buyExtras.not-displayed").removeClass("not-displayed");
															_WND_proc("newbie", "extrasAvailable");
															break;
														case 6: 
															_HX_hint('joh26'); 
															_WND_proc("newbie", "questCoin");
															break;
														case 7: 
															_HX_hint('luc1'); 
															_GM_action("gxt", "exts", (!$("#gxt_105").length ? "add" : "set"), [105, 1, 1]);
															_WND_proc("newbie", "step7");
															break;
														case 8: 
															_HX_hint('joh27');
															_WND_proc("newbie", "questCoin");
															break;
														case 9: 
															_HX_hint('joh28'); 
															_GM_action("gxt", "exts", (!$("#gxt_102").length ? "add" : "set"), [102, 10, 10]);
															_GM_action("gxt", "exts", (!$("#gxt_111").length ? "add" : "set"), [111, 3, 3]);
															_GM_action("gxt", "exts", (!$("#gxt_103").length ? "add" : "set"), [103, 1, 1]);
															_WND_proc("newbie", "step9");
															break;
													}
												});
												if (my_play_c < 9 && !$("body").hasClass("newbie")) $("body").addClass("newbie");
											}else{
												if ($("body").hasClass("newbie")) $("body").removeClass("newbie");
												switch (my_play_c){
													case 10: _HX_hint('lea1'); break;
																																							case 14: _HX_hint('luc2'); _WND_proc("newbie", "addGroup"); break;
																																							case 16: _HX_hint('joh1'); break;
													case 17: _HX_hint('rud2'); _WND_proc("newbie", "bossCoins"); break;
													case 19: 
													case 39: _HX_hint('luc3'); _WND_proc("newbie", "bossTask1"); break;
													case 40: _HX_hint('luc4'); _WND_proc("newbie", "bossTask2"); break;
													case 21: 
													case 41: _HX_hint('luc5'); _WND_proc("newbie", "bossTask3"); break;
													case 22: 
													case 42: _HX_hint('luc6'); _WND_proc("newbie", "bossTask4"); break;
													case 24: _HX_hint('joh2'); break;
													case 27: _HX_hint('joh3'); break;
													case 30: _HX_hint('joh4'); _WND_proc("newbie", "clanAvailable"); break;
																										case 37: _HX_hint('joh6'); break;
													case 33: _HX_hint('rud3'); _WND_proc("newbie", "bossCoins"); break;
													case 44: _HX_hint('joh7'); break;
													case 46: _HX_hint('rud4'); _WND_proc("newbie", "bossCoins"); break;
													case 48: _HX_hint('joh8'); break;
													case 50: $("#bt_arena.lock").removeClass("lock"); break;
													case 101: _HX_hint('joh9'); break;
												}
												if ((my_play_c % 25) == 0) {
													_HX_hint('luc7'); 
													_WND_proc("newbie", "inviteFriends");
												}
											}
										}
										if (typeof data.c_tm != "undefined") {
																					}
										if (typeof data.lea_new != "undefined"){
											my_league = 1;
											leagueProc("update");
											leagueProc("popup", "start");
										}
										if (typeof data.lea_ret != "undefined"){
											my_lea_rating = parseInt(data.lea_ret[1]);
											if (data.lea_ret[2] != -1) my_league = parseInt(data.lea_ret[2]);
											leagueProc("update");
											var _chest = (data.lea_ret[2] != -1 ? data.lea_ret[2] : (my_league == 6 ? 6 : 0));
											leagueProc("chest", _chest, data.lea_ret[0]);
										}
										if (typeof data.offs != "undefined"){
											offers_data = data.offs;
											offersRecount();
										}
										if (typeof data.off_new != "undefined"){
											_WND_proc('offers');
										}
																				if (typeof data.mbnf != "undefined") _GM_action("", "money_bonus", data.mbnf);
																				if (typeof data.atr != "undefined"){
											$("#roomsListContainer .roomsList .arenaRoom .gamesQty span").html(data.atr[0] +(!data.atr[3] ? '/5' : ''));
											$("#roomsListContainer .roomsList .arenaRoom .players span").html(parseInt(data.atr[2]) == -1 ? '' : data.atr[2]);
											if ($("#roomsListContainer .roomsList").attr("data-arena") == "false"){
												$("#roomsListContainer .roomsList").attr("data-arena", "true");
												$("#roomsListContainer .roomsList .arenaRoom").removeClass("off");
												$("#cdn_atour_timer").countdown(data.atr[1] * 1000, function(event) {
													if (event.type == "finished"){
														$("#roomsListContainer .roomsList .arenaRoom").addClass("off");
														$("#roomsListContainer .roomsList").attr("data-arena", "false");
													}
												});
											}
										}else if (!$("#roomsListContainer .roomsList .arenaRoom").hasClass("off")){
											$("#roomsListContainer .roomsList .arenaRoom").addClass("off");
											$("#roomsListContainer .roomsList").attr("data-arena", "false");
										}
									}
								});
								break;
						}
						if (_mode_f != "" && inf_rf_flag){
							inf_rf_flag = 0;
							_GM_action("", "informer", "refresh");
						}
						break;
					case "room":
						if (_mode_f == "chat" && typeof args.id != "undefined" && args.id > 0){
							if (gam_state == "init"){
								RPX_destroy("rc"+ RC_node);
							}
						}	
						if (gam_id){
							$("#roomSettings .rating").attr("title", (parseInt(gam_data['league']) > 0 ? league_ttls_w[gam_data['league']] : 'Арена'));
														var _maxl = 3;
														$("#roomSettings #gpl_rating").html((parseInt(gam_data['league']) > 0 ? '<img src="/images/icons/league/'+gam_data["league"]+'.png" class="leagueIco" /><span class="league'+ gam_data['league'] +'color">'+ league_ttls[gam_data["league"]] + (gam_data["league"] == _maxl ? '+' : '') +'</span>'  : '<img src="/img/popups/arena/rating_ico.png"  class="leagueIco" /><span class="league0color">Арена</span>'));
							$("#gpl_title").html('');
							$("#gpl_bet").html(gam_data['bet']);
							var _st = gam_data['sstamp'];
							if (_st < 1) _st = 0;
							var _ss = _DT_format(_st, {uts: true});
							$("#gpl_timer").html(_ss);
							_GM_action("", "upd", "room", [gam_state == "init" ? false : true]);
							$("#gpl_timer_b").removeClass("time-low");
							$("#gpl_list").html('');
							$("#upl_list").html('');
							if (gam_state == "init") _GM_action("", "upd", "pp_dd", "fr_invite");
						}
						if (_mode_f == "chat" && typeof args.id != "undefined" && args.id > 0){
							RPX_create("s"+(args.id % 2), "http://rpx"+((args.id % 2)+1)+".www.mafia-rules.net/", false);
							RPX_listen("s"+(args.id % 2), r_pxx + "MAF_II_" + my_enc_id, (typeof args.uts != "undefined" && args.uts > 0 ? args.uts : null));
							RPX_listen("s"+(args.id % 2), r_pxx + "MAF_GM_" + args.id, (typeof args.uts != "undefined" && args.uts > 0 ? args.uts : null));
							RPX["s"+(args.id % 2)].execute();
						}
						_GM_action("", "upd", "pp_de", "players");
						_GM_action("", "upd", "pp_dd", "crt");
						_GM_action("", "upd", "pp_dd", "gold_profile");
						if ($("#myExtras").hasClass("disabled")){
							$("#myExtras").removeClass("disabled");
						}
						if ($("#roomsListContainer").hasClass("current")){
							$("#roomsListContainer").removeClass("current");
							$("#playersQueueBlock").addClass("current");
						}
						$("#gamePage").removeClass("current");
						$("#mainPage").addClass("current");
						_HX_noob('all4');
						break;
					case "game":
						$("#cco_log, #cmf_log, #ctn_log").divAutoScroll("clear");
						$(".bookmarks .bookmark").removeClass("new-message");
						_GM_ChatBuffer.clear();
						if (_mode_f == "chat" && typeof args.id != "undefined" && args.id > 0){
							if (gam_state == "init"){
								RPX_destroy("rc"+ RC_node);
							}
							RPX_create("s"+(args.id % 2), "http://rpx"+((args.id % 2)+1)+".www.mafia-rules.net/", false);
							RPX_listen("s"+(args.id % 2), r_pxx + "MAF_II_" + my_enc_id, (typeof args.uts != "undefined" && args.uts > 0 ? args.uts : null));
							RPX_listen("s"+(args.id % 2), r_pxx + "MAF_GM_" + args.id, (typeof args.uts != "undefined" && args.uts > 0 ? args.uts : null));
							RPX["s"+(args.id % 2)].execute();
						}
						if (gam_id){
							_GM_action("", "upd", "person", false);
							if (gam_state == "play"){
								_GM_action("", "upd", "mode");
								_GM_action("", "upd", "timer");
							}else{
								_GM_action("", "upd", "fin");
							}
							_GM_action("", "upd", "tabs");
						}

						if ($("#myExtras").hasClass("off")){
							$("#myExtras").removeClass("off");
						}
						if (!$("#chatContainer").hasClass("inGameMode")){
							$("#chatContainer").addClass("inGameMode");
						}

						$("#gamePage").addClass("current");
						$("#mainPage").removeClass("current");
						
						if ($("#gamePage").hasClass("current")){
							$("#ufv_cnt").appendTo($("#gamePage .ufv_bar"));
							$("#ufv_scrollbar").appendTo($("#gamePage .favoritesList"));
							$("#chatContainer").appendTo($("#gameBody"));
						}					
						
						if (!$(".bookmarks").hasClass("game")){
							$(".bookmarks").addClass("game");
						}
						if (!$(".extras-list").hasClass("not-chat")){
							$(".extras-list").addClass("not-chat");
						}
						if (_mode_f != ""){
							_UL_action("upl", "show", {set_root: true});
							_UL_action("upl", "count");
							_UL_action("uol", "hide", {root_scroll: true});
							$("#auctionPopup").remove();
						}
						switch (_mode_f){
							case "chat":
								_GM_action("", "upd", "pp_dd", "fr_invite");
								_GM_action("", "upd", "pp_de", "players");
								_GM_action("", "upd", "pp_dd", "crt");
								_GM_action("", "upd", "pp_dd", "gold_profile");
								if (!$("#roomsListContainer").hasClass("current")){
									$("#roomsListContainer").removeClass("current");
									$("#playersQueueBlock").addClass("current");
								}
								break;
							case "room":
								_WND_proc("clans", "close");
								_WND_proc("clan_rql", "close");
								if (!$("#gmr_block").hasClass("off")){
									$("#gmr_block").addClass("off");
								}
								if ($("#chatContainer").hasClass("room")){
									$("#chatContainer").removeClass("room");
								}
								if (!gam_data['no_exts']){
									_GM_action("gxt", "exts", "set", [107]);
									_GM_action("exl", "exts", "upd", [107]);
								}
								break;
						}
						setTimeout(function(){
							if (!_SOUND_err) {
																if (gam_state != "fin") {
									gam_music = Math.floor((Math.random() * 4) + 1);
									_SOUND_arr['music']['game'+ gam_music].play({loops: 100});
								}	
							}
													}, 500);
						break;
				}
				if (_mode_f == ""){
					if (_mode_t == "chat" || (_mode_t == "room" && gam_state == "def")){
						RPX_create("rc"+ RC_node, "http://rc"+ RC_node +".www.mafia-rules.net/", false);
						RPX_listen("rc"+ RC_node, r_pxx + "MAF_CC_" + my_lang, uts);
						RPX_listen("rc"+ RC_node, r_pxx + "MAF_LST_" + my_lang, uts);
						RPX["rc"+ RC_node].execute();
					}
					RPX_listen("def", r_pxx + "MAF_ID_" + my_enc_id, uts);
					if (my_clan > 0) RPX_listen("def", r_pxx + "MAF_CLN_" + my_clan, uts);
					RPX["def"].execute();
					if (_mode_t != "chat" && typeof args.id != "undefined" && args.id > 0){
						RPX_create("s"+(args.id % 2), "http://rpx"+((args.id % 2)+1)+".www.mafia-rules.net/", false);
						RPX_listen("s"+(args.id % 2), r_pxx + "MAF_II_" + my_enc_id, uts);
						RPX_listen("s"+(args.id % 2), r_pxx + "MAF_GM_" + args.id, uts);
						RPX["s"+(args.id % 2)].execute();
					}
					setTimeout(function(){
						_CHT_focus();
					}, 100);
				}else{
					setTimeout(function(){
						_WARN();
						_GM_action("", "upd", "pp_de", "dlg");
						_CHT_focus();
					}, 100);
				}
				ifc_mode = _mode_t;
			}
			break;
	}
	return false;
}

function _COOKIE_set(cc, val, tm){

        if (tm) {
		var _dd = new Date();
                _dd.setTime(_dd.getTime() + (tm * 24 * 60 * 60 * 1000));
                var _exp = "; expires=" + _dd.toGMTString();
        }else{
                var _exp = "";
        }
        document.cookie = cc + "=" + val + _exp + "; path=/";
}

function _COOKIE_get(cc){

        var _ca = document.cookie.split(';');
        var _eq = cc + "=";
        for (var _i = 0; _i < _ca.length; _i++){
                var _c = _ca[_i];
                while (_c.charAt(0) == ' '){
			_c = _c.substring(1, _c.length);
		}
		if (_c.indexOf(_eq) == 0){
			return _c.substring(_eq.length, _c.length);
		}
        }
        return null;
}

function _COOKIE_del(cc){

        _COOKIE_set(cc, "", -1);
}

var _WARN_tm = [];
var _HINT_tm = [];
var _HINT_hh = [];

function _WARN(i, t, m, x, y, o){

	if (!i || i == ""){
		$("#warn_container > div").each(function(){
			var _ii = $(this).attr("id").substring(5);
			if (_ii && _ii != ""){
				_WARN(_ii);
			}
		});
		return;
	}
	if (_WARN_tm[i]){
		clearTimeout(_WARN_tm[i]);
		_WARN_tm[i] = null;
	}
	if (!m){
		if (_HINT_tm[i]){
			clearTimeout(_HINT_tm[i]);
			_HINT_tm[i] = null;
		}
		if (_HINT_hh[i]){
			_HINT_hh[i] = null;
		}
		if ($("#warn_"+ i).length) $("#warn_"+ i).remove();
		return;
	}
	var _v = (o && o.v ? 1 : 0);
	if (!$("#warn_"+ i).length){
		$("#warn_container").append('<div id="warn_'+ i +'" class="popup-hint not-displayed" '+(_v ? 'onmouseover="_HINT_o(\''+i+'\');" onmouseout="_HINT(\''+i+'\', 250);"' : '')+'></div>');
	}
	var _w = (o && o.w ? o.w +"px" : "auto");
	var _a = (o && o.a ? o.a : "");
	var _r = (o && o.r ? 1 : null);
	$("#warn_"+ i).css({"width": _w, "text-align": _a});
	$("#warn_"+ i).html(m);
	_POPUP_size(false, x, y, "warn_"+ i, 4, 20, _r);
	if ($("#warn_"+ i).hasClass("not-displayed")){
		$("#warn_"+ i).show("fade", 100, function(){
			$(this).removeClass("not-displayed");
		});
	}
	if (t > 0 && !_WARN_tm[i]){
		_WARN_tm[i] = setTimeout(function(){
			if ($("#warn_"+ i).length && !$("#warn_"+ i).hasClass("not-displayed")){
				$("#warn_"+ i).hide("fade", 100, function(){
					$(this).addClass("not-displayed");
					$(this).remove();
				});
			}
		}, t);
	}
}

function _HINT_o(i){

	if (_WARN_tm[i]){
		clearTimeout(_WARN_tm[i]);
		_WARN_tm[i] = null;
	}
}

function _HINT(i, t, h, m, x, y, o){

	if (_HINT_tm[i]){
		clearTimeout(_HINT_tm[i]);
		_HINT_tm[i] = null;
	}
	if (!m){
		if (!_WARN_tm[i]){
			_WARN_tm[i] = setTimeout(function(){
				_HINT_hh[i] = null;
				if ($("#warn_"+ i).length && !$("#warn_"+ i).hasClass("not-displayed")){
					$("#warn_"+ i).hide("fade", 100, function(){
						$(this).addClass("not-displayed");
						$(this).remove();
					});
				}
			}, t);
		}
		return;
	}
	if (_WARN_tm[i]){
		clearTimeout(_WARN_tm[i]);
		_WARN_tm[i] = null;
	}
	if (!_HINT_tm[i] && (!_HINT_hh[i] || _HINT_hh[i] != h)){
		_HINT_tm[i] = setTimeout(function(){
			_HINT_hh[i] = h;
			_WARN(i, 0, m, x, y, o);
		}, t);
	}
}

function _OHINT(txt){

	if (txt == '') return false;
        if ($("div.hintOnScreen").length) $("div.hintOnScreen").remove();
        var obj = $('<div class="hintOnScreen"><p class="text">'+ txt +'</p></div>').appendTo("#rootContainer");
        $(obj).animate({top: "-=20"}, {queue: false, duration: 3000}).delay(2000).animate({opacity: 0.25}, 500, function(){ $(obj).remove(); });
}

function _WND_proc(proc, cmd, args, evt){

	switch (proc){
		case "newbie":
			if (!$("#wnd_"+ proc).length){
				var _ttl = '';
				var _award = '';
				var _btn = 'Продолжить';
				var _lnk = '';
				var _close = true;
				var _nact = '';
				var _html = '';
				var _c_tm = 0;
				switch (cmd){
					case 'questCoin': 
						_ttl = 'Вы получили 500 монет';
						break;
					case 'step1': 
						_ttl = 'Вы получили письмо от Босса мафии';
						break;
					case 'step3': 
						_ttl = 'Вы получили кошелек с монетами';
						_btn = 'Поблагодарить';
						_lnk = '_WND_proc(\'invite\');';
						_award = '<em>+3000 <em>монет</em></em>';
						break;
					case 'step7': 
						_ttl = 'Подарок от Босса Мафии';
						_btn = 'Поблагодарить';
						_award = 'Вы получили  экстру <em>Револьвер</em>';
						_lnk = '_WND_proc(\'invite\');';
						break;
					case 'step9': 
						_ttl = 'Вы вскрыли сейф';
						_lnk = '$(\'#roomsListContainer\').questMap(\'destroy\');';
						_html = '<ul class="inSafe"><li><img src="/img/extras/102.png" /><span>активная роль</span></li><li><img src="/img/extras/111.png" /><span>миноискатель</span></li><li><img src="/img/extras/103.png" /><span>двойной голос</span></li><li><img src="/img/extras/coin-bag.png" /><span><img src="/images/icons/coin.png"  alt="" style="vertical-align: -3px" /> <em>3000</em></span></li></ul>';
						_close = false;
						break;
					case 'bossCoins': 
						_ttl = 'Подарок от Босса Мафии'; 
						_btn = 'Поблагодарить';
						_award = 'Вы получили <img src="/images/icons/coin.png" style="vertical-align:-3px; margin-right:3px" alt="" /><em>500</em>';
						_lnk = '_WND_proc(\'invite\');';
						break;
					case 'bossTask1':
						_ttl = 'Задание от Босса мафии'; 
						_award = 'Сыграй 3 игры и получишь награду';
						break;
					case 'bossTask2':
						_ttl = 'Задание от Босса мафии'; 
						_award = 'Сыграй еще 2 игры и получишь награду';
						break;
					case 'bossTask3':
						_ttl = 'Задание от Босса мафии'; 
						_award = 'Сыграй еще 1 игру и получишь награду';
						break;
					case 'bossTask4':
						_ttl = 'Задание выполнено'; 
						_btn = 'Поблагодарить';
						_award = 'Награда от Босса мафии <img src="/images/icons/coin.png" style="vertical-align:-3px; margin-right:3px" alt="" /><em>1500</em>';
						_lnk = '_WND_proc(\'invite\');';
						break;			
					case 'inviteFriends':
						_ttl = 'Играй с друзьями, вместе веселее';
						_btn = 'Пригласить друзей';
						_lnk = '_WND_proc(\'invite\');';
						break;
					case 'clanAvailable':
						_ttl = 'Раздел Кланы доступен';
						_lnk = '_WND_proc(\'clans\');';
						_close = false;
						_nact = 'not-active';
						_c_tm = 23000;
						break;
					case 'extrasAvailable':
						_ttl = 'Раздел Экстры доступен';
						_lnk = '_WND_proc(\'extras\');';
						_close = false;
						_nact = 'not-active';
						_c_tm = 30000;
						break;
					case 'addGroup':
						_ttl = 'Вступай в группу Мафии';
						_btn = 'Перейти';
						_lnk = 'window.open(\'http://vk.com/club25892529\', \'_blank\');';
						break;
					case 'addToMenu':
						_ttl = 'Добавь Мафию в меню слева';
						_btn = 'Добавить в меню';
						_lnk = 'VK.callMethod(\'showSettingsBox\', 256);return false';
						break;
					case 'okDiscountPopup':
						_ttl = 'Акция';
						_btn = 'Продолжить';
						_html = '<h2>В течение всего месяца для игроков ОК.ru монеты и рубины <em>в 2 раза дешевле!</em></h2>';
						_lnk = '_WND_proc(\'buy\');';
						break;
					case 'draugiem_ach':
						_ttl = 'Spēlē "Burbuļu līgu"<br/> un pildi sasniegumus Mafijā!';
						_btn = 'Spēlēt';
						_lnk = 'window.open(\'https://www.draugiem.lv/burbuli/\', \'_blank\');';
						break;
				}
								$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move popupShadowNew newbiePopup '+ cmd +'">'+
					'<h1>'+ _ttl +'!</h1>'+
					(_award != '' ? '<div class="award">'+ _award +'</div>' : '')+
					(_html != '' ? _html : '')+
					'<div class="footerButtons">'+
						'<button onclick="if ($(this).hasClass(\'not-active\')) return false;'+ _lnk +'_WND_proc(\'\', \'close\', \''+ proc +'\');return false" ondblclick="return false" class="newButton color1 '+ _nact +'" hidefocus="true">'+ _btn +'</button>'+
					'</div>'+
					(_close ? '<a href="#" class="popupClose" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false"></a>' : '')+
				'</div>');
				$("#wnd_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").outerWidth()) - hdr_right_o) / 2) - parseInt(parseInt($("#wnd_"+ proc).outerWidth()) / 2)) +"px");
				$("#wnd_"+ proc).draggable({
					containment: "document",
					cancel: "button,.popupClose",
					zIndex: 100,
					stop: function(){
						$(this).mousedown();
					}
				}).mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
					$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
				});
				if (_c_tm > 0) setTimeout(function(){
					$("#wnd_"+ proc).find("button").removeClass("not-active");
				}, _c_tm);
			}else{
				$("#wnd_"+ proc).mousedown();
			}
			break;
		case "invite":
						if (!$("#wnd_"+ proc).length){
				var _ttl = 'Вот незадача!<br /> Приглашать друзей из вашей соц. сети нельзя :(';
				var _btn = 'Закрыть';
				var _lnk = '';
				var _col = 'color1';
									_ttl = 'Хочешь больше друзей в Мафии?<br /> Для этого нужно зайти в игру с соц. сети!';
					_btn = 'Поехали!';
					_lnk = 'window.open(\'http://ok.ru/game/mafia-rules\', \'_blank\');';
					_col = 'color2';
					_HX_hint('joh18');
								$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move popupShadowNew friendInvitePopup" style="top: 240px">'+
					'<h2>'+ _ttl +'</h2>'+
					'<div class="footerButtons">'+
						'<button onclick="'+ _lnk +'_WND_proc(\'\', \'close\', \''+ proc +'\');return false" ondblclick="return false" class="newButton '+ _col +'" hidefocus="true">'+ _btn +'</button>'+
					'</div>'+
					'<a href="#" class="popupClose" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false"></a>'+
				'</div>');
				$("#wnd_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").outerWidth()) - hdr_right_o) / 2) - parseInt(parseInt($("#wnd_"+ proc).outerWidth()) / 2)) +"px");
				$("#wnd_"+ proc).draggable({
					containment: "document",
					cancel: "button,.popupClose",
					zIndex: 100,
					stop: function(){
						$(this).mousedown();
					}
				}).mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
				});
			}else{
				$("#wnd_"+ proc).mousedown();
			}
						break;
		case "sms_gift":
			if (!$("#wnd_"+ proc).length){
				$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move returnPlayerPopup transparentPopup not-displayed">'+
					'<h1><em>С возвращением!</em></h1>'+
					'<button onclick="_INF_DG();_WND_proc(\'\', \'close\', \''+ proc +'\');return false" ondblclick="return false" class="newButton" hidefocus="true">Получить награды</button>'+
				'</div>');
				$("#wnd_"+ proc).css("left", (parseInt($("#rootContainer").outerWidth()) - parseInt($("#wnd_"+ proc).outerWidth())) / 2 +"px");
				$("#wnd_"+ proc).draggable({
					containment: "document",
					cancel: "button,.popupClose",
					zIndex: 100,
					stop: function(){
						$(this).mousedown();
					}
				}).mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
					$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
				});
			}else{
				$("#wnd_"+ proc).mousedown();
			}
			break;
		case "are_inf":
			if (!$("#wnd_"+ proc).length){
				var _body = '';
				var _class = '';
				var _button_timer = 1000;
				var _on_click = 'if ($(this).hasClass(\'not-active\')) return false; _WND_proc(\'arena\');';
				var _close = true;
				var _style = false;
				switch (cmd){
					case "start":
						_body = '<h1><em>Арена открыта! Побеждай соперников для получения наград!</em></h1>';
						_class = "arenaStartPopup";
						break;
					case "tourn_start":
						_body = '<h1><em>Турнир начался! Пора в бой на Арену!</em></h1>';
						_class = "arenaStartPopup";
						break;
					case "tourn_end":
						_body = '<h1><em>Турнир окончен! Время забирать награду!</em></h1>';
						_class = "arenaStartPopup";
						break;
					case "tourn_fail":
						_body = '<h1 class="footerPosition"><em>Нет игроков на Арене, попробуйте позже!</em></h1>';
						_class = "arenaPlayersNotFoundPopup"
						_on_click = '';
						break;
					case "tal_pcs":
						_body = '<h1><em>Вы собрали 100 осколков таланта.</em></h1><div class="popupFooterText infoText">Награда: +1 очко таланта!</div>';
						_class = "talentPointPopup";
						_on_click = '';
						break;
					default:
						return;
				}
				$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move popupShadowNew banditosStepPopup '+ _class +' not-displayed" '+ (_style ? 'style="'+ _style +'"' : '') +'>'+
					_body +
					'<div class="footerButtons">'+
						'<button onclick="'+ _on_click +'_WND_proc(\'\', \'close\', \''+ proc +'\');return false" ondblclick="return false" class="newButton color1 not-active" hidefocus="true">Продолжить</button>'+
					'</div>'+
					(_close ? '<a href="#" class="popupClose" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false"></a>' : '')+
				'</div>');
				$("#wnd_"+ proc).css("left", (parseInt($("#rootContainer").outerWidth()) - parseInt($("#wnd_"+ proc).outerWidth())) / 2 +"px");
				$("#wnd_"+ proc).draggable({
					containment: "document",
					cancel: "button,.popupClose",
					zIndex: 100,
					stop: function(){
						$(this).mousedown();
					}
				}).mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
					$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
				});
				setTimeout(function(){
					$("#wnd_"+ proc).find("button").removeClass("not-active");
				}, _button_timer);
			}else{
				$("#wnd_"+ proc).mousedown();
			}
			break;	
		case "spectate":
			switch (cmd){
				case "close":
					if ($("#wnd_"+ proc).length && spc_id){
						if (spc_wnd_tm != null){
							clearTimeout(spc_wnd_tm);
							spc_wnd_tm = null;
						}
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "spc_remove"},
							dataType: "json",
							success: function(data) {
								RPX_destroy("s"+(spc_id % 2));
								spc_id = 0;
								spc_state = "";
								spc_data = [];
								_WARN(proc);
								$("#wnd_"+ proc).remove();
								_CHT_focus();
								if (!_SOUND_err) {
									_SOUND_arr['music']['game'+ gam_music].stop();
																	}
							}
						});
					}
					break;
				default:
					var _evt = (!evt ? window.event : evt);
					if (gam_id){
						_WARN(proc, 2500, '<span class="yellow">Нельзя наблюдать за игрой, находясь в другой игре</span>', _evt.clientX - 100, _evt.clientY);
					}else if (args){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "spectate", uid: args},
							dataType: "json",
							success: function(data) {
								if (typeof data.ret != "undefined"){
									spc_id = data.ret[0];
									spc_state = "play";
									spc_data = data.ret[2];
									if (!$("#wnd_"+ proc).length){
										$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move spectate-popup not-displayed" style="width:900px;">'+
											'<div class="popup-bg">'+
												'<div style="width:626px;float:left">'+
													'<div class="game-time-indicator-spc '+(spc_data['v_mode'] ? 'day' : 'night') +'">'+
														'<div id="spc_timer" class="time"></div>'+
														'<div class="exit"></div>'+
													'</div>'+
													'<div class="whoIsLife who-is-life" style="position:relative; top:0; left:0; z-index:6">'+
													'</div>'+
													'<div class="chat-container-history" style="height:553px">'+
														'<div id="spc_log" class="chat">'+
														'</div>'+
													'</div>'+
												'</div>'+
												'<div style="width:232px;height:620px;padding-top:10px;float:right;clear:right">'+
													'<div style="height:620px;position:relative;overflow:auto">'+
														'<ul class="playersList" id="spc_players">'+
														'</ul>'+
													'</div>'+
												'</div>'+
												'<div style="clear:both"></div>'+
												'<a href="#" onclick="_WND_proc(\''+ proc +'\', \'close\');return false" class="popup-close" hidefocus="true"></a>'+
											'</div>'+
										'</div>');
										$("#wnd_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc).width())/2)) +"px");
										$("#wnd_"+ proc).mousedown(function(){
											var _i = $(this).attr("id");
											var _z = _POPUP_resort("popup-move", _i);
											$(this).css("z-index", _z);
										}).show("fade", 100, function(){
											$(this).removeClass("not-displayed");
											$(this).mousedown();
											$.each(data.ret[3], function(_i, arr) {
												var _d = (arr[6] ? arr[6] : 0);
												var _gft = '';
												var _gft_c = '';
												if (arr[3] && __store[arr[3]] && __store[arr[3]].type == "gift"){
													if (__store[arr[3]].ext == 'swf'){
														_gft = '<div class="gift-swf">'+ _SWF_obj(arr[3], 40, 40) +'</div>';
														_gft_c = ' swf';
													}else{
														_gft = '<img src="/images/gifts/'+ arr[3] +'.'+ __store[arr[3]].ext +'" alt="" class="gift" />';
													}
												}
												var _c = '<li id="upl_'+ arr[0] +'" onmouseover="_UL_action(\'upl\', \'m_hover\', \'\', \''+ arr[0] +'\');" onmouseout="_UL_action(\'upl\', \'m_hover\', \'off\', \''+ arr[0] +'\');" class="'+(arr[4] && arr[4][0] == 1 ? 'gold-profile' : '')+'">'+
														'<div class="ico'+(_d ? ' idead' : '')+'" style="cursor:default;background-image:url(/img/persons/big/'+(arr[5] ? k_persons[arr[5]] : 'unknown') + arr[11] +'_'+ arr[2] +'.png)" title="'+t_persons[arr[5]]+'" label="'+arr[5]+'" ondblclick="return false" onclick="_GM_action(this, \'s_ext_div\', \''+arr[0]+'\', event);return false"><div class="dead'+(!_d ? ' not-displayed' : '')+'" label="'+_d+'"></div><div class="no-speak'+(!arr[7] ? ' not-displayed' : '')+'" title="Подозрительно молчит"></div><div class="count'+(!arr[8] ? ' not-displayed' : '')+'">'+arr[8]+'</div></div>'+
														'<div class="name'+ _gft_c + (_d ? ' ndead' : '')+'">'+ _gft +'<span class="nick" onclick="return false" style="cursor:default" label="'+arr[2]+'">'+ arr[1] +'</span><span class="clan" label="'+(arr[4] && arr[4][1] ? arr[4][1] : '0')+'">'+ (arr[4] && arr[4][1] && clx_data[arr[4][1]] ? ' '+(clx_data[arr[4][1]][0] != '' ? '<img src="'+ cln_url + clx_data[arr[4][1]][0] +'.gif" label="'+ clx_data[arr[4][1]][0] +'" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[arr[4][1]][1] : '') +'</span><div class="hint">'+(_d ? (_d == 3 ? 'за решеткой' : 'покойник') : (arr[9] ? 'против: '+arr[9] : ''))+'</div></div>'+
														'<div class="actions off" style="right:4px;background-color:#292929" label="">&nbsp;<img src="/images/icons/letter.png" ondblclick="return false" onclick="_PVT(event, \''+ arr[0] +'\');return false" title="Написать приватно" alt="">&nbsp;</div>'+
													'</li>';
												$("#spc_players").append(_c);
											});
											if (typeof spc_data['v_left'] != "undefined"){
												var _team = ['', ''];
												var _team_c = [0, 0];
												$.each(spc_data['v_left'], function(_k, _v){
													_team[__team_by_person(_k)] += '<div class="role" id="whl_role_'+ _k +'" title="'+t_persons[_k] +'"><div class="dead'+(parseInt(_v) > 0 ? ' not-displayed' : '')+'"></div><img src="/img/persons/big/'+ k_persons[_k] +'_'+ my_gender +'.png" alt="" /><div class="count'+(parseInt(_v) < 2 ? ' not-displayed' : '')+'">'+ _v +'</div></div>' +"\n";
													_team_c[__team_by_person(_k)] += parseInt(_v);
												});
												$(".whoIsLife").html(_team[1] +'<div class="vs" style="font-size:15px;font-weight:bold;"><span id="whl_t1">'+ _team_c[1] +'</span> <span title="против">:</span> <span id="whl_t0">'+ _team_c[0] +'</span></div>'+ _team[0]);
											}
											if (typeof spc_data['no_rolebar'] != "undefined" && parseInt(spc_data['no_rolebar'])) { $(".whoIsLife").html('<li class="vs">Арена вслепую: Не виден состав команд</li>'); }
											_GM_ChatBuffer.clear();
											RPX_create("s"+(spc_id % 2), "http://rpx"+((spc_id % 2)+1)+".www.mafia-rules.net/", false);
											RPX_listen("s"+(spc_id % 2), r_pxx + "MAF_GM_" + spc_id, data.ret[4]);
											RPX["s"+(spc_id % 2)].execute();
											if (!_SOUND_err){
																								gam_music = Math.floor((Math.random() * 4) + 1);
												_SOUND_arr['music']['game'+ gam_music].play({loops: 100});
											}
										});
									}else{
										$("#wnd_"+ proc).mousedown();
									}
								}
								if (typeof data.err != "undefined"){
									var _e = '';
									switch (data.err){
										case 1: _e = 'Игра недоступна'; break;
										case 2: _e = 'Слишком много зрителей, попробуйте позже!'; break;
										case 3: _e = 'Нельзя смотреть две игры одновременно!'; break;
									}
									if (_e != '') _WARN(proc, 2500, '<span class="yellow">'+ _e +'</span>', _evt.clientX - 100, _evt.clientY);
								}
							}
						});
					}
					break;
			}
			break;
		case "gifts":
			switch (cmd){
				case "mr_act":
					var _evt = (!evt ? window.event : evt);
					if (args && typeof args[0] != "undefined" && typeof args[1] != "undefined"){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "mr_act", id: args[1], act: args[0]},
							dataType: "json",
							success: function(data) {
								if (typeof data.err != "undefined" && data.err == 1){
									var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
									var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
									_WARN("default", 2500, '<span class="yellow">Вы опоздали, пользователь уже принял предложение руки и сердца от другого человека!</span>', _cx - 250, _cy);
								}
							}
						});
					}
					break;
				case "marriage":
					var _evt = (!evt ? window.event : evt);
					if (args && args.uid){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "marriage", args: args},
							dataType: "json",
							success: function(data) {
								if (typeof data.err != "undefined"){
									var _e = '';
									switch (data.err){
										case 1: _e = 'Недостаточно монет'; _HX_hint('rud5'); _WND_proc('buy'); break;
										case 2: _e = 'Кольцо нельзя подарить пользователю одинакового с Вами пола!'; break;
										case 3: _e = 'Вы не можете подарить кольцо, пока находитесь в браке с другим человеком!'; break;
										case 4: _e = 'Вы не можете подарить кольцо, пользователь находится в браке!'; break;
										case 5: _e = 'Вы уже отправили данному пользователю предложение!'; break;
									}
									if (_e != '') _WARN(proc, 2500, '<span class="yellow">'+ _e +'</span>', _evt.clientX - 100, _evt.clientY);
								}
								if (args.act){
									if (typeof data.ret != "undefined"){
										_GM_action("f", "upd", "pp_dh", "marriage");
										if (typeof data.ext != "undefined") _GM_action("gxt", "exts", "del", 246);
										if (data.ret == 2){
											var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
											var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
											_WARN(proc, 2500, '<span class="yellow">Поздравляем, этот пользователь теперь Ваша вторая половинка!</span>', _cx - 100, _cy);
										}
									}
								}else if (typeof data.arr != "undefined"){
									var _h = '<h1>Это обручальное кольцо!</h1>'+
											'<div class="photo"><img src="'+ (data.arr[2] != '' ? data.arr[2] : '/images/_.gif') +'" onmousedown="return false" onclick="_PRF('+ args.uid +');return false" onload="_PIX_crop(this, 90);" alt="" /></div>'+
											'<div class="text">'+
												'<p>Пошлите его любимому человеку и при согласии, вы сыграете свадьбу!</p>'+
												'<h3 style="color:#ff2a2a;">'+ (data.arr[4] > 0 ? 'Стоимость: 1 купон на свадьбу' : 'Стоимость: '+ data.arr[3] +' монет') +'</h3>'+
												'<p class="confirmText">Отправить кольцо?</p>'+
											'</div>'+
											'<div class="footerButtons">'+
												'<button class="newButton color1" ondblclick="return false" onclick="_WND_proc(\''+ proc +'\', \'marriage\', {uid: '+ args.uid +', act: 1}, event);return false" hidefocus="true">Да</button>'+
												'<button class="newButton color3" ondblclick="return false" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'marriage\');return false" hidefocus="true">Нет</button>'+
											'</div>';
									if (!$("#pp_marriage").length){
										$("#popup_container").append('<div id="pp_marriage" class="popup-move popupShadowNew weddingDoPopup not-displayed" style="top:180px">'+ _h +'</div>');
										$("#pp_marriage").css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_marriage").width())/2)) +"px");
										$("#pp_marriage").draggable({
											containment: "document",
											cancel: "button,.popup-close",
											zIndex: 100,
											stop: function(){
												$(this).mousedown();
											}
										}).mousedown(function(){
											var _i = $(this).attr("id");
											var _z = _POPUP_resort("popup-move", _i);
											$(this).css("z-index", _z);
										}).show("fade", 100, function(){
											$(this).removeClass("not-displayed");
											$(this).mousedown();
										});
									}else{
										$("#pp_marriage").html(_h);
										$("#pp_marriage").mousedown();
									}
								}
							}
						});
					}
					break;
				case "buy":
					var _evt = (!evt ? window.event : evt);
					if (args && args.id && args.uid){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "gift_do", args: args},
							dataType: "json",
							success: function(data) {
								if (!$("#pp_gftx").hasClass("not-active")){
									$("#pp_gftx").addClass("not-displayed");
								}
								if (typeof data.ret != "undefined"){
									_WND_proc("", "close", proc);
									if (!_SOUND_err) _SOUND_arr['sfx']['buy_gift'].play();
								}
								if (typeof data.err != "undefined"){
									_WARN(proc, 2500, '<span class="yellow">Недостаточно монет</span>', _evt.clientX - 100, _evt.clientY);
									_HX_hint('rud5');
									_WND_proc('buy');
								}
								if (typeof data.mar_p != "undefined"){
									$("#prf_"+ my_id +" .wedding .img").children("div").css("height", data.mar_p +'%');
									$("#prf_"+ my_id +" .wedding .img").children("span").html(data.mar_p +'%');
									$("#prf_"+ args.uid +" .wedding .img").children("div").css("height", data.mar_p  +'%');
									$("#prf_"+ args.uid +" .wedding .img").children("span").html(data.mar_p +'%');
									if (__store[args.id].ext == 'swf'){
										if ($("#prf_"+ my_id +" .wedding").length && !$("#prf_"+ my_id +" .wedding").hasClass("brilliant")) $("#prf_"+ my_id +" .wedding").addClass("brilliant");
										if ($("#prf_"+ args.uid +" .wedding").length && !$("#prf_"+ args.uid +" .wedding").hasClass("brilliant")) $("#prf_"+ args.uid +" .wedding").addClass("brilliant");
									}			
								}
							}
						});
					}
					break;
				case "switchContent":
					$("ul.giftsMenu li").removeClass("current");
					$("ul.giftsMenu li."+args).addClass("current");	
					$(".giftsList").addClass("not-displayed");
					$("#wnd_gifts ."+args).removeClass("not-displayed");
					$("."+args + " ul.giftsList").removeClass("not-displayed");
					if (args == 'glsts_0'){
						$("#gifts_scrollbar").tinyscrollbar({
							sizethumb: 46
						}).tinyscrollbar_update(0);					
					}					
					break;
				default:
					if (!$("#wnd_"+ proc).length){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "gift_dsc", uid: args.uid},
							dataType: "json",
							success: function(data) {
								var _oarr = data.oarr;
								var _prf = ['', '/images/_.gif'];
								if (typeof data.prf != "undefined") _prf = data.prf;
								var _gco = (typeof data.gco != "undefined" ? parseInt(data.gco) : 0);
								var _dsc = [0, 0, 0, 0, 0];
								if (data.ret) _dsc = data.ret;
								var _s = [];
								_s[0] = [0, 0, [""]];
																_s[10] = [0, 0, [""]];
								_s[100] = [0, 0, [""]];
								_s[200] = [0, 0, [""]];
								$.each(__store_sort, function(_k, _i){ if (__store[_i]){
									var _row = __store[_i];
									if (_row.type == "gift"){
										var _cat = _row.cat > 200 ? 200 : _row.cat;
										var _cat_class = '';
										switch (_row.cat) {
											case 201: _cat_class = 'eventBeard'; break;
											case 202: _cat_class = 'eventNy'; break;
											case 203: _cat_class = 'eventProf'; break;
											case 204: _cat_class = 'eventEastern'; break;
											case 205: _cat_class = 'eventSpring'; break;
										}
										if (_cat == 1) _cat = 0;
																																																												var _c = (args.uid == my_id ? '_WND_proc(\''+ proc +'\', \'buy\', {id: '+ _i +', uid: $(\'#wnd_'+ proc +'\').attr(\'label\')}, event)' : '$(\'#pp_gftx\').attr(\'label\', \''+ _i +'\');'+ (_row.silence ? 'if(!$(\'.hh_gftx\').hasClass(\'not-displayed\')) $(\'.hh_gftx\').addClass(\'not-displayed\');' : '$(\'.hh_gftx\').removeClass(\'not-displayed\');')  +'$(\'.ll_gftx_r\').attr(\'label\', \''+ (_i == _dsc[0] || _cat == 7 || _cat == 10 ? (Math.round(_row.price / 2) * 9) : (_i == _dsc[1] ? (_dsc[2] * 9) : (_i == _dsc[3] ? (_dsc[4] * 9) : (_row.price * 9)))) +'\');$(\'#pp_gftx\').removeClass(\'not-displayed\');$(\'#pp_gftx\').find(\'textarea\').focus()');
										if (typeof _s[_cat] != "undefined"){
											if (_cat == 200 && typeof _oarr[_i] == "undefined") return true;
											_s[_cat][2][_s[_cat][1]] += '<li onclick="'+ _c +';return false" class="'+
												_cat_class +' '+
												(_row.ext == 'swf' ? 'bigGift' : 'gift')+
												(_i == _dsc[0] || (_i == _dsc[3] && _row.price != _dsc[4]) ? ' discount' : '')+
												((_i == _dsc[1] && _row.price != _dsc[2]) ? ' discount award' : '')+
												'">'+
											'<div class="gift" ondblclick="return false">'+
												(_i == _dsc[0] ? '<div class="discount"></div>' : '')+
												(_row.ext == 'swf' ?
													_SWF_obj(_i, 96, 96) :
													'<img src="/images/gifts/'+ _i +'.'+ _row.ext +'" alt="" title="'+ _row.title +'" />'
												)+
												'<p class="price">'+
													((_cat == 200 || _cat == 100) && _gco > 0 ? '<img src="/images/icons/coupon_small.png" alt="" /><span>1</span>' :
													'<img src="/images/icons/coin-micro.png" alt="" />'+
													'<span>'+
													(_i == _dsc[0] || _cat == 7 || _cat == 10 || (_i == _dsc[1] && _row.price != _dsc[2]) || (_i == _dsc[3] && _row.price != _dsc[4]) ? (_i == _dsc[1] ? _dsc[2] : (_i == _dsc[3] ? _dsc[4] : Math.round(_row.price / 2))) + '<s>&nbsp;'+ _row.price +'&nbsp;</s> ' : _row.price)+
													'</span>')+
												'</p>'+
											'</div></li>';
											_s[_cat][0] ++;
										}
									}
								}});
								var _se = '';
																var _m = $(".profileBlock").find("span.moneyBalance").html();
								var _glsts0 = '';
								$.each(_s[0][2], function(_k, _v){
									_glsts0 +=  _v;
								});
								var _glsts2 = '';
								$.each(_s[100][2], function(_k, _v){
									_glsts2 += _v;
								});
								var _glsts3 = '';
								$.each(_s[200][2], function(_k, _v){
									_glsts3 += _v;
								});
								$("#popup_container").append('<div id="wnd_'+ proc +'" label="'+ args.uid +'" class="popup-move doGiftPopup popupShadowNew  not-displayed" style="top:50px">'+
										'<div class="header">'+
											'<div class="photo"><img src="'+ _prf[1] +'" alt="" onload="_PIX_crop(this, 110);" /></div>'+
											'<div class="name">'+ _prf[0] +'</div>'+
											'<div class="balance">У вас: <span class="coins">'+ $(".profileBlock").find("span.moneyBalance").html() +'</span>'+
																						' <span class="ruby">'+ $(".profileBlock").find("span.rubyBalance").html() +'</span>'+
																						' <span class="giftCoupon'+(_gco < 1 ? ' off' : '')+'">'+ _gco +'</span></div>'+
										'</div>'+
										'<div class="giftsMenu">'+
											'<ul class="giftsMenu bookmarksMenu">'+
																								'<li class="extras glsts_1" onclick="_WND_proc(\''+ proc +'\', \'switchContent\', \'glsts_1\');return false"><span>Экстры</span></li>'+
																								'<li class="mega glsts_2 current" onclick="_WND_proc(\''+ proc +'\', \'switchContent\', \'glsts_2\');return false"><span>Мега-подарки</span></li>'+
												'<li class="gifts glsts_0" onclick="_WND_proc(\''+ proc +'\', \'switchContent\', \'glsts_0\');return false"><span>Подарки</span></li>'+
											'</ul>'+
										'</div>'+
										'<div id="pp_gftx" label="0" class="popup-hint not-displayed" style="width:317px;top:222px;left:252px">'+
											'<p class="hh_gftx" style="margin:0;padding:0;font-weight:bold; text-align:center">Комментарий к подарку:</p>'+
											'<div class="popup-input-container hh_gftx" style="margin-top:7px"><textarea style="width:306px;height:60px;" scroll="no" onkeydown="if($(this).val().length > 50){$(this).val($(this).val().substring(0, 50));}"></textarea></div>'+
											'<table class="table left" style="margin-bottom: 55px">'+
											'<tr>'+
												'<td class="ll_gftx_r" label="0" style="width:116px;text-decoration:underline" onmouseover="_HNTS(\'gft_row\', [$(this).attr(\'label\')], event);" onmouseout="_HINT(\'hnts_gft_row_hint\', 250);">Ряд из подарков:<img alt="" style="vertical-align:-2px;margin-left:6px" src="/images/icons/coin-micro.png"></td>'+
												'<td><input class="cb_gftx_r" type="checkbox" value="1" /></td>'+
											'</tr>'+
											'<tr class="hh_gftx">'+
												'<td style="text-decoration:underline" onmouseover="_HNTS(\'gft_hid\', null, event);" onmouseout="_HINT(\'hnts_gft_hid_hint\', 250);">Приватно</td>'+
												'<td><input class="cb_gftx_h" type="checkbox" value="1" /></td>'+
											'</tr>'+
											'</table>'+
											'<div class="footerButtons"><button ondblclick="return false" onclick="_WND_proc(\''+ proc +'\', \'buy\', {id: $(\'#pp_gftx\').attr(\'label\'), uid: $(\'#wnd_'+ proc +'\').attr(\'label\'), txt: $(\'#pp_gftx\').find(\'textarea\').val(), cr: ($(\'#pp_gftx\').find(\'.cb_gftx_r\').is(\':checked\') ? 1 : 0), hd: ($(\'#pp_gftx\').find(\'.cb_gftx_h\').is(\':checked\') ? 1 : 0)}, event);return false" class="newButton" hidefocus="true">Подарить</button></div>'+
											'<a href="#" onclick="$(\'#pp_gftx\').addClass(\'not-displayed\');return false" class="popup-small-close" hidefocus="true"></a>'+
										'</div>'+									
										'<div class="scrollBarContainer giftsList glsts_0 not-displayed" id="gifts_scrollbar" style="position:relative" label="0">'+
											'<div class="bar"><div style="" class="track"><div style="height:28px;top:0px;" class="thumb"><div class="end"></div></div></div></div>'+
											'<div class="viewport" style="height:437px">'+
												'<div class="overview">'+
													'<ul class="giftsList">'+
														_glsts0 +
													'</ul>'+
												'</div>'+
											'</div>'+
										'</div>'+
										'<div class="scrollBarContainer giftsList glsts_2" id="megaGifts_scrollbar" style="position:relative" label="0">'+
											'<div class="bar"><div style="" class="track"><div style="height:28px;top:0px;" class="thumb"><div class="end"></div></div></div></div>'+
											'<div class="viewport" style="height:437px">'+
												'<div class="overview">'+
													'<ul class="giftsList">'+
														_glsts3 + _glsts2 +
													'</ul>'+
												'</div>'+
											'</div>'+
										'</div>'+
																				'<ul class="giftsList extras glsts_1 not-displayed">'+
											'<li class="bigGift" onclick="_WND_proc(\'buy\', \'\', \''+ args.uid +'\', event);return false" hidefocus="true"><div class="ico"><img src="/img/extras/money-gift.png" /></div><p class="extra-name">Подарить монеты</p><button ondblclick="return false">выбрать тариф</button></li>'+
																						'<li class="bigGift" onclick="_WND_proc(\'ruby_buy\', \'\', \''+ args.uid +'\', event);return false"><div class="ico"><img src="/img/extras/ruby-gift.png" /></div><p class="extra-name">Подарить рубины</p><button ondblclick="return false" hidefocus="true">выбрать тариф</button></li>'+
																						_se+
										'</ul>'+
																														'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false" class="popupClose" hidefocus="true"></a>'+
								'</div>');
								$("#wnd_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc).width())/2)) +"px");
								$("#wnd_"+ proc).mousedown(function(){
									var _i = $(this).attr("id");
									var _z = _POPUP_resort("popup-move", _i);
									$(this).css("z-index", _z);
								}).show("fade", 100, function(){
									$(this).removeClass("not-displayed");
									$("#megaGifts_scrollbar").tinyscrollbar({
										sizethumb: 46
									}).tinyscrollbar_update(0);;
									$(this).mousedown();
								});
							}
						});
					}else{
						$("#wnd_"+ proc).attr("label", args.uid);
						$("#wnd_"+ proc).mousedown();
					}
					break;
			}
			break;
			
		case "league":
			if (my_play_c < 10){
				_OHINT(MainMenu.gamesLeftText(10, my_play_c)); 
				return false;
			} 
			switch (cmd){
				case "close":
					if ($("#wnd_"+ proc).length){
						_WARN(proc);
						$("#wnd_"+ proc).remove();
						_CHT_focus();
					}
					break;
				default:
					if (!my_league) return false;
					if (!$("#wnd_"+ proc).length){
						$("#popup_container").append('<div id="wnd_'+ proc +'" class="leagueScreen popup-move not-displayed">'+
							'<div class="timerContainer">'+
								'<div class="alignDiv">'+
									'<h2>До окончания сезона:</h2>'+
									'<div id="cdn_season_end" class="timer">'+
										'<span class="unit"><span class="days"></span>д</span>'+
										'<span class="unit"><span class="hours"></span>ч</span>'+
										'<span class="unit"><span class="minutes"></span>м</span>'+
										'<span class="unit"><span class="seconds"></span>с</span>'+
									'</div>'+
								'</div>'+
							'</div>'+
							'<div class="container">'+
								'<div class="gloryRoom" data-emptyTable="true">'+
									'<h1>Зал славы</h1>'+
									'<div class="info asTable">'+
										'<div class="asCell">'+
											'В «Зал славы» попадают все Гроссмейстеры, когда-либо достигнувшие этой лиги. Попасть в «Зал славы» можно несколько раз, участвуя в разных сезонах Лиги Мафии. Чем быстрее достигнута Гроссмейстер лига, тем выше в «Зале славы» будет игрок.'+
										'</div>'+
									'</div>'+
									'<div class="content">'+
										'<table class="glory">'+
										'</table>'+
										'<a href="#" onclick="$(\'#wnd_'+ proc +' div.gloryAllList\').removeClass(\'off\');return false" class="showAll off" hidefocus="true">Смотреть всех</a>'+
									'</div>'+
								'</div>'+
								'<div class="gloryAllList off">'+
									'<h1 class="gloryHeader">Зал славы</h1>'+
									'<div class="scrollContainer">'+
										'<table class="glory">'+
										'</table>'+
									'</div>'+
									'<a href="#" onclick="$(this).parent().addClass(\'off\');return false" class="popupClose" hidefocus="true"></a>'+
								'</div>'+
								'<ul id="leagueList">'+
								'<li class="start"><div class="progress" style="height:100%"></div></li>'+
								'</ul>'+
							'</div>'+
							'<a href="#" onclick="_WND_proc(\''+ proc +'\', \'close\');return false" class="popupClose2" hidefocus="true"></a>'+
						'</div>');
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "league", uid: (typeof args == "undefined" ? 0 : args)},
							dataType: "json",
							success: function(data){
								if (typeof data.ret != "undefined"){
									buildLeagueProgress(data.ret[1], data.ret[2]);
									$("div#cdn_season_end").countdown(data.ret[3] * 1000, function(event) {});
								}
								if (typeof data.lea_ret != "undefined"){
									my_lea_rating = parseInt(data.lea_ret[1]);
									if (data.lea_ret[2] != -1) my_league = parseInt(data.lea_ret[2]);
									leagueProc("update");
									var _chest = (data.lea_ret[2] != -1 ? data.lea_ret[2] : (my_league == 6 ? 6 : 0));
									leagueProc("chest", _chest, data.lea_ret[0]);
								}
								if (typeof data.hof_ret != "undefined"){
									var _s = '<tr>'+
										'<th class="num"></th>'+
										'<th class="num"></th>'+
										'<th class="name">Ник</th>'+
										'<th class="date">Дата</th>'+
										'<th class="days">Время достижения</th>'+
									'</tr>';
									var _sh = _s;
									var _c = 0;
									$.each(data.hof_ret, function(_i, _row){
										var _ss = '<tr>'+
											'<td>'+ (_i + 1) +'</td>'+
											'<td style="padding:0"><img src="/images/icons/on-line.gif" style="vertical-align:-1px" alt="" class="on-line'+(_row[5] > 0 ? '' : ' off')+'" /></td>'+
											'<td style="text-align:left"><a href="#" onclick="_PRF('+ _row[0] +');return false">'+ _row[1] +'</a><span class="clan">'+(clx_data[_row[4]] ? ' '+(clx_data[_row[4]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[4]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_row[4]][1] : '')+'</span></td>'+
											'<td class="date">'+ _row[2] +'</td>'+
											'<td class="days">'+ _row[3] +' дн.</td>'+
										'</tr>';
										if (_i < 5) _s += _ss;
										_sh += _ss;
										_c ++;
									});
									if (_c > 5) $("#wnd_"+ proc +" div.gloryRoom a.showAll").removeClass("off");
									$("#wnd_"+ proc +" div.gloryRoom table.glory").html(_s);
									$("#wnd_"+ proc +" div.gloryRoom").attr("data-emptyTable", "false");
									$("#wnd_"+ proc +" div.gloryAllList table").html(_sh);
								}
								ptip.init('.leagueScreen .hoverHint', {preset:'tooltip', cls:'center', show: 'hover_pause'});

							}
						});
						$("#wnd_"+ proc).mousedown(function(){
							var _i = $(this).attr("id");
							var _z = _POPUP_resort("popup-move", _i);
							$(this).css("z-index", _z);
						}).show("fade", 100, function(){
							$(this).removeClass("not-displayed");
							$(this).mousedown();
						});
						_HX_hint('lea2');
					}else{
						$("#wnd_"+ proc).mousedown();
					}
					break;
			}
			break;
			
		case "arena":
			if (my_play_c < 50){
				_OHINT(MainMenu.gamesLeftText(50, my_play_c)); 
				return false;
			} 
			switch (cmd){
				case "close":
					if ($("#wnd_"+ proc).length){
						_WARN(proc);
						$("#wnd_"+ proc).remove();
						_CHT_focus();
					}
					break;
				case "collect":
					var _obj = args[0];
					if ($(_obj).length){
						if (!_SOUND_err) _SOUND_arr['sfx']['collect_gift'].play();
						$(_obj).find("div.name").remove();
						var $bar = $("ul.eventPrizeProgress li.current .progressText em.current");
						var barX = $bar.offset().left;
						var barY = $bar.offset().top;
						$(_obj).removeClass("show").addClass("hide").animate({
							left: barX,
							top: barY
						}, 500, function() {
							$(this).remove();
							if (!$(".itemContainer").length){
								$(".blurDiv").fadeOut("slow", function() {$(this).remove()});
							}
							EventPrizeProgress.collect(args[1]);
						});
					}
					break;
				case "open_atoken":
					var _mx0 = hdr_offset_x + 50; var _mx1 = hdr_offset_x + 940;
					var _my0 = hdr_offset_y; var _my1 = hdr_offset_y + 600;
					var random_X = Math.floor(Math.random() * (_mx1 - _mx0 + 1)) + _mx0;
					var random_Y = Math.floor(Math.random() * (_my1 - _my0 + 1)) + _my0 + 50;
					var item_cnt = parseInt($(".itemContainer").length);
					while (!isPositionValid(random_X, random_Y) && item_cnt < 20){
						random_X = Math.floor(Math.random() * (_mx1 - _mx0 + 1)) + _mx0;
						random_Y = Math.floor(Math.random() * (_my1 - _my0 + 1)) + _my0 + 50;
					}
					function isPositionValid(randomX, randomY) {
						var isValid = true;
						$(".itemContainer").each(function() {
							var targetX = parseInt($(this).attr("targetX"));
							var targetY = parseInt($(this).attr("targetY"));
							if ((randomX > (targetX - 100) && randomX < targetX + 100) && (randomY > (targetY - 120) && randomY < targetY + 120)){
								isValid = false;
								return false;
							}	
						});
						return isValid;
					}
					var start_X = 0;
					var start_Y = 0;
					if(!$(".blurDiv").length){ 
						var blurBgDiv = '<div class="blurDiv"></div>';
						$(blurBgDiv).appendTo("#wnd_arena").fadeIn();
						//$("#wnd_arena .eventPrizeBlock").before(blurBgDiv).fadeIn();
					}
					var _ttl = args+ ' Жетонов';
					var _pix = '/img/extras/onscreen/atokens.png';
					var elem = '<div class="itemContainer" targetX="'+ random_X +'" targetY="'+ random_Y +'" style="left: '+ start_X +'px; top: '+ start_Y +'px" onclick="_WND_proc(\''+ proc +'\', \'collect\', [this, '+ args +']);return false"><div class="borderContainer" style="padding:0 0 10px 0"><img src="'+ _pix +'" /><div class="name"><span>'+ _ttl +'</span></div></div>';
					$(elem).appendTo("#wnd_arena").addClass("show").animate({
							top: random_Y,
							left: random_X
						}, 500, "swing", function() {
						$(this).find(".name").fadeIn();
					});
					break;
				case "take_atokens":
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "take_atokens"},
						dataType: "json",
						success: function(data){
							_arena_last_prize = false;
							if (typeof data.aret != "undefined"){
								$.each(data.aret, function(_i, _a){
									_WND_proc(proc, 'prize_ret', _a);
								});
							}
							if (typeof data.ret != "undefined"){
								_WND_proc(proc, 'reload', data.ret);
							}
						}
					});
					break;
				case "buy_atokens":
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "buy_atokens"},
						dataType: "json",
						success: function(data){
							_arena_last_prize = false;
							if (typeof data.aret != "undefined"){
								$.each(data.aret, function(_i, _a){
									_WND_proc(proc, 'prize_ret', _a);
								});
							}
							if (typeof data.ret != "undefined"){
								EventPrizeProgress.collect(data.ret);
							}
							if (typeof data.err != "undefined"){
								_OHINT('Недостаточно рубинов');
								_WND_proc('ruby_buy');
							}
						}
					});
					break;	
				case "prize_ret":
					if (args){
						switch(args[0]){
							case 'extra_rnd':
								_arena_last_prize = [];
								$.each(args[1], function(_i, _a){
									_arena_last_prize.push(_a[0]);
									_GM_action("gxt", "exts", (!$("#gxt_"+ _a[0]).length ? "add" : "set"), [_a[0], _a[1]]);
									_GM_action("exl", "exts", "upd", [_a[0]]);
								});
								break;
							case 'amp':
								_arena_last_prize = args[1][0];
								_GM_action("gxt", "exts", (!$("#gxt_"+ args[1][0]).length ? "add" : "set"), [args[1][0], args[1][1]]);
								_GM_action("exl", "exts", "upd", [args[1][0]]);
								break;
						}
					}
					break;
				case "atour_join":
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "atour_join"},
						dataType: "json",
						success: function(data){
							if (typeof data.tcnt != "undefined"){
								$("#wnd_"+ proc +" .footerBlock").attr("data-mode", "mode2");
								$("#wnd_"+ proc +" .footerBlock .switch.mode2 em").html(data.tcnt);
							}
							if (typeof data.tfull != "undefined"){
								_WND_proc(proc);
							}
							if (typeof data.err != "undefined"){
								switch(parseInt(data.err)){
									case 1: _OHINT('Арена сейчас закрыта. Проверьте время открытия!'); break;
									case 2: _OHINT('Вы исключены из текущего этапа Арены за неактивность!'); break;
								}
							}
						}
					});
					break;	
				case "reload":
				default:
					if (!$("#wnd_"+ proc).length){
						$("#popup_container").append('<div id="wnd_'+ proc +'" class="arenaScreen popup-move not-displayed" data-mode="normal"></div>');
						$("#wnd_"+ proc).mousedown(function(){
							var _i = $(this).attr("id");
							var _z = _POPUP_resort("popup-move", _i);
							$(this).css("z-index", _z);
						}).show("fade", 100, function(){
							$(this).removeClass("not-displayed");
							$(this).mousedown();
						});
					}else{
						$("#wnd_"+ proc).mousedown();
					}
					$.ajax({
						async: false,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "arena"},
						dataType: "json",
						success: function(data){
							if (typeof data.t_arr != "undefined"){
								var _list = '';
								var _my_dt = [0, 0, 0];
								$.each(data.t_arr[2], function(_i, _row){
									if (_row[0] == my_id) _my_dt = [(_i + 1), _row[2], _row[4]];
									_list += '<tr'+ (_row[0] == my_id ? ' class="my"' : '') +'>'+
										'<td><div class="num">'+ (_i + 1) +'.</div></td>'+
										'<td class="playerName">'+
											'<div class="playerData'+ (_row[6] > 0 ? ' online' : '') +'">'+
												'<span class="playerNick" onclick="_PRF(\''+ _row[0] +'\');return false">'+ _row[1] +'</span>'+
												(clx_data[_row[5]] ? '<span class="playerClan"> '+ (clx_data[_row[5]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[5]][0] +'.gif" alt="" class="clanIco">' : '') + (clx_data[_row[5]][1] != '' ? '<span class="abbr">'+ clx_data[_row[5]][1] +'</span>' : '') +'</span>' : '')+
											'</div>'+
										'</td>'+
										'<td class="games">'+ _row[2] +'</td>'+
										'<td>'+ _row[3] +'</td>'+
									'</tr>';
								});
								var _tok_places = data.toks[0];
								var _tok_games = data.toks[1];
								var _tok_wins = [(typeof _tok_places[_my_dt[0]] != "undefined" ? _tok_places[_my_dt[0]] : 0), 0, 0];
								var _tg_data = '';
								if (parseInt(data.t_arr[5])){
									_tok_wins[1] = (_my_dt[1] * 5);
									_tok_wins[2] = (_my_dt[2] * 5);
								}else{
									for (_g = 1; _g <= 5; _g++){
																				var _g_ttl = 'игр'+ _postfix(['','а','ы'], _g);
																				_tg_data += '<li'+ (_g <= _my_dt[1] ? ' class="done"' : '') +'>'+ _g +' '+ _g_ttl +' <em class="tokenQty">'+ _tok_games[_g] + (_g <= _my_dt[2] ? ' <span class="boosterInfo">+5 бустер</span>' : '') +'</em></li>';
										if (_g <= _my_dt[1]) _tok_wins[1] += _tok_games[_g];
										if (_g <= _my_dt[2]) _tok_wins[2] += 5;
									}
								}
								var _tok_win = (_tok_wins[0] + _tok_wins[1] + _tok_wins[2]);
								$("#wnd_"+ proc).addClass("tournament").html('<div class="leftBlock">'+
									'<h3 class="arenaHeader yellow">Топ участников</h3>'+
									(parseInt(data.t_arr[5]) ? '<h2>Играйте игры на Арене для получения рейтинга</h2>' : '<h2>Сыграй 5 игр на арене до окончания турнира</h2>')+
									'<div class="endArenaTimer">'+
										'Турнир закончится через: '+
										'<div id="cdn_tournament_timer" class="shortTimer">'+
											'<p class="off"><span class="hours"></span><em>ч</em></p>'+
											'<p><span class="minutes"></span><em>м</em></p>'+
											'<p><span class="seconds"></span><em>с</em></p>'+
										'</div>'+
									'</div>'+
									'<div class="scrollContainer">'+
										'<table class="arenaTop">'+
											'<tr>'+
												'<th class="place">Место</th>'+
												'<th class="playerName">Игрок</th>'+
												'<th class="games">Сыграно игр</th>'+
												'<th>Рейтинг</th>'+
											'</tr>'+
											_list +
										'</table>'+
									'</div>'+
								'</div>'+
								'<div class="rightBlock" data-mode="mode'+ (data.t_arr[3] == 'fin' ? '1' : (parseInt(data.t_arr[5]) ? '3' : '2')) +'">'+
									'<div class="content">'+
										'<div class="switch mode1">'+
											'<h2>Битва окончена!<br />Пора забирать полученные жетоны!</h2>'+
											'<ul class="arenaTokenAward">'+
												'<li>'+
													'<div>Место в топе: '+ _my_dt[0] +'</div>'+
													'<em class="tokenQty">'+ _tok_wins[0] +'</em>'+
												'</li>'+
												'<li>'+
													'<div>Игр сыграно: '+ _my_dt[1] +'</div>'+
													'<em class="tokenQty">'+ _tok_wins[1] +'</em>'+
												'</li>'+
												(_tok_wins[2] > 0 ? '<li>'+
													'<div>Жетон бустер</div>'+
													'<em class="tokenQty">'+ _tok_wins[2] +'</em>'+
												'</li>' : '')+
											'</ul>'+
											'<div class="tokenAward">'+
												'<em class="tokenQty">'+ _tok_win +'</em>'+
												'жетонов арены'+
												'<button class="cssGreenButton2 sizeXXXX" ondblclick="return false" onclick="_WND_proc(\''+ proc +'\', \'take_atokens\');return false" hidefocus="true">'+ (_tok_win > 0 ? 'Забрать жетоны' : 'Завершить турнир') +'</button>'+
											'</div>'+
										'</div>'+
										(!parseInt(data.t_arr[5]) ? '<div class="switch mode2">'+
											'<h4>По итогам арены игроки получают жетоны<br />за занятые места и сыгранные игры</h4>'+
											'<div class="tokenInfo left">'+
												'<h5>Жетоны за место в топе:</h5>'+
												'<ul class="placeTokenInfo">'+
													'<li>1 место <em class="tokenQty">'+ _tok_places[1] +'</em></li>'+
													'<li>2 место <em class="tokenQty">'+ _tok_places[2] +'</em></li>'+
													'<li>3 место <em class="tokenQty">'+ _tok_places[3] +'</em></li>'+
													'<li>4-6 место <em class="tokenQty">'+ _tok_places[4] +'</em></li>'+
													'<li>7-9 место <em class="tokenQty">'+ _tok_places[7] +'</em></li>'+
												'</ul>'+
											'</div>'+
											'<div class="tokenInfo right">'+
												'<h5>Жетоны за игры:</h5>'+
												'<ul class="gameCountInfo">'+
													_tg_data +
												'</ul>'+
											'</div>'+
											'<div class="arenaExtraBlock">'+
												'<h3>Экстры арены</h3>'+
												'<ul class="arenaExtrasList">'+
													'<li>'+
														'<div class="extraTemplate">'+
															'<div id="exl_319" class="extraIco hoverGlow" ondblclick="return false" onclick="_WND_proc(\'extras\', \'buy\', {id: 319}, event);return false" hidefocus="true" label="">'+
																'<img src="/img/extras/319.png" class="ico">'+
																'<span class="count">'+ ($("#gxt_319").length ? parseInt($("#gxt_319").attr("label")) : '') +'</span>'+
																'<div class="hover-hint">'+ __store[319].descr +' 10шт.<div class="arrow"></div></div>'+
															'</div>'+
															'<p class="name">'+ __store[319].title +'</p>'+
															'<em class="price ruby">5</em>'+
														'</div>'+
													'</li>'+
													'<li>'+
														'<div class="extraTemplate">'+
															'<div id="exl_320" class="extraIco hoverGlow" ondblclick="return false" onclick="_WND_proc(\'extras\', \'buy\', {id: 320}, event);return false" hidefocus="true" label="">'+
																'<img src="/img/extras/320.png" class="ico">'+
																'<span class="count">'+ ($("#gxt_320").length ? parseInt($("#gxt_320").attr("label")) : '') +'</span>'+
																'<div class="hover-hint">'+ __store[320].descr +' 10шт.<div class="arrow"></div></div>'+
															'</div>'+
															'<p class="name">'+ __store[320].title +'</p>'+
															'<em class="price ruby">10</em>'+
														'</div>'+
													'</li>'+
												'</ul>'+
											'</div>'+
										'</div>' :
										'<div class="switch mode3">'+
											'<h4>По итогам арены игроки получают жетоны<br />за занятые места и сыгранные игры</h4>'+
											'<div class="tokenInfo left">'+
												'<h5>Жетоны за место в топе:</h5>'+
												'<ul class="placeTokenInfo">'+
													'<li>1 место <em class="tokenQty">'+ _tok_places[1] +'</em></li>'+
													'<li>2 место <em class="tokenQty">'+ _tok_places[2] +'</em></li>'+
													'<li>3 место <em class="tokenQty">'+ _tok_places[3] +'</em></li>'+
													'<li>4-6 место <em class="tokenQty">'+ _tok_places[4] +'</em></li>'+
													'<li>7-9 место <em class="tokenQty">'+ _tok_places[7] +'</em></li>'+
												'</ul>'+
											'</div>'+
											'<div class="tokenInfo right">'+
												'<h5 style="text-align: center">За каждую игру вы получаете жетоны</h5>'+
												'<img src="/img/popups/arena/tokens.png" style="margin-top: -33px" />'+
												'<div style="font-size: 35px; font-weight: bold; text-align: center; margin-top: -39px; padding-right: 12px">+5</div>'+
												'<div id="exl_319_aa" style="color: #ffc500; font-size: 14px;  text-align: center; padding-right: 12px" '+ (!$("#gxt_319").length ? 'class="off"' : '') +'>+5 за Жетон бустер</div>'+
											'</div>'+
											'<div class="arenaExtraBlock">'+
												'<h3>Экстры арены</h3>'+
												'<ul class="arenaExtrasList">'+
													'<li>'+
														'<div class="extraTemplate">'+
															'<div id="exl_117" class="extraIco hoverGlow" ondblclick="return false" onclick="_WND_proc(\'extras\', \'buy\', {id: 117}, event);return false" hidefocus="true" label="">'+
																'<img src="/img/extras/117.png" class="ico">'+
																'<span class="count">'+ ($("#gxt_117").length ? parseInt($("#gxt_117").attr("label")) : '') +'</span>'+
																'<div class="hover-hint">'+ __store[117].descr +' 10шт.<div class="arrow"></div></div>'+
															'</div>'+
															'<p class="name">'+ __store[117].title +'</p>'+
															'<em class="price ruby">3</em>'+
														'</div>'+
													'</li>'+
													'<li>'+
														'<div class="extraTemplate">'+
															'<div id="exl_319" class="extraIco hoverGlow" ondblclick="return false" onclick="_WND_proc(\'extras\', \'buy\', {id: 319}, event);return false" hidefocus="true" label="">'+
																'<img src="/img/extras/319.png" class="ico">'+
																'<span class="count">'+ ($("#gxt_319").length ? parseInt($("#gxt_319").attr("label")) : '') +'</span>'+
																'<div class="hover-hint">'+ __store[319].descr +' 10шт.<div class="arrow"></div></div>'+
															'</div>'+
															'<p class="name">'+ __store[319].title +'</p>'+
															'<em class="price ruby">5</em>'+
														'</div>'+
													'</li>'+
													'<li>'+
														'<div class="extraTemplate">'+
															'<div id="exl_320" class="extraIco hoverGlow" ondblclick="return false" onclick="_WND_proc(\'extras\', \'buy\', {id: 320}, event);return false" hidefocus="true" label="">'+
																'<img src="/img/extras/320.png" class="ico">'+
																'<span class="count">'+ ($("#gxt_320").length ? parseInt($("#gxt_320").attr("label")) : '') +'</span>'+
																'<div class="hover-hint">'+ __store[320].descr +' 10шт.<div class="arrow"></div></div>'+
															'</div>'+
															'<p class="name">'+ __store[320].title +'</p>'+
															'<em class="price ruby">10</em>'+
														'</div>'+
													'</li>'+
												'</ul>'+
											'</div>'+
										'</div>')+
									'</div>'+
								'</div>'+
								'<a href="#" onclick="_WND_proc(\''+ proc +'\', \'close\');return false" class="popupClose2" hidefocus="true"></a>');
								$('div#cdn_tournament_timer').countdown(data.t_arr[1] * 1000, function(event) {});
								$("#roomsListContainer .roomsList .arenaRoom .gamesQty span").html(_my_dt[1] + (!parseInt(data.t_arr[5]) ? '/5' : ''));
								$("#roomsListContainer .roomsList .arenaRoom .players span").html(data.t_arr[4]);
								if ($("#roomsListContainer .roomsList").attr("data-arena") == "false"){
									$("#roomsListContainer .roomsList").attr("data-arena", "true");
									$("#roomsListContainer .roomsList .arenaRoom").removeClass("off");
									$("#cdn_atour_timer").countdown(data.t_arr[1] * 1000, function(event) {
										if (event.type == "finished"){
											$("#roomsListContainer .roomsList .arenaRoom").addClass("off");
											$("#roomsListContainer .roomsList").attr("data-arena", "false");
										}
									});
								}
							}else if (typeof data.arr != "undefined"){
								var _runtime = (data.arr[4] < 60 ? data.arr[4] +' мин' : Math.floor(data.arr[4] / 60)+ ' ч.');
								var _tpcs = parseInt(data.arr[9]);
								if (cmd == "reload"){
									_tpcs = parseInt(args[2]);
								}
								var _tpcs_p = Math.ceil(parseInt(_tpcs) * 100 / 100);
								if (_tpcs_p > 100) _tpcs_p = 100;
								$("#wnd_"+ proc).removeClass("tournament").html('<div class="header">'+
									'<div class="reviewText asTable">'+
										'<div class="asCell">'+
											'Сражайся против других игроков на Арене для получения особых наград!'+
											'<a href="#" onclick="_WND_proc(\'arena_rule\');return false" hidefocus="true">Подробнее о боях на Арене</a>'+
										'</div>'+
									'</div>'+
									'<div class="talentsBarBlock">'+
										'<div class="text">'+
											'Собери 100 осколков таланта, чтобы получить +1 очко таланта'+
										'</div>'+
										'<div class="talentsBar">'+
											'<div class="progressText"><em class="current">'+ _tpcs +'</em><span class="separator">/</span><em class="need">100</em></div>'+
											'<div class="progress" style="width: '+ _tpcs_p +'%"></div>'+
											'<div class="endIco"></div>'+
										'</div>'+
									'</div>'+
								'</div>'+
								'<div class="content" data-mode="mode'+ (data.arr[12] == 2 ? '2' : '1') +'">'+
									'<div class="switch mode1">'+
										'<h3 class="arenaHeader yellow">Правила текущей арены</h3>'+
										'<div class="rulesBlock">'+
											'<div class="arenaInfo">'+
												'<h2>'+ data.arr[1] +'</h2>'+
												'<div>'+
													data.arr[2] +
												'</div>'+
											'</div>'+
											'<ul class="arenaRules">'+
												'<li>Группа: '+ data.arr[3] +' игроков</li>'+
												'<li>Длительность: '+ _runtime +'</li>'+
												'<li>Игр на арене: '+ (parseInt(data.arr[15]) ? 'Без ограничений' : '5 игр') +'</li>'+
												'<li>Комбинации ролей: '+ (data.arr[14] != '' ? data.arr[14] : 'Без смертника и ивент ролей') +'</li>'+
												'<li>Игроков в партии: '+ data.arr[5] +'</li>'+
												'<li>Запреты: '+ (data.arr[6] != '' ? data.arr[6] : 'нет') +'</li>'+
												'<li class="off">Усиления: '+ (data.arr[7] != '' ? data.arr[7] : 'нет') +'</li>'+
											'</ul>'+
										'</div>'+
									'</div>'+
									'<div class="switch mode2">'+
										'<h3 class="arenaHeader">Арена закончилась</h3>'+
										'<p>Арена закрыта, но вы можете докупить недостающие жетоны!<br />Покупка жетонов закроется в понедельник 00:00 по МСК.</p>'+
										'<div class="extraTemplate"><div class="extraIco hoverGlow" ondblclick="return false" onclick="_WND_proc(\''+ proc +'\', \'buy_atokens\');return false" hidefocus="true"><img src="/img/extras/atokens.png" class="ico"><div class="hover-hint">+100 жетонов Арены<div class="arrow"></div></div></div><p class="name">+100 жетонов Арены</p><em class="ruby price">25</em></div>'+
									'</div>'+
								'</div>'+
								'<div class="eventPrizeBlock">'+
									'<button class="navButton left button100px" id="prevButton"></button>'+
									'<div class="scrollContainer">'+
										'<ul class="eventPrizeProgress">'+
										'</ul>'+
									'</div>'+
									'<button class="navButton right button100px" id="nextButton"></button>'+
								'</div>'+
								'<div class="footerBlock asTable" data-mode="mode'+ (data.arr[10] == 'init' ? '2' : '1') +'">'+
									'<div class="asCell">'+
										'<div class="switch mode1">'+
											'<h4>'+ (data.arr[12] == 0 || data.arr[12] == 2 ? 'До открытия Арены' : 'До закрытия Арены')+ ':</h4>'+
											'<div id="cdn_arena_timer" class="shortTimer">'+
												'<p class="margin"><span class="days"></span> <em>д</em></p>'+
												'<p> <span class="hours"></span><em>ч</em></p>'+
												'<p> <span class="minutes"></span><em>м</em></p>'+
												'<p> <span class="seconds"></span><em>с</em></p>'+
											'</div>'+
											'<button class="cssGreenButton2'+ (data.arr[12] != 1 ? ' grayscale' : '') +'" onclick="_WND_proc(\''+ proc +'\', \'atour_join\');">Принять участие</button>'+		
										'</div>'+
										'<div class="switch mode2">'+
											'<h4>Идёт поиск игроков для арены: <em>'+ data.arr[11] +'</em> / '+ data.arr[3] +'</h4>'+
											'<img src="/img/popups/arena/loading.png" class="loadingIco" />'+		
										'</div>'+
									'</div>'+
								'</div>'+
								'<a href="#" onclick="_WND_proc(\''+ proc +'\', \'close\');return false" class="popupClose2" hidefocus="true"></a>');
								var _tokens = parseInt(data.arr[8]);
								if (cmd == "reload"){
									_tokens -= parseInt(args[0]);
								}
								EventPrizeProgress.init($(".arenaScreen ul.eventPrizeProgress"), _tokens, "prizeAlert", "arena");
								ptip.init('.eventPrizeBlock .hoverHint', {preset: 'tooltip', cls: 'brown', show: 'hover_pause', pause_show: 350});
								$('div#cdn_arena_timer').countdown(data.arr[13] * 1000, function(event) {});
								if (cmd == "reload"){
									$.each(args[1], function(_i, _v) {
										_WND_proc(proc, "open_atoken", _v);
									});
									if (parseInt(args[0]) > 0) {
										if (!_SOUND_err) _SOUND_arr['sfx']['bag_open'].play();
									}
								}
								if (!$("#roomsListContainer .roomsList .arenaRoom").hasClass("off")){
									$("#roomsListContainer .roomsList .arenaRoom").addClass("off");
									$("#roomsListContainer .roomsList").attr("data-arena", "false");
								}
							}
						}
					});
					break;
			}
			break;

		case "extras":
			if (my_play_c < 5){
				_OHINT(MainMenu.gamesLeftText(5, my_play_c)); 
				return false;
			} 
			switch (cmd){
				case "hint":
					var _evt = (!evt ? window.event : evt);
					if (args && args.id && __store[args.id].type == "extra"){
						_HINT(proc +'_hint', 500, args.id, '<span class="yellow">'+ __store[args.id].title + (typeof __store[args.id].qty != "undefined" ? ' ('+ __store[args.id].qty + ' шт.)' : '') +'</span><br/>'+ __store[args.id].descr, _evt.clientX - 140, _evt.clientY - 20, {w: 240, a: 'left', r: 1, v: 1});
					}
					break;
				case "guests":
					var _evt = (!evt ? window.event : evt);
					if (args && args.id){
						if (args.ret){
							_PRF(false, 'guests');
						}else{
							_WND_proc(proc, "buy", {id: args.id}, _evt);
						}
					}
					break;
				case "gold_profile":
					var _evt = (!evt ? window.event : evt);
					if (args && args.id){
						if (args.ret){
							_GM_action("f", "upd", "pp_dh", "gold_profile");
						}else{
							if (!$("#pp_gold_profile").length){
								$("#popup_container").append('<div id="pp_gold_profile" class="popup-move popupShadowNew goldProfilePopup not-displayed" style="top:120px">'+
											'<h1><em>Золотой профиль</em></h1>'+
											'<div class="bonusBlock left">Монетный бонус: <strong>в 2 раза больше</strong></div>'+
											'<div class="bonusBlock right">Опыт за игры: <strong>в 2 раза больше</strong></div>'+
											'<ul style="margin: 0 auto">'+
												'<li><img src="/img/popups/gold-profile/plus.png" />Уникальная  иконка <img src="/images/icons/crown.png" alt="" style="vertical-align:-2px" /> возле ника</li>'+
												'<li><img src="/img/popups/gold-profile/plus.png" />Золотой ник в общем чате и в списке фаворитов</li>'+
												'<li><img src="/img/popups/gold-profile/plus.png" />Приветствие в общем чате при входе в Мафию</li>'+
											'</ul>'+
										'<div class="footerButtons">'+
																						'<button ondblclick="return false" onclick="_WND_proc(\''+ proc +'\', \'buy\', {id: '+args.id+'}, event);return false" class="bigButton big" hidefocus="true"><img src="/images/icons/ruby-micro.png" style="vertical-align: -4px; margin-right: 5px" />10 / неделя</button>'+
																					'</div>'+
										'<a href="#" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'gold_profile\');return false" class="popupClose" hidefocus="true"></a>'+
								'</div>');
								$("#pp_gold_profile").css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_gold_profile").width())/2)) +"px");
								$("#pp_gold_profile").draggable({
									containment: "document",
									cancel: "button,.popup-close",
									zIndex: 100,
									stop: function(){
										$(this).mousedown();
									}
								}).mousedown(function(){
									var _i = $(this).attr("id");
									var _z = _POPUP_resort("popup-move", _i);
									$(this).css("z-index", _z);
								}).show("fade", 100, function(){
									$(this).removeClass("not-displayed");
									$(this).mousedown();
								});
							}else{
								$("#pp_gold_profile").mousedown();
							}
						}
					}
					break;
								case "bank_m":
					var _evt = (!evt ? window.event : evt);
					if (args){
												$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "bank_m_s", args: args},
							dataType: "json",
							success: function(data) {
								if (typeof data.ret != "undefined"){
									if (args[1] == 'create'){
										$("#xso_buy").html(data.ret);
										$("#xso_buy").submit();
									}else{
										_DLG('bank_m_cc');
									}
								}
							}
						});
											}else{
						if (!$("#pp_bank_m").length){
							$.ajax({
								async: true,
								cache: false,
								type: "POST",
								url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
								data: {method: "bank_m"},
								dataType: "json",
								success: function(data) {
									if (typeof data.ret != "undefined"){
										var _btnc = 'bigButton';
										var _hint = '';
																				if (typeof data.ret_x != "undefined"){
											_hint = 'Вы уже подписаны на Вконтакте!<br /><br/>';
											var _lnk = '_GM_action(\'f\', \'upd\', \'pp_dh\', \'bank_m\');';
											var _ttl = 'Закрыть';
											_btnc = 'newButton color1';
										}else{
											if (data.ret[1] == 'request'){
												var _lnk = '_WND_proc(\''+ proc +'\', \'bank_m\', ['+ data.ret[0] +', \'create\'], event);';
												var _ttl = '160 рублей / неделя';
											}else{
												if (data.ret[3] == 'no'){
													var _lnk = '_DLG(\'bank_m_c\');';
													var _ttl = 'Отменить';
													_btnc = 'newButton color1';
												}else{
													var _lnk = '_GM_action(\'f\', \'upd\', \'pp_dh\', \'bank_m\');';
													var _ttl = 'Закрыть';
													_hint = 'Для новой подписки дождитесь окончания текущей!<br /><br />';
													_btnc = 'newButton color1';
												}
											}
										}
																				$("#popup_container").append('<div id="pp_bank_m" label="'+ data.ret[0] +'" class="popup-move popupShadowNew bankPopup not-displayed" style="top:120px">'+
											'<h1><em>Подписка на Банк Мафии</em></h1>'+
											'<h2>Получай монеты и рубины каждый день!</h2>'+
												'<div class="row row1">'+
													'<p class="text">Получи сразу:</p>'+
													'<p class="qty"><img src="/images/icons/coin.png" alt="" />3000 + <img src="/images/icons/ruby-micro.png" alt="" />3</p>'+
												'</div>'+
												'<div class="row row2">'+
													'<p class="text">Получай ежедневно:</p>'+
													'<p class="qty"><img src="/images/icons/coin.png" alt="" />3000 + <img src="/images/icons/ruby-micro.png" alt="" />3</p>'+
												'</div>'+
												'<div class="footerButtons">'+
													_hint +
													'<button class="'+ _btnc +'" onclick="$(this).remove();'+ _lnk +'return false" ondblclick="return false" hidefocus="true">'+ _ttl +'</button>'+
												'</div>'+
												(data.ret[4] == '' && data.ret[5] != '' ? '<div class="expiredText">Подписка активна до: '+ data.ret[5] +'</div>' : '')+ 
												'<a href="#" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'bank_m\');return false" class="popupClose" hidefocus="true"></a>'+
																								'<form id="xso_buy" action="https://secure.xsolla.com/paystation2/" method="get" target="_top"></form>'+
																						'</div>');
										$("#pp_bank_m").css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_bank_m").width())/2)) +"px");
										$("#pp_bank_m").draggable({
											containment: "document",
											cancel: "button,.popup-close",
											zIndex: 100,
											stop: function(){
												$(this).mousedown();
											}
										}).mousedown(function(){
											var _i = $(this).attr("id");
											var _z = _POPUP_resort("popup-move", _i);
											$(this).css("z-index", _z);
										}).show("fade", 100, function(){
											$(this).removeClass("not-displayed");
											$(this).mousedown();
										});
									}
								}
							});	
						}else{
							$("#pp_bank_m").mousedown();
						}
					}
					break;
						
				case "buy":
					var _evt = (!evt ? window.event : evt);
					if (args && args.id){
						var _extrn = false;
												if (_stopBuy == true){
							return false;
						}
						if (!_extrn){
														var _toid = (typeof args.toid != "undefined" && args.toid ? args.toid : 0);
														if (_toid != 0 && my_play_c < 500){
								_WARN(proc, 2500, '<span class="yellow">Дарить экстры можно только сыграв 500 игр</span>', _evt.clientX - 100, _evt.clientY);
								return false;
							}
																												$.ajax({
								async: true,
								cache: false,
								type: "POST",
								url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
								data: {method: "ext_buy", args: args},
								dataType: "json",
								success: function(data) {
									switch (parseInt(args.id)){
										case 112: 
										case 113: 
										case 117:
										case 162: 
										case 270:
										case 271:
											_stopBuy = true;
											setTimeout(function(){_stopBuy = false}, 100);
											break;
									}
									if (typeof data.ret != "undefined"){
										if (!_SOUND_err) _SOUND_arr['sfx']['buy_extra'].play();					
										_GM_action("gxt", "exts", (!$("#gxt_"+ args.id).length ? "add" : "set"), [args.id, data.ret]);
										_GM_action("exl", "exts", "upd", [args.id]);
										_GM_action("", "upd", "pp_dd", "extras");																	
										switch (parseInt(args.id)){
											case 112: $("#exi_112").html('Активно: '+ $("#gxt_112").find(".count.time").html()); break;
											case 117: $("#lea_booster_c").html(data.ret); break;
											case 229: _DLG('rst_pass_is'); break;
											case 319: $("#exl_319_aa").removeClass("off");
										}
									}
									if (typeof data.mth != "undefined"){
										_WND_proc(proc, data.mth, {id: args.id, ret: 1}, _evt);
									}
									if (typeof data.ret_r != "undefined"){
										$(".profileBlock").find(".rubyBalance").html(data.ret_r);
										$(".balance span.ruby").html(data.ret_r);
									}
									if (typeof data.ret_a != "undefined"){
										$(".profileBlock").find("span.moneyBalance").html(Math.floor(data.ret_a));
										$(".balance span.coin").html(Math.floor(data.ret_a));
									}
									if (typeof data.err != "undefined"){
										var _e = '';
										switch (data.err){
											case 1: _e = 'Недостаточно монет'; _HX_hint('rud5'); _WND_proc('buy'); break;
											case 2: _e = 'Недостаточно рубинов'; _WND_proc('ruby_buy'); break;
										}
										if (_e != ''){
											_WARN(proc, 2500, '<span class="yellow">'+ _e +'</span>', _evt.clientX - 100, _evt.clientY);
										}
									}
									if (typeof data.uaret != "undefined"){
										_WND_proc(proc, "ua_bar", data.uaret);
									}
									if (typeof data.uaret_c != "undefined"){
										_WND_proc(proc, "ua_bar_c", data.uaret_c);
									}
								}
							});
						}
					}
					break;
				case "close":
					if ($("#wnd_"+ proc).length){
						_WARN(proc);
						$("#wnd_"+ proc).remove();
						_CHT_focus();
					}
					break;
				case "ua_bar":
					if ($("#wnd_"+ proc).length){
						var _sale = parseInt(args);
						var _prc = Math.ceil(_sale * 100 / 100);
						if (_prc > 100) _prc = 100;
						$("#wnd_"+ proc).find(".achRubyBar div.progress").css("width", _prc +"%");
						$("#wnd_"+ proc).find(".achRubyBar .progressText em.current").html(_sale);
					}
					break;
				case "ua_bar_c":
					if ($(".starsBlock").length){
						var _sale = parseInt(args);
						var _prc = Math.ceil(_sale * 100 / 25000);
						if (_prc > 100) _prc = 100;
						$(".starsBlock div.progress").css("width", _prc +"%");
						$(".starsBlock .progressText em.current").html(_sale);
					}
					break;	
				default:
										_EventShop();
										break;
			}
			break;
			
			
			
		case "top":
			switch (cmd){
				case "tab":
					if ($("#wnd_"+ proc).length && args && args != ""){
						var _t = args.substring(6);
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "top_req", t: _t},
							dataType: "json",
							success: function(data) {
								var _dtimer = 0;
								if (typeof data.dt != "undefined") _dtimer = parseInt(data.dt);
								if (typeof data.arr != "undefined"){
									var _head = '';
									var _select = '';
									var _place = '';
									var _prize = '';
									var _tbl = '';
									var _leader = '';
									var _tbl_s = '';
									var _prize_dt = '<div class="timerBlock">'+
										'<h5>До подведения топа:</h5>'+
										'<div id="cdn_day_tops" class="cdn">'+
											'<p> <span class="hours"></span> <em>ч.</em></p>'+
											'<b>:</b>'+
											'<p> <span class="minutes"></span> <em>м.</em></p>'+
											'<b>:</b>'+
											'<p> <span class="seconds"></span> <em>с.</em></p>'+
										'</div>'+
									'</div>';
									switch (_t){
										case 'champ':
										case 'champ_sp':
											_head = '<img src="/images/icons/tops/top_league.png" alt="" /><h1>Топ чемпионов</h1>'+
												'Топ считается по рейтингу, набранному за весь сезон.';
											_select = '<div class="select">'+ (_t == 'champ' ? 'текущий сезон' : 'прошлый сезон') +'<ul class="options"><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_champ\');return false">текущий сезон</li><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_champ_sp\');return false">прошлый сезон</li></ul></div>';	
											_tbl = '<tr>'+
												'<th style="width:26px">#</th>'+
												'<th style="width:4px"></th>'+
												'<th style="text-align:left">Ник</th>'+
												'<th>Рейтинг</th>'+
											'</tr>';
											$.each(data.arr, function(_i, _row) {
												_tbl += '<tr>'+
														'<td>'+ (_i + 1) +'</td>'+
														'<td style="padding:0"><img src="/images/icons/on-line.gif" style="vertical-align:-1px" alt="" class="on-line'+(_row[5] > 0 ? '' : ' off')+'" /></td>'+
														'<td style="text-align:left"><a href="#" onclick="_PRF('+ _row[0] +');return false">'+ _row[1] +'</a><span class="clan">'+(clx_data[_row[3]] ? ' '+(clx_data[_row[3]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[3]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_row[3]][1] : '')+'</span></td>'+
														'<td>'+ _row[2] +'</td>'+
													'</tr>';
												if (!_i) _leader = '<p class="leader-name">Лидер топа «Чемпионы»</p><div class="leader-photo" onclick="_PRF('+ _row[0] +');return false"><img src="'+ _row[4] +'" alt="" onload="_PIX_crop(this, 64);" /></div>'+ _row[1];
											});
											_tbl_s = ' style="width:100%"';
											break;
										case 'rating_d':
											_head = '<img src="/images/icons/tops/top_rating.png" alt="" /><h1>Топ Дневной рейтинг</h1>'+
												'Топ считается по кол-ву рейтинга, набранному в течение дня.';
											_prize = '<div class="prize">'+
													'<strong>Приз за победу в топе:</strong>'+
													'<p>#1 место  &nbsp;<span class="yellow"><img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /> 1 <img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 75</span></p>'+
													'<p>#2 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 50</span></p>'+
													'<p>#3 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 25</span></p>'+
													_prize_dt +
												'</div>';
											_tbl = '<tr>'+
													'<th style="width:26px">#</th>'+
													'<th style="width:4px"></th>'+
													'<th style="text-align:left">Ник</th>'+
													'<th style="width: 100px">Рейтинг</th>'+
												'</tr>';	
											$.each(data.arr, function(_i, _row) {
												_tbl += '<tr>'+
														'<td>'+ (_i + 1) +'</td>'+
														'<td style="padding:0"><img src="/images/icons/on-line.gif" style="vertical-align:-1px" alt="" class="on-line'+ (_row[6] > 0 ? '' : ' off') +'" /></td>'+
														'<td style="text-align:left"><a href="#" onclick="_PRF('+ _row[0] +');return false">'+ _row[1] +'</a><span class="clan">'+(clx_data[_row[3]] ? ' '+(clx_data[_row[3]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[3]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_row[3]][1] : '')+'</span></td>'+
														'<td>'+ _row[2] +'</td>'+
													'</tr>';
												if (!_i) _leader = '<p class="leader-name">Лидер топа «Дневной рейтинг»</p><div class="leader-photo" onclick="_PRF('+ _row[0] +');return false"><img src="'+ _row[4] +'" alt="" onload="_PIX_crop(this, 64);" /></div>'+ _row[1];
											});
											break;	
										case 'expa':
										case 'expa_d':
											_head = '<img src="/images/icons/tops/top_opit_personaljnij.png" alt="" /><h1>Топ по опыту</h1>'+
												'Топ считается по личному опыту игрока. Играя за активные роли, вы всегда получаете больше опыта.';
											_select = '<div class="select">'+ (_t == 'expa_d' ? 'дневной топ' : 'за все время') +'<ul class="options"><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_expa_d\');return false">дневной топ</li><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_expa\');return false">за все время</li></ul></div>';
											_prize = (_t == 'expa_d' ? '<div class="prize">'+
													'<strong>Приз за победу в топе:</strong>'+
													'<p>#1 место  &nbsp;<span class="yellow"><img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /> 1 <img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 75</span></p>'+
													'<p>#2 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 50</span></p>'+
													'<p>#3 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 25</span></p>'+
													_prize_dt +
												'</div>' : '');
											_tbl = '<tr>'+
													'<th style="width:26px">#</th>'+
													'<th style="width:4px"></th>'+
													'<th style="text-align:left">Ник</th>'+
													'<th style="width: 100px">Опыт</th>'+
												'</tr>';	
											$.each(data.arr, function(_i, _row) {
												_tbl += '<tr>'+
														'<td>'+ (_i + 1) +'</td>'+
														'<td style="padding:0"><img src="/images/icons/on-line.gif" style="vertical-align:-1px" alt="" class="on-line'+(_row[5]>0 ? '' : ' off')+'" /></td>'+
														'<td style="text-align:left"><a href="#" onclick="_PRF('+ _row[0] +');return false">'+ _row[1] +'</a><span class="clan">'+(clx_data[_row[3]] ? ' '+(clx_data[_row[3]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[3]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_row[3]][1] : '')+'</span></td>'+
														'<td>'+ _row[2] +'</td>'+
													'</tr>';
												if (!_i) _leader = '<p class="leader-name">Лидер топа «Опыт»</p><div class="leader-photo" onclick="_PRF('+ _row[0] +');return false"><img src="'+ _row[4] +'" alt="" onload="_PIX_crop(this, 64);" /></div>'+ _row[1];
											});
											if (_t == 'expa') _tbl_s = ' style="width:100%"';
											break;
										case 'duels':
										case 'duels_sp':
											_head = '<img src="/images/icons/tops/top_duel.png" alt="" /><h1>Дуэли кланов</h1>'+
												'Первые 50 кланов получат уникальную эмблему в профиль каждого участника клана. 1-3: бриллиантовая эмблема, 4-10: золотая эмблема, 11-25: серебряная эмблема, 26-50: бронзовая эмблема.';
											_select = '<div class="select">'+ (_t == 'duels' ? 'текущий сезон' : 'прошлый сезон') +'<ul class="options"><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_duels\');return false">текущий сезон</li><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_duels_sp\');return false">прошлый сезон</li></ul></div>';
											if (typeof data.mplc != "undefined" && parseInt(data.mplc) > 0) _place = '<div class="yours-place yellow">Ваше место в топе: #'+ data.mplc +'</div>';
											_tbl = '<tr>'+
													'<th style="width:26px">#</th>'+
													'<th style="text-align:left">Клан</th>'+
													'<th>&nbsp;</th>'+
													'<th>Рейтинг</th>'+
												'</tr>';
											$.each(data.arr, function(_i, _row) {
												_tbl += '<tr>'+
														'<td>'+ (_i + 1) +'</td>'+
														'<td style="text-align:left;'+(_row[0] == my_clan ? 'color:#FFF48A;' : '')+'">'+(typeof _row[4] != "undefined" && parseInt(_row[4]) > 0 ? '<img src="/images/icons/d17_'+ (parseInt(_row[4]) <= 3 ? 'brill' : (parseInt(_row[4]) <= 11 ? 'gold' : (parseInt(_row[4]) > 28 ? 'bronze' : 'silver'))) +'.png" width="22" style="vertical-align:-9px;margin-right:6px" onmouseover="_HNTS(\'d17reward\', ['+ parseInt(_row[4]) +', \''+ _row[5] +'\', \''+ _row[1] +'\'], event);" onmouseout="_HINT(\'hnts_d17reward_hint\', 250);" alt="" />' : '<div class="level inline" style="margin-right:5px" onmouseover="_WND_proc(\''+ proc +'\', \'hint\', \'level\', event);" onmouseout="_HINT(\'top_level_hint\', 250);">'+ _row[2] +'</div>')+ _row[1] +'<span class="clan">'+(clx_data[_row[0]] ? ' '+(clx_data[_row[0]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[0]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_row[0]][1] : '')+'</span></td>'+
														'<td><a href="#" onclick="_Duels(\''+ (_row[0] != my_clan ? _row[0] : '') +'\');return false" hidefocus="true">Смотреть дуэль</a></td>'+
														'<td>'+ _row[3] +'</td>'+
													'</tr>';
												if (!_i) _leader = '<p class="leader-name">Лидер топа «Дуэли»</p><div class="clan">'+(clx_data[_row[0]] ? ' '+(clx_data[_row[0]][0] != '' ? '<div class="clan-ico"><img src="'+ cln_url + clx_data[_row[0]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" /></div>' : '') + clx_data[_row[0]][1] : '')+'</div>'+ _row[1] +'</div>';	
											});
											_tbl_s = ' style="width:100%"';
											break;
										case 'cl_gold':
											_head = '<img src="/images/icons/tops/top_slitkov.png" alt="" /><h1>Топ слитков</h1>'+
												'Топ считается по кол-ву заработанных слитков в клане. Слитки можно получать за задания, победы в топах и дуэлях.';
											_tbl = '<tr>'+
													'<th style="width:26px">#</th>'+
													'<th style="text-align:left">Клан</th>'+
													'<th>Слитки</th>'+
												'</tr>';	
											$.each(data.arr, function(_i, _row) {
												_tbl += '<tr>'+
														'<td>'+ (_i + 1) +'</td>'+
														'<td style="text-align:left;'+(_row[0] == my_clan ? 'color:#FFF48A;' : '')+'"><div class="level inline" style="margin-right:5px" onmouseover="_WND_proc(\''+ proc +'\', \'hint\', \'level\', event);" onmouseout="_HINT(\'top_level_hint\', 250);">'+ _row[3] +'</div>'+ _row[1] +'<span class="clan">'+(clx_data[_row[0]] ? ' '+(clx_data[_row[0]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[0]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_row[0]][1] : '')+'</span></td>'+
														'<td>'+ _row[2] +'</td>'+
													'</tr>';
												if (!_i) _leader = '<p class="leader-name">Лидер топа «Слитки»</p><div class="clan">'+(clx_data[_row[0]] ? ' '+(clx_data[_row[0]][0] != '' ? '<div class="clan-ico"><img src="'+ cln_url + clx_data[_row[0]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" /></div>' : '') + clx_data[_row[0]][1] : '')+'</div>'+ _row[1] +'</div>';
											});
											_tbl_s = ' style="width:100%"';
											break;	
										case 'clans':
										case 'clans_w':
											_head = '<img src="/images/icons/tops/top_opit.png" alt="" /><h1>Топ кланов по опыту</h1>'+
												'Топ считается по опыту, принесённому игроками в клан. Все кланы соревнуются группами по 15 кланов. Каждую неделю кланы-соперники выбираются случайным образом. Подведение итогов происходит в ночь с пятницы на субботу.';
											_select = '<div class="select">'+ (_t == 'clans_w' ? 'недельный топ' : 'за все время') +'<ul class="options"><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_clans_w\');return false">недельный топ</li><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_clans\');return false">за все время</li></ul></div>';
											_prize = (_t == 'clans_w' ? '<div class="prize">'+
													'<strong>Приз за победу в топе:</strong>'+
													'<p>#1 место  &nbsp;<span class="yellow"><img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /> 5</span></p>'+
													'<p>#2 место  &nbsp;<span class="yellow"><img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /> 3</span></p>'+
													'<p>#3 место  &nbsp;<span class="yellow"><img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /> 1</span></p>'+
												'</div>' : '');
											_tbl = '<tr>'+
													'<th style="width:26px">#</th>'+
													'<th style="text-align:left">Клан</th>'+
													'<th style="width: 100px">Опыт</th>'+
												'</tr>';	
											$.each(data.arr, function(_i, _row) {
												_tbl += '<tr>'+
														'<td>'+ (_i + 1) +'</td>'+
														'<td style="text-align:left;'+(_row[0] == my_clan ? 'color:#FFF48A;' : '')+'"><div class="level inline" style="margin-right:5px" onmouseover="_WND_proc(\''+ proc +'\', \'hint\', \'level\', event);" onmouseout="_HINT(\'top_level_hint\', 250);">'+ _row[3] +'</div>'+ _row[1] +'<span class="clan">'+(clx_data[_row[0]] ? ' '+(clx_data[_row[0]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[0]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_row[0]][1] : '')+'</span></td>'+
														'<td>'+ _row[2] +'</td>'+
													'</tr>';
												if (!_i) _leader = '<p class="leader-name">Лидер топа «Кланы»</p><div class="clan">'+(clx_data[_row[0]] ? ' '+(clx_data[_row[0]][0] != '' ? '<div class="clan-ico"><img src="'+ cln_url + clx_data[_row[0]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" /></div>' : '') + clx_data[_row[0]][1] : '')+'</div>'+ _row[1] +'</div>';	
											});
											if (_t == 'clans_w' && !parseInt(data.grp)) _tbl += '<tr><td colspan="3"><br><br>Если клан достиг 5 уровня, то он попадет в топ со следующего этапа<br><br><br></td></tr>';
											if (_t == 'clans') _tbl_s = ' style="width:100%"';
											break;
										case 'ach':
											_head = '<img src="/images/icons/tops/top_dostizhenija.png" alt="" /><h1>Топ достижений</h1>'+
												'Топ считается по звёздам, полученным за выполнение достижений. Чем больше выполнено достижений, тем выше звание и ценнее призы.';
											if (typeof data.mplc != "undefined" && parseInt(data.mplc) > 0) _place = '<div class="yours-place yellow">Ваше место в топе: #'+ data.mplc +'</div>';	
											_tbl = '<tr>'+
													'<th style="width:26px">#</th>'+
													'<th style="width:4px"></th>'+
													'<th style="text-align:left">Ник</th>'+
													'<th style="width:15%"><img src="/images/icons/achievement-star.png" alt="" /></th>'+
													'<th style="width:15%">Выполнено</th>'+
												'</tr>';	
											$.each(data.arr, function(_i, _row) {
												_tbl += '<tr>'+
														'<td>'+ (_i + 1) +'</td>'+
														'<td style="padding:0"><img src="/images/icons/on-line.gif" style="vertical-align:-1px" alt="" class="on-line'+(_row[6]>0 ? '' : ' off')+'" /></td>'+
														'<td style="text-align:left"><a href="#" onclick="_PRF('+ _row[0] +');return false">'+ _row[1] +'</a><span class="clan">'+(clx_data[_row[2]] ? ' '+(clx_data[_row[2]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[2]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_row[2]][1] : '')+'</span></td>'+
														'<td>'+ _row[3] +'</td>'+
														'<td>'+ _row[4] +'</td>'+
													'</tr>';
												if (!_i) _leader = '<p class="leader-name">Лидер топа «Достижения»</p><div class="leader-photo" onclick="_PRF('+ _row[0] +');return false"><img src="'+ _row[5] +'" alt="" onload="_PIX_crop(this, 64);" /></div>'+ _row[1];
											});
											_tbl_s = ' style="width:550px"';
											break;
										case 'arena':
										case 'arena_w':
											_head = '<img src="/images/icons/tops/top_arena.png" alt="" /><h1>Арена мастер</h1>'+
												'Топ считается по кол-ву жетонов, полученных во время Арены.';
											_select = '<div class="select">'+ (_t == 'arena_w' ? 'топ арены' : 'за все время') +'<ul class="options"><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_arena_w\');return false">топ арены</li><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_arena\');return false">за все время</li></ul></div>';
											_prize = (_t == 'arena_w' ? '<div class="prize">'+
													'<strong>Приз за победу в топе:</strong>'+
													'<p>#1 место  &nbsp;<span class="yellow"><img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /> 1 <img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 75</span></p>'+
													'<p>#2 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 50</span></p>'+
													'<p>#3 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 25</span></p>'+
												'</div>' : '');
											_tbl = '<tr>'+
													'<th style="width:26px">#</th>'+
													'<th style="width:4px"></th>'+
													'<th style="text-align:left">Ник</th>'+
													'<th>Жетонов</th>'+
												'</tr>';	
											$.each(data.arr, function(_i, _row) {
												_tbl += '<tr>'+
														'<td>'+ (_i + 1) +'</td>'+
														'<td style="padding:0"><img src="/images/icons/on-line.gif" style="vertical-align:-1px" alt="" class="on-line'+ (_row[6] > 0 ? '' : ' off') +'" /></td>'+
														'<td style="text-align:left"><a href="#" onclick="_PRF('+ _row[0] +');return false">'+ _row[1] +'</a><span class="clan">'+(clx_data[_row[3]] ? ' '+(clx_data[_row[3]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[3]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_row[3]][1] : '')+'</span></td>'+
														'<td>'+ _row[2] +'</td>'+
													'</tr>';
												if (!_i) _leader = '<p class="leader-name">Лидер топа</p><div class="leader-photo" onclick="_PRF('+ _row[0] +');return false"><img src="'+ _row[4] +'" alt="" onload="_PIX_crop(this, 64);" /></div>'+ _row[1];
											});
											if (_t == 'arena') _tbl_s = ' style="width:100%"';
											break;	
										case 'love':
										case 'love_d':
											_head = '<img src="/images/icons/tops/top_love.png" alt="" /><h1>Топ Любовь</h1>'+
												'Топ считается по подаркам, которые подарили друг другу игроки в браке. Для создания пары, достаточно сделать предложение в профиле игрока. Если пара состоит в разных кланах, то при победе слиток золота получат оба клана.';
											_select = '<div class="select">'+ (_t == 'love_d' ? 'дневной топ' : 'за все время') +'<ul class="options"><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_love_d\');return false">дневной топ</li><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_love\');return false">за все время</li></ul></div>';
											_prize = (_t == 'love_d' ? '<div class="prize">'+
													'<strong>Приз за победу в топе:</strong>'+
													'<p>#1 место  &nbsp;<span class="yellow"><img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /> 1 <img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 75</span></p>'+
													'<p>#2 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 50</span></p>'+
													'<p>#3 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 25</span></p>'+
													_prize_dt +
												'</div>' : '');
											_tbl = '<tr>'+
													'<th style="width:26px">#</th>'+
													'<th style="width:4px"></th>'+
													'<th style="text-align:left">Пара</th>'+
													'<th>Подарки</th>'+
												'</tr>';	
											$.each(data.arr, function(_i, _row) {
												_tbl += '<tr>'+
														'<td>'+ (_i + 1) +'</td>'+
														'<td style="padding:0"><img src="/images/icons/on-line.gif" style="vertical-align:-1px" alt="" class="on-line'+(_row[7]>0 ? '' : ' off')+'" /></td>'+
														'<td style="text-align:left"><a href="#" onclick="_PRF('+ _row[0] +');return false">'+ _row[1] +'</a> + <a href="#" onclick="_PRF('+ _row[2] +');return false">'+ _row[3] +'</a></td>'+
														'<td>'+ _row[4] +'</td>'+
													'</tr>';
												if (!_i) _leader = '<p class="leader-name">Лидеры топа «Любовь»</p><table cellpadding="0" cellspacing="0" style="width:100%;text-align:center;padding-top:6px"><tr><td><div class="leader-photo" style="width:48px;height:48px;" onclick="_PRF('+ _row[0] +');return false"><img src="'+ _row[5] +'" alt="" onload="_PIX_crop(this, 48);" /></div></td><td>+</td><td><div class="leader-photo" style="width:48px;height:48px;" onclick="_PRF('+ _row[2] +');return false"><img src="'+ _row[6] +'" alt="" onload="_PIX_crop(this, 48);" /></div></td></tr></table>';
											});
											if (_t == 'love') _tbl_s = ' style="width:100%"';
											break;
																				case 'event':
										case 'event_d':
											_head = '<img src="/images/icons/tops/top_earena_1.png" alt="" /><h1>Топ «Эпическая Арена»</h1>'+
												'Топ считается по кол-ву побед за любую роль, участвуя в «Эпической Арене».';
											_select = '<div class="select">'+ (_t == 'event_d' ? 'дневной топ' : 'за все время') +'<ul class="options"><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_event_d\');return false">дневной топ</li><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_event\');return false">за все время</li></ul></div>';
											_prize = (_t == 'event_d' ? '<div class="prize">'+
													'<strong>Приз за победу в топе:</strong>'+
													'<p>#1 место  &nbsp;<span class="yellow"><img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /> 1 <img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 150</span></p>'+
													'<p>#2 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 100</span></p>'+
													'<p>#3 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 50</span></p>'+
													_prize_dt +
												'</div>' : '');
											_tbl = '<tr>'+
													'<th style="width:26px">#</th>'+
													'<th style="width:4px"></th>'+
													'<th style="text-align:left">Ник</th>'+
													'<th>Побед</th>'+
												'</tr>';	
											$.each(data.arr, function(_i, _row) {
												_tbl += '<tr>'+
														'<td>'+ (_i + 1) +'</td>'+
														'<td style="padding:0"><img src="/images/icons/on-line.gif" style="vertical-align:-1px" alt="" class="on-line'+ (_row[6] > 0 ? '' : ' off') +'" /></td>'+
														'<td style="text-align:left"><a href="#" onclick="_PRF('+ _row[0] +');return false">'+ _row[1] +'</a><span class="clan">'+(clx_data[_row[3]] ? ' '+(clx_data[_row[3]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[3]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_row[3]][1] : '')+'</span></td>'+
														'<td>'+ _row[2] +'</td>'+
													'</tr>';
												if (!_i) _leader = '<p class="leader-name">Лидер топа</p><div class="leader-photo" onclick="_PRF('+ _row[0] +');return false"><img src="'+ _row[4] +'" alt="" onload="_PIX_crop(this, 64);" /></div>'+ _row[1];
											});
											if (_t == 'event') _tbl_s = ' style="width:100%"';
											break;
										case 'event2':
										case 'event2_d':
											_head = '<img src="/images/icons/tops/top_earena_2.png" alt="" /><h1>Топ «Жетоны арены»</h1>'+
												'Топ считается по кол-ву «Жетонов арены», полученных в «Эпической Арене».';
											_select = '<div class="select">'+ (_t == 'event2_d' ? 'дневной топ' : 'за все время') +'<ul class="options"><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_event2_d\');return false">дневной топ</li><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_event2\');return false">за все время</li></ul></div>';
											_prize = (_t == 'event2_d' ? '<div class="prize">'+
													'<strong>Приз за победу в топе:</strong>'+
													'<p>#1 место  &nbsp;<span class="yellow"><img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /> 1 <img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 150</span></p>'+
													'<p>#2 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 100</span></p>'+
													'<p>#3 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 50</span></p>'+
													_prize_dt +
												'</div>' : '');
											_tbl = '<tr>'+
													'<th style="width:26px">#</th>'+
													'<th style="width:4px"></th>'+
													'<th style="text-align:left">Ник</th>'+
													'<th>Жетонов</th>'+
												'</tr>';	
											$.each(data.arr, function(_i, _row) {
												_tbl += '<tr>'+
														'<td>'+ (_i + 1) +'</td>'+
														'<td style="padding:0"><img src="/images/icons/on-line.gif" style="vertical-align:-1px" alt="" class="on-line'+ (_row[6] > 0 ? '' : ' off') +'" /></td>'+
														'<td style="text-align:left"><a href="#" onclick="_PRF('+ _row[0] +');return false">'+ _row[1] +'</a><span class="clan">'+(clx_data[_row[3]] ? ' '+(clx_data[_row[3]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[3]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_row[3]][1] : '')+'</span></td>'+
														'<td>'+ _row[2] +'</td>'+
													'</tr>';
												if (!_i) _leader = '<p class="leader-name">Лидер топа</p><div class="leader-photo" onclick="_PRF('+ _row[0] +');return false"><img src="'+ _row[4] +'" alt="" onload="_PIX_crop(this, 64);" /></div>'+ _row[1];
											});
											if (_t == 'event2') _tbl_s = ' style="width:100%"';
											break;
										case 'event5':
										case 'event5_d':
											_head = '<img src="/images/icons/tops/top_astars.png?3" alt="" /><h1>Топ «Звёзды»</h1>'+
												'Топ считается по кол-ву звёзд, полученных при заказе на 100 рубинов любых экстр из события «Эпическая Арена».';
											//_select = '<div class="select">'+ (_t == 'event5_d' ? 'дневной топ' : 'за все время') +'<ul class="options"><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_event5_d\');return false">дневной топ</li><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_event5\');return false">за все время</li></ul></div>';
											_prize = (_t == 'event5_d' ? '<div class="prize">'+
													'<strong>Приз за победу в топе:</strong>'+
													'<p>#1 место  &nbsp;<span class="yellow"><img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /> 1 <img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 150</span></p>'+
													'<p>#2 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 100</span></p>'+
													'<p>#3 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 50</span></p>'+
													_prize_dt +
												'</div>' : '');
											_tbl = '<tr>'+
													'<th style="width:26px">#</th>'+
													'<th style="width:4px"></th>'+
													'<th style="text-align:left">Ник</th>'+
													'<th>Получено звёзд</th>'+
												'</tr>';	
											$.each(data.arr, function(_i, _row) {
												_tbl += '<tr>'+
														'<td>'+ (_i + 1) +'</td>'+
														'<td style="padding:0"><img src="/images/icons/on-line.gif" style="vertical-align:-1px" alt="" class="on-line'+ (_row[6] > 0 ? '' : ' off') +'" /></td>'+
														'<td style="text-align:left"><a href="#" onclick="_PRF('+ _row[0] +');return false">'+ _row[1] +'</a><span class="clan">'+(clx_data[_row[3]] ? ' '+(clx_data[_row[3]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[3]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_row[3]][1] : '')+'</span></td>'+
														'<td>'+ _row[2] +'</td>'+
													'</tr>';
												if (!_i) _leader = '<p class="leader-name">Лидер топа</p><div class="leader-photo" onclick="_PRF('+ _row[0] +');return false"><img src="'+ _row[4] +'" alt="" onload="_PIX_crop(this, 64);" /></div>'+ _row[1];
											});
											if (_t == 'event5') _tbl_s = ' style="width:100%"';
											break;
											
																																																																																																																																																						case 'auc':
										case 'auc_d':
											_head = '<img src="/images/icons/tops/top_auction.png" alt="" /><h1>Топ «Аукцион»</h1>'+
												'Топ считается по кол-ву любых выигранных ролей на аукционе.';
											_select = '<div class="select">'+ (_t == 'auc_d' ? 'дневной топ' : 'за все время') +'<ul class="options"><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_auc_d\');return false">дневной топ</li><li onclick="_WND_proc(\''+ proc +'\', \'tab\', \'tab_t_auc\');return false">за все время</li></ul></div>';
											_prize = (_t == 'auc_d' ? '<div class="prize">'+
													'<strong>Приз за победу в топе:</strong>'+
													'<p>#1 место  &nbsp;<span class="yellow"><img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /> 1 <img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 75</span></p>'+
													'<p>#2 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 50</span></p>'+
													'<p>#3 место  &nbsp;<span class="yellow"><img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 25</span></p>'+
													_prize_dt +
												'</div>' : '');
											_tbl = '<tr>'+
													'<th style="width:26px">#</th>'+
													'<th style="width:4px"></th>'+
													'<th style="text-align:left">Ник</th>'+
													'<th>Выиграно ролей</th>'+
												'</tr>';	
											$.each(data.arr, function(_i, _row) {
												_tbl += '<tr>'+
														'<td>'+ (_i + 1) +'</td>'+
														'<td style="padding:0"><img src="/images/icons/on-line.gif" style="vertical-align:-1px" alt="" class="on-line'+ (_row[6] > 0 ? '' : ' off') +'" /></td>'+
														'<td style="text-align:left"><a href="#" onclick="_PRF('+ _row[0] +');return false">'+ _row[1] +'</a><span class="clan">'+(clx_data[_row[3]] ? ' '+(clx_data[_row[3]][0] != '' ? '<img src="'+ cln_url + clx_data[_row[3]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_row[3]][1] : '')+'</span></td>'+
														'<td>'+ _row[2] +'</td>'+
													'</tr>';
												if (!_i) _leader = '<p class="leader-name">Лидер топа</p><div class="leader-photo" onclick="_PRF('+ _row[0] +');return false"><img src="'+ _row[4] +'" alt="" onload="_PIX_crop(this, 64);" /></div>'+ _row[1];
											});
											if (_t == 'auc') _tbl_s = ' style="width:100%"';
											break;
									}
									var _s = '<div class="top-header">'+
											'<div class="td">'+ _head +'</div>'+
										'</div>'+
										'<div class="top-info">'+
											_select +
											_place +
											_prize +
										'</div>'+
										'<div class="scrollContainer">'+
										'<table class="table td-centered tops" cellpadding="0" cellspacing="0"'+ _tbl_s +'>'+ _tbl +'</table>'+
										'</div>';
									$("#wnd_"+ proc).find(".right-column").html(_s);
									$("#wnd_"+ proc).find(".top-leader").html(_leader);
									if (_dtimer > 0) $('div#cdn_day_tops').countdown(_dtimer * 1000, function(event) {});
								}
							}
						});
					}
					break;	
				default:
					if (!$("#wnd_"+ proc).length){
						$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move tops-popup333 popupShadowNew not-displayed">'+
							'<div class="left-column">'+
								'<div class="top-leader">'+
								'</div>'+
								'<ul class="tops-menu">'+
																											'<li class="tab_t_event_d"><img src="/images/icons/tops/top_earena_1.png" alt="" />Эпическая Арена</li>'+
									'<li class="tab_t_event2_d"><img src="/images/icons/tops/top_earena_2.png" alt="" />Жетоны арены</li>'+
									'<li class="tab_t_event5_d"><img src="/images/icons/tops/top_astars.png?3" alt="" />Звёзды</li>'+
																																																																																																																																							'<li class="tab_t_rating_d"><img src="/images/icons/tops/top_rating.png" alt="" />Дневной рейтинг</li>'+
									'<li class="tab_t_arena_w"><img src="/images/icons/tops/top_arena.png?1" alt="" />Арена мастер</li>'+
									'<li class="tab_t_champ"><img src="/images/icons/tops/top_league.png" alt="" />Чемпионы</li>'+
									'<li class="tab_t_auc_d"><img src="/images/icons/tops/top_auction.png" alt="" />Аукцион</li>'+
									'<li class="tab_t_expa_d"><img src="/images/icons/tops/top_opit_personaljnij.png" alt="" />Опыт</li>'+
									'<li class="tab_t_cl_gold"><img src="/images/icons/tops/top_slitkov.png" alt="" />Слитки</li>'+
									'<li class="tab_t_duels"><img src="/images/icons/tops/top_duel.png" alt="" />Дуэли</li>'+
									'<li class="tab_t_clans_w"><img src="/images/icons/tops/top_opit.png" alt="" />Кланы</li>'+
									'<li class="tab_t_ach"><img src="/images/icons/tops/top_dostizhenija.png" alt="" />Достижения</li>'+
									'<li class="tab_t_love_d"><img src="/images/icons/tops/top_love.png" alt="" />Любовь</li>'+
								'</ul>'+
							'</div>'+
							'<div class="right-column">'+
							'</div>'+
							'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false" class="popupClose" hidefocus="true"></a>'+
						'</div>');
						$("#wnd_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc).width())/2)) +"px");
						$("#wnd_"+ proc).find(".tops-menu").click(function(e){
							if (!e) var e = window.event;
							var _t = (e.target ? e.target : (e.srcElement ? e.srcElement : null));
							if ($(_t).is("li") && !$(_t).hasClass("active")){
								$(this).find("li.active").removeClass("active");
								_WND_proc(proc, "tab", $(_t).attr("class"));
								$(_t).addClass("active");
							}
						});
													$("#wnd_"+ proc +" .tops-menu .tab_t_"+ (args && args != "" ? args : 'event_d')).click();
												$("#wnd_"+ proc).mousedown(function(){
							var _i = $(this).attr("id");
							var _z = _POPUP_resort("popup-move", _i);
							$(this).css("z-index", _z);
						}).show("fade", 100, function(){
							$(this).removeClass("not-displayed");
							$(this).mousedown();
						});
						_HX_hint('joh17');
					}else{
						$("#wnd_"+ proc).mousedown();
					}
					break;
			}
			break;	

		case "clan_rql":
			switch (cmd){
				case "close":
					if ($("#wnd_"+ proc).length){
						$("#wnd_"+ proc).remove();
						_CHT_focus();
					}
					break;
				case "hh":
					if (args){
						var _hh = $("#cln_rq_hh_"+ args);
						if ($(_hh).length){
							if ($(_hh).hasClass("show")){
								$(_hh).removeClass("show");
								$("#cln_rq_h_"+ args).html('Показать историю');
							}else{
								$(_hh).addClass("show");
								$("#cln_rq_h_"+ args).html('Скрыть историю');
							}
						}
					}	
					break;	
				case "r":
					if ($("#wnd_"+ proc).length){
						var _t = $("#wnd_"+ proc +" .container").children("table");
						if ($(_t).length){
							var _h = '<tr>'+
								'<th>Кланы игрока</th>'+
								'<th>Состояние</th>'+
								'<th>Проведено</th>'+
								'<th>Опыт за клан</th>'+
								'<th>Причина</th>'+
							'</tr>';
							if (args[3]){
								$.each(args[3], function(_i, _row) {
									var _r = '';
									switch(_row[2]){
										case "kick": _r = 'Выгнан'; break;
										case "leave": _r = 'Покинул'; break;
										case "disband": _r = 'Распустил'; break;
										case "delete": _r = 'Расформирован'; break;
									}
									_h += '<tr>'+
										'<td>'+ (_row[0] != '-' ? '<div class="level inline">'+ _row[1] +'</div> '+ _row[0] : '-') +'</td>'+
										'<td>'+ _r +': '+ _row[3] +'</td>'+
										'<td>'+ _row[4] +' дн.</td>'+
										'<td>'+ _row[5] +'</td>'+
										'<td>'+ _row[6] +'</td>'+
									'</tr>';
								});
							}
							$(_t).append('<tr id="cln_rq_'+ args[0] +'" class="clan-rql">'+
								'<td><a href="#" onclick="_PRF('+ args[0] +');return false" hidefocus="true">'+ args[1] +'</a></td>'+
								'<td style="display: none"><img src="/images/icons/league/'+ (!parseInt(args[2]) ? 1 : args[2]) +'.png" alt="" /></td>'+
								'<td>КПД: '+ args[4] +'%</td>'+
								'<td><a id="cln_rq_h_'+ args[0] +'" href="#" class="white" hidefocus="true" onclick="_WND_proc(\''+ proc +'\', \'hh\', \''+ args[0] +'\');return false">Показать историю</a></td>'+
								'<td class="cln_rq_btns_'+ args[0] +'" style="white-space:nowrap; width:1px"><a href="#" onclick="$(\'.cln_rq_btns_'+ args[0] +'\').html(\'\');_WND_proc(\''+ proc +'\', \'act\', [2, '+ args[0] +']);return false" class="green" hidefocus="true">Принять игрока</a></td>'+
								'<td class="cln_rq_btns_'+ args[0] +'" style="white-space:nowrap; width:1px"><a href="#" onclick="$(\'.cln_rq_btns_'+ args[0] +'\').html(\'\');_WND_proc(\''+ proc +'\', \'act\', [1, '+ args[0] +']);return false" class="white" hidefocus="true">Отклонить</a></td>'+
							'</tr>'+
							'<tr id="cln_rq_hh_'+ args[0] +'" class="full-info">'+
								'<td colspan="6" style="padding: 10px">'+
									'<div class="clan-rql-container">'+
										'<table cellspacing="0" cellpadding="0" class="table clan-rql">'+ _h +'</table>'+
									'</div>'+
								'</td>'+
							'</tr>');
						}
					}
					break;
				case "act":
					if (args && args[0] && args[1] && $("#wnd_"+ proc).length && my_clan){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "cl_rqls", "act": args},
							dataType: "json",
							success: function(data) {
								if (typeof data.ret != "undefined"){
									/*if ($("#cln_rq_"+ data.ret).length){
										$("#cln_rq_"+ data.ret).remove();
										var _oo = $("#cln_"+ my_clan +"_rq");
										if ($(_oo).length){
											var _c = parseInt($(_oo).children("b").html());
											if (_c > 0){
												_c --;
												$(_oo).children("b").html(_c);
												if (_c < 1 && !$(_oo).hasClass("off")) $(_oo).addClass("off");
											}
										}*/
									setTimeout(function(){
										if ($("#wnd_"+ proc).length){
											var _l = $("#wnd_"+ proc +" .container table tr").length;
											if (!_l) _WND_proc(proc, "close");
										}
									}, 1000);
								}
							}
						});
					}
					break;
				default:
					if (!$("#wnd_"+ proc).length){
						if (my_clan && $("#cln_"+ my_clan +"_rq") && ($("#cln_"+ my_clan +"_rq").attr("label") == 1 || $("#cln_"+ my_clan +"_rq").attr("label") == 2 || $("#cln_"+ my_clan +"_rq").attr("label") == 4)){
							_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
							$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move clan-rql-popup not-displayed">'+
								'<div class="popup-bg">'+
									'<h1 style="text-align:left;cursor:move">Заявки на вступление в клан</h1>'+
									'<div class="container">'+
										'<table cellspacing="0" cellpadding="0" class="table clan-rql">'+
										'</table>'+
									'</div>'+
									'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false" class="popup-close" hidefocus="true"></a>'+
								'</div>'+
							'</div>');
							$("#wnd_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc).width())/2)) +"px");
							$.ajax({
								async: true,
								cache: false,
								type: "POST",
								url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
								data: {method: "cl_rqls"},
								dataType: "json",
								success: function(data) {
									if (typeof data.arr != "undefined"){
										$.each(data.arr, function(_i, _row) {
											_WND_proc(proc, "r", _row);
										});
									}
								}
							});
							$("#wnd_"+ proc).draggable({
								containment: "document",
								cancel: ".container,.popup-close",
								zIndex: 100,
								helper: function(e){
									return $('<div class="popup-outline" style="width:'+$(this).width()+'px;height:'+$(this).height()+'px;"></div>');
								},
								stop: function(e, ui){
									$(this).css({left: ui.position.left +"px", top: ui.position.top +"px"});
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}
					}else{
						$("#wnd_"+ proc).mousedown();
					}
					break;
			}
			break;

		case "clans":
			switch (cmd){
				case "close":
					if (my_clan){
						_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
						_GM_action("", "upd", "pp_dd", "cl_ff_"+ my_clan);
					}
					if ($("#wnd_"+ proc).length){
						_WARN(proc);
						$("#wnd_"+ proc).remove();
						_CHT_focus();
					}
					break;
				case "act":
					if (args && args.act && my_clan){
						var _evt = (!evt ? window.event : evt);
						if (args.act == "xbuy" || args.act == "xxbuy" || args.act == "xxbuy_own"){
							if ($("#cln_"+ my_clan +"_rq").attr("label") != 1 && $("#cln_"+ my_clan +"_rq").attr("label") != 4) break;
							if (args.act == "xbuy") $("#cln_"+ my_clan +"_xi_"+ args.id).addClass("not-displayed");
							if (args.act == "xxbuy" && args.tp == "icon" && $("#cln_"+ my_clan +"_xico").children(".ico").css("background-image") == "none"){
								if ($("#cln_"+ my_clan +"_rq").attr("label") == 1){
									$("#cln_"+ my_clan +"_xupl").click();
								}else{
									_WARN(proc, 2500, '<span class="yellow">Попроси главу клана закачать иконку</span>', _evt.clientX - 100, _evt.clientY);
								}
								break;
							}else if (args.act == "xxbuy" && args.tp == "brand" && $("#cln_"+ my_clan +"_xbrnd").attr("label") == ""){
								if ($("#cln_"+ my_clan +"_rq").attr("label") == 1){
									_DLG("cl_brnd");
								}else{
									_WARN(proc, 2500, '<span class="yellow">Попроси главу клана установить аббревиатуру</span>', _evt.clientX - 100, _evt.clientY);
								}
								break;
							}
							if (args.act == "xxbuy_own" && args.tp == "icon" && $("#cln_"+ my_clan +"_xico_o").children(".ico").css("background-image") == "none"){
								if ($("#cln_"+ my_clan +"_rq").attr("label") == 1){
									$("#cln_"+ my_clan +"_xupl").click();
								}else{
									_WARN(proc, 2500, '<span class="yellow">Попроси главу клана закачать иконку</span>', _evt.clientX - 100, _evt.clientY);
								}
								break;
							}else if (args.act == "xxbuy_own" && args.tp == "brand" && $("#cln_"+ my_clan +"_xbrnd_o").attr("label") == ""){
								if ($("#cln_"+ my_clan +"_rq").attr("label") == 1){
									_DLG("cl_brnd");
								}else{
									_WARN(proc, 2500, '<span class="yellow">Попроси главу клана установить аббревиатуру</span>', _evt.clientX - 100, _evt.clientY);
								}
								break;
							}
						}
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "cl_acts", "args": args},
							dataType: "json",
							success: function(data) {
								if (typeof data.ret != "undefined"){
									switch (args.act){
										case "xbuy_own":
											_GM_action("gxt", "exts", (!$("#gxt_"+ data.ret[0]).length ? "add" : "set"), [data.ret[0], data.ret[1], data.ret[1]]);
											if ($("#wnd_clans").length){
												_GM_action("cln_"+ my_clan +"_x", "exts", "upd", [data.ret[0]]);
												_GM_action("cln_"+ my_clan +"_xo", "exts", "upd", [data.ret[0]]);
												if ($("#cln_"+ my_clan +"_x_"+ data.ret[0]).length && $("#cln_"+ my_clan +"_x_"+ data.ret[0]).hasClass("disabled")) $("#cln_"+ my_clan +"_x_"+ data.ret[0]).removeClass("disabled");
											}
											break;
										case "leave":
											RPX["def"].unsubscribe(r_pxx + "MAF_CLN_" + my_clan);
											RPX["def"].execute();
											_DLG("cl_leave", 1);
											_WND_proc(proc, "close");
											my_clan = 0;
											$(".profileBlock").find("span.clan").html('');
											$("#btt_clan").html('Кланы');
											if (!$("#bt_duel").hasClass("not-displayed")) $("#bt_duel").addClass("not-displayed");
											if (!$("#ccl_tab").hasClass("not-displayed")) $("#ccl_tab").addClass("not-displayed");
											if (_CHT_c_tab == "ccl") _CHT_action("", "tab", "cco", null);
											$("#ccl_log").divAutoScroll("clear");
											break;
										case "tax":
											_DLG("cl_tax", 1);
											break;
										case "norm":
											_DLG("cl_norm", 1);
											break;
										case "wdraw":
											_DLG("cl_withdraw", 1);
											if (!_SOUND_err) _SOUND_arr['sfx']['clan_bank'].play();
											break;
										case "adm":
											_DLG("cl_adm", 1);
											break;
										case "chown":
											_DLG("cl_chown", 1);
											break;
										case "chtxt":
											_DLG("cl_chtxt", 1);
											break;
										case "brnd":
											_DLG("cl_brnd", 1);
											break;
										case "kick":
											_DLG("cl_kick", 1);
											break;
										case "invite":
											_DLG("cl_invite", 1);
											break;
										case "spam":
											_DLG("cl_spam", 1);
											break;
										case "gldbuy":
											if (data.ret != "undefined" && data.ret == 1){
											}
											break;
									}
								}
								if (typeof data.err != "undefined"){
									switch (data.err){
										case 1: _WARN(proc, 2500, '<span class="yellow">Недостаточно монет в казне</span>', _evt.clientX - 100, _evt.clientY); break;
										case 2:
											_WARN(proc, 2500, '<span class="yellow">Недостаточно монет</span>', _evt.clientX - 100, _evt.clientY);
											_HX_hint('rud5');
											_WND_proc('buy');
											_DLG("cl_withdraw", -1);
											break;
										case 3:
											_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
											_WARN(proc, 2500, '<span class="yellow">Невозможно распустить клан с участниками</span>', _evt.clientX - 100, _evt.clientY);
											break;
										case 4:
											_WARN(proc, 2500, '<span class="yellow">Запрещено</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_tax", -1);
											break;
										case 5:
											_WARN(proc, 2500, '<span class="yellow">Вы можете менять налог раз в час!</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_tax", -1);
											break;
										case 6:
											_WARN(proc, 2500, '<span class="yellow">Спецсимволы и мат запрещены!</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_brnd", -1);
											break;
										case 7:
											_WARN(proc, 2500, '<span class="yellow">Ваш клан полный!</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_invite", -1);
											break;
										case 8:
											_WARN(proc, 2500, '<span class="yellow">Пользователь не найден!</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_invite", -1);
											break;
										case 9:
											_WARN(proc, 2500, '<span class="yellow">Пользователь уже в другом клане!</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_invite", -1);
											break;
										case 10:
											_WARN(proc, 2500, '<span class="yellow">Приглашение этому пользователю уже отправлено!</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_invite", -1);
											break;
										case 11:
											_WARN(proc, 2500, '<span class="yellow">Взнос монет доступен начиная с 5 уровня</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_withdraw", -1);
											break;
										case 12: _WARN(proc, 2500, '<span class="yellow">Купить экстру можно только через наш сайт www.bestmafia.com</span>', _evt.clientX - 100, _evt.clientY);
											break;
										case 13:
											_WARN(proc, 2500, '<span class="yellow">С момента прошлого оповещения еще не прошло 5 минут</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_spam", -1);
											break;
										case 14: 
											_WARN(proc, 2500, '<span class="yellow">Недостаточно монет</span>', _evt.clientX - 100, _evt.clientY);
											_HX_hint('rud5');
											_WND_proc('buy'); 
											_DLG("cl_spam", -1);
											break;	
										case 15: _DLG("cl_spam", -1); break;
										case 16:
											_WARN(proc, 2500, '<span class="yellow">Норма недельного опыта не может превышать 9999 опыта</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_norm", -1);
											break;
										case 17:
											_WARN(proc, 2500, '<span class="yellow">Невозможно выгнать Главу клана</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_kick", -1);
											break;
										case 18:
											_WARN(proc, 2500, '<span class="yellow">Доступно символов: '+ data.err_x +'</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_brnd", -1);
											break;
										case 19:
											_WARN(proc, 2500, '<span class="yellow">Невозможно назначить на две должности</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_adm", -1);
											break;
										case 20:
											_WARN(proc, 2500, '<span class="yellow">Для доступа к должности «Офицер 3» вам необходимо купить улучшение</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_adm", -1);
											break;	
										case 21:
											_WARN(proc, 2500, '<span class="yellow">Для доступа к должности «Управляющий 2» вам необходимо купить улучшение</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_adm", -1);
											break;
										case 22:
											_WARN(proc, 2500, '<span class="yellow">Ваш клан купил все слитки на этой неделе</span>', _evt.clientX - 100, _evt.clientY);
											break;
										case 23:
											_WARN(proc, 2500, '<span class="yellow">Недостаточно рубинов</span>', _evt.clientX - 100, _evt.clientY);
											_WND_proc('ruby_buy');
											break;
										case 24:
											_WARN(proc, 2500, '<span class="yellow">Недостаточно монет</span>', _evt.clientX - 100, _evt.clientY);
											_HX_hint('rud5');
											_WND_proc('buy');
											break;	
										case 25:
											_WARN(proc, 2500, '<span class="yellow">Вы ввели неверный код, либо у вас не установлен код безопасности.<br/>Установить код можно в своём профиле.</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_chown", -1);
											_DLG("cl_leave", -1);
											_DLG("cl_kick", -1);
											_DLG("cl_adm", -1);
											break;
										case 26:
											_WARN(proc, 2500, '<span class="yellow">Для доступа к казне клана, на вашем профиле должно быть потрачено 30 000 монет</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_withdraw", -1);
											break;
										case 27:
											_WARN(proc, 2500, '<span class="yellow">Вы можете вносить монеты в казну не более трёх раз в день</span>', _evt.clientX - 100, _evt.clientY);
											_DLG("cl_withdraw", -1);
											break;	
									}
								}
							}
						});
					}
					break;
				case "pp":
					if ($("#wnd_"+ proc).length && my_clan){
						var _evt = (!evt ? window.event : evt);
						if (!$("#pp_clan_"+ my_clan).length){
							$("#popup_container").append('<div id="pp_clan_'+ my_clan +'" class="popup-move showSelect not-displayed"></div>');
							$("#pp_clan_"+ my_clan).draggable({
								containment: "document",
								cancel: ".popup-small-close",
								zIndex: 100,
								stop: function(){
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							});
							var _rq = parseInt($("#cln_"+ my_clan +"_rq").attr("label"));
							$("#pp_clan_"+ my_clan).html('<ul class="extras-player-choice">'+
									'<li><a href="#" onclick="_DLG(\'cl_leave\');return false" hidefocus="true">Покинуть клан</a></li>'+
									(_rq == 1 || _rq == 2 || _rq == 4 ? '<li><a href="#" onclick="_DLG(\'cl_invite\');return false" hidefocus="true">Пригласить в клан</a></li>' : '')+
									(_rq == 1 || _rq == 4 ? '<li><a href="#" onclick="_DLG(\'cl_kick\');return false" hidefocus="true">Выгнать из клана</a></li>' : '')+
									(_rq == 1 || _rq == 2 || _rq == 4 ? '<li><a href="#" onclick="_WND_proc(\'clan_rql\');return false" hidefocus="true">Смотреть заявки</a></li>' : '')+
									(_rq == 1 || _rq == 4 ? '<li><a href="#" onclick="_DLG(\'cl_chtxt\');return false" hidefocus="true">Изменить описание</a></li>'+
									'<li><a href="#" onclick="_DLG(\'cl_adm\');return false" hidefocus="true">Назначить помощников</a></li>' : '')+
									(_rq == 1 ? '<li><a href="#" onclick="_DLG(\'cl_chown\');return false" hidefocus="true">Передать лидерство</a></li>' : '')+
									(_rq == 1 || _rq == 4 ? '<li><a href="#" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'clan_'+ my_clan +'\');$(\'#cln_'+ my_clan +'_xupl\').click();return false" hidefocus="true">Изменить иконку</a></li>'+
									'<li><a href="#" onclick="_DLG(\'cl_brnd\');return false" hidefocus="true">Изменить аббревиатуру</a></li>' : '')+
									(_rq == 1 || _rq == 3 ? '<li style="display:none"><a href="#" onclick="_DLG(\'cl_tax\');return false" hidefocus="true">Установить налог</a></li>' : '')+
									(_rq == 1 || _rq == 2 || _rq == 3 || _rq == 4 ? '<li><a href="#" onclick="_DLG(\'cl_spam\');return false" hidefocus="true">Оповещение клана</a></li>' : '')+
									(_rq == 1 || _rq == 4 ? '<li><a href="#" onclick="_DLG(\'cl_norm\');return false" hidefocus="true">Установить норму</a></li>' : '')+
									(_rq == 1 || _rq == 3 || _rq == 4 ? '<li style="display:none"><a href="#" onclick="_WND_proc(\''+ proc +'\', \'blg\');return false" hidefocus="true">История казны</a></li>' : '')+
									(_rq > 0 ? '<li><a href="#" onclick="_WND_proc(\''+ proc +'\', \'glg\');return false" hidefocus="true">История слитков</a></li>' : '')+
									(_rq == 1 || _rq == 2 || _rq == 4 ? '<li><a href="#" onclick="_WND_proc(\''+ proc +'\', \'recr\', [5,0,0]);return false" hidefocus="true" style="color:#ffe162">Рекрутинг</a></li>' : '')+
								'</ul>'+
								'<a href="#" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'clan_'+ my_clan +'\');return false;" class="popup-small-close" hidefocus="true"></a>');
							_POPUP_size(true, _evt.clientX, _evt.clientY, "pp_clan_"+ my_clan, 0, 0);
							$("#pp_clan_"+ my_clan).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}else{
							$("#pp_clan_"+ my_clan).mousedown();
						}
					}
					break;
				case "ff":
					if ($("#wnd_"+ proc).length && my_clan){
						if (args){
							_GM_action("", "upd", "pp_dd", "cl_ff_"+ my_clan);
							$.ajax({
								async: true,
								cache: false,
								type: "POST",
								url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
								data: {method: "cl_ff", "f": args},
								dataType: "json",
								success: function(data) {
									if (typeof data.arr != "undefined"){
										if (args == 2 || args == 3){
											$("#clu_"+ data.arr[0] +"_norm").removeClass("not-displayed");
										}else{
											$("#clu_"+ data.arr[0] +"_norm:not(.not-displayed)").addClass("not-displayed");
										}
										var _fft = 'Все время';
										switch (args){
											case 2: _fft = 'Текущая неделя'; break;
											case 3: _fft = 'Прошлая неделя'; break;
											case 4: _fft = 'Дуэль суббота'; break;
											case 5: _fft = 'Дуэль воскресенье'; break;
										}
										$("#clu_"+ data.arr[0] +"_ff").html(_fft);
										$("#clu_"+ data.arr[0] +"_tbl > tbody > tr").remove();
										$.each(data.arr[8], function(_i, _row) {
											if (_row[0] == data.arr[1]){
												_row[4] = "owner";
											}else if (_row[0] == data.arr[2]){
												_row[4] = "banker";
											}else if (_row[0] == data.arr[3]){
												_row[4] = "mjr_1";
											}else if (_row[0] == data.arr[4]){
												_row[4] = "mjr_2";
											}else if (_row[0] == data.arr[5]){
												_row[4] = "supervisor";
											}else if (_row[0] == data.arr[6]){
												_row[4] = "mjr_3";
											}else if (_row[0] == data.arr[7]){
												_row[4] = "supervisor_2";
											}
											if (args == 2 || args == 3){
												_WND_proc(proc, "u", [data.arr[0], _row, true]);
											}else{
												_WND_proc(proc, "u", [data.arr[0], _row]);
											}	
										});
										$("#clu_"+ data.arr[0] +"_cnt").html($("#clu_"+ data.arr[0] +"_tbl > tbody > tr").length);
										if (!isMobile) $("#clu_"+ data.arr[0] +"_div").tinyscrollbar_update("relative");
									}
								}
							});
						}else{
							var _evt = (!evt ? window.event : evt);
							if (!$("#pp_cl_ff_"+ my_clan).length){
								$("#popup_container").append('<div id="pp_cl_ff_'+ my_clan +'" class="popup-move showSelect not-displayed"></div>');
								$("#pp_cl_ff_"+ my_clan).draggable({
									containment: "document",
									cancel: ".popup-small-close",
									zIndex: 100,
									stop: function(){
										$(this).mousedown();
									}
								}).mousedown(function(){
									var _i = $(this).attr("id");
									var _z = _POPUP_resort("popup-move", _i);
									$(this).css("z-index", _z);
								});
								var _rq = parseInt($("#cln_"+ my_clan +"_rq").attr("label"));
								$("#pp_cl_ff_"+ my_clan).html('<ul class="extras-player-choice">'+
										'<li><a href="#" onclick="_WND_proc(\''+ proc +'\', \'ff\', 2, event);return false" hidefocus="true">Текущая неделя</a></li>'+
										'<li><a href="#" onclick="_WND_proc(\''+ proc +'\', \'ff\', 3, event);return false" hidefocus="true">Прошлая неделя</a></li>'+
										'<li><a href="#" onclick="_WND_proc(\''+ proc +'\', \'ff\', 1, event);return false" hidefocus="true">Всё время</a></li>'+
										'<li><a href="#" onclick="_WND_proc(\''+ proc +'\', \'ff\', 4, event);return false" hidefocus="true">Дуэль суббота</a></li>'+
										'<li><a href="#" onclick="_WND_proc(\''+ proc +'\', \'ff\', 5, event);return false" hidefocus="true">Дуэль воскресенье</a></li>'+
									'</ul>'+
									'<a href="#" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'cl_ff_'+ my_clan +'\');return false;" class="popup-small-close" hidefocus="true"></a>');
								_POPUP_size(true, _evt.clientX, _evt.clientY, "pp_cl_ff_"+ my_clan, 0, 20);
								$("#pp_cl_ff_"+ my_clan).show("fade", 100, function(){
									$(this).removeClass("not-displayed");
									$(this).mousedown();
								});
							}else{
								$("#pp_cl_ff_"+ my_clan).mousedown();
							}
						}
					}
					break;
				case "event":
					if ((args[1] == 'U' || args[1] == 'L') && args[2] && $("#prf_"+ args[2]).length){
						if (args[1] == 'U'){
							$("#prf_"+ args[2] +" div.user-name .clan").html((args[0] && clx_data[args[0]] ? ' '+ (clx_data[args[0]][0] != '' ? '<img src="'+ cln_url + clx_data[args[0]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[args[0]][1] : ''));
						}else{
							$("#prf_"+ args[2] +" div.user-name .clan").html('');
							$("#prf_"+ args[2] +" div.user-name .clan-link").html('');
						}
					}else if (args[1] == 'X' && args[2] && typeof args[3] != "undefined"){
						var _vx = '';
						switch (args[3]){
							case 0:
								_vx = 'xico';
								if (clx_data[args[0]]){
									clx_data[args[0]][0] = args[4];
								}else{
									clx_data[args[0]] = [args[4], "", ""];
								}
								if (my_clan == args[0]){
									$(".profileBlock").find("span.clan").html(' '+(clx_data[my_clan][0] != '' ? '<img src="'+ cln_url + clx_data[my_clan][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[my_clan][1]);
								}
								break;
							case 1: _vx = 'xmjr';
								if (clx_data[args[0]]){
									clx_data[args[0]][2] = args[4];
								}else{
									clx_data[args[0]] = ["", "", args[4]];
								}
								if (my_clan == args[0]){
									var _rk = '';
									if (clx_data[my_clan][2][0] == my_id){
										_rk = '<img src="/images/clan-icons/cl_owner.png" label="owner" title="Глава клана" height="16" alt="" />';
									}else if (clx_data[my_clan][2][1] == my_id){
										_rk = '<img src="/images/clan-icons/cl_mjr_1.png" label="mjr_1" title="Офицер" height="16" alt="" />';
									}else if (clx_data[my_clan][2][2] == my_id){
										_rk = '<img src="/images/clan-icons/cl_mjr_2.png" label="mjr_2" title="Офицер" height="16" alt="" />';
									}else if (clx_data[my_clan][2][3] == my_id){
										_rk = '<img src="/images/clan-icons/cl_banker.png" label="banker" title="Казначей" height="16" alt="" />';
									}else if (clx_data[my_clan][2][4] == my_id){
										_rk = '<img src="/images/clan-icons/cl_supervisor.png" label="supervisor" title="Управляющий" height="16" alt="" />';
									}else if (clx_data[my_clan][2][5] == my_id){
										_rk = '<img src="/images/clan-icons/cl_mjr_3.png" label="mjr_3" title="Офицер" height="16" alt="" />';
									}else if (clx_data[my_clan][2][6] == my_id){
										_rk = '<img src="/images/clan-icons/cl_supervisor_2.png" label="supervisor_2" title="Управляющий" height="16" alt="" />';
									}
									if (_rk != '') $(".profileBlock").find("span.clan-rank").html(_rk);
								}
								break;
							case 2: _vx = 'xbrnd';
								if (clx_data[args[0]]){
									clx_data[args[0]][1] = args[4];
								}else{
									clx_data[args[0]] = ["", args[4], ""];
								}
								if (my_clan == args[0]){
									$(".profileBlock").find("span.clan").html(' '+(clx_data[my_clan][0] != '' ? '<img src="'+ cln_url + clx_data[my_clan][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[my_clan][1]);
								}
								break;
						}
						if (_vx != '' && $("#cln_"+ args[0] +"_"+ _vx).length){
							$("#cln_"+ args[0] +"_"+ _vx).find(".count.time").html(_DT_format(args[2], {uts: true, nmm: true})+'<div></div>');
							$("#cln_"+ args[0] +"_"+ _vx).removeClass("disabled");
						}
						if (_vx != '' && $("#cln_"+ args[0] +"_"+ _vx +"_o").length){
							$("#cln_"+ args[0] +"_"+ _vx +"_o").find(".count.time").html(_DT_format(args[2], {uts: true, nmm: true})+'<div></div>');
							$("#cln_"+ args[0] +"_"+ _vx +"_o").removeClass("disabled");
						}
					}else if (args[1] == 'I' && args[2]){
						if (args[3] == 1){
							var _ii = args[0] +'-'+ args[2];
							if (clx_data[args[0]]){
								clx_data[args[0]][0] = _ii;
							}else{
								clx_data[args[0]] = [_ii, "", ""];
							}
							if (my_clan == args[0]){
								$(".profileBlock").find("span.clan").html(' '+(clx_data[my_clan][0] != '' ? '<img src="'+ cln_url + clx_data[my_clan][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[my_clan][1]);
							}
						}
					}else if (args[1] == 'D' && typeof args[2] != "undefined"){
						if (args[3] == 1){
							if (clx_data[args[0]]){
								clx_data[args[0]][1] = args[2];
							}else{
								clx_data[args[0]] = ["", args[2], ""];
							}
							if (my_clan == args[0]){
								$(".profileBlock").find("span.clan").html(' '+(clx_data[my_clan][0] != '' ? '<img src="'+ cln_url + clx_data[my_clan][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[my_clan][1]);
							}
						}
					}
					if (args[0] == my_clan){
						switch(args[1]){
							case 'G':
								if ($("#wnd_"+ proc).length){
									$("#cln_"+ my_clan +"_gold .total").html(args[2]);
									$("#cln_"+ my_clan +"_gold .hover-hint").html('<p>Слитки золота - валюта, за которую покупаются все улучшения в клане.</p>'+
										'<p><strong>Текущая неделя: '+ (parseInt(args[3]) + parseInt(args[4]) + parseInt(args[5])) +' / 50</strong></p>'+
										'За задания: '+ args[3] +' / 20<br />'+
										'За топы и дуэли: '+ args[4] +' / 20<br />'+
										'За экстры: '+ args[5] +' / 10'+
										'<div class="arrow"></div>');
									var _abrd = $("#cln_"+ my_clan +"_gold .circle-bar .active-border");
									if ($(_abrd).length){
										var _prc = ((parseInt(args[3]) + parseInt(args[4]) + parseInt(args[5])) * 100 / 50);
										if (_prc > 100) _prc = 100;
										var _deg = (_prc * 3.6);
										if (_deg <= 180){
											$(_abrd).css("background-image", "linear-gradient("+ (90 + _deg) +"deg, transparent 50%, #3b3b3b 50%),linear-gradient(90deg, #3b3b3b 50%, transparent 50%)");
										}else{
											$(_abrd).css("background-image", "linear-gradient("+ (_deg - 90) +"deg, transparent 50%, #daa115 50%),linear-gradient(90deg, #3b3b3b 50%, transparent 50%)");
										}
										var _sdg = 0;
										$(_abrd).css("transform", "rotate("+ _sdg +"deg)");
										$(_abrd).find(".circle").css("transform", "rotate("+ (-_sdg) +"deg)");
									}
								}
								break;
							case 'II':
								if ($("#wnd_"+ proc).length){
									$("#cln_"+ my_clan +"_gold .total").html(args[2]);
									if (args[3] > 0){
										if ($("#cli_i_"+ args[3]).length){
											var _p = (args[4] / args[5] * 100);
											if (_p > 100) _p = 100;
											var _v = args[6];
											$("#cli_i_"+ args[3]).find(".progress-bg").css("width", _p +"%");
											var _a = $("#cli_i_"+ args[3]).find(".text").attr("label").split("|");
											if (_a.length == 2){
												var _t = _a[1];
												var _x0 = _t.indexOf('[');
												if (_x0 != -1){
													var _g = _t.substring(_x0 + 1, _t.indexOf(']')).split(',');
													_t = _t.substr(0, _x0) + _postfix(_g, _v) + _t.substr(_t.indexOf(']') + 1);
												}
												var _x = _v + ' '+ _t;
												$("#cli_i_"+ args[3]).find(".text").html(_a[0] +': '+ _x);
												if (parseInt(args[4]) >= parseInt(args[5])) $("#cli_i_"+ args[3]).find(".progress-bar").removeClass("button");
											}
										}
										if (args[7] > 0 && $("#cli_"+ my_clan +"_g"+ args[7]).length){
											var _v = (parseInt($("#cli_"+ my_clan +"_g"+ args[7] +" .text").html()) + 1);
											var _l = parseInt($("#cli_"+ my_clan +"_g"+ args[7]).attr("label"));
											_prc = Math.round(_v / _l * 100);
											if (_prc > 100) _prc = 100;
											$("#cli_"+ my_clan +"_g"+ args[7] +" .progress-bg").css("width", _prc +"%");
											$("#cli_"+ my_clan +"_g"+ args[7] +" .text").html(_v);
											if (_v >= _l) $("#cli_"+ my_clan +"_g"+ args[7]).removeClass("button");
										}
									}
								}
								break;
							case 'V':
								if (args[2]){
									_GM_action("", "upd", "lvl_c_up", [0, args[2][0], args[2][1]]);
								}
								break;
							case 'X':
								if ($("#wnd_"+ proc).length && (args[3] == 0 || args[3] == 2)){
									var _cx = $("#cln_"+ my_clan +"_ttl").find(".clan");
									if ($(_cx).length){
										$(_cx).html(' '+(clx_data[my_clan][0] != '' ? '<img src="'+ cln_url + clx_data[my_clan][0] +'.gif" label="'+ clx_data[my_clan][0] +'" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[my_clan][1]);
									}
								}
								break;
							case 'I':
								if ($("#wnd_"+ proc).length && args[2]){
									$("#cln_"+ my_clan +"_xico").children(".ico").css("background-image", "url('"+ cln_url + my_clan +"-"+ args[2] +".gif')");
									$("#cln_"+ my_clan +"_xico_o").children(".ico").css("background-image", "url('"+ cln_url + my_clan +"-"+ args[2] +".gif')");
									if (args[3] == 1){
										var _cx = $("#cln_"+ my_clan +"_ttl").find(".clan");
										if ($(_cx).length){
											$(_cx).html(' '+(clx_data[my_clan][0] != '' ? '<img src="'+ cln_url + clx_data[my_clan][0] +'.gif" label="'+ clx_data[my_clan][0] +'" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[my_clan][1]);
										}
									}
								}
								break;
							case 'D':
								if ($("#wnd_"+ proc).length && typeof args[2] != "undefined"){
									$("#cln_"+ my_clan +"_xbrnd").attr("label", args[2]);
									$("#cln_"+ my_clan +"_xbrnd_o").attr("label", args[2]);
									if (args[3] == 1){
										var _cx = $("#cln_"+ my_clan +"_ttl").find(".clan");
										if ($(_cx).length){
											$(_cx).html(' '+(clx_data[my_clan][0] != '' ? '<img src="'+ cln_url + clx_data[my_clan][0] +'.gif" label="'+ clx_data[my_clan][0] +'" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[my_clan][1]);
										}
									}
								}
								break;
							case 'A':
								if ($("#wnd_"+ proc).length && args[2]){
									var _oo = $("#clu_"+ my_clan +"_tbl");
									if ($(_oo).length){
										$("#clu_"+ my_clan +"_tbl > tbody > tr").each(function(){
											var _ii = $(this).children("td:nth-child(1)").children("img").attr("label");
											if (_ii != "owner"){
												var _ico = '&nbsp;';
												var _rq = 0;
												var _id = $(this).attr("id").substring(4);
												if (args[2][0] == _id){
													_ico = '<img src="/images/clan-icons/cl_mjr_1.png" width="16" height="16" label="mjr_1" title="Офицер" alt="" />';
													_rq = 2;
												}else if (args[2][1] == _id){
													_ico = '<img src="/images/clan-icons/cl_mjr_2.png" width="16" height="16" label="mjr_2" title="Офицер" alt="" />';
													_rq = 2;
												}else if (args[2][2] == _id){
													_ico = '<img src="/images/clan-icons/cl_banker.png" width="16" height="16" label="banker" title="Казначей" alt="" />';
													_rq = 3;
												}else if (args[2][3] == _id){
													_ico = '<img src="/images/clan-icons/cl_supervisor.png" width="16" height="16" label="supervisor" title="Управляющий" alt="" />';
													_rq = 4;
												}else if (args[2][4] == _id){
													_ico = '<img src="/images/clan-icons/cl_mjr_3.png" width="16" height="16" label="mjr_3" title="Офицер" alt="" />';
													_rq = 2;
												}else if (args[2][5] == _id){
													_ico = '<img src="/images/clan-icons/cl_supervisor_2.png" width="16" height="16" label="supervisor_2" title="Управляющий" alt="" />';
													_rq = 4;
												}
												if (_id == my_id) $("#cln_"+ my_clan +"_rq").attr("label", _rq);
												$(this).children("td:nth-child(1)").html(_ico);
											}
										});
									}
								}
								break;
							case 'O':
								_CHT_add("cl", [args[3], args[5], args[6], args[7], args[2], args[4]]);
								if ($("#wnd_"+ proc).length && args[2]){
									var _oo = $("#clu_"+ my_clan +"_tbl");
									if ($(_oo).length){
										$("#clu_"+ my_clan +"_tbl > tbody > tr").each(function(){
											var _id = $(this).attr("id").substring(4);
											var _ii = $(this).children("td:nth-child(1)").children("img").attr("label");
											if (_ii == "owner"){
												$(this).children("td:nth-child(1)").html('&nbsp;');
												if (_id == my_id) $("#cln_"+ my_clan +"_rq").attr("label", "0");
											}else if (_id == args[2]){
												$(this).children("td:nth-child(1)").html('<img src="/images/clan-icons/cl_owner.png" width="16" height="16" label="owner" title="Глава клана" alt="" />');
												if (_id == my_id) $("#cln_"+ my_clan +"_rq").attr("label", "1");
											}
										});
									}
								}
								break;
							case 'P':
								if ($("#wnd_"+ proc).length){
									var _oo = $("#cln_"+ my_clan +"_tax");
									if ($(_oo).length){
										$(_oo).html(args[2]);
									}
								}
								break;
							case 'N':
								if ($("#wnd_"+ proc).length){
									var _oo = $("#clu_"+ my_clan +"_norm");
									if ($(_oo).length){
										$(_oo).html('норма: '+ args[2]);
										$(_oo).attr("label", args[2]);
										if (!$(_oo).hasClass("not-displayed")) _WND_proc(proc, "ff", 2);
									}
								}
								break;
							case 'M':
								if ($("#wnd_"+ proc).length && args[2] && $("#clu_"+ args[2]).length && args[3]){
									var _oo = $("#clu_"+ args[2] +" td:nth-child(4)");
									if ($(_oo).length){
										var _m = (parseInt($(_oo).html()) + Math.round(args[3]));
										$(_oo).html(_m);
									}
								}
								break;
							case 'L':
								_CHT_add("cl", [args[3], args[2], args[4], args[5], args[6], args[7], args[8]]);
								if ($("#wnd_"+ proc).length && args[2] && $("#clu_"+ args[2]).length){
									$("#clu_"+ args[2]).remove();
									$("#clu_"+ my_clan +"_cnt").html($("#clu_"+ my_clan +"_tbl > tbody > tr").length);
								}
								break;
							case 'U':
								_CHT_add("cl", [args[3], args[2], args[4], args[5], args[6], args[7]]);
								if ($("#wnd_"+ proc).length && args[2]){
									$.ajax({
										async: true,
										cache: false,
										type: "POST",
										url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
										data: {method: "cl_ereq", val: args[2]},
										dataType: "json",
										success: function(data) {
											if (typeof data.arr != "undefined"){
												_WND_proc(proc, "u", [my_clan, [data.arr[0], data.arr[1], "0", "0.0", "", 1]]);
												if ($("#clu_"+ my_clan +"_div").is(":visible") && !isMobile) $("#clu_"+ my_clan +"_div").tinyscrollbar_update("relative");
												$("#clu_"+ my_clan +"_cnt").html($("#clu_"+ my_clan +"_tbl > tbody > tr").length);
											}
										}
									});
								}
								break;
							case 'J':
								if ($("#wnd_"+ proc).length && ($("#cln_"+ my_clan +"_rq").attr("label") == 1 || $("#cln_"+ my_clan +"_rq").attr("label") == 2 || $("#cln_"+ my_clan +"_rq").attr("label") == 4)){
									var _oo = $("#cln_"+ my_clan +"_rq");
									if ($(_oo).length){
										var _c = parseInt($(_oo).children("b").html());
										if (_c > 0){
											_c --;
											$(_oo).children("b").html(_c);
											if (_c < 1 && !$(_oo).hasClass("not-displayed")) $(_oo).addClass("not-displayed");
										}
									}
								}
								if ($("#wnd_clan_rql").length && $("#cln_rq_"+ args[2]).length){
									$("#cln_rq_"+ args[2]).remove();
									$("#cln_rq_hh_"+ args[2]).remove();
								}
								break;
							case 'R':
								var _r = -1;
								if ($("#wnd_"+ proc).length && ($("#cln_"+ my_clan +"_rq").attr("label") == 1 || $("#cln_"+ my_clan +"_rq").attr("label") == 2 || $("#cln_"+ my_clan +"_rq").attr("label") == 4)) _r = 0;
								if ($("#wnd_clan_rql").length) _r = parseInt(args[2]);
								if (_r >= 0){
									$.ajax({
										async: true,
										cache: false,
										type: "POST",
										url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
										data: {method: "cl_ereq", val: _r},
										dataType: "json",
										success: function(data) {
											if (typeof data.ret != "undefined"){
												var _c = parseInt(data.ret);
												if (_c > 0){
													var _oo = $("#cln_"+ my_clan +"_rq");
													if ($(_oo).length){
														$(_oo).children("b").html(_c);
														if ($(_oo).hasClass("not-displayed")) $(_oo).removeClass("not-displayed");
													}
												}
											}
											if (typeof data.arr != "undefined"){
												_WND_proc("clan_rql", "r", data.arr);
												var _oo = $("#cln_"+ my_clan +"_rq");
												if ($(_oo).length){
													var _c = (parseInt($(_oo).children("b").html()) + 1);
													$(_oo).children("b").html(_c);
													if ($(_oo).hasClass("not-displayed")) $(_oo).removeClass("not-displayed");
												}
											}
										}
									});
								}
								break;
						}
					}else if (!my_clan){
						switch(args[1]){
							case 'L':
								if ($("#wnd_clans").length && $("#cln_"+ args[0]).length){
									var _oo = $("#cln_"+ args[0] +" td:nth-child(2)");
									if ($(_oo).length){
										var _c = (parseInt($(_oo).children("span:first").html()) - 1);
										$(_oo).children("span:first").html(_c);
									}
								}
								break;
							case 'U':
								if ($("#wnd_clans").length && $("#cln_"+ args[0]).length){
									var _oo = $("#cln_"+ args[0] +" td:nth-child(2)");
									if ($(_oo).length){
										var _c0 = parseInt($(_oo).children("span:first").html());
										var _c1 = parseInt($(_oo).children("span:last").html());
										_c0 ++;
										$(_oo).children("span:first").html(_c0);
										if (_c0 >= _c1){
											$("#cln_"+ args[0]).remove();
										}
									}
								}
								break;
						}
					}
					break;
				case "j_req":
					if (args && $("#wnd_"+ proc).length){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "cl_jreq", id: args},
							dataType: "json",
							success: function(data) {
								if (typeof data.ret != "undefined"){
									if ($("#cln_"+ args).length){
										$("#cln_"+ args+" td:nth-child(4)").html('<span>Заявка подана</span>');
									}
								}
							}
						});
					}
					break;
				case "i_acc":
					if (args){
						var _evt = (!evt ? window.event : evt);
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "cl_iacc", id: args},
							dataType: "json",
							success: function(data) {
								if (typeof data.ret != "undefined"){
								}
								if (typeof data.err != "undefined" && data.err == 1){
									_WARN(proc, 2500, '<span class="yellow">Клан уже полный!</span><br/>Попробуйте позже в разделе заявок', _evt.clientX - 100, _evt.clientY);
								}
							}
						});
					}
					break;
				case "u":
					if ($("#wnd_"+ proc).length && args[0]){
						var _t = $("#clu_"+ args[0] +"_tbl");
						if ($(_t).length){
							var _ico = '&nbsp;';
							if (args[1][4] != ""){
								var _tt = '';
								switch(args[1][4]){
									case "owner":  _tt = 'Глава клана'; break;
									case "banker": _tt = 'Казначей'; break;
									case "supervisor": 
									case "supervisor_2": _tt = 'Управляющий'; break;
									case "mjr_1":
									case "mjr_2":    
									case "mjr_3": _tt = 'Офицер'; break;
								}
								_ico = '<img src="/images/clan-icons/cl_'+ args[1][4] +'.png" width="16" height="16" label="'+ args[1][4] +'" title="'+ _tt +'" alt="" />';
							}
							var _nn = parseInt($("#clu_"+ args[0] +"_norm").attr("label"));
							var _np = 100;
							if (_nn > 0){
								_np = Math.round(args[1][3] * 100 / _nn);
							}
							if (_np > 100) _np = 100;
							$(_t).append('<tr id="clu_'+ args[1][0] +'" '+ (args[1][0]==my_id ? 'class="my"' : '') +'>'+
								'<td style="width:4px;height:17px; padding: 0;">'+ _ico +'</td>'+
								'<td style="width:4px; padding: 0;"><img src="/images/icons/on-line.gif" style="vertical-align:-1px" alt="" class="on-line'+(!parseInt(args[1][5]) ? ' off' : '')+'" /></td>'+
								'<td style="padding:0"><a href="#" onclick="_PRF('+ args[1][0] +');return false" label="'+ args[1][0] +'" hidefocus="true" title="Игрок принят в клан: '+ args[1][6] +'">'+ args[1][1] +'</a></td>'+
								'<td style="width:50px;white-space:nowrap;text-align:center">'+ args[1][2] +'</td>'+
								'<td style="width:38px;white-space:nowrap;text-align:center">'+ args[1][3] +'</td>'+
								(typeof args[2] != "undefined" && args[2] ? '<td style="width:72px;white-space:nowrap;text-align:center;padding:0">'+ _np +'%</td>' : '')+
							'</tr>');
						}
					}
					break;
				case "gh":
					if (args){
						var _s = '';
						switch(args[1]){
							case 'impr':
								var _g = '';
								switch (parseInt(args[2])){
									case 1: _g = 'Развитие'; break;
									case 2: _g = 'Бонусы'; break;
									case 3: _g = 'Скидки'; break;
								}
								_s = 'улучшение в группе «'+ _g +'» от';
								break;
							case 'ach': _s = 'выполненное задание от '; break;
							case 'buy': _s = 'покупка слитка от '; break;
							case 'dwin': _s = 'победа клана на дуэли'; break;
							case 'dlead': _s = 'лидерство в задании на дуэли'; break;
							case 'top':
								var _g = '';
								var _p = 0;
								switch (parseInt(args[2])){
									case 1: _g = 'Топ по опыту'; break;
									case 2: _g = 'Топ Любовь'; break;
									case 3: _g = 'Топ кланов по опыту'; _p = 1; break;
									case 4: _g = 'Топ казны кланов'; _p = 1; break;
									case 5: _g = 'Топ бандитов'; break;
									default: _g = 'Топ особого события'; break;
								}
								_s = args[3]+' место «'+ _g +'»'+ (!_p ? ' от' : '');
								break;
						}
						return '<p class="history"><span class="gray">'+ args[0] +'</span>  <span class="yellow">'+ (parseInt(args[4]) > 0 ? '+'+ args[4] : args[4]) +' <img src="/images/icons/ingots-micro.png" alt="" /></span>  '+ _s +' '+ (parseInt(args[5]) > 0 && args[6] != '' && args[6] != null ? '<a href="#" onclick="_PRF('+ args[5] +');return false" hidefocus="true">'+ args[6] +'</a>' : '') +'</p>';
					}
					break;								
				case "c":
					if ($("#wnd_"+ proc).length){
						var _t = $("#wnd_"+ proc +" .container").children("table");
						var _ss = '';
						switch (args[9]){
							case "rejected":
								_ss = '<span style="color:red">Заявка отклонена</span>';
								break;
							case "kicked":
								_ss = '<span style="color:red">Выгнали из клана</span>';
								break;
							case "invited":
								_ss = '<a href="#" onclick="_WND_proc(\''+ proc +'\', \'i_acc\', '+ args[0] +', event);return false" hidefocus="true">Принять приглашение</a>';
								break;
							case "default":
								_ss = '<span>Заявка подана</span>';
								break;
							default:
								_ss = '<a href="#" onclick="_WND_proc(\''+ proc +'\', \'j_req\', '+ args[0] +');return false" hidefocus="true">Подать заявку</a>';
								break;
						}
						if ($(_t).length && !$("#cln"+ args[0]).length){
							$(_t).append('<tr id="cln_'+ args[0] +'">'+
								'<td>'+
									'<div class="level inline">'+ args[5] +'</div>&nbsp;&nbsp;<span class="clan-name">'+ args[1] +'<span class="clan"> '+ (args[7] != '' ? '<img src="'+ cln_url + args[7] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + args[8] +'</span></span>'+
									'<p class="clan-annotation">'+ (!args[2] ? '' : args[2]) +'</p>'+
								'</td>'+
								'<td class="users-row"><span>'+ args[3] +'</span> / <span>'+ args[4] +'</span></td>'+
								'<td class="money-row" style="visibility:hidden">'+ args[6] +'</td>'+
								'<td nowrap>'+ _ss +'</td>'+
							'</tr>');
						}
					}
					break;
				case "l_scrl":
					return true;
					if ($("#wnd_"+ proc).length){
						var _t = $("#wnd_"+ proc +" .container").children("table");
						if ($(_t).length && $(_t).attr("label") != "lock" && ((parseInt($(evt).scrollTop()) + parseInt($(evt).height())) >= $(evt).prop("scrollHeight"))){
							var _l = $(_t).find("tr").length;
							if (_l && parseInt(_l) > 0){
								$(_t).attr("label", "lock");
								setTimeout(function(){
									$.ajax({
										async: true,
										cache: false,
										type: "POST",
										url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
										data: {method: "cl_list", ofs: _l},
										dataType: "json",
										success: function(data) {
											if (typeof data.arr != "undefined"){
												$.each(data.arr, function(_i, _row) {
													_WND_proc(proc, "c", _row);
												});
												$(_t).attr("label", "");
											}
										}
									});
								}, 250);
							}
						}
						return true;
					}
					break;
				case "list":
					if (!$("#wnd_"+ proc).length){
						$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move clans-popup not-displayed">'+
							'<div class="popup-bg">'+
								'<h1>Список кланов</h1>'+
								'<div class="popup-block-style">'+
									'<table cellspacing="0" cellpadding="0">'+
										'<tr>'+
											'<td><button class="button big" onclick="_DLG(\'cl_create\');return false" ondblclick="return false" hidefocus="true">создать свой клан</button></td>'+
											'<td style="padding-left: 10px">или подай заявку на вступление</td>'+
										'</tr>'+
									'</table>'+
								'</div>'+
								'<div class="container" onscroll="return _WND_proc(\''+ proc +'\', \'l_scrl\', null, this);">'+
									'<table cellspacing="0" cellpadding="0" class="table" label="">'+
									'</table>'+
								'</div>'+
								'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false" class="popup-close" hidefocus="true"></a>'+
							'</div>'+
						'</div>');
						$("#wnd_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc).width())/2)) +"px");
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "cl_list"},
							dataType: "json",
							success: function(data) {
								if (typeof data.arr != "undefined"){
									$.each(data.arr, function(_i, _row) {
										_WND_proc(proc, "c", _row);
									});
								}
							}
						});
						$("#wnd_"+ proc).mousedown(function(){
							var _i = $(this).attr("id");
							var _z = _POPUP_resort("popup-move", _i);
							$(this).css("z-index", _z);
						}).show("fade", 100, function(){
							$(this).removeClass("not-displayed");
							$(this).mousedown();
						});
					}else{
						$("#wnd_"+ proc).mousedown();
					}
					break;
				case "blg":
					if (!$("#wnd_"+ proc +"_blg").length){
						if (my_clan && $("#cln_"+ my_clan +"_rq") && ($("#cln_"+ my_clan +"_rq").attr("label") == 1 || $("#cln_"+ my_clan +"_rq").attr("label") == 3 || $("#cln_"+ my_clan +"_rq").attr("label") == 4)){
							_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
							$("#popup_container").append('<div id="wnd_'+ proc +'_blg" class="popup-move money-history-popup not-displayed">'+
								'<div class="popup-bg">'+
									'<h1 style="text-align:left;cursor:move">История казны</h1>'+
									'<table cellspacing="0" cellpadding="0" class="table td-centered">'+
										'<tr>'+
											'<th style="text-align:left;width:100px">Дата</th>'+
											'<th style="text-align:left;width:120px">Ник</th>'+
											'<th style="text-align:left">Действие</th>'+
										'</tr>'+
									'</table>'+
									'<div id="cl_blg_list" class="container_m" style="height:420px;overflow:auto;">'+
										'<table cellspacing="0" cellpadding="0" class="table">'+
										'</table>'+
									'</div>'+
									'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'_blg\');return false" class="popup-close" hidefocus="true"></a>'+
								'</div>'+
							'</div>');
							$("#wnd_"+ proc +"_blg").css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc +"_blg").width())/2)) +"px");
							$.ajax({
								async: true,
								cache: false,
								type: "POST",
								url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
								data: {method: "cl_blg"},
								dataType: "json",
								success: function(data) {
									if (typeof data.arr != "undefined"){
										var _s = '';
										$.each(data.arr, function(_i, _row) {
											var _ss = '';
											switch (parseInt(_row[2])){
												case 0: _ss = 'Смена налога: '+ _row[1] +'%'; break;
												case 1: _ss = 'Взнос в казну: +'+ _row[1]; break;
												case 2: 
													_ss = 'Покупка экстры: «'+ __store[_row[3]].title +'» &nbsp; -'+ _row[1];
													break;
												case 3: 
													var _ii = '';
													switch (parseInt(_row[3])){
														case 0: _ii = 'Иконка клана'; break;
														case 1: _ii = 'Иконка званий'; break;
														case 2: _ii = 'Аббревиатура клана'; break;
													}
													_ss = 'Покупка экстры: «'+ _ii +'» &nbsp; -'+ _row[1];
													break;
												case 4: _ss = 'Оповещение клана: -'+ _row[1]; break;
											}
											_s += '<tr>'+
												'<td style="text-align:left;width:100px">'+ _row[0] +'</td>'+
												'<td style="text-align:left;width:120px"><a href="#" onclick="_PRF('+ _row[4] +');return false">'+ _row[5] +'</a></td>'+
												'<td style="text-align:left" nowrap>'+ _ss +'</td>'+
											'</tr>';
										});
										if (_s != ''){
											var _t = $("#cl_blg_list").children("table");
											if ($(_t).length){
												$(_t).append(_s);
											}
										}
									}
								}
							});
							$("#wnd_"+ proc +"_blg").draggable({
								containment: "document",
								cancel: ".container,.popup-close,.container_m",
								zIndex: 100,
								stop: function(e, ui){
									$(this).css({left: ui.position.left +"px", top: ui.position.top +"px"});
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}	
					}else{
						$("#wnd_"+ proc +"_blg").mousedown();
					}
					break;
				case "recr_hh":
					if (args){
						var _hh = $("#rcr_hh_"+ args);
						if ($(_hh).length){
							if ($(_hh).hasClass("show")){
								$(_hh).removeClass("show");
								$("#rcr_h_"+ args).html('Показать историю');
							}else{
								$(_hh).addClass("show");
								$("#rcr_h_"+ args).html('Скрыть историю');
							}
						}
					}	
					break;
				case "recr_s":
					if ($("#wnd_"+ proc +"_recr").length && my_clan && $("#cln_"+ my_clan +"_rq") && ($("#cln_"+ my_clan +"_rq").attr("label") == 1 || $("#cln_"+ my_clan +"_rq").attr("label") == 2 || $("#cln_"+ my_clan +"_rq").attr("label") == 4)){
						$("#rsr_0").attr("label", args[0]).html(args[0]+' и выше');
						$("#rsr_1").attr("label", args[1]).html(!parseInt(args[1]) ? 'любая' : league_ttls[args[1]]);
						$("#rsr_2").attr("label", args[2]).html(!parseInt(args[2]) ? 'По уровню игрока' : 'По лиге игрока');
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "cl_recr", args: args},
							dataType: "json",
							success: function(data) {
								var _s = '';
								if (typeof data.arr != "undefined"){
									$.each(data.arr, function(_i, _row) {
										var _h = '<tr>'+
											'<th>Кланы игрока</th>'+
											'<th>Состояние</th>'+
											'<th>Проведено</th>'+
											'<th>Опыт за клан</th>'+
											'<th>Причина</th>'+
										'</tr>';
										if (_row[3]){
											$.each(_row[3], function(_ii, _rr) {
												var _r = '';
												switch(_rr[2]){
													case "kick": _r = 'Выгнан'; break;
													case "leave": _r = 'Покинул'; break;
													case "disband": _r = 'Распустил'; break;
													case "delete": _r = 'Расформирован'; break;
												}
												_h += '<tr>'+
													'<td>'+ (_rr[0] != '-' ? '<div class="level inline">'+ _rr[1] +'</div> '+ _rr[0] : '-') +'</td>'+
													'<td>'+ _r +': '+ _rr[3] +'</td>'+
													'<td>'+ _rr[4] +' дн.</td>'+
													'<td>'+ _rr[5] +'</td>'+
													'<td>'+ _rr[6] +'</td>'+
												'</tr>';
											});
										}
										_s += '<tr class="clan-rql">'+
											'<td style="width:1%"><div class="photo-radius52"><img src="'+ _row[6] +'" alt="" onload="_PIX_crop(this, 52);" /></div></td>'+
											'<td><div class="level inline">'+ _row[5] +'</div> <a href="#" onclick="_PRF('+ _row[0] +');return false" hidefocus="true">'+ _row[1] +'</a></td>'+
											'<td><img src="/images/icons/league/'+ (!parseInt(_row[2]) ? 1 : _row[2]) +'.png" alt="" /></td>'+
											'<td>КПД: '+ _row[4] +'%</td>'+
											'<td><a id="rcr_h_'+ _row[0] +'" href="#" class="white" hidefocus="true" onclick="_WND_proc(\''+ proc +'\', \'recr_hh\', \''+ _row[0] +'\');return false">Показать историю</a></td>'+
											'<td style="text-align: right"><a href="#" onclick="_PVT(event, \''+ _row[0] +'\');return false" hidefocus="true" class="green">Написать сообщение</a></td>'+
										'</tr>'+
										'<tr id="rcr_hh_'+ _row[0] +'" class="full-info">'+
											'<td colspan="6" style="padding: 10px">'+
												'<div class="clan-rql-container">'+
													'<table cellspacing="0" cellpadding="0" class="table clan-rql">'+ _h +'</table>'+
												'</div>'+
											'</td>'+
										'</tr>';
									});
								}
								$("#wnd_"+ proc +"_recr .container").children("table").html(_s);
							}
						});
					}
					break;	
				case "recr":
					if (!$("#wnd_"+ proc +"_recr").length){
						if (my_clan && $("#cln_"+ my_clan +"_rq") && ($("#cln_"+ my_clan +"_rq").attr("label") == 1 || $("#cln_"+ my_clan +"_rq").attr("label") == 2 || $("#cln_"+ my_clan +"_rq").attr("label") == 4)){
							_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
							$("#popup_container").append('<div id="wnd_'+ proc +'_recr" class="popup-move clan-rql-popup not-displayed" style="top:100px">'+
								'<div class="popup-bg">'+
									'<h1 style="text-align:left;cursor:move">Поиск игроков без клана</h1>'+
									'<div style="float:left;border:1px solid #3f3f3f;padding:10px 15px 6px 15px;white-space:nowrap" class="radius">'+
									'<table cellspacing="0" cellpadding="0"><tr>'+
										'<td style="font-weight: bold; padding-right: 5px; padding-bottom: 4px;">Уровень:</td>'+
										'<td><div class="select" style="width:80px;"><span id="rsr_0" label=""></span>'+
											'<ul class="options">'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [5,$(\'#rsr_1\').attr(\'label\'),$(\'#rsr_2\').attr(\'label\')]);return false">5 и выше</li>'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [10,$(\'#rsr_1\').attr(\'label\'),$(\'#rsr_2\').attr(\'label\')]);return false">10 и выше</li>'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [20,$(\'#rsr_1\').attr(\'label\'),$(\'#rsr_2\').attr(\'label\')]);return false">20 и выше</li>'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [30,$(\'#rsr_1\').attr(\'label\'),$(\'#rsr_2\').attr(\'label\')]);return false">30 и выше</li>'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [40,$(\'#rsr_1\').attr(\'label\'),$(\'#rsr_2\').attr(\'label\')]);return false">40 и выше</li>'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [50,$(\'#rsr_1\').attr(\'label\'),$(\'#rsr_2\').attr(\'label\')]);return false">50 и выше</li>'+
											'</ul>'+
										'</div></td>'+
										'<td style="font-weight: bold; padding-right: 5px; padding-bottom: 4px; padding-left: 20px;">Лига:</td>'+
										'<td><div class="select" style="width:80px;"><span id="rsr_1" label=""></span>'+
											'<ul class="options">'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [$(\'#rsr_0\').attr(\'label\'),0,$(\'#rsr_2\').attr(\'label\')]);return false">любая</li>'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [$(\'#rsr_0\').attr(\'label\'),1,$(\'#rsr_2\').attr(\'label\')]);return false">'+ league_ttls[1] +'</li>'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [$(\'#rsr_0\').attr(\'label\'),2,$(\'#rsr_2\').attr(\'label\')]);return false">'+ league_ttls[2] +'</li>'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [$(\'#rsr_0\').attr(\'label\'),3,$(\'#rsr_2\').attr(\'label\')]);return false">'+ league_ttls[3] +'</li>'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [$(\'#rsr_0\').attr(\'label\'),4,$(\'#rsr_2\').attr(\'label\')]);return false">'+ league_ttls[4] +'</li>'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [$(\'#rsr_0\').attr(\'label\'),5,$(\'#rsr_2\').attr(\'label\')]);return false">'+ league_ttls[5] +'</li>'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [$(\'#rsr_0\').attr(\'label\'),6,$(\'#rsr_2\').attr(\'label\')]);return false">'+ league_ttls[6] +'</li>'+
											'</ul>'+
										'</div></td>'+
									'</tr></table>'+
									'<table cellspacing="0" cellpadding="0" style="position:absolute;right:10px;top:55px"><tr>'+
										'<td style="font-weight: bold; padding-right: 5px; padding-bottom: 4px;">Сортировать:</td>'+
										'<td><div class="select" style="width:100px;"><span id="rsr_2" label=""></span>'+
											'<ul class="options">'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [$(\'#rsr_0\').attr(\'label\'),$(\'#rsr_1\').attr(\'label\'),0]);return false">По уровню игрока</li>'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'recr_s\', [$(\'#rsr_0\').attr(\'label\'),$(\'#rsr_1\').attr(\'label\'),1]);return false">По лиге игрока</li>'+
											'</ul>'+
										'</div></td>'+
									'</tr></table>'+
									'</div>'+
									'<div class="container" style="clear:both;height:460px;">'+
										'<table cellspacing="0" cellpadding="0" class="table clan-rql">'+
										'</table>'+
									'</div>'+
									'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'_recr\');return false" class="popup-close" hidefocus="true"></a>'+
								'</div>'+
							'</div>');
							$("#wnd_"+ proc +"_recr").css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc +"_recr").width())/2)) +"px");
							_WND_proc(proc, "recr_s", args);
							$("#wnd_"+ proc +"_recr").draggable({
								containment: "document",
								cancel: ".container,.popup-close,.options",
								zIndex: 100,
								helper: function(e){
									return $('<div class="popup-outline" style="width:'+$(this).width()+'px;height:'+$(this).height()+'px;"></div>');
								},
								stop: function(e, ui){
									$(this).css({left: ui.position.left +"px", top: ui.position.top +"px"});
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}	
					}else{
						$("#wnd_"+ proc +"_recr").mousedown();
					}
					break;
				case "glg":
					if (!$("#wnd_"+ proc +"_glg").length){
						if (my_clan && $("#cln_"+ my_clan +"_rq") && parseInt($("#cln_"+ my_clan +"_rq").attr("label")) > 0){
							_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
							$("#popup_container").append('<div id="wnd_'+ proc +'_glg" class="popup-move money-history-popup not-displayed">'+
								'<div class="popup-bg">'+
									'<h1 style="text-align:left;cursor:move">История слитков</h1>'+
									'<div id="cl_glg_list" class="container_m" style="height:420px;overflow:auto;">'+
									'</div>'+
									'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'_glg\');return false" class="popup-close" hidefocus="true"></a>'+
								'</div>'+
							'</div>');
							$("#wnd_"+ proc +"_glg").css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc +"_glg").width())/2)) +"px");
							$.ajax({
								async: true,
								cache: false,
								type: "POST",
								url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
								data: {method: "cl_glg"},
								dataType: "json",
								success: function(data) {
									if (typeof data.arr != "undefined"){
										var _s = '';
										$.each(data.arr, function(_i, _row) {
											_s += _WND_proc(proc, "gh", _row);
										});
										if (_s != '') $("#cl_glg_list").append(_s);
									}
								}
							});
							$("#wnd_"+ proc +"_glg").draggable({
								containment: "document",
								cancel: ".container,.popup-close,.container_m",
								zIndex: 100,
								stop: function(e, ui){
									$(this).css({left: ui.position.left +"px", top: ui.position.top +"px"});
									$(this).mousedown();
								}
							}).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							}).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}	
					}else{
						$("#wnd_"+ proc +"_glg").mousedown();
					}
					break;	
				case "upl":
					if (my_clan){
						var _evt = (!evt ? window.event : evt);
						if ($("#cln_"+ my_clan +"_rq").attr("label") == 1 || $("#cln_"+ my_clan +"_rq").attr("label") == 4){
							$.ajax_postup({
								url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
               							file_ele_ids: ["cln_"+ my_clan +"_xupl"],
               							data: {method: "cl_upl"}
							});
						}
					}
					break;
				case "x_toggle":
					var _l = parseInt($("#cln_"+ my_clan +"_xlink").attr("label"));
					if (_l){
						// $("#cln_"+ my_clan +"_rc1").addClass("not-displayed");
						// $("#cln_"+ my_clan +"_rc0").removeClass("not-displayed");
						// $("#cln_"+ my_clan +"_xlink").html('<span>экстры клана</span>');
						$("#cln_"+ my_clan +"_xlink").attr("label", "0");
					}else{
						// $("#cln_"+ my_clan +"_rc0").addClass("not-displayed");
						// $("#cln_"+ my_clan +"_rc2").addClass("not-displayed");
						// $("#cln_"+ my_clan +"_rc1").removeClass("not-displayed");
						// $("#cln_"+ my_clan +"_xlink").html('<span>скрыть экстры</span>');
						$("#cln_"+ my_clan +"_xlink").attr("label", "1");
					}
					break;
				case "r_toggle":
					if (!args){
						$("#cln_"+ my_clan +"_ul1").addClass("not-displayed");
						$("#cln_"+ my_clan +"_ul0").removeClass("not-displayed");
					}else{
						$("#cln_"+ my_clan +"_ul0").addClass("not-displayed");
						$("#cln_"+ my_clan +"_ul1").removeClass("not-displayed");
					}
					break;	
				case "i_toggle":
					if (!args){
						$("#cln_"+ my_clan +"_rc2").addClass("not-displayed");
						$("#cln_"+ my_clan +"_rc0").removeClass("not-displayed");
					}else{
						if (!$("#cln_"+ my_clan +"_rc0").hasClass("not-displayed")) $("#cln_"+ my_clan +"_rc0").addClass("not-displayed");
						if (!$("#cln_"+ my_clan +"_rc1").hasClass("not-displayed")) $("#cln_"+ my_clan +"_rc1").addClass("not-displayed");
						$("#cln_"+ my_clan +"_rc2").removeClass("not-displayed");
						$("#cln_"+ my_clan +"_xlink").html('<span>экстры клана</span>');
						$("#cln_"+ my_clan +"_xlink").attr("label", "0");
						var _ttl = '';
						var _descr = '';
						switch (args){
							case 1: _ttl = 'Развитие клана'; _descr = 'Все улучшения помогают развивать клан'; break;
							case 2: _ttl = 'Бонусы клана'; _descr = 'Все улучшения дают преимущество во время игры'; break;
							case 3: _ttl = 'Скидки клана'; _descr = 'Все улучшения позволяют сэкономить монеты'; break;
						}
						$("#cli_"+ my_clan +"_tbl").html('');
						if (args == 1){
							$("#cln_"+ my_clan +"_rc2 .exp-needed:not(.not-displayed").addClass("not-displayed");
						}else{
							var _cci = parseInt($("#clu_"+ my_clan +"_tbl").attr("label"));
							if (!_cci) $("#cln_"+ my_clan +"_rc2 .exp-needed.not-displayed").removeClass("not-displayed");
						}
						$("#cln_"+ my_clan +"_rc2 h1.skills").html('<img src="/images/interface/clan-strength-'+ args +'.png" alt="" />'+
							'<p>'+ _ttl +'</p>'+
							'<span class="gray">'+ _descr +'</span>');
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "cl_impr", grp: args},
							dataType: "json",
							success: function(data) {
								var _s = '';
								var _rq = parseInt($("#cln_"+ my_clan +"_rq").attr("label"));
								if (typeof data.arr != "undefined"){	
									$.each(data.arr, function(_i, _row){
										var _p = (_row[7] / _row[6] * 100);
										if (_p > 100) _p = 100;
										var _v = (_row[7] * _row[5]);
										var _t = _row[4];
										var _x0 = _t.indexOf('[');
										if (_x0 != -1){
											var _g = _t.substring(_x0 + 1, _t.indexOf(']')).split(',');
											_t = _t.substr(0, _x0) + _postfix(_g, _v) + _t.substr(_t.indexOf(']') + 1);
										}
										var _x = _v + ' '+ _t;
										_s += '<tr id="cli_i_'+ _row[0] +'">'+
											'<td class="ico"><img src="/images/impr/'+ _row[0] +'.png" alt="" /></td>'+
											'<td>'+
												_row[1] +
												'<div class="progress-bar color-'+ args +' '+ ((_rq == 1 || _rq == 4) && parseInt(_row[7]) < parseInt(_row[6]) ? 'button' : '') +' hide-text">'+
													'<div class="progress-bg" style="width:'+ _p +'%"><div></div></div>'+
													'<div class="text" label="'+ _row[3] +'|'+ _row[4] +'">'+ _row[3] +': '+ _x +'</div>'+
													'<div class="button add" onclick="$(\'#cli_'+ my_clan +'_tbl\').attr(\'label\', \''+ _row[0] +'\');_DLG(\'cl_impr\');return false"></div>'+
												'</div>'+
												'Цена: <strong class="yellow">'+ _row[2] +' <img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /></strong>'+
											'</td>'+
										'</tr>';
									});
								}
								if (_s != '') $("#cli_"+ my_clan +"_tbl").html(_s);
								if (!isMobile) $("#cli_"+ my_clan +"_div").tinyscrollbar_update("relative");
							}
						});
					}
					break;
				case "i_impr":
					if (my_clan){
						var _evt = (!evt ? window.event : evt);
						var _i_id = ($("#cli_"+ my_clan +"_tbl").attr("label"));
						_DLG("cl_impr", 1);
						if (_i_id > 0){
							$.ajax({
								async: true,
								cache: false,
								type: "POST",
								url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
								data: {method: "cl_impr_u", "id": _i_id},
								dataType: "json",
								success: function(data) {
									if (typeof data.err != "undefined"){
										var _e = '';
										switch (data.err){
											case 1: _e = 'Недостаточно слитков'; break;
											case 2: _e = 'Недостаточно прав'; break;
											case 3: _e = 'Невозможно'; break;
										}
										if (_e != '') _WARN(proc, 2500, '<span class="yellow">'+ _e +'</span>', _evt.clientX - 100, _evt.clientY);
									}
								}
							});
						}
					}
					break;
				case "a_skip":
					if (my_clan){
						var _evt = (!evt ? window.event : evt);
						_DLG("cl_askip", 1);
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "cl_askip"},
							dataType: "json",
							success: function(data) {
								if (typeof data.clach != "undefined"){
									var _a = _WND_proc(proc, "clach", data.clach);
									$("#cln_"+ my_clan +"_clach").html(_a);
								}
								if (typeof data.err != "undefined"){
									_WARN(proc, 2500, '<span class="yellow">Закончились смены заданий</span>', _evt.clientX - 100, _evt.clientY);
								}
							}
						});
					}
					break;
				case "clach":
					if (typeof __ach[args[0]] != "undefined"){
						var _t = __ach[args[0]]['text'];
						var _x0 = _t.indexOf('[');
						if (_x0 != -1){
							var _g = _t.substring(_x0 + 1, _t.indexOf(']')).split(',');
							_t = _t.substr(0, _x0) + _postfix(_g, args[3]) + _t.substr(_t.indexOf(']') + 1);
						}
						var _x = _t.replace(/%s/g, args[3]);
						var _prc = Math.ceil(parseInt(args[1]) * 100 / args[3]);
						return '<div class="ico"><img src="/images/ach/'+ args[0] +'.png" alt="" /><div class="hover-hint">Если вы хотите помочь клану, то выполняйте задания, в награду вы принесёте клану слиток золота, а себе звёзды в достижения<div class="arrow"></div></div></div>'+
							'<p>'+ _x +'</p>'+
							'<div class="progress-bar">'+
								'<div class="progress-bg" style="width:'+ _prc +'%"><div></div></div>'+
								'<div class="text">'+ args[1] +' / '+ args[3] +'</div>'+
								'<div class="button"></div>'+
							'</div>'+
							'<p style="position: relative">Награда: <strong class="yellow"><img src="/images/icons/ingots-micro.png" style="vertical-align: -3px" alt="" /> 1 <img src="/images/icons/ach-star-micro.png" style="vertical-align: -2px; margin-left: 4px" alt="" /> 5</strong> <a href="#" onclick="_DLG(\'cl_askip\');return false" hidefocus="true" style="position: absolute; right: 0" class="white">Сменить задание</a></p>';
					}else{
						return '';
					}
					break;
				case "main":
					if (!$("#wnd_"+ proc).length && my_clan){
						_WARN(proc);
						var _s = '';
						var _s_own = '';
						$.each(__store_sort, function(_k, _i){ if (__store[_i]){
							//if (_i == 154) return;
							var _row = __store[_i];
							if (_row.type == "extra" && _row.clan){
								var _d = '';
								var _c = false;
								if ($("#gxt_"+ _i).length){
									var _xo = $("#gxt_"+ _i).clone();
									$(_xo).find("div.hover-hint").remove();
									_d = $(_xo).html();
									$(_xo).remove;
									_c = true;
								}else{
									_d = '<img src="/img/extras/'+ _i +'.png" class="ico" />';
								}
								var _do = _d;
								_d += '<div class="hover-hint">'+__store[_i].descr+''+(typeof __store[_i].qty != "undefined" && parseInt(__store[_i].qty) > 1 ? ' <br />'+ __store[_i].qty + ' шт.' : '')+'<br/><br/>Экстры покупает глава клана или казначей на монеты из казны. При покупке, экстры добавляются каждому игроку в клане.<span class="cln-xs-ps not-displayed"><br/><br/>Финальная стоимость экстры зависит от кол-ва игроков в клане. Базовая стоимость экстры: '+ _row.price+ '</span><div class="arrow"></div></div>';
								_do += '<div class="hover-hint">'+__store[_i].descr+''+(typeof __store[_i].qty != "undefined" && parseInt(__store[_i].qty) > 1 ? ' <br />'+ __store[_i].qty + ' шт.' : '')+'<div class="arrow"></div></div>';
								_s += '<li>'+
									'<div id="cln_'+ my_clan +'_x_'+ _i +'" class="extraIco cln-xs'+(!_c ? ' disabled' : '')+'" ondblclick="return false" onclick="if($(\'.cln-xs-pp\').hasClass(\'not-displayed\'))return false;$(\'#cln_'+ my_clan +'_xi_'+ _i +'\').toggleClass(\'not-displayed\').find(\'input\').focus();return false" hidefocus="true" label="">'+ _d +'</div>'+
									'<p class="name">'+ _row.title +'</p>'+
									'<p class="price cln-xs-pp not-displayed" style="margin:5px 0 0 0;" label="'+ _row.price +'">'+
										'<img src="/images/icons/coin-micro.png" alt="" /> '+ _row.price +
									'</p>'+
									'<div id="cln_'+ my_clan +'_xi_'+ _i +'" style="position:absolute;background-color:#2a2a2a;left:5px;bottom:10px;" class="not-displayed"><input type="text" class="mini-input" value="" maxlength="4" style="width:34px"><a href="#" onclick="var _ii=$(\'#cln_'+ my_clan +'_xi_'+ _i +' input\');var __cc=parseInt($(_ii).val().trim());$(_ii).val(\'\');if(isNaN(__cc))return false;_WND_proc(\''+ proc +'\', \'act\', {act:\'xbuy\', id:'+ _i +', cc: __cc}, event);return false" hidefocus="true"><img src="/images/interface/button-input-submit.png" width="21" height="20" alt="" style="margin-left:4px;vertical-align:-6px"></a></div>'+
								'</li>';
								_s_own += '<li>'+
									'<div id="cln_'+ my_clan +'_xo_'+ _i +'" class="extraIco" ondblclick="return false" onclick="_WND_proc(\''+ proc +'\', \'act\', {act:\'xbuy_own\', id:'+ _i +'}, event);return false" hidefocus="true" label="">'+ _do +'</div>'+
									'<p class="name">'+ _row.title +'</p>'+
									'<p class="price" style="margin:5px 0 0 0;" label="'+ _row.price_own +'">'+
										'<img src="/images/icons/coin-micro.png" alt="" /> '+ _row.price_own +
									'</p>'+
								'</li>';
							}
						}});
						$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move clan-popup333 not-displayed" style="top:5px;left:80px">'+
							'<div class="popup-bg">'+
								'<div class="left-column">'+
									'<h1 class="clan-name">'+
										'<div id="cln_'+ my_clan +'_ttl"></div>'+
										'<div class="clan-control">'+
											'<a href="#" title="Действия" onclick="_WND_proc(\''+ proc +'\', \'pp\', \'\', event);return false" hidefocus="true" class="action"></a>'+
											'<a href="#" title="Заявки в клан" id="cln_'+ my_clan +'_rq" label="0" class="not-displayed clan-event" onclick="_WND_proc(\'clan_rql\');return false" hidefocus="true"><b>0</b></a>'+
										'</div>'+
										'<div id="cln_'+ my_clan +'_xdiv" style="position:absolute;width:0;height:0;"></div>'+
									'</h1>'+
									'<div class="clan-information">'+
										'<div class="clan-stats-block">'+
											'<div id="cln_'+ my_clan +'_gold" class="gold-ingots">'+
												'<div class="circle-bar">'+
													'<div class="active-border">'+
														'<div class="circle"></div>'+
													'</div>'+
													'<div class="clip-mask"></div>'+
												'</div>'+
												'<div class="total"></div>'+
												'<div class="hover-hint"></div>'+
											'</div>'+
											'<ul class="clan-strength">'+
												'<li class="ico">'+
													'<img src="/images/interface/clan-strength-1.png" alt="" />'+
													'<div class="hover-hint"><strong>Развитие клана</strong><br /> Все улучшения помогают развивать клан<div class="arrow"></div></div>'+
												'</li>'+
												'<li class="strength-progress" onclick="_WND_proc(\''+ proc +'\', \'i_toggle\', 1);return false">'+
													'<div id="cli_'+ my_clan +'_g1" class="progress-bar color-1 button" label="0">'+
														'<div class="progress-bg" style="width:0%"><div></div></div>'+
														'<div class="text">0</div>'+
														'<div class="button more"></div>'+
													'</div>'+
												'</li>'+
												'<li class="ico">'+
													'<img src="/images/interface/clan-strength-2.png" alt="" />'+
													'<div class="hover-hint"><strong>Бонусы клана</strong><br /> Все улучшения дают преимущество во время игры<div class="arrow"></div></div>'+
												'</li>'+
												'<li class="strength-progress" onclick="_WND_proc(\''+ proc +'\', \'i_toggle\', 2);return false">'+
													'<div id="cli_'+ my_clan +'_g2" class="progress-bar color-2 button" label="0">'+
														'<div class="progress-bg" style="width:0%"><div></div></div>'+
														'<div class="text">0</div>'+
														'<div class="button more"></div>'+
													'</div>'+
												'</li>'+
												'<li class="ico">'+
													'<img src="/images/interface/clan-strength-3.png" alt="" />'+
													'<div class="hover-hint"><strong>Скидки клана</strong><br /> Все улучшения позволяют сэкономить монеты<div class="arrow"></div></div>'+
												'</li>'+
												'<li class="strength-progress" onclick="_WND_proc(\''+ proc +'\', \'i_toggle\', 3);return false">'+
													'<div id="cli_'+ my_clan +'_g3" class="progress-bar color-3 button" label="0">'+
														'<div class="progress-bg" style="width:0%"><div></div></div>'+
														'<div class="text">0</div>'+
														'<div class="button more"></div>'+
													'</div>'+
												'</li>'+
											'</ul>'+
										'</div>'+
									'</div>'+
									'<div id="cln_'+ my_clan +'_xflag" class="not-displayed" style="color:red">Внимание! Вашему клану требуется набрать опыт, иначе он будет расформирован за неактивность</div>'+
									'<div class="clanExtrasBlock">'+
										'<ul id="cln_'+ my_clan +'_ul0" style="margin-bottom:1px" class="extras-list clan-extras-list">'+
											'<li>'+
												'<div id="cln_'+ my_clan +'_xico_o" class="extraIco cln-xs" ondblclick="return false" onclick="_WND_proc(\''+ proc +'\', \'act\', {act:\'xxbuy_own\', tp:\'icon\'}, event);return false" hidefocus="true" label=""><div class="ico" style="background-repeat: no-repeat; background-position: center center"></div><div class="count time">0 дн<div></div></div><div class="hover-hint">Данная экстра добавляет иконку клана для всех участников клана<div class="arrow"></div></div></div>'+
												'<p class="name">Иконка клана</p>'+
												'<p class="price cln-xs-p not-displayed" style="margin:5px 0 0 0;">'+
													'<img src="/images/icons/coin-micro.png" style="vertical-align:-2px" alt="" /> 5000'+
												'</p>'+
											'</li>'+
											'<li>'+
												'<div id="cln_'+ my_clan +'_xbrnd_o" label="" class="extraIco cln-xs" ondblclick="return false" onclick="_WND_proc(\''+ proc +'\', \'act\', {act:\'xxbuy_own\', tp:\'brand\'}, event);return false" hidefocus="true" label=""><img src="/img/extras/152.png" class="ico" /><div class="count time">0 дн<div></div></div><div class="hover-hint">Данная экстра добавляет аббревиатуру для всех участников клана<div class="arrow"></div></div></div>'+
												'<p class="name">Аббревиатура</p>'+
												'<p class="price cln-xs-p not-displayed" style="margin:5px 0 0 0;">'+
													'<img src="/images/icons/coin-micro.png" style="vertical-align:-2px" alt="" /> 2500'+
												'</p>'+
											'</li>'+
											_s_own +
																						'<li>'+
												'<div class="extraIco" ondblclick="return false" onclick="_WND_proc(\''+ proc +'\', \'act\', {act:\'gldbuy\'}, event);return false" hidefocus="true" label=""><img src="/img/extras/ingots.png" class="ico" /><div class="hover-hint">Используется для покупки улучшений клана<div class="arrow"></div></div></div>'+
												'<p class="name">Слиток золота</p>'+
												'<p class="price" style="margin:5px 0 0 0;">'+
																										'<img src="/images/icons/ruby-micro.png" style="vertical-align:-6px" alt="" /> 10'+
																									'</p>'+
											'</li>'+
																					'</ul>'+
									'</div>'+
									'<div class="ingots-task">'+
										'<div id="cln_'+ my_clan +'_clach" class="task">'+
										'</div>'+
										'<hr />'+
										'<div id="cln_'+ my_clan +'_gold_h" class="history">'+
										'</div>'+
									'</div>'+
								'</div>'+
								'<div id="cln_'+ my_clan +'_rc0" class="right-column">'+
									'<p style="margin: 0; paddng: 0; font-weight: bold">Места клана в топах</p>'+
									'<div class="top-clan-place">'+
										'<ul>'+
											'<li class="ico" id="cln_'+ my_clan +'_top_3" onclick="_WND_proc(\'top\', \'\', \'cl_gold\');return false"><img src="/images/icons/clan-top-1.png" alt="" /><div class="hover-hint">Топ слитков<div class="arrow"></div></div></li>'+
											'<li class="place">&#151;</li>'+
											'<li class="ico" id="cln_'+ my_clan +'_top_2" onclick="_WND_proc(\'top\', \'\', \'duels\');return false"><img src="/images/icons/clan-top-2.png" alt="" /><div class="hover-hint">Топ дуэлей<div class="arrow"></div></div></li>'+
											'<li class="place">&#151;</li>'+
											'<li class="ico" id="cln_'+ my_clan +'_top_0" onclick="_WND_proc(\'top\', \'\', \'clans_w\');return false"><img src="/images/icons/clan-top-3.png" alt="" /><div class="hover-hint">Топ кланов<div class="arrow"></div></div></li>'+
											'<li class="place">&#151;</li>'+
										'</ul>'+
									'</div>'+
									'<hr style="margin: 25px 0" />'+
									'<div class="select" id="clu_'+ my_clan +'_ff" onclick="_WND_proc(\''+ proc +'\', \'ff\', 0, event);return false" hidefocus="true">Текущая неделя</div>'+
									'<table class="table" style="width:352px" cellpadding="0" cellspacing="0">'+
										'<tr>'+
											'<td style="font-weight:bold" class="yellow" colspan="2">игроков: <span id="clu_'+ my_clan +'_cnt">0</span></td>'+
											'<td style="width:1%;white-space:nowrap;text-align:center;font-weight:bold" class="yellow">сыграно игр</td>'+
											'<td style="width:38px;white-space:nowrap;text-align:center;font-weight:bold" class="yellow">опыт</td>'+
											'<td id="clu_'+ my_clan +'_norm" style="width:74px;white-space:nowrap;text-align:center;font-weight:bold;text-decoration:underline;padding:0" class="yellow" onmouseover="_HNTS(\'clnorm\', null, event);" onmouseout="_HINT(\'hnts_clnorm_hint\', 250);" label="0">норма: 0</td>'+
										'</tr>'+
									'</table>'+
									'<div id="clu_'+ my_clan +'_div" class="scrollBarContainer " style="height:526px;position:relative">'+
										'<div class="bar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>'+
										'<div class="viewport" style="height:526px">'+
											'<div class="overview" style="width:372px">'+
												'<table id="clu_'+ my_clan +'_tbl" cellspacing="0" cellpadding="0" class="table" style="width:352px" label="0">'+
												'</table>'+
											'</div>'+
										'</div>'+
									'</div>'+
								'</div>'+
								'<div id="cln_'+ my_clan +'_rc1" class="right-column not-displayed">'+
									'pavel'+

								'</div>'+
								'<div id="cln_'+ my_clan +'_rc2" class="right-column not-displayed">'+
									'<h1 class="skills"></h1>'+
									'<p class="exp-needed not-displayed">Вам необходимо набрать 50 опыта в клан для получения улучшений клана</p>'+
									'<div id="cli_'+ my_clan +'_div" class="scrollBarContainer " style="height:645px;position:relative">'+
										'<div class="bar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>'+
										'<div class="viewport" style="height:645px">'+
											'<div class="overview" style="width:342px">'+
												'<table cellpadding="0" cellspacing="0" class="skills" id="cli_'+ my_clan +'_tbl" label="0">'+
												'</table>'+
											'</div>'+
										'</div>'+
									'</div>'+
									'<a href="#" onclick="_WND_proc(\''+ proc +'\', \'i_toggle\', 0);return false" hidefocus="true" class="back">« <u>Вернуться в список игроков</u></a>'+
								'</div>'+
								'<a href="#" onclick="if(my_clan){_GM_action(\'\', \'upd\', \'pp_dd\', \'clan_'+ my_clan +'\');_GM_action(\'\', \'upd\', \'pp_dd\', \'cl_ff_'+ my_clan +'\');}_WARN(\''+ proc +'\');_WND_proc(\'\', \'close\', \''+ proc +'\');return false" class="popup-close" hidefocus="true"></a>'+
							'</div>'+	
						'</div>');
						$("#wnd_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc).width())/2)) +"px");
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "cl_root", id: my_clan},
							dataType: "json",
							success: function(data) {
								if (typeof data.arr != "undefined"){
									var _bnk_can = (data.arr[1] == my_id || data.arr[14] == my_id || data.arr[27] == my_id || data.arr[31] == my_id ? 1 : 0);
									var _rql_can = (data.arr[1] == my_id || data.arr[15] == my_id || data.arr[16] == my_id || data.arr[27] == my_id || data.arr[30] == my_id || data.arr[31] == my_id ? 1 : 0);
									if (data.arr[12] > 0){
										$("#cln_"+ data.arr[0] +"_xico").children(".ico").css("background-image", "url('"+ cln_url + data.arr[0] +"-"+ data.arr[12] +".gif')");
										$("#cln_"+ data.arr[0] +"_xico_o").children(".ico").css("background-image", "url('"+ cln_url + data.arr[0] +"-"+ data.arr[12] +".gif')");
									}
									$("#cln_"+ data.arr[0] +"_xbrnd").attr("label", data.arr[18]);
									$("#cln_"+ data.arr[0] +"_xbrnd_o").attr("label", data.arr[18]);
									$("#cln_"+ data.arr[0] +"_ttl").html('<div class="level" onmouseover="_EXP(1, ['+ data.arr[3] +', '+ data.arr[13] +'], event);" onmouseout="_HINT(\'exp1_hint\', 250);" style="float:left;margin-right:6px;position:relative;top:3px">'+ data.arr[3] +'</div>'+ data.arr[2] +'<span class="clan"> '+ (data.arr[6] != '' ? '<img src="'+ cln_url + data.arr[6] +'.gif" style="vertical-align:-2px;max-width:20px;max-height:16px" height="16" alt="" />' : '') + data.arr[7] +'</span>');
									$("#cln_"+ data.arr[0] +"_tax").html(data.arr[5]);
									if (parseInt(data.arr[8]) > 0) $("#cln_"+ data.arr[0] +"_top_0").next().html('#'+ data.arr[8]);
									if (parseInt(data.arr[9]) > 0) $("#cln_"+ data.arr[0] +"_top_1").next().html('#'+ data.arr[9]);
									if (parseInt(data.arr[22]) > 0) $("#cln_"+ data.arr[0] +"_top_2").next().html('#'+ data.arr[22]);
									if (parseInt(data.arr[21]) > 0) $("#cln_"+ data.arr[0] +"_top_3").next().html('#'+ data.arr[21]);
									if (data.arr[1] == my_id){
										$("#cln_"+ data.arr[0] +"_rq").attr("label", "1");
										$("#cln_"+ data.arr[0] +"_xdiv").html('<input type="file" id="cln_'+ data.arr[0] +'_xupl" style="visibility:hidden;position:absolute;top:0;left:0" onchange="_WND_proc(\''+ proc +'\', \'upl\', null, event);return false" />');
									}else if (data.arr[27] == my_id || data.arr[31] == my_id){
										$("#cln_"+ data.arr[0] +"_rq").attr("label", "4");
										$("#cln_"+ data.arr[0] +"_xdiv").html('<input type="file" id="cln_'+ data.arr[0] +'_xupl" style="visibility:hidden;position:absolute;top:0;left:0" onchange="_WND_proc(\''+ proc +'\', \'upl\', null, event);return false" />');
									}else if (data.arr[14] == my_id){
										$("#cln_"+ data.arr[0] +"_rq").attr("label", "3");	
									}else if (data.arr[15] == my_id || data.arr[16] == my_id || data.arr[30] == my_id){
										$("#cln_"+ data.arr[0] +"_rq").attr("label", "2");
									}
									if (data.arr[17][0] > 0){
										$("#cln_"+ data.arr[0] +"_xico").find(".count.time").html(_DT_format(data.arr[17][0], {uts: true, nmm: true})+'<div></div>');
										$("#cln_"+ data.arr[0] +"_xico_o").find(".count.time").html(_DT_format(data.arr[17][0], {uts: true, nmm: true})+'<div></div>');
									}else{
										$("#cln_"+ data.arr[0] +"_xico").addClass("disabled");
										$("#cln_"+ data.arr[0] +"_xico_o").addClass("disabled");
									}
									if (data.arr[17][2] > 0){
										$("#cln_"+ data.arr[0] +"_xbrnd").find(".count.time").html(_DT_format(data.arr[17][2], {uts: true, nmm: true})+'<div></div>');
										$("#cln_"+ data.arr[0] +"_xbrnd_o").find(".count.time").html(_DT_format(data.arr[17][2], {uts: true, nmm: true})+'<div></div>');
									}else{
										$("#cln_"+ data.arr[0] +"_xbrnd").addClass("disabled");
										$("#cln_"+ data.arr[0] +"_xbrnd_o").addClass("disabled");
									}
									if (parseInt(data.arr[19])){
										$("#cln_"+ data.arr[0] +"_xflag").removeClass("not-displayed");
									}
									if (_bnk_can){
										$(".cln-xs").removeClass("disabled");
										$(".cln-xs-p").removeClass("not-displayed");
										$(".cln-xs-pp").removeClass("not-displayed");
										//$("#cln_"+ data.arr[0] +"_rc1 .choicePayType").removeClass("off");
									}
									$("#clu_"+ data.arr[0] +"_norm").html('норма: '+ data.arr[26]);
									$("#clu_"+ data.arr[0] +"_norm").attr("label", data.arr[26]);
									if (!isMobile) $("#clu_"+ data.arr[0] +"_div").tinyscrollbar({sizethumb: 46});
									if (data.arr[10].length){
										$.each(data.arr[10], function(_i, _row) {
											if (_row[0] == data.arr[1]){
												_row[4] = "owner";
											}else if (_row[0] == data.arr[14]){
												_row[4] = "banker";
											}else if (_row[0] == data.arr[15]){
												_row[4] = "mjr_1";
											}else if (_row[0] == data.arr[16]){
												_row[4] = "mjr_2";
											}else if (_row[0] == data.arr[27]){
												_row[4] = "supervisor";
											}else if (_row[0] == data.arr[30]){
												_row[4] = "mjr_3";
											}else if (_row[0] == data.arr[31]){
												_row[4] = "supervisor_2";
											}
											_WND_proc(proc, "u", [data.arr[0], _row, true]);
										});
										$("#clu_"+ data.arr[0] +"_cnt").html($("#clu_"+ data.arr[0] +"_tbl > tbody > tr").length);
										if (!isMobile){
											setTimeout(function(){
												$("#clu_"+ data.arr[0] +"_div").tinyscrollbar_update("relative");
											}, 100);
										}										
									}
									if (data.arr[11] > 0){
										var _oo = $("#cln_"+ data.arr[0] +"_rq");
										$(_oo).children("b").html(data.arr[11]);
										$(_oo).removeClass("not-displayed");
									}
									$("#cln_"+ data.arr[0] +"_gold .total").html(data.arr[28]);
									$("#cln_"+ data.arr[0] +"_gold .hover-hint").html('<p>Слитки золота - валюта, за которую покупаются все улучшения в клане.</p>'+
										'<p><strong>Текущая неделя: '+ (parseInt(data.arr[29][0]) + parseInt(data.arr[29][1]) + parseInt(data.arr[29][2])) +' / 50</strong></p>'+
										'За задания: '+ data.arr[29][0] +' / 20<br />'+
										'За топы и дуэли: '+ data.arr[29][1] +' / 20<br />'+
										'За экстры: '+ data.arr[29][2] +' / 10'+
										'<div class="arrow"></div>');
									var _abrd = $("#cln_"+ data.arr[0] +"_gold .circle-bar .active-border");
									if ($(_abrd).length){
										var _prc = ((parseInt(data.arr[29][0]) + parseInt(data.arr[29][1]) + parseInt(data.arr[29][2])) * 100 / 50);
										if (_prc > 100) _prc = 100;
										var _deg = (_prc * 3.6);
										if (_deg <= 180){
											$(_abrd).css("background-image", "linear-gradient("+ (90 + _deg) +"deg, transparent 50%, #3b3b3b 50%),linear-gradient(90deg, #3b3b3b 50%, transparent 50%)");
										}else{
											$(_abrd).css("background-image", "linear-gradient("+ (_deg - 90) +"deg, transparent 50%, #daa115 50%),linear-gradient(90deg, #3b3b3b 50%, transparent 50%)");
										}
										var _sdg = 0;
										$(_abrd).css("transform", "rotate("+ _sdg +"deg)");
										$(_abrd).find(".circle").css("transform", "rotate("+ (-_sdg) +"deg)");
									}
									if (!isMobile) $("#cli_"+ data.arr[0] +"_div").tinyscrollbar({sizethumb: 46});	
								}
								if (typeof data.clach != "undefined"){
									var _a = '';
									if (parseInt(data.clach[0]) > 0){
										_a += _WND_proc(proc, "clach", data.clach);
										$("#cln_"+ data.arr[0] +"_clach").html(_a);
									}else{
										_a += 'Поздравляем! Вы выполнили все задания на этой неделе. Новые задания появятся через:'+
											'<div id="cdn_clan_task_end" class="shortTimer">'+
												'<p><span class="unit days"></span><em>д</em></p>'+
												'<p><span class="unit hours"></span><em>ч</em></p>'+
												'<p><span class="unit minutes"></span><em>м</em></p>'+
												'<p><span class="unit seconds"></span><em>с</em></p>'+
											'</div>';
										$("#cln_"+ data.arr[0] +"_clach").html(_a).removeClass("task").addClass("task-end");
										$('div#cdn_clan_task_end').countdown(data.c_tt * 1000, function(event) {
											if(event.type == "days" && event.value == 0){
												$(this).find('span.'+event.type).parent().remove();
											}
										});
									}
								}
								var _gh = '';
								if (typeof data.arr_gh != "undefined"){
									$.each(data.arr_gh, function(_i, _row) {
										_gh += _WND_proc(proc, "gh", _row);
									});
								}
								if (_gh != '') $("#cln_"+ data.arr[0] +"_gold_h").append(_gh);
								if (typeof data.clii != "undefined"){
									var _prc = 0;
									for(var _g = 1; _g <= 3; _g++){
										_prc = Math.round(data.clii[0][_g] / data.clii[1][_g] * 100);
										if (_prc > 100) _prc = 100;
										$("#cli_"+ my_clan +"_g"+ _g).attr("label", data.clii[1][_g]);
										$("#cli_"+ my_clan +"_g"+ _g +" .progress-bg").css("width", _prc +"%");
										$("#cli_"+ my_clan +"_g"+ _g +" .text").html(data.clii[0][_g]);
										if (parseInt(data.clii[0][_g]) >= parseInt(data.clii[1][_g])) $("#cli_"+ my_clan +"_g"+ _g).removeClass("button");
									}	
								}
								if (typeof data.cci != "undefined" && data.cci > 0){
									$("#clu_"+ my_clan +"_tbl").attr("label", 1);
								}
							}
						});
						$("#wnd_"+ proc).mousedown(function(){
							var _i = $(this).attr("id");
							var _z = _POPUP_resort("popup-move", _i);
							$(this).css("z-index", _z);
						}).show("fade", 100, function(){
							$(this).removeClass("not-displayed");
							$(this).mousedown();
						});
					}else{
						if (my_clan) $("#wnd_"+ proc).mousedown();
					}
					break;	
				default:
					if (!my_clan){
						_WND_proc(proc, "list");
						_HX_hint('joh14');
					}else{
						_WND_proc(proc, "main");
					}
					break;
			}
			break;

		case "blocks":
			switch(cmd){
				case "r":
					if ($("#wnd_"+ proc).length){
						var _t = $("#wnd_"+ proc +" .container").children("table");
						if ($(_t).length){
							$(_t).append('<tr id="blk_'+ args[0] +'">'+
								'<td style="width:160px;text-align:left"><a href="#" onclick="_PRF('+ args[0] +');return false" hidefocus="true">'+ args[1] +'</a></td>'+
								'<td style="width:130px;">'+ args[2] +'</td>'+
								'<td><a href="#" onclick="_MBK(\''+ args[0] +'\');return false" hidefocus="true">разблокировать</a>'+
							'</tr>');
						}
					}
					break;
				default:
					if (!$("#wnd_"+ proc).length){
						$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move blocks-popup not-displayed">'+
							'<div class="popup-bg">'+
								'<h1 style="cursor:move">Черный список</h1>'+
								'<table cellspacing="0" cellpadding="0" class="table td-centered">'+
									'<tr>'+
										'<th style="width:160px;text-align:left">Ник</th>'+
										'<th style="width:130px">Дата блокировки</th>'+
										'<th>&nbsp;</th>'+
									'</tr>'+
								'</table>'+
								'<div class="container">'+
									'<table cellspacing="0" cellpadding="0" class="table td-centered">'+
									'</table>'+
								'</div>'+
								'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false" class="popup-close" hidefocus="true"></a>'+
							'</div>'+
						'</div>');
						$("#wnd_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc).width())/2)) +"px");
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "blocks"},
							dataType: "json",
							success: function(data) {
								if (typeof data.arr != "undefined"){
									$.each(data.arr, function(_i, _row) {
										_WND_proc(proc, "r", _row);
									});
								}
							}
						});
						$("#wnd_"+ proc).draggable({
							containment: "document",
							cancel: ".container,.popup-close",
							zIndex: 100,
							stop: function(e, ui){
								$(this).css({left: ui.position.left +"px", top: ui.position.top +"px"});
								$(this).mousedown();
							}
						}).mousedown(function(){
							var _i = $(this).attr("id");
							var _z = _POPUP_resort("popup-move", _i);
							$(this).css("z-index", _z);
						}).show("fade", 100, function(){
							$(this).removeClass("not-displayed");
							$(this).mousedown();
						});
					}else{
						$("#wnd_"+ proc).mousedown();
					}
					break;
			}
			break;

		
		case "buy":
			if (cmd == 'sa'){
				if (typeof args == "undefined" || typeof args[0] == "undefined") return;
				var _toid = (typeof args[1] != "undefined" && args[1] ? args[1] : 0);
				var _d = '<div class="buyThis'+ (buy_data[args[0]][5] ? ' discount' : '')+'"><div class="container">'+
					'x '+ buy_data[args[0]][2] + (!buy_data[args[0]][5] && buy_data[args[0]][3] > 0 ? '<span class="bonus"> + '+ buy_data[args[0]][3] +' в подарок</span>' : '')+
					(buy_data[args[0]][5] ? ' <strike style="color:#744b00">'+ buy_data[args[0]][3] +'</strike> <span class="discount">АКЦИЯ!</span>' : (args[0] == 5 ? '<div class="profit">Выгодно!</div>' : ''))+
					'<div class="price">Цена: '+ (Math.floor(buy_data[args[0]][1] * 1.06 * 100) / 100) +'р</div>'+
				'</div></div>'+
				'<div class="selectPaymentsBlock">'+
				'<h2 class="selectPayments">Выберите оператора для оплаты:</h2>'+
				'<ul class="selectPayments">'+
										'<li class="low" onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \''+ _toid +'\', \'mnt\']);return false">'+
						'<div class="logo"><img src="/img/popups/buy/moneta.png" alt="" /></div>'+
						'<div class="low3"><span class="text">Карты СНГ, Qiwi, Яндекс</span></div>'+
						'<button class="submit" hidefocus="true">выбрать</button>'+
					'</li>'+
										'<li class="low not-displayed" onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \''+ _toid +'\', \'ynx\']);return false">'+
						'<div class="logo"><img src="/img/popups/buy/yandex.png" alt="" /></div>'+
						'<button class="submit" hidefocus="true">выбрать</button>'+
					'</li>'+
					'<li class="not-displayed" onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \''+ _toid +'\', \'rbk\']);return false">'+
						'<div class="logo"><img src="/img/popups/buy/free-kassa.png" alt="" /></div>'+
						'<button class="submit" hidefocus="true">выбрать</button>'+
					'</li>'+
					'<li class="qiwi not-displayed">'+
						'<div class="logo"><img src="/img/popups/buy/qiwi.png?3" alt="" /></div>'+
						'<div class="enterPhoneDiv">Для оплаты введите свой номер телефона с кодом страны.<input type="text" id="qiw_phone" value="" maxlength="18" /><p class="example">Пример: +74951234567</p><a href="#" class="close" onclick="$(\'#qiw_phone\').val(\'\');$(this).parent().hide();$(this).parent().parent().find(\'button\').text(\'выбрать\')"></a></div>'+
						'<button onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \''+ _toid +'\', \'qiw\']);return false" class="submit" hidefocus="true">выбрать</button>'+
					'</li>'+
					'<li onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \''+ _toid +'\', \'xso\']);return false">'+
						'<div class="logo"><img src="/img/popups/buy/xsolla.png" alt="" /></div>'+
						'<button class="submit" hidefocus="true">выбрать</button>'+
					'</li>'+
										'<li onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \''+ _toid +'\', \'lpb\']);return false">'+
						'<div class="logo"><img src="/img/popups/buy/visamaster.png" alt="" /></div>'+
						'<button class="submit" hidefocus="true">выбрать</button>'+
					'</li>'+
				'</ul>'+
				'<div class="paymentsInfo not-displayed">Просим обратить внимание, что с 1 января 2017 г для игроков из РФ поднимутся цены. На данном этапе это коснется только тех россиян, кто делает покупки через оператора Xsolla. Другие операторы пока комиссию не вводят.<br /><br />Причина: новый Федеральный закон №244-ФЗ, согласно которому с игроков из РФ должен дополнительно взиматься новый налог на добавленную стоимость (НДС).</div>'+
				'</div>'+
									'<span class="important">*Включает комиссию за транзакцию. Совершая покупку вы автоматически соглашаетесь с условиями Пользовательского соглашения</span>'+
								'<form id="wbm_buy" action="https://psp.paymaster24.com/Payment/Init" method="post" target="_blank"></form>'+
				'<form id="rbk_buy" action="http://www.free-kassa.ru/merchant/cash.php" method="post" target="_blank"></form>'+
				'<form id="ynx_buy" action="https://money.yandex.ru/quickpay/confirm.xml" method="get" target="_blank"></form>'+
				'<form id="wal_buy" action="https://wl.walletone.com/checkout/checkout/Index" method="post" target="_blank"></form>'+
				'<form id="mnt_buy" action="https://www.payanyway.ru/assistant.htm" method="post" target="_blank"></form>'+
				'<form id="ynx2_buy" action="https://demomoney.yandex.ru/eshop.xml" method="post" target="_blank"></form>'+
				'<form id="qiw_buy" action="https://qiwi.com/order/external/main.action" method="get" target="_blank"></form>'+
				'<form id="xso_buy" action="https://secure.xsolla.com/paystation2/" method="get" target="_top"></form>'+
				'<form id="lpb_buy" action="https://ipsp.lv/form/v2/" method="post" target="_blank"></form>';
				$("#wnd_"+ proc +" .container").html(_d);
			}else if (cmd == 'do'){
								var _bil = '';
				var _bil_p = '';
								_bil = (typeof args[2] != "undefined" ? args[2] : '');
				if (_bil == 'qiw') {
					_bil_p = $("#qiw_phone").val().trim();
					_bil_p = _qiw.replace(/[^\d.-]/g, '');
					if (_bil_p == '' || isNaN(_bil_p)){
						$(".selectPayments li.qiwi .enterPhoneDiv").show();
						$(".selectPayments li.qiwi button").text("оплатить");
						return false;
					}
					$("#qiw_phone").val('');
					$(".selectPayments li.qiwi button").text("выбрать");					
					$(".selectPayments li.qiwi .enterPhoneDiv").hide();
				}
								var _bil_is = false;
				var _toid = (typeof args[1] != "undefined" && args[1] ? args[1] : 0);
								if (_toid != 0 && my_play_c < 15){
					var _cx = parseInt(parseInt(document.body.clientWidth) / 2);
					var _cy = parseInt(parseInt(document.body.clientHeight) / 2);
					_WARN(proc, 2500, '<span class="yellow">Дарить монеты можно только сыграв 15 игр</span>', _cx, _cy);
					return false;
				}	
													$.ajax({
						async: false,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "bil_buy", type: "coins", item_id: args[0], to_id: _toid, bil: _bil, bil_p: _bil_p},
						dataType: "json",
						success: function(data) {
														if (typeof data.ret != "undefined"){
								$("#"+ _bil +"_buy").html(data.ret);
								_bil_is = true;
							}else{
								if (_bil == 'qiw'){
									var _cx = parseInt(parseInt(document.body.clientWidth) / 2);
									var _cy = parseInt(parseInt(document.body.clientHeight) / 2);
									_WARN(proc, 2500, '<span class="yellow">Некорректный номер телефона</span>', _cx, _cy);
								}
							}
																																																							}
					});
					if (_bil_is) $("#"+ _bil +"_buy").submit();
											}else{
				if (!$("#wnd_"+ proc).length){
					$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move popupShadow buyPopup not-displayed">'+
							'<h1>'+ (typeof args != "undefined" && args ? 'Подарить монеты' : 'Покупка монет')+'</h1>'+
							'<div class="container">'+
							'</div>'+
							'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false" class="popupClose" hidefocus="true"></a>'+
					'</div>');
					$("#wnd_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc).width())/2)) +"px");
					var _d  = '<ul class="buyCoins">';
	
						
					$.each(buy_data, function(_i, _row) {
						if (typeof _row[6] != "undefined" && _row[6]) return;
						var _l = '';
												if (typeof args != "undefined" && args){
							var _l = '_WND_proc(\''+ proc +'\', \'sa\', [\''+ _i +'\', \''+ args +'\']);';
						}else{
							var _l = '_WND_proc(\''+ proc +'\', \'sa\', [\''+ _i +'\']);';
						}
																		var old_OK_price = '';
						_d += '<li class="option'+ (_row[5] ? ' discount' : '')+'">'+
								'x '+ _row[2] + (!_row[5] && _row[3] > 0 ? '<span class="bonus"> + '+ _row[3] +' в подарок</span>' : '')+
								(_row[5] ? ' <strike style="color:#744b00">'+ _row[3] +'</strike> <span class="discount">АКЦИЯ!</span>' : ''+(_i == 5 ? '&nbsp; <div class="profit">Выгодно!</div>' : '')+'')+
								'<button ondblclick="return false" onclick="'+ _l +'return false" hidefocus="true">'+ old_OK_price + _row[4] +'</button>'+
							'</li>';
					});
					_d += '</ul>';
					$("#wnd_"+ proc +" .container").html(_d);
					$("#wnd_"+ proc).draggable({
						containment: "document",
						cancel: "button,input,.popupClose",
						zIndex: 100,
						stop: function(){
							$(this).mousedown();
						}
					}).mousedown(function(){
						var _i = $(this).attr("id");
						var _z = _POPUP_resort("popup-move", _i);
						$(this).css("z-index", _z);
					}).show("fade", 100, function(){
						$(this).removeClass("not-displayed");
						$(this).mousedown();
					});
				}else{
					$("#wnd_"+ proc).mousedown();
				}
			}
			break;

				case "ruby_buy":
			if (cmd == 'sa'){
				if (typeof args == "undefined" || typeof args[0] == "undefined") return;
				var _toid = (typeof args[1] != "undefined" && args[1] ? args[1] : 0);
				var _d = '<div class="buyThis buyRuby'+ (r_buy_data[args[0]][5] ? ' discount' : '')+'"><div class="container">'+
					'x '+ r_buy_data[args[0]][2] + (!r_buy_data[args[0]][5] && r_buy_data[args[0]][3] > 0 ? '<span class="bonus"> + '+ r_buy_data[args[0]][3] +' в подарок</span>' : '')+
					(r_buy_data[args[0]][5] ? ' <strike style="color:#744b00">'+ r_buy_data[args[0]][3] +'</strike> <span class="discount">АКЦИЯ!</span>' : (args[0] == 6 ? '<div class="profit">Выгодно!</div>' : ''))+
					'<div class="price">Цена: '+ (Math.floor(r_buy_data[args[0]][1] * 1.06 * 100) / 100) +'р</div>'+
				'</div></div>'+
				'<div class="selectPaymentsBlock">'+
				'<h2 class="selectPayments">Выберите оператора для оплаты:</h2>'+				
				'<ul class="selectPayments">'+
										'<li class="low" onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \''+ _toid +'\', \'mnt\']);return false">'+
						'<div class="logo"><img src="/img/popups/buy/moneta.png" alt="" /></div>'+
						'<div class="low3"><span class="text">Карты СНГ, Qiwi, Яндекс</span></div>'+
						'<button class="submit" hidefocus="true">выбрать</button>'+
					'</li>'+
										'<li class="low not-displayed" onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \''+ _toid +'\', \'ynx\']);return false">'+
						'<div class="logo"><img src="/img/popups/buy/yandex.png" alt="" /></div>'+
						'<button class="submit" hidefocus="true">выбрать</button>'+
					'</li>'+
										'<li class="not-displayed" onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \''+ _toid +'\', \'rbk\']);return false">'+
						'<div class="logo"><img src="/img/popups/buy/free-kassa.png" alt="" /></div>'+
						'<button class="submit" hidefocus="true">выбрать</button>'+
					'</li>'+
					'<li class="qiwi not-displayed">'+
						'<div class="logo"><img src="/img/popups/buy/qiwi.png?3" alt="" /></div>'+
						'<div class="enterPhoneDiv">Для оплаты введите свой номер телефона с кодом страны.<input type="text" id="qiw_phone" value="" maxlength="18" /><p class="example">Пример: +74951234567</p><a href="#" class="close" onclick="$(\'#qiw_phone\').val(\'\');$(this).parent().hide();$(this).parent().parent().find(\'button\').text(\'выбрать\')"></a></div>'+
						'<button onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \''+ _toid +'\', \'qiw\']);return false" class="submit" hidefocus="true">выбрать</button>'+
					'</li>'+
					'<li onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \''+ _toid +'\', \'xso\']);return false">'+
						'<div class="logo"><img src="/img/popups/buy/xsolla.png" alt="" /></div>'+
						'<button class="submit" hidefocus="true">выбрать</button>'+
					'</li>'+
										'<li onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \''+ _toid +'\', \'lpb\']);return false">'+
						'<div class="logo"><img src="/img/popups/buy/visamaster.png" alt="" /></div>'+
						'<button class="submit" hidefocus="true">выбрать</button>'+
					'</li>'+
									'</ul>'+
				'<div class="paymentsInfo not-displayed">Просим обратить внимание, что с 1 января 2017 г для игроков из РФ поднимутся цены. На данном этапе это коснется только тех россиян, кто делает покупки через оператора Xsolla. Другие операторы пока комиссию не вводят.<br /><br />Причина: новый Федеральный закон №244-ФЗ, согласно которому с игроков из РФ должен дополнительно взиматься новый налог на добавленную стоимость (НДС).</div>'+
				'</div>'+
									'<span class="important">*Включает комиссию за транзакцию. Совершая покупку вы автоматически соглашаетесь с условиями Пользовательского соглашения</span>'+
								'<form id="wbm_buy" action="https://psp.paymaster24.com/Payment/Init" method="post" target="_blank"></form>'+
				'<form id="rbk_buy" action="http://www.free-kassa.ru/merchant/cash.php" method="post" target="_blank"></form>'+
				'<form id="ynx_buy" action="https://money.yandex.ru/quickpay/confirm.xml" method="get" target="_blank"></form>'+
				'<form id="wal_buy" action="https://wl.walletone.com/checkout/checkout/Index" method="post" target="_blank"></form>'+
				'<form id="mnt_buy" action="https://www.payanyway.ru/assistant.htm" method="post" target="_blank"></form>'+
				'<form id="ynx2_buy" action="https://demomoney.yandex.ru/eshop.xml" method="post" target="_blank"></form>'+
				'<form id="qiw_buy" action="https://qiwi.com/order/external/main.action" method="get" target="_blank"></form>'+
				'<form id="xso_buy" action="https://secure.xsolla.com/paystation2/" method="get" target="_top"></form>'+
				'<form id="lpb_buy" action="https://ipsp.lv/form/v2/" method="post" target="_blank"></form>';
				$("#wnd_"+ proc +" .container").html(_d);
			}else if (cmd == 'do'){
				var _bil = '';
				var _bil_p = '';
								_bil = (typeof args[2] != "undefined" ? args[2] : '');
				if (_bil == 'qiw') {
					_bil_p = $("#qiw_phone").val().trim();
					_bil_p = _qiw.replace(/[^\d.-]/g, '');
					if (_bil_p == '' || isNaN(_bil_p)){
						$(".selectPayments li.qiwi .enterPhoneDiv").show();
						$(".selectPayments li.qiwi button").text("оплатить");
						return false;
					}
					$("#qiw_phone").val('');
					$(".selectPayments li.qiwi button").text("выбрать");					
					$(".selectPayments li.qiwi .enterPhoneDiv").hide();
				}
								var _bil_is = false;
				var _toid = (typeof args[1] != "undefined" && args[1] ? args[1] : 0);
								if (_toid != 0 && my_play_c < 15){
					var _cx = parseInt(parseInt(document.body.clientWidth) / 2);
					var _cy = parseInt(parseInt(document.body.clientHeight) / 2);
					_WARN(proc, 2500, '<span class="yellow">Дарить рубины можно только сыграв 15 игр</span>', _cx, _cy);
					return false;
				}
												$.ajax({
					async: false,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "bil_buy", type: "ruby", item_id: args[0], to_id: _toid, bil: _bil, bil_p: _bil_p},
					dataType: "json",
					success: function(data) {
												if (typeof data.ret != "undefined"){
							$("#"+ _bil +"_buy").html(data.ret);
							_bil_is = true;
						}else{
							if (_qiw){
								var _cx = parseInt(parseInt(document.body.clientWidth) / 2);
								var _cy = parseInt(parseInt(document.body.clientHeight) / 2);
								_WARN(proc, 2500, '<span class="yellow">Некорректный номер телефона</span>', _cx, _cy);
							}	
						}
																																															}
				});
				if (_bil_is) $("#"+ _bil +"_buy").submit();
							}else{
				if (!$("#wnd_"+ proc).length){
					$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move popupShadow buyPopup not-displayed">'+
							'<div class="buyRubyPopup"></div><h1>'+ (typeof args != "undefined" && args ? 'Подарить рубины' : 'Покупка рубинов')+'</h1>'+
							'<div class="container">'+
							'</div>'+
							'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false" class="popupClose" hidefocus="true"></a>'+
					'</div>');				
					
					$("#wnd_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc).width())/2)) +"px");
					var _d  = '<ul class="buyCoins buyRuby">';
					$.each(r_buy_data, function(_i, _row) {
						if (typeof _row[6] != "undefined" && _row[6]) return;
						var old_OK_price = '';
						var _l = '';
						if (typeof args != "undefined" && args){
							_l = '_WND_proc(\''+ proc +'\', \'sa\', [\''+ _i +'\', \''+ args +'\']);';
						}else{
							_l = '_WND_proc(\''+ proc +'\', \'sa\', [\''+ _i +'\']);';
						}
						_d += '<li class="option'+ (_row[5] ? ' discount' : '')+'">'+
								'x '+ _row[2] + (!_row[5] && _row[3] > 0 ? '<span class="bonus"> + '+ _row[3] +' в подарок</span>' : '')+
								(_row[5] ? ' <strike style="color:#744b00">'+ _row[3] +'</strike> <span class="discount">АКЦИЯ!</span>' : (_i == 6 ? '&nbsp; <div class="profit">Выгодно!</div>' : ''))+
								'<button ondblclick="return false" onclick="'+ _l +'return false" hidefocus="true">'+ old_OK_price + _row[4] +'</button>'+
							'</li>';
					});
					_d += '</ul>';
					$("#wnd_"+ proc +" .container").html(_d);
					$("#wnd_"+ proc).draggable({
						containment: "document",
						cancel: "button,input,.popupClose",
						zIndex: 100,
						stop: function(){
							$(this).mousedown();
						}
					}).mousedown(function(){
						var _i = $(this).attr("id");
						var _z = _POPUP_resort("popup-move", _i);
						$(this).css("z-index", _z);
					}).show("fade", 100, function(){
						$(this).removeClass("not-displayed");
						$(this).mousedown();
					});
				}else{
					$("#wnd_"+ proc).mousedown();
				}
			}
			break;
				
		case "offers":
			switch (cmd){
				case "sa":
					var _s = '<h2 class="selectPayments">Выберите оператора для оплаты:</h2>'+
					'<ul class="selectPayments">'+
												'<li class="low" onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \'mnt\']);return false">'+
							'<div class="logo"><img src="/img/popups/buy/moneta.png" alt="" /></div>'+
							'<div class="low3"><span class="text">Карты СНГ, Qiwi, Яндекс</span></div>'+
							'<button class="submit" hidefocus="true">выбрать</button>'+
						'</li>'+
												'<li class="low not-displayed" onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \'ynx\']);return false">'+
							'<div class="logo"><img src="/img/popups/buy/yandex.png" alt="" /></div>'+
							'<button class="submit" hidefocus="true">выбрать</button>'+
						'</li>'+
						'<li onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \'xso\']);return false">'+
							'<div class="logo"><img src="/img/popups/buy/xsolla.png" alt="" /></div>'+
							'<button class="submit" hidefocus="true">выбрать</button>'+
						'</li>'+
												'<li onclick="_WND_proc(\''+ proc +'\', \'do\', [\''+ args[0] +'\', \'lpb\']);return false">'+
							'<div class="logo"><img src="/img/popups/buy/visamaster.png" alt="" /></div>'+
							'<button class="submit" hidefocus="true">выбрать</button>'+
						'</li>'+
											'</ul>'+
					'<a href="#" class="popupClose" onclick="$(\'.billings\').hide();"></a>';
					$("#oda_id_"+ args[0] +" .billings").html(_s).show();
					break;
				case "do":
										var _bil_is = false;
					$.ajax({
						async: false,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "bil_buy", type: "offer", item_id: args[0], bil: args[1]},
						dataType: "json",
						success: function(data) {
														if (typeof data.ret != "undefined"){
								$("#"+ args[1] +"_buy_of").html(data.ret);
								_bil_is = true;
							}
																																																							}
					});
					if (_bil_is) {
						$("#oda_id_"+ args[0] +" .billings").html('').hide();
						$("#"+ args[1] +"_buy_of").submit();
					}
										break;
				case "buy":
					var _evt = (!evt ? window.event : evt);
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "offr_buy", id: args[0]},
						dataType: "json",
						success: function(data) {
							if (typeof data.rpx != "undefined"){
								RPX_data_arr.push(data.rpx);
		                				if (!RPX_event_done){
									RPX_event_done = true;
									RPX_event();
								}
							}
							if (typeof data.err != "undefined"){
								var _e = '';
								switch (data.err){
									case 1: _e = 'Недостаточно монет'; _HX_hint('rud5'); _WND_proc('buy'); break;
									case 2: _e = 'Недостаточно рубинов'; _WND_proc('ruby_buy'); break;
								}
								if (_e != ''){
									_WARN(proc, 2500, '<span class="yellow">'+ _e +'</span>', _evt.clientX - 100, _evt.clientY);
								}
							}
						}
					});
					break;	
				default:
					if (!$("#wnd_"+ proc).length){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "offers"},
							dataType: "json",
							success: function(data) {
								offers_data = {};
								if (typeof data.arr != "undefined"){
									my_offers = data.arr;
									my_offers_upd = Date.now();
									var first_offer = 0;
									var offers_icons = '';
									for (var i = 0; i < my_offers.length; i ++) {
										var off_data = my_offers[i];
										var time_left = parseInt(off_data[4]);
										if (time_left > 0) {
											var img_src = '/img/offers/preview/'+ off_data[14] +'.png';
											var img_group = off_data[16];
											var img_id = off_data[14];
											
											if (parseInt(off_data[14]) == 0) {
												var items_arr = off_data[11][4].split(',');
												for (var it = 0; it < items_arr.length; it++) {
													var item = items_arr[it].split(':');
													if (item[0] == 'extra') {
														img_src = '/img/extras/'+ item[2] +'.png';
														img_group = 'extra';
														img_id = item[2];
														break;
													}
												}
											}
											offers_icons += '<li id="off_'+ off_data[0] +'" '+ (i == 0 ? 'class="active"' : '') +' label="'+ time_left +'" ondblclick="return false" onclick="show_offer_data('+ off_data[0] +');return false">'+
																'<img src="'+ img_src +'" />'+
																'<div class="timerDiv">'+
																	'<div id="timerDiv" class="offerTimer">'+
																		'<span class="unit"><span class="days">0</span>д</span> <span class="unit"><span class="hours">0</span>ч</span> <span class="unit"><span class="minutes">0</span>м</span> <span class="unit"><span class="seconds">0</span>c</span>'+
																	'</div>'+
																'</div>'+
															'</li>';
										}
										if (i == 0) first_offer = off_data[0];
										offers_data[off_data[0]] = [off_data[1], off_data[2], off_data[3][1], off_data[13], img_group, img_id, off_data[0]];
									}

									$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move specialOfferPopup not-displayed fullScreenPopup asTable">'+
										'<div class="container asCell">'+
											'<div id="offers">'+
												'<div class="offerBlock popupShadowNew">'+
												'</div>'+
												'<ul class="offerMenu">'+
													offers_icons+
												'</ul>'+
											'</div>'+
										'</div>'+
										'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false" class="popupClose2" hidefocus="true"></a>'+
																				'<form id="ynx_buy_of" action="https://money.yandex.ru/quickpay/confirm.xml" method="get" target="_blank"></form>'+
										'<form id="mnt_buy_of" action="https://www.payanyway.ru/assistant.htm" method="post" target="_blank"></form>'+
										'<form id="xso_buy_of" action="https://secure.xsolla.com/paystation2/" method="get" target="_top"></form>'+
										'<form id="lpb_buy_of" action="https://ipsp.lv/form/v2/" method="post" target="_blank"></form>'+
																			'</div>');
									show_offer_data(first_offer);
									$("#wnd_"+ proc).mousedown(function(){
										var _i = $(this).attr("id");
										var _z = _POPUP_resort("popup-move", _i);
										$(this).css("z-index", _z);
									}).show("fade", 100, function(){
										$(this).removeClass("not-displayed");
										$(this).mousedown();
										ptip.init('.hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause'});
										$('#wnd_'+ proc +' ul.offerMenu li').each(function(){
											var time_left = parseInt($(this).attr('label'));
											if (time_left > 0) {
												var owner = this;
												$(this).find('div.offerTimer').countdown(time_left * 1000, function(event){
													switch(event.type){
														case "finished":
															var isActive = $(owner).hasClass('active');
															$(owner).remove();
															if (!$('#wnd_'+ proc +' ul.offerMenu li').length) {
																_WND_proc('', 'close', proc);
															} else
															if (isActive) {
																$('#wnd_'+ proc +' ul.offerMenu li')[0].click();
															}
															offersRecount();
															break;
														default:
															formatCountdownTimer(owner, true)
															break;
													}
												});				
											}
										});
									});
								}
								offersRecount();
							}
						});
					}else{
						$("#wnd_"+ proc).mousedown();
					}
					break;
			}
			break;

		case "help":
		case "event_rule":
		case "arena_rule":
			if (!$("#wnd_"+ proc).length){
				switch (proc){
					case "event_rule": 
					case "arena_rule":
						var _ttl = ''; 
						var _wclass = 'helpPopup';
						var newStyle = true;
						break;
					default: 
						var _ttl = 'Правила игры'; 
						var _wclass = 'helpPopup';
						var newStyle = false;
						break;
				}
				
				if (newStyle){
					$("#popup_container").append('<div id="wnd_'+ proc +'" class="popupShadowNew popup-move '+ _wclass +' not-displayed">'+
							'<div class="container">'+
							'</div>'+
							'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false" class="popupClose2" hidefocus="true"></a>'+
					'</div>');
				}
				else{
					$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move '+ _wclass +' not-displayed">'+
						'<div class="popup-bg">'+
							'<h1>'+ _ttl +'</h1>'+
							'<div class="container">'+
							'</div>'+
							'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false" class="popup-close" hidefocus="true"></a>'+
						'</div>'+
					'</div>');
				}
				$("#wnd_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc).width())/2)) +"px");
				if (!tmpl_cache[proc]){
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/TMPL/" + Math.random(),
						data: {template: proc},
						dataType: "html",
						success: function(data) {
							tmpl_cache[proc] = data;
							$("#wnd_"+ proc +" .container").html(data);
							if (args){
								setTimeout(function(){
									$("#wnd_"+ proc +" .container").scrollTop(parseInt($("#anchor_"+ proc +"_"+ args).offset().top - $("#wnd_"+ proc +" .container").offset().top));
								}, 250);
							}
						}
					});
				}else{
					$("#wnd_"+ proc +" .container").html(tmpl_cache[proc]);
					if (args){
						setTimeout(function(){
							$("#wnd_"+ proc +" .container").scrollTop(parseInt($("#anchor_"+ proc +"_"+ args).offset().top - $("#wnd_"+ proc +" .container").offset().top));
						}, 250);
					}
				}
				$("#wnd_"+ proc).mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
				});
			}else{
				$("#wnd_"+ proc).mousedown();
			}
			break;
			
		
		case "money":
			switch(cmd){
				case "m_row_a":
				case "m_row":
				case "r_row_a":
					var _m = (cmd == 'm_row_a' ? 'money_list_adm' : (cmd == 'm_row' ? 'money_list' : 'ruby_list_adm'));
					if ($("#"+ _m).length){
						var _t = $("#"+ _m).children("table");
						if ($(_t).length){
							var _x = '';
							switch (parseInt(args[2])){
								case 1: _x = 'Ставка на роль в аукционе'; break;
								case 2: _x = 'Экстра «Без очереди»'; break;
								case 3: _x = 'Ставка за вход в комнату'; break;
								case 4: _x = 'Монеты за игру'; break;
								case 5: _x = 'Досрочный выход из игры'; break;
								case 6: _x = 'Самоубийство в игре'; break;
								case 7: _x = 'Монетный бонус'; break;
								case 8: _x = 'Дневной бонус'; break;
								case 9: _x = 'Создание вопроса'; break;
								case 10: _x = 'Награда за задание Чокнутого Профессора'; break;
								case 11: _x = 'Администрация'; break;
								case 12: _x = 'Взнос в казну клана'; break;
								case 13: _x = 'Создание клана'; break;
								case 14: _x = 'Экстра «Последнее слово»'; break;
								case 15: _x = 'Экстра «Крикнуть в чат»'; break;
								case 16: _x = 'Экстра «Смена ника»'; break;
								case 17: _x = 'Ставка в «Убить босса»'; break;
								case 18: _x = 'Открытие смайлика'; break;
								case 19: _x = 'Экстра «'+ __store[args[3]].title +'»'; break;
								case 20: _x = 'Подарок «'+ __store[args[3]].title +'»'; break;
								case 21: _x = 'Выполнение квеста'; break;
								case 22: _x = 'Свадьба'; break;
								case 23: _x = 'Новое звание в достижениях'; break;
								case 24: _x = 'Победа в топе'; break;
								case 25: _x = 'Задание Вконтакте'; break;
								case 26: _x = 'Покупка монет'; break;
								case 27: _x = 'Регистрация'; break;
								case 28: _x = 'Экстра «Анти-нуб 20»'; break;
								case 29: _x = 'Выигрыш в лотерее'; break;
								case 30: _x = 'Подарок монет'; break;
								case 31: _x = 'Подарок монет'; break;
								case 32: _x = 'Покупка слитка'; break;
								case 33: _x = 'Бросок в игрока'; break;
								case 34: _x = 'Приз в Лигах'; break;
								case 35: _x = 'Отобрано в игре'; break;
								case 36: _x = 'Экстра «Смена пола»'; break;
								case 37: _x = 'Смена супер-силы'; break;
								case 38: _x = 'Награда от Босса Мафии'; break;
								case 39: _x = 'Досрочное открытие'; break;
								case 40: _x = 'Выигрыш в Новогоднюю лотерею'; break;
								case 41: _x = 'Монеты в подарок'; break;
								case 42: _x = 'Покупка монет по акции'; break;
								case 43: _x = 'Покупка акции'; break;
								case 44: _x = 'Рубины в подарок'; break;
								case 45: _x = 'Покупка роли на аукционе'; break;
								case 46: _x = 'Выигрыш в лотерею'; break;
								case 47:
									var __t = '';
									switch(parseInt(args[3])){
										case 1: __t = 'Банк мафии'; break;
									}
									_x = 'Подписка «'+ __t +'»'; break;
									break;
								case 48: _x = 'Подписка на стикеры'; break;
								case 50: _x = 'Попытка разбить яйцо'; break;
								case 51: _x = 'Досрочное получение квеста'; break;
								case 52: _x = 'Смена квеста'; break;
								case 53: _x = 'Попытка открыть сейф'; break;
								case 54: _x = 'Покупка экстр'; break;
								case 55: _x = 'Открытие набора'; break;
								case 56: _x = 'Выигрыш в Колесе фортуны'; break;
								case 57: _x = 'Колесо Фортуны'; break;
								case 58: _x = 'Игра в кости'; break;
								case 59: _x = 'Попытка разбить пиньяту'; break;
								case 60: _x = 'Открытие Набора Бандитос'; break;
								case 61: _x = 'Попытка разбить лёд'; break;
								case 62: _x = 'Попытка открыть сейф'; break;
								case 63: _x = 'Сброс талантов'; break;
								case 64: _x = 'Игра Бонус'; break;
								case 65: _x = 'Открытие «Сейфа»'; break;
								case 66: _x = 'Стереть игру'; break;
								case 67: _x = 'Покупка жетонов арены'; break;
								case 68: _x = 'Покупка иконки клана'; break;
								case 69: _x = 'Покупка аббревиатуры клана'; break;
								case 70: _x = 'Оповещение клана'; break;
								case 71:
									var __t = '';
									switch(parseInt(args[3])){
										case 0: __t = 'Мешок с самоцветами'; break;
										case 1: __t = 'Большой мешок с самоцветами'; break;
										case 2: __t = 'Ларец с самоцветами'; break;
									}
									_x = __t; break;
									break;
								case 72: _x = 'Попытка получить награду'; break;
								case 73: _x = 'Смена дуэльного квеста'; break;
								case 74: _x = 'Клановый сундук'; break;
								case 75: _x = 'Покупка ресурса ивента'; break;
								case 76: _x = 'Премиум'; break;
								case 77: _x = 'Покупка карт'; break;
								case 78: _x = 'Открытие ивентового сундука'; break;
								case 500: _x = 'Банда: Экстра «'+ __store[args[3]].title +'»'; break;
								case 501: _x = 'Банда: Ставка на игру'; break;
								case 502: _x = 'Банда: Победа в игре'; break;
								case 1001: _x = 'Покупка рубинов'; break;
								case 1002: _x = 'Подарок рубинов'; break;
								case 1003: _x = 'Покупка рубинов по акции'; break;
							}
							if (args[5] != null && parseInt(args[5]) > 0){
								_x += ' от <a href="#" onclick="_PRF('+ args[5] +');return false" hidefocus="true">'+ args[6] +'</a>';
							}
							var _s = '<tr>'+
								'<td style="text-align:left;width:120px;">'+ args[0] +'</td>'+
								'<td style="text-align:left;width:80px">'+ args[4] +'</td>'+
								'<td style="text-align:left;width:80px;color:green;">'+ (parseFloat(args[1]) > 0 ? '+'+ parseFloat(args[1]) : '&nbsp;') +'</td>'+
								'<td style="text-align:left;width:80px;color:red;">'+ (parseFloat(args[1]) < 0 ? parseFloat(args[1]) : '&nbsp;') +'</td>'+
								'<td style="text-align:left" nowrap>'+ _x +'</td>'+
							'</tr>';
							$(_t).append(_s);
						}
					}
					break;
				default:
					if (!$("#wnd_"+ proc).length){
						$("#popup_container").append('<div id="wnd_'+ proc +'" class="popup-move blocks-popup not-displayed" style="top:100px;width:705px;">'+
							'<div class="popup-bg">'+
								'<h1 style="cursor:move">История монет</h1>'+
								'<table cellspacing="0" cellpadding="0" class="table td-centered">'+
									'<tr>'+
										'<th style="text-align:left;width:120px;">Дата</th>'+
										'<th style="text-align:left;width:80px;"><b id="mn_saldo"></b></th>'+
										'<th style="text-align:left;width:80px;"><b>+</b></th>'+
										'<th style="text-align:left;width:80px;"><b>-</b></th>'+
										'<th style="text-align:left">Транзакция</th>'+
									'</tr>'+
								'</table>'+
								'<div id="money_list" class="container_m" style="height:420px;overflow:auto;">'+
									'<table cellspacing="0" cellpadding="0" class="table td-centered">'+
									'</table>'+
								'</div>'+
								'<a href="#" onclick="_WND_proc(\'\', \'close\', \''+ proc +'\');return false" class="popup-close" hidefocus="true"></a>'+
							'</div>'+
						'</div>');
						$("#wnd_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_"+ proc).width())/2)) +"px");
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "money"},
							dataType: "json",
							success: function(data) {
								if (typeof data.am != "undefined"){
									$("#mn_saldo").html(data.am);
								}
								if (typeof data.arr != "undefined"){
									$.each(data.arr, function(_i, _row) {
										_WND_proc(proc, "m_row", _row);
									});
								}
							}
						});
						$("#wnd_"+ proc).draggable({
							containment: "document",
							cancel: ".container,.popup-close,.container_m",
							zIndex: 100,
							stop: function(e, ui){
								$(this).css({left: ui.position.left +"px", top: ui.position.top +"px"});
								$(this).mousedown();
							}
						}).mousedown(function(){
							var _i = $(this).attr("id");
							var _z = _POPUP_resort("popup-move", _i);
							$(this).css("z-index", _z);
						}).show("fade", 100, function(){
							$(this).removeClass("not-displayed");
							$(this).mousedown();
						});
					}else{
						$("#wnd_"+ proc).mousedown();
					}
					break;
			}
			break;

		default:
			switch (cmd){
				case "close":
					if (args && args != "" && $("#wnd_"+ args).length){
						_WARN(args);
						$("#wnd_"+ args).hide("fade", 100, function(){
							$(this).remove();
							_CHT_focus();
						});
					}
					break;
			}
			break;
	}
}

</script>
<script type="text/javascript">

function _DLG(proc, act, evt){

	if (act){
		switch (act){
			case 1:
				_GM_action("f", "upd", "pp_dh", "dlg_"+ proc);
				return;
			case -1:
				if ($("#pp_dlg_"+ proc).length){												
					var _oo = $("#pp_dlg_"+ proc).find(".footer-buttons, .footerButtons");
					if ($(_oo).length && $(_oo).hasClass("not-active")){
						setTimeout(function(){
							if ($(_oo).length){
								$(_oo).removeClass("not-active");
							}
							
						}, 2500);
					}
				}
				return;
			case -2:
				var _evt = (!evt[1] ? window.event : evt[1]);
				var _k = (navigator.appName.indexOf("Netscape") == -1 ? _evt.keyCode : (_evt.which ? _evt.which : null));
				if (_k in {13:1, 10:1}){
					var _oo = $("#pp_dlg_"+ proc).find(".footer-buttons");
					if ($(_oo).length && !$(_oo).hasClass("not-active")){
						$(_oo).addClass("not-active");
						_DLG(proc, evt[0], _evt);
					}
					return false;
				}
				return true;
		}
	}
	var _dlg = false;
	switch (proc){
		case "cl_create":
			if (!my_clan){
				if (act){
					var _evt = (!evt ? window.event : evt);
					var _cln_name = $("#cln_name").val().trim();
					var _cln_text = $("#cln_text").val().trim();
					if (_cln_name == ""){
						_WARN("clans", 2500, '<span class="yellow">Название клана введено неверно</span>', _evt.clientX - 100, _evt.clientY);
						_DLG(proc, -1);
					}else{
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "cl_create", "name": _cln_name, "text": _cln_text},
							dataType: "json",
							success: function(data) {
								if (typeof data.ret != "undefined" && data.ret){
									if ($("#wnd_clans").length) $("#wnd_clans").remove();
									my_clan = data.ret;
									RPX_listen("def", r_pxx + "MAF_CLN_" + my_clan, null);
									RPX["def"].execute();
									$("#btt_clan").html('Мой Клан');
									$("#bt_duel").removeClass("not-displayed");
									$("#ccl_tab").removeClass("not-displayed");
									_DLG(proc, 1);
									_WND_proc("clans");
								}
								if (typeof data.err != "undefined"){
									var _e = '';
									switch (data.err){
										case 1: _e = 'Название клана введено неверно'; break;
										case 2: _e = 'Недостаточно монет'; _HX_hint('rud5'); _WND_proc('buy'); break;
										case 3: _e = 'Требуется минимум 10 уровень'; break;
										case 4: _e = 'Клан с таким названием уже существует'; break;
									}
									if (_e != '') _WARN("clans", 2500, '<span class="yellow">'+ _e +'</span>', _evt.clientX - 100, _evt.clientY);
									_DLG(proc, -1);
								}
							}
						});
					}
				}else{
					_dlg = {
						"show"    : true,
						"dclass"  : "confirm-dlg",
						"btns"    : [[2,'Создать',1],[1,'',2]],
						"focus"   : "cln_name",
						"code"    : '<h1 style="text-align:center">Создай свой клан!</h1>'+
							'<div style="text-align:center">'+
								'<h3 style="font-weight:normal">Стоимость создания клана <b>50000</b> монет</h3><br/>'+
								'<table cellspacing="0" cellpadding="0" style="width:260px;margin:0 auto">'+
									'<tr>'+
										'<td style="text-align:center">Название:'+
											'<div class="popup-input-container" style="margin-top:10px;margin-bottom:10px;cursor:default;width:260px">'+
												'<input id="cln_name" onkeydown="return _DLG(\''+ proc +'\', -2, [2, event]);" style="height:19px;" maxlength="32" />'+
											'</div>'+
										'</td>'+
									'</tr>'+
									'<tr>'+
										'<td style="text-align:center">Описание:'+
											'<div class="popup-input-container" style="margin-top:10px;margin-bottom:10px;cursor:default;">'+
												'<textarea id="cln_text" style="height:55px;overflow-y:scroll;overflow:-moz-scrollbars-vertical;"></textarea>'+
											'</div>'+
										'</td>'+
									'</tr>'+
								'</table>'+
							'</div>'
					};
				}
			}
			break;
		case "cl_invite":
			if (my_clan){
				if (act){
					var _evt = (!evt ? window.event : evt);
					var _cli_nick = $("#cli_nick").val().trim();
					var _cli_msg  = $("#cli_msg").val().trim();
					if (_cli_nick == ""){
						_WARN("clans", 2500, '<span class="yellow">Введите ник</span>', _evt.clientX - 100, _evt.clientY);
						_DLG(proc, -1);
					}else{
						_WND_proc("clans", "act", {act:"invite", val: [_cli_nick, _cli_msg]}, _evt);
					}
				}else{
					_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
					_dlg = {
						"show"    : true,
						"dclass"  : "confirm-dlg",
						"btns"    : [[2,'Пригласить',1],[1,'',2]],
						"focus"   : "cli_nick",
						"code"    : '<h1 style="text-align:center">Пригласить в клан!</h1>'+
							'<div style="text-align:center">'+
								'<table cellspacing="0" cellpadding="0" style="width:260px;margin:0 auto">'+
									'<tr>'+
										'<td style="text-align:center">Ник:'+
											'<div class="popup-input-container" style="margin-top:10px;margin-bottom:10px;margin-left:34px;cursor:default;width:180px">'+
												'<input id="cli_nick" onkeydown="return _DLG(\''+ proc +'\', -2, [2, event]);" style="height:19px;" maxlength="21" />'+
											'</div>'+
										'</td>'+
									'</tr>'+
									'<tr>'+
										'<td style="text-align:center">Сообщение:'+
											'<div class="popup-input-container" style="margin-top:10px;margin-bottom:10px;cursor:default;">'+
												'<textarea id="cli_msg" style="height:55px;overflow-y:scroll;overflow:-moz-scrollbars-vertical;" onkeydown="if($(this).val().length > 128){$(this).val($(this).val().substring(0, 128));}"></textarea>'+
											'</div>'+
										'</td>'+
									'</tr>'+
								'</table>'+
							'</div>'
					};
				}
			}
			break;
		case "cl_chtxt":
			if (my_clan){
				if (act){
					var _evt = (!evt ? window.event : evt);
					var _v = $("#cln_text").val().trim();
					_WND_proc("clans", "act", {act:"chtxt", val: _v}, _evt);
				}else{
					_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
					_dlg = {
						"show"    : true,
						"dclass"  : "confirm-dlg",
						"btns"    : [[2,'Изменить',1],[1,'',2]],
						"focus"   : "cln_text",
						"fetch"   : "cln_text",
						"code"    : '<h1 style="text-align:center">Изменить описание!</h1>'+
							'<div style="text-align:center">'+
								'Описание:'+
								'<div class="popup-input-container" style="margin-top:10px;margin-bottom:10px;cursor:default;">'+
									'<textarea id="cln_text" style="width:278px;height:55px;overflow-y:scroll;overflow:-moz-scrollbars-vertical;"></textarea>'+
								'</div>'+
							'</div>'
					};
				}
			}
			break;
		case "cl_brnd":
			if (my_clan){
				if (act){
					var _evt = (!evt ? window.event : evt);
					var _v = $("#cln_brand").val().trim();
					_WND_proc("clans", "act", {act:"brnd", val: _v}, _evt);
				}else{
					var _cimp = 5;
					_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
					_dlg = {
						"show"    : true,
						"dclass"  : "confirm-dlg",
						"btns"    : [[2,'Изменить',1],[1,'',2]],
						"focus"   : "cln_brand",
						"code"    : '<h1 style="text-align:center">Изменить аббревиатуру!</h1>'+
							'<div style="text-align:center">'+
								'Введите аббревиатуру<br/><br/>'+
								'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:70px;margin-left:106px">'+
									'<input id="cln_brand" onkeydown="return _DLG(\''+ proc +'\', -2, [2, event]);" maxlength="'+ _cimp +'" value="'+ $("#cln_"+ my_clan +"_xbrnd").attr("label") +'" />'+
								'</div><br/>'+
							'</div>'
					};
				}
			}
			break;
		case "cl_withdraw":
			if (my_clan){
				if (act){
					var _evt = (!evt ? window.event : evt);
					var _v = parseFloat($("#clw_amount").val());
					if (isNaN(_v) || _v <= 0){
						_WARN("clans", 2500, '<span class="yellow">Сумма введена неверно</span>', _evt.clientX - 100, _evt.clientY);
						_DLG(proc, -1);
					}else{
						_WND_proc("clans", "act", {act:"wdraw", val: _v}, _evt);
					}
				}else{
					_dlg = {
						"show"    : true,
						"dclass"  : "confirm-dlg",
						"btns"    : [[2,'Внести',1],[1,'',2]],
						"focus"   : "clw_amount",
						"code"    : '<h1 style="text-align:center">Внести монеты!</h1>'+
							'<div style="text-align:center">'+
								'Введите сумму для внесения в казну клана<br/><br/>'+
								'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:150px;margin:0 auto">'+
									'<input id="clw_amount" onkeydown="return _DLG(\''+ proc +'\', -2, [2, event]);" />'+
								'</div><br/>'+
							'</div>'
					};
				}
			}
			break;
		case "cl_leave":
			if (my_clan){
				var _rq = parseInt($("#cln_"+ my_clan +"_rq").attr("label"));
				if (act){
					var _evt = (!evt ? window.event : evt);
					var _r = $("#cll_reason").val().trim();
					var _p = (_rq == 1 ? ($("#cll_pass").length ? $("#cll_pass").val() : '') : '');
					if (_r == ""){
						_WARN("clans", 2500, '<span class="yellow">Введите причину</span>', _evt.clientX - 100, _evt.clientY);
						_DLG(proc, -1);
					}else{
						_WND_proc("clans", "act", {act:"leave", r: _r, pass: _p}, _evt);
					}
				}else{
					_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
					_dlg = {
						"show"    : true,
						"dclass"  : "confirm-dlg",
						"btns"    : [[2,'Да',1],[1,'Нет',3]],
						"focus"   : "cll_reason",
						"code"    : '<h1 style="text-align:center">Вы действительно хотите покинуть клан?</h1><br/>'+
							'<h3>Вы потеряете статистику в этом клане</h3>'+
							'<div style="text-align:center">'+
								'Введите причину:<br/><br/>'+
								'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:150px;margin:0 auto">'+
									'<input id="cll_reason" maxlength="32" onkeydown="return _DLG(\''+ proc +'\', -2, [2, event]);" />'+
								'</div><br/>'+
								(_rq == 1 && my_ispwd ? '<b style="color:red">Для этого действия необходим код безопасности!</b><br/><br/>'+
								'Введите код для подтверждения<br/><br/>'+
								'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:150px;margin:0 auto">'+
									'<input type="password" id="cll_pass" maxlength="16" />'+
								'</div><br/>' : '')+
							'</div>'
					};
				}
			}
			break;
		case "cl_tax":
			if (my_clan){
				if (act){
					var _evt = (!evt ? window.event : evt);
					_WND_proc("clans", "act", {act:"tax", val: $("#clt_val").val()}, _evt);
				}else{
					_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
					//var _p = parseInt($("#cln_"+ my_clan +"_bnk span:nth-child(2)").html());
					var _p = parseInt($("#cln_"+ my_clan +"_tax").html());
					var _s = '';
					var _a = [0, 5, 10, 15, 25, 50];
					$.each(_a, function(_i, _v) {
						_s += '<option value="'+ _v +'"'+(_v == _p ? ' selected' : '')+'>'+ _v +'%</option>';
					});
					_dlg = {
						"show"    : true,
						"dclass"  : "confirm-dlg",
						"btns"    : [[2,'Установить',1],[1,'',2]],
						"code"    : '<h1 style="text-align:center">Установить налог!</h1>'+
							'<div style="text-align:center">'+
								'Процент от монет, полученных за победу в игре, будет автоматически перечисляться в казну клана.<br/><br/>Выберите налог казны для клана:<br/><br/>'+
								'<select id="clt_val">'+ _s +'</select>'+
							'</div>'
					};
				}
			}
			break;
		case "cl_norm":
			if (my_clan){
				if (act){
					var _evt = (!evt ? window.event : evt);
					_WND_proc("clans", "act", {act:"norm", val: $("#cle_norm").val()}, _evt);
				}else{
					_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
					var _nn = parseInt($("#clu_"+ my_clan +"_norm").attr("label"));
					_dlg = {
						"show"    : true,
						"dclass"  : "confirm-dlg",
						"btns"    : [[2,'Установить',1],[1,'',2]],
						"focus"   : "cle_norm",
						"code"    : '<h1 style="text-align:center">Установить норму!</h1>'+
							'<div style="text-align:center">'+
								'Вы можете установить недельную норму по опыту для игроков в клане. Следить за соблюдением нормы можно в списке игроков<br/><br/>'+
								'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:150px;margin:0 auto">'+								
									'<input id="cle_norm" maxlength="4" value="'+ _nn +'" onkeydown="return _DLG(\''+ proc +'\', -2, [2, event]);" />'+
								'</div>'+	
							'</div>'
					};
				}
			}
			break;	
		case "cl_spam":
			if (my_clan){
				if (act){
					var _evt = (!evt ? window.event : evt);
					var _v = $("#cls_text").val().trim();
					_WND_proc("clans", "act", {act:"spam", val: _v}, _evt);
				}else{
					_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
					_p = 750;
					$.ajax({
						async: false,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "get_cimp", id: 16},
						dataType: "json",
						success: function(data) {
							if (typeof data.cimp != "undefined") _p -= parseInt(data.cimp);
						}
					});
					_dlg = {
						"show"    : true,
						"dclass"  : "confirm-dlg",
						"btns"    : [[2,'Оповестить',1],[1,'',2]],
						"focus"   : "cls_text",
						"fetch"   : "cls_text",
						"code"    : '<h1 style="text-align:center">Оповещение клана!</h1>'+
							'<div style="text-align:center">'+
								'Введите текст для оповещения всех игроков в клане: <span class="gray">(макс. 512 символов)</span>'+
								'<div class="popup-input-container" style="margin-top:10px;margin-bottom:10px;cursor:default;">'+
									'<textarea id="cls_text" style="width:278px;height:55px;overflow-y:scroll;overflow:-moz-scrollbars-vertical;" maxlength="512"></textarea>'+
								'</div>'+
								'<h3>Стоимость <img src="/images/icons/coin.png" style="vertical-align: -3px" /> '+ _p +'!</h3>'+
							'</div>'
					};
				}
			}
			break;
		case "cl_adm":
			if (my_clan){
				if (act){
					var _evt = (!evt ? window.event : evt);
					var _v_mjr_1 = $("#cla_mjr_1").val();
					var _v_mjr_2 = $("#cla_mjr_2").val();
					var _v_mjr_3 = $("#cla_mjr_3").val();
					var _v_banker = $("#cla_banker").val();
					var _v_supervisor = $("#cla_supervisor").val();
					var _v_supervisor_2 = $("#cla_supervisor_2").val();
					var _p = ($("#cla_pass").length ? $("#cla_pass").val() : '');
					/*if ((_v_supervisor == _v_banker && _v_banker > 0) || (_v_supervisor == _v_mjr_1 && _v_mjr_1 > 0) || (_v_supervisor == _v_mjr_2 && _v_mjr_2 > 0) || 
						(_v_banker == _v_mjr_1 && _v_mjr_1 > 0) || (_v_banker == _v_mjr_2 && _v_mjr_2 > 0) || (_v_mjr_1 == _v_mjr_2 && _v_mjr_1 > 0 && _v_mjr_2 > 0)){
						_WARN("clans", 2500, '<span class="yellow">Невозможно назначить на две должности</span>', _evt.clientX - 100, _evt.clientY);
						_DLG(proc, -1);
					}else{*/
						_WND_proc("clans", "act", {act:"adm", val: [_v_mjr_1, _v_mjr_2, _v_banker, _v_supervisor, _v_mjr_3, _v_supervisor_2], pass: _p}, _evt);
					//}
				}else{
					_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
					var _sl_mjr_1 = '<option value="0">не назначен</option>';
					var _sl_mjr_2 = '<option value="0">не назначен</option>';
					var _sl_mjr_3 = '<option value="0">не назначен</option>';
					var _sl_banker = '<option value="0">не назначен</option>';
					var _sl_supervisor = '<option value="0">не назначен</option>';
					var _sl_supervisor_2 = '<option value="0">не назначен</option>';
					var _schs = [0, 0, 0, 0, 0, 0];
					var _usrs = [];
					var _t = $("#clu_"+ my_clan +"_tbl");
					if ($(_t).length){
						var _rq = parseInt($("#cln_"+ my_clan +"_rq").attr("label"));
						$("#clu_"+ my_clan +"_tbl > tbody > tr").each(function(){
							var _nobj = $(this).children("td:nth-child(3)").children("a");
							var _id = $(_nobj).attr("label");
							var _nick = $(_nobj).html();
							var _ii = $(this).children("td:nth-child(1)").children("img").attr("label");
							if (_ii != null){
								switch(_ii){
									case "mjr_1": _schs[0] = _id; break;
									case "mjr_2": _schs[1] = _id; break;
									case "banker": _schs[2] = _id; break;
									case "supervisor": _schs[3] = _id; break;
									case "mjr_3": _schs[4] = _id; break;
									case "supervisor_2": _schs[5] = _id; break;
								}
							}
							if (_rq == 4 && (_ii == "supervisor" || _ii == "supervisor_2")) return;
							if (_id != my_id && _ii != "owner") _usrs.push([_id, _nick]);
						});
					}
					$.each(_usrs, function(_i, _v) {
						_sl_mjr_1 += '<option value="'+ _v[0] +'"'+(_v[0] == _schs[0] ? ' selected' : '')+'>'+ _v[1] +'</option>';
						_sl_mjr_2 += '<option value="'+ _v[0] +'"'+(_v[0] == _schs[1] ? ' selected' : '')+'>'+ _v[1] +'</option>';
						_sl_mjr_3 += '<option value="'+ _v[0] +'"'+(_v[0] == _schs[4] ? ' selected' : '')+'>'+ _v[1] +'</option>';
						_sl_banker += '<option value="'+ _v[0] +'"'+(_v[0] == _schs[2] ? ' selected' : '')+'>'+ _v[1] +'</option>';
						_sl_supervisor += '<option value="'+ _v[0] +'"'+(_v[0] == _schs[3] ? ' selected' : '')+'>'+ _v[1] +'</option>';
						_sl_supervisor_2 += '<option value="'+ _v[0] +'"'+(_v[0] == _schs[5] ? ' selected' : '')+'>'+ _v[1] +'</option>';
					});
					_dlg = {
						"show"    : true,
						"dclass"  : "confirm-dlg",
						"style"   : "top: 120px",
						"btns"    : [[2,'Назначить',1],[1,'',2]],
						"code"    : '<h1 style="text-align:center">Назначить помощников!</h1>'+
							'<div style="text-align:center">'+
								'Офицер: принимает игроков в клан<br/>'+
								'<br/>'+
								'<table cellspacing="0" cellpadding="5" style="margin:0 auto">'+
									'<tr>'+
										'<td style="text-align:right">Офицер 1:</td><td> '+
											'<select id="cla_mjr_1">'+ _sl_mjr_1 +'</select>'+
										'</td>'+
									'</tr>'+
									'<tr>'+
										'<td style="text-align:right">Офицер 2:</td><td> '+
											'<select id="cla_mjr_2">'+ _sl_mjr_2 +'</select>'+
										'</td>'+
									'</tr>'+
									'<tr>'+
										'<td style="text-align:right">Офицер 3:</td><td> '+
											'<select id="cla_mjr_3">'+ _sl_mjr_3 +'</select>'+
										'</td>'+
									'</tr>'+
																		($("#cln_"+ my_clan +"_rq").attr("label") == 4 ? '<input type="hidden" id="cla_supervisor" value="-1" /><input type="hidden" id="cla_supervisor_2" value="-1" />' : 
										'<tr>'+
											'<td style="text-align:right;">Управляющий 1:</td><td> '+
												'<select id="cla_supervisor">'+ _sl_supervisor +'</select>'+
											'</td>'+
										'</tr>'+
										'<tr>'+
											'<td style="text-align:right;">Управляющий 2:</td><td> '+
												'<select id="cla_supervisor_2">'+ _sl_supervisor_2 +'</select>'+
											'</td>'+
										'</tr>'
									)+
								'</table><br/>'+
								(my_ispwd ? '<b style="color:red">Для этого действия необходим код безопасности!</b><br/><br/>'+
								'Введите код для подтверждения<br/><br/>'+
								'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:150px;margin:0 auto">'+
									'<input type="password" id="cla_pass" maxlength="16" />'+
								'</div><br/>' : '')+
							'</div>'
					};
				}
			}
			break;
		case "cl_chown":
			if (my_clan){
				if (act){
					var _evt = (!evt ? window.event : evt);
					var _v = $("#clc_owner").val();
					var _p = ($("#clc_pass").length ? $("#clc_pass").val() : '');
					if (!parseInt(_v)){
						_WARN("clans", 2500, '<span class="yellow">Выберите пользователя</span>', _evt.clientX - 100, _evt.clientY);
						_DLG(proc, -1);
					}else{
						_WND_proc("clans", "act", {act:"chown", val: _v, pass: _p}, _evt);
					}
				}else{
					_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
					var _sl = '<option value="0">не выбран</option>';
					var _t = $("#clu_"+ my_clan +"_tbl");
					if ($(_t).length){
						$("#clu_"+ my_clan +"_tbl > tbody > tr").each(function(){
							var _nobj = $(this).children("td:nth-child(3)").children("a");
							var _id = $(_nobj).attr("label");
							var _nick = $(_nobj).html();
							if (_id != my_id){
								_sl += '<option value="'+ _id +'">'+ _nick +'</option>';
							}
						});
					}
					_dlg = {
						"show"    : true,
						"dclass"  : "confirm-dlg",
						"btns"    : [[2,'Передать',1],[1,'',2]],
						"code"    : '<h1 style="text-align:center">Передать лидерство!</h1>'+
							'<div style="text-align:center">'+
								'При передаче лидерства вы теряете все полномочия главы клана<br/><br/>'+
								'<select id="clc_owner">'+ _sl +'</select><br/><br/>'+
								(my_ispwd ? '<b style="color:red">Для этого действия необходим код безопасности!</b><br/><br/>'+
								'Введите код для подтверждения<br/><br/>'+
								'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:150px;margin:0 auto">'+
									'<input type="password" id="clc_pass" maxlength="16" />'+
								'</div><br/>' : '')+
							'</div>'
					};
				}
			}
			break;
		case "cl_kick":
			if (my_clan){
				if (act){
					var _evt = (!evt ? window.event : evt);
					var _v = $("#clk_uid").val();
					var _r = $("#clk_reason").val().trim();
					var _p = ($("#clk_pass").length ? $("#clk_pass").val() : '');
					if (!parseInt(_v)){
						_WARN("clans", 2500, '<span class="yellow">Выберите пользователя</span>', _evt.clientX - 100, _evt.clientY);
						_DLG(proc, -1);
					}else if (_r == ""){
						_WARN("clans", 2500, '<span class="yellow">Введите причину</span>', _evt.clientX - 100, _evt.clientY);
						_DLG(proc, -1);
					}else{
						_WND_proc("clans", "act", {act:"kick", val: _v, r: _r, pass: _p}, _evt);
					}
				}else{
					_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
					var _sl = '<option value="0">не выбран</option>';
					var _t = $("#clu_"+ my_clan +"_tbl");
					if ($(_t).length){
						$("#clu_"+ my_clan +"_tbl > tbody > tr").each(function(){
							var _nobj = $(this).children("td:nth-child(3)").children("a");
							var _id = $(_nobj).attr("label");
							var _nick = $(_nobj).html();
							if (_id != my_id){
								_sl += '<option value="'+ _id +'">'+ _nick +'</option>';
							}
						});
					}
					_dlg = {
						"show"    : true,
						"dclass"  : "confirm-dlg",
						"btns"    : [[2,'Выгнать',1],[1,'',2]],
						"code"    : '<h1 style="text-align:center">Выгнать из клана!</h1><br/>'+
							'<div style="text-align:center">'+
								'Выберите пользователя:<br/><br/>'+
								'<select id="clk_uid">'+ _sl +'</select><br/><br/>'+
								'Введите причину:<br/><br/>'+
								'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:180px;margin:0 auto">'+
									'<input id="clk_reason" maxlength="32" onkeydown="return _DLG(\''+ proc +'\', -2, [2, event]);" />'+
								'</div><br/>'+
								(my_ispwd ? '<b style="color:red">Для этого действия необходим код безопасности!</b><br/><br/>'+
								'Введите код для подтверждения<br/><br/>'+
								'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:150px;margin:0 auto">'+
									'<input type="password" id="clk_pass" maxlength="16" />'+
								'</div><br/>' : '')+
							'</div>'
					};
				}
			}
			break;
		case "cl_impr":
			if (act){
				var _evt = (!evt ? window.event : evt);
				_WND_proc("clans", "i_impr", null, _evt);
			}else{
				_dlg = {
					"show"    : true,
					"dclass"  : "confirm-dlg",
					"btns"    : [[2,'Да',1],[1,'Нет',3]],
					"req_txt" : 'Вы действительно хотите улучшить?'
				};
			}
			break;
		case "cl_askip":
			if (act){
				var _evt = (!evt ? window.event : evt);
				_WND_proc("clans", "a_skip", null, _evt);
			}else{
				_s = 0;
				$.ajax({
					async: false,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "cl_askip_s"},
					dataType: "json",
					success: function(data) {
						if (typeof data.ret != "undefined") _s = parseInt(data.ret);
					}
				});
				_dlg = {
					"show"    : true,
					"dclass"  : "confirm-dlg",
					"btns"    : [[2,'Да',1],[1,'Нет',3]],
					"inf_txt" : 'Для смены задания вам необходимо улучшение в клане.<br/>Счётчик смен восполняется каждую неделю<br/><br/>Доступно: '+ _s,
					"req_txt" : 'Сменить задание?'
				};
			}
			break;	
		case "lword":
			if (act){
				var _evt = (!evt ? window.event : evt);
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "lword", txt: $("#lwd_txt").val().trim()},
					dataType: "json",
					success: function(data) {
						if (typeof data.err != "undefined"){
							var _e = '';
							switch (data.err){
								case 1: _e = 'Недостаточно монет'; _HX_hint('rud5'); _WND_proc('buy'); break;
								case 2: _e = 'Введите текст'; break;
								case 3: _e = 'Лимит исчерпан'; break;
							}
							if (_e != ""){
								var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
								var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
								_WARN("default", 2500, '<span class="yellow">'+ _e +'</span>', _cx - 100, _cy);
								_DLG(proc, -1);
								if ($("#lwd_txt").length){
									$("#lwd_txt").focus();
								}
							}else{
								_DLG(proc, 1);
							}
						}else{
							_DLG(proc, 1);
						}
					}
				});
			}else{
				if (gam_id && gam_state == "play" && pla_data['dead']){
					_p = 30;
					$.ajax({
						async: false,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "get_cimp", id: 20},
						dataType: "json",
						success: function(data) {
							if (typeof data.cimp != "undefined") _p -= parseInt(data.cimp);
						}
					});
					_dlg = {
						"show"    : true,
						"align"   : "cc",
						"dclass"  : "lastWordPopup popupShadowNew",
						"new_style" : true,
						"btns"    : [[2,'Отправить',1],[1,'',2]],
						"focus"   : "lwd_txt",
						"code"    : '<h1 style="text-align:center">Последнее слово!</h1>'+
							'<div style="text-align:center">'+
								'<div class="textarea">'+
									'<p>Скажи последнюю фразу перед смертью!</p>'+
									'<textarea id="lwd_txt" maxlength="160" onkeydown="return _DLG(\''+ proc +'\', -2, [2, event]);"></textarea>'+
									'<p><img src="/images/icons/coin.png" alt="" style="vertical-align: -4px; margin-right: 5px" /><em>'+ _p +'</em></p>'+
								'</div>'+
							'</div>'
					};
				}
			}
			break;
		case "are_del":
			if (act){
				var _evt = (!evt ? window.event : evt);
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "are_del"},
					dataType: "json",
					success: function(data) {
						if (typeof data.err != "undefined"){
							var _e = '';
							switch (data.err){
								case 1: _e = 'Недостаточно рубинов'; _WND_proc('ruby_buy'); break;
								case 2: _e = 'Недоступно'; break;
							}
							if (_e != ""){
								var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
								var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
								_WARN("default", 2500, '<span class="yellow">'+ _e +'</span>', _cx - 100, _cy);
								_DLG(proc, -1);
							}else{
								_DLG(proc, 1);
							}
						}else{
							_DLG(proc, 1);
							$("#btn_are_del").remove();
						}
						if (typeof data.bst_l != "undefined"){
							if (!$("#gxt_319").length){
								_GM_action("gxt", "exts", "add", [319, 1]);
							}else{
								_GM_action("gxt", "exts", "set", [319, 0, 1]);
							}
						}
					}
				});
			}else{
				if (gam_id && gam_state == "fin"){
					_dlg = {
						"show"    : true,
						"align"   : "cc",
						"dclass"  : "doPopup deleteGame popupShadowNew",
						"new_style" : true,
						"btns"    : [[2,'Да',1, 'color4'],[1,'Отмена',3, 'color3']],
						"code"    : '<h3 style="text-align:center">Cтереть игру? Результат этой игры аннулируется и вы сможете сыграть еще одну игру.'+
						'<div class="price">'+
							'<img src="/images/icons/ruby-micro.png" style="vertical-align: -3px" alt="" /> 10'+
						'</div></h3>'
					};
				}
			}
			break;	
		case "bank_m_c":
			if (act){
				var _evt = (!evt ? window.event : evt);
				var _sub_id = $("#pp_bank_m").attr("label");
				_DLG("bank_m_c", 1);
				_GM_action('f', 'upd', 'pp_dh', 'bank_m');
				_WND_proc('extras', 'bank_m', [_sub_id, 'cancel']);
			}else{
				_dlg = {
					"show"    : true,
					"dclass"  : "confirm-dlg",
					"btns"    : [[2,'Да',1],[1,'Нет',3]],
					"req_txt" : 'Вы действительно хотите отменить подписку?'
				};
			}
			break;
		case "bank_m_cc":
			if (act){
				var _evt = (!evt ? window.event : evt);
				_DLG("bank_m_cc", 1);
			}else{
				_dlg = {
					"show"    : true,
					"dclass"  : "confirm-dlg",
					"btns"    : [[1,'Закрыть',3]],
					"req_txt" : 'Ваша подписка успешно отменена! Экстра будет активна до окончания срока действия'
				};
			}
			break;		
		case "boss":
			if (act){
				if (act >= 2){
					var _evt = (!evt ? window.event : evt);
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "boss_do", act: act, txt: ($("#bss_txt").length ? $("#bss_txt").val().trim() : ''), bet: ($("#bss_bet").length ? $("#bss_bet").val() : 100)},
						dataType: "json",
						success: function(data) {
							if (typeof data.err != "undefined"){
								if (data.err == 1){
									var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
									var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
									_WARN("default", 2500, '<span class="yellow">Недостаточно монет</span>', _cx - 100, _cy);
									_HX_hint('rud5');
									_WND_proc('buy');
									_DLG(proc, -1);
									if ($("#bss_txt").length){
										$("#bss_txt").focus();
									}
								}else if (data.err == 4){
									_WARN("default", 2500, '<span class="yellow">Максимально возможная ставка: 100 000 монет</span>', _evt.clientX - 100, _evt.clientY);
									_DLG(proc, -1);
								}else{
									_DLG(proc, 1);
								}
							}else{
								if (act == 2) my_lbss = $("#bss_txt").val().trim();
								_DLG(proc, 1);
							}
						}
					});
				}
			}else{
				if (!gam_id || gam_state == "def"){
					if (my_play_c < 100){
						var _evt = (!evt ? window.event : evt);
						var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
						var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
						_WARN("default", 2500, '<span class="yellow">Требуется сыграть 100 игр</span>', _cx - 100, _cy);
						return;
					}
					if (_CHT_bss[0] != my_id){
						_dlg = {
							"show"    : true,
							"align"   : "cc",
							"dclass"  : "bossPopup popupShadowNew",
							"new_style" : true,
							"btns"    : [[2,'Убить босса',1],[1,'',2]],
							"run_function" : function(){inputDefValue()},
							"focus"   : "bss_txt",
							//"focus"   : (my_lbss == '' ? false : 'bss_txt'),
							"code"    : '<h1>Займи место Босса мафии!</h1>'+
								'<p class="cost">'+
									'Стоимость <img src="/images/icons/coin.png" style="vertical-align: -4px; margin-right: 3px" alt="" /><em><span id="bss_bet">'+ Math.floor(_CHT_bss[1]) +'</span></em>'+
								'</p>'+
								'<h2>Введите сообщение!</h2>'+
								'<textarea id="bss_txt" onkeydown="return _DLG(\''+ proc +'\', -2, [2, event]);" maxlength="124">'+ my_lbss +'</textarea>'
						};
					}else{
						_dlg = {
							"show"    : true,
							"align"   : "cc",
							"dclass"  : "bossPopup bet popupShadowNew",
							"new_style" : true,
							"btns"    : [[3,'Повысить',1],[1,'',2]],
							"focus"   : "bss_bet",
							"code"    : '<h1 style="text-align:center">Вы - Босс мафии!</h1>'+
								'<div class="bidBlock">'+
									'<h3>Повысить ставку:</h3>'+
									'<input id="bss_bet" maxlength="12" value="100" onkeydown="return _DLG(\''+ proc +'\', -2, [3, event]);" />'+
									'<p class="minimum">Минимальная ставка 100 монет</p>'+
								'</div>'
						};
					}
				}
			}
			break;
		case "eraser":
			if (act){
				if (ers_uid != 0){
					var _evt = (!evt ? window.event : evt);
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "eraser", id: ers_uid},
						dataType: "json",
						success: function(data) {
							if (typeof data.ret != "undefined"){
								_DLG(proc, 1);
								if ($("#prf_"+ ers_uid +"_er").length){
									if ($("#prf_"+ ers_uid +"_er_"+ data.ret[0]).length) $("#prf_"+ ers_uid +"_er_"+ data.ret[0]).remove();
									$("#prf_"+ ers_uid +"_er").append('<img id="prf_'+ ers_uid +'_er_'+ data.ret[0] +'" src="/images/events/'+evt_prefix+'/eraser/'+Math.floor((Math.random() * 6) + 1)+'.png?1" alt="" style="position:absolute;width:112px;height:113px;z-index:5;left:'+ data.ret[1] +'px;top:'+ data.ret[2] +'px" />');
								}
								ers_uid = 0;
								//if (!_SOUND_err) _SOUND_arr['sfx']['do'].play();
							}
							if (typeof data.tokens != "undefined"){
								_EvtPrizeOnScreen(data.tokens, 0, 0);
							}
							if (typeof data.cards != "undefined"){
								_EvtPrizeOnScreen(data.cards, 0, 0);
							}
							if (typeof data.err != "undefined"){
								var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
								var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
								_WARN("default", 2500, '<span class="yellow">Недостаточно монет</span>', _cx - 100, _cy - 80, {w: 200});
								_HX_hint('rud5');
								_WND_proc('buy');
								_DLG(proc, -1);
							}
						}
					});
				}	
			}else{
				var _evt = (!evt ? window.event : evt);
				var _t = '';
				
				_dlg = {
					"show"    : true,
					"align"   : "cc",
					"dclass"  : "doPopup popupShadowNew",
					"new_style" : true,
					"btns"    : [[2,_t+'!',1, 'color4'],[1,'Отмена',3, 'color3']],
					"code"    : '<h3 style="text-align:center">'+_t+'!'+
						'<div class="price">'+
							'<img src="/images/icons/coin.png" style="vertical-align: -3px" alt="" /> 25'+
						'</div></h3>'
				};
			}
			break;
		case "replay":
			if (act){
				var _evt = (!evt ? window.event : evt);
				_GM_action('', 'exit');
				setTimeout(function(){
					_GM_action('buttonPlay', 'play', '', _evt);
				}, 1000);
			}else{
				_dlg = {
					"show"    : true,
					"dclass"  : "confirm-dlg",
					"align"   : "cc",
					"btns"    : [[2,'Начать игру',1],[1,'',2]],
					"req_txt" : 'Вы можете остаться, либо начать новую игру'
				};
			}
			break;
		case "scream":
			if (act){
				_CHT_action("ich", "scream", "close", (!evt ? window.event : evt));
			}else{
				var _evt = (!evt ? window.event : evt);
				if (gam_id && ((gam_state == "play" && (pla_data['dead'] || pla_data['freeze'] == 1 || pla_data['freeze'] == 3 || pla_data['freeze'] == 4 || pla_data['freeze'] == 6 || pla_data['freeze'] == 7 || pla_data['freeze'] == 8 || pla_data['freeze'] == 9 || pla_data['freeze'] == 10 || pla_data['freeze'] == 11 || pla_data['freeze'] == 12 || pla_data['freeze'] == 13 || pla_data['freeze'] == 14 || _CHT_c_tab == "cmf" || _CHT_c_tab == "ctn")) || gam_state == "fin")){
					var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
					var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
					_WARN("default", 2500, '<span class="yellow">В данный момент кричать нельзя!</span>', _cx - 100, _cy - 80, {w: 200});
				}else{
					var _v = $("#ich_txt").val().trim();
					if (_v == ""){
						var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
						var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
						_WARN("default", 2500, '<span class="yellow">Напишите текст в строке сообщений и нажмите крикнуть! Ваша фраза будет самой заметной!</span>', _cx - 100, _cy - 80, {w: 200});
					}else{
						_p = 10;
						$.ajax({
							async: false,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "get_cimp", id: 18},
							dataType: "json",
							success: function(data) {
								if (typeof data.cimp != "undefined") _p -= parseInt(data.cimp);
							}
						});
						_dlg = { 
							"show"    : true,
							"align"   : "cc",
							"new_style" : true,
							"dclass"  : "screamPopup popupShadowNew",
							"btns"    : [[2,'Крикнуть',1, 'color4'],[1,'Отменить',3, 'color3']],
							"req_txt" : 'Крикнуть в чат? <p><img src="/images/icons/coin.png" style="vertical-align: -4px; margin-right: 3px"> <em>'+ _p +'</em></p>',
						};
					}
				}
			}
			break;
		case "dynamits":
			if (act){
				_DLG(proc, 1);
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "dynamits"},
					dataType: "json"
				});
			}else{
				_dlg = { 
					"show"    : true,
					"align"   : "cc",
					"new_style" : true,
					"dclass"  : "sacrificeBanditos popupShadowNew",
					"btns"    : [[2,'Пожертвовать',1, 'color4'],[1,'Отмена',3, 'color3']],
					"req_txt" : 'Пожертвовать собой? +1 минута к таймеру',
				};
			}
			break;	
		case "bandit_pw":
			if (act){
				_DLG(proc, 1);
				var _evt = (!evt ? window.event : evt);
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "bandit_pw"},
					dataType: "json",
					success: function(data) {
						if (typeof data.ret != "undefined"){
							$.each(data.ret, function(_i, _arr) {
								if ($("#upl_" + _arr[0]).length){
									var _oo = $("#upl_" + _arr[0]).find(".ico");
									if ($(_oo).length){
										$(_oo).css("background-image", "url(/img/persons/big/"+ k_persons[_arr[1]] + "_"+ _arr[2] +".png)");
										$(_oo).attr("title", t_persons[_arr[1]]);
										$(_oo).attr("label", _arr[1]);
									}
								}
							});
							_GM_action("", "upd", "acts");
						}
					}
				});
			}else{
				_dlg = { 
					"show"    : true,
					"align"   : "cc",
					"new_style" : true,
					"dclass"  : "joinBanditos popupShadowNew",
					"btns"    : [[2,'Вступить',1, 'color4'],[1,'Отмена',3, 'color3']],
					"req_txt" : 'Братья Бандитос зовут вас в свою банду!',
				};
			}
			break;
		case "break_egg":
			if (act){
				var _evt = (!evt ? window.event : evt);
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "break_egg"},
					dataType: "json",
					success: function(data) {
						if (typeof data.ret != "undefined"){
							_DLG(proc, 1);
						}
						if (typeof data.err != "undefined"){
							var _e = '';
							switch (data.err){
								case 1: _e = 'Вы использовали все попытки!'; break;
								case 2: _e = 'Кто-то уже разбил яйцо!'; break;
								case 3: _e = 'Недостаточно монет'; _HX_hint('rud5'); _WND_proc('buy'); break;
							}
							if (_e != ''){
								var _cx = (typeof _evt != "undefined" && _evt.clientX ? _evt.clientX - 100 : parseInt(parseInt(document.body.clientWidth) / 2));
								var _cy = (typeof _evt != "undefined" ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
								_WARN("extras", 2500, '<span class="yellow">'+ _e +'</span>', _cx, _cy);
								_DLG(proc, -1);
							}
						}
					}
				});
			}else{
				_dlg = { 
					"show"    : true,
					"align"   : "cc",
					"new_style" : true,
					"dclass"  : "breakEggPopup popupShadowNew",
					"btns"    : [[2,'Попробовать',1, 'color4'],[1,'Отменить',3, 'color3']],
					"req_txt" : 'Испытай удачу, попробуй разбить яйцо! <p><img src="/images/icons/coin.png" style="vertical-align: -4px; margin-right: 3px"> <em>25</em></p>',
				};
			}
			break;
		case "safe_open":
		case "safe_open_p":
		case "safe_open_l":
		case "safe_open_s":
			if (act){
				var _evt = (!evt ? window.event : evt);
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "safe_open"},
					dataType: "json",
					success: function(data) {
						if (typeof data.ret != "undefined"){
							_DLG(proc, 1);
						}
						if (typeof data.err != "undefined"){
							var _e = '';
							switch (data.err){
								case 1: _e = 'Вы использовали все попытки!'; break;
								case 2: _e = (proc == "safe_open_s" ? 'Кто-то уже разбил лёд!' : 'Кто-то уже открыл сейф!'); break;
								case 3: _e = 'Недостаточно монет'; _HX_hint('rud5'); _WND_proc('buy'); break;
							}
							if (_e != ''){
								var _cx = (typeof _evt != "undefined" && _evt.clientX ? _evt.clientX - 100 : parseInt(parseInt(document.body.clientWidth) / 2));
								var _cy = (typeof _evt != "undefined" ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
								_WARN("extras", 2500, '<span class="yellow">'+ _e +'</span>', _cx, _cy);
								_DLG(proc, -1);
							}
						}
					}
				});
			}else{
				_dlg = { 
					"show"    : true,
					"align"   : "cc",
					"new_style" : true,
					"dclass"  : "safe chancePopup popupShadowNew"+ (proc == "safe_open_l" ? ' lili' : (proc == "safe_open_s" ? ' ny' : (proc == "safe_open_p" ? ' prof' : ''))),
					"btns"    : [[2,'Попробовать',1, 'color4'],[1,'Отменить',3, 'color3']],
					"req_txt" : (proc == "safe_open_s" ? 'Испытай удачу, попробуй разбить лёд!' : 'Испытай удачу, попробуй открыть сейф!') +' <p><img src="/images/icons/coin.png" style="vertical-align: -4px; margin-right: 3px"> <em>25</em></p>',
				};
			}
			break;
		case "safe_open_b":
			if (act){
				var _evt = (!evt ? window.event : evt);
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "safe_open_b"},
					dataType: "json",
					success: function(data) {
						if (typeof data.ret != "undefined"){
							_DLG(proc, 1);
							$("#pp_safe button").addClass("disabledGrayscale");
							setTimeout(function(){
								$("#pp_safe button").removeClass("disabledGrayscale");
							}, 5000);
						}
						if (typeof data.err != "undefined"){
							var _e = '';
							switch (data.err){
								case 1: _e = 'Пожалуйтса подождите!'; break;
								case 2: _e = 'Кто-то уже открыл сейф!'; break;
								case 3: _e = 'Недостаточно монет'; _HX_hint('rud5'); _WND_proc('buy'); break;
							}
							if (_e != ''){
								var _cx = (typeof _evt != "undefined" && _evt.clientX ? _evt.clientX - 100 : parseInt(parseInt(document.body.clientWidth) / 2));
								var _cy = (typeof _evt != "undefined" ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
								_WARN("extras", 2500, '<span class="yellow">'+ _e +'</span>', _cx, _cy);
								_DLG(proc, -1);
							}
						}
					}
				});
			}else{
				_dlg = { 
					"show"    : true,
					"align"   : "cc",
					"new_style" : true,
					"dclass"  : "safe chancePopup popupShadowNew banditos",
					"btns"    : [[2,'Попробовать',1, 'color4'],[1,'Отменить',3, 'color3']],
					"req_txt" : 'Испытай удачу, попробуй открыть сейф!' +' <p><img src="/images/icons/coin.png" style="vertical-align: -4px; margin-right: 3px"> <em>25</em></p>',
				};
			}
			break;	
		case "pinyata_br":
			if (act){
				var _evt = (!evt ? window.event : evt);
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "pinyata_br"},
					dataType: "json",
					success: function(data) {
						if (typeof data.ret != "undefined"){
							_DLG(proc, 1);
							$("#pp_safe button").addClass("disabledGrayscale");
							setTimeout(function(){
								$("#pp_safe button").removeClass("disabledGrayscale");
							}, 5000);
						}
						if (typeof data.err != "undefined"){
							var _e = '';
							switch (data.err){
								case 1: _e = 'Вы использовали все попытки!'; break;
								case 2: _e = 'Кто-то уже разбил пиньяту!'; break;
								case 3: _e = 'Недостаточно монет'; _HX_hint('rud5'); _WND_proc('buy'); break;
							}
							if (_e != ''){
								var _cx = (typeof _evt != "undefined" && _evt.clientX ? _evt.clientX - 100 : parseInt(parseInt(document.body.clientWidth) / 2));
								var _cy = (typeof _evt != "undefined" ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
								_WARN("extras", 2500, '<span class="yellow">'+ _e +'</span>', _cx, _cy);
								_DLG(proc, -1);
							}
						}
					}
				});
			}else{
				_dlg = { 
					"show"    : true,
					"align"   : "cc",
					"new_style" : true,
					"dclass"  : "pinjata chancePopup popupShadowNew",
					"btns"    : [[2,'Попробовать',1, 'color4'],[1,'Отменить',3, 'color3']],
					"req_txt" : 'Испытай удачу, попробуй разбить пиньяту! <p><img src="/images/icons/coin.png" style="vertical-align: -4px; margin-right: 3px"> <em>25</em></p>',
				};
			}
			break;
				case "divorce":
			if (act){
				var _evt = (!evt ? window.event : evt);
				var _p = ($("#mrd_pass").length ? $("#mrd_pass").val() : '');
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "mr_div", pass: _p},
					dataType: "json",
					success: function(data) {
						if (typeof data.ret != "undefined"){
							$("#prf_"+ my_id +" .wedding").remove();
							$("#prf_"+ data.ret +" .wedding").remove();
							_DLG(proc, 1);
						}
						if (typeof data.err != "undefined"){
							_WARN(proc, 2500, '<span class="yellow">Вы ввели неверный код, либо у вас не установлен код безопасности.<br/>Установить код можно в своём профиле.</span>', _evt.clientX - 100, _evt.clientY);
							_DLG(proc, -1);
						}
					}
				});
			}else{
				_dlg = {
					"show"    : true,
					"dclass"  : "confirm-dlg",
					"btns"    : [[2,'Да',1],[1,'Нет',3]],
					"code"    : '<h1 style="text-align:center">Вы действительно хотите развестись?</h1>'+
						'<div style="text-align:center">'+
							'<b style="color:red">Для этого действия необходим код безопасности!</b><br/><br/>'+
							(my_ispwd ? 'Введите код для подтверждения<br/><br/>'+
							'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:150px;margin:0 auto">'+
							'<input type="password" id="mrd_pass" maxlength="16" />'+
							'</div><br/>' : '')+
						'</div>'
				};
			}
			break;
		case "exit":
			if (act){
				_GM_action("", proc, "", (!evt ? window.event : evt));
			}else{
				var _evt = (!evt ? window.event : evt);
				if (gam_id && gam_state != "init"){
					if (gam_state == "play"){
						if (pla_data['dead']){
							_dlg = {
									"show"    : true,
									"align"   : "cc",
									"dclass"  : "gameExitPopup picture popupShadowNew",
									"new_style" : true,								
									"btns"    : [[2,'Выйти',1],[1,'',2]],
									"req_txt" : 'Хотите выйти из партии?'
							};
						} else {
							_dlg = {
									"show"    : true,
									"align"   : "cc",
									"dclass"  : "gameExitPopup popupShadowNew",
									"new_style" : true,
									"btns"    : [[2,'Да',1],[1,'Нет',3]],
									"req_txt" : 'Вы действительно хотите умереть?',
									"inf_txt" : '<div style="font-size: 12px; margin: 35px 0; text-align: center">Вы останетесь в комнате, но будете мертвы.<br />Внимание! Вашему рейтингу будет засчитано поражение.</div>',
									"price"   : 200
							};
						}
					}else{
						_dlg = {"act": 2};
					}
				}
			}
			break;
		case "ch_nick":
			if (act){
				var _evt = (!evt ? window.event : evt);
				var _prf_n_nick = $("#prf_n_nick").val().trim();
				if (_prf_n_nick == ""){
					_WARN("default", 2500, '<span class="yellow">Введите ник</span>', _evt.clientX - 100, _evt.clientY);
					_DLG(proc, -1);
				}else{
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "ch_nick", val: _prf_n_nick},
						dataType: "json",
						success: function(data) {
							if (typeof data.nick != "undefined"){
								$("#prf_n_nick").val(data.nick);
							}
							if (typeof data.ret != "undefined"){
								_DLG(proc, 1);
								my_nick = data.ret;
								var _n = $("#prf_"+ my_id +" div.user-name");
								if ($(_n).length){
									var _h = $(_n).html().substring($(_n).html().indexOf('<'));
									$(_n).html(my_nick + _h);
								}
								$(".my_nickname").html(my_nick);
							}
							if (typeof data.err != "undefined"){
								var _e = '';
								switch (data.err){
									case 1: _e = 'Введите ник'; break;
									case 2: _e = 'Ник уже занят'; break;
									case 3: _e = 'Запрещенный символ в нике'; break;
									case 4: _e = 'Длина ника должна быть от 3 до 21 символа'; break;
									case 5: _e = 'Запрещенная комбинация'; break;
									case 6: _e = 'Запрещенный ник'; break;
									case 7: _e = 'Смешивать буквы из разных алфавитов запрещено'; break;
									case 8: _e = 'Недостаточно монет'; _HX_hint('rud5'); _WND_proc('buy'); break;
								}
								if (_e != ''){
									var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
									var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
									_WARN("default", 2500, '<span class="yellow">'+ _e +'</span>', _cx - 100, _cy);
								}
								_DLG(proc, -1);
							}
						}
					});
				}
			}else{
				_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
				_dlg = {
					"show"    : true,
					"dclass"  : "confirm-dlg",
					"btns"    : [[2,'Сменить',1],[1,'',2]],
					"focus"   : "prf_n_nick",
					"code"    : '<h1 style="text-align:center">Сменить ник!</h1>'+
						'<div style="text-align:center">'+
							'Введите новый ник<br/><br/>'+
							'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:150px;margin:0 auto">'+
								'<input id="prf_n_nick" maxlength="21" onkeydown="return _DLG(\''+ proc +'\', -2, [2, event]);" />'+
							'</div><br/>'+
							'<h3>Стоимость услуги 1000 монет</h3>'+
						'</div>'
				};
			}
			break;
		case "ch_gender":
			if (act){
				var _evt = (!evt ? window.event : evt);
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "ch_gender"},
					dataType: "json",
					success: function(data) {
						if (typeof data.ret != "undefined"){
							my_gender = data.ret;
							_DLG(proc, 1);
						}
						if (typeof data.err != "undefined"){
							var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
							var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
							_WARN("default", 2500, '<span class="yellow">Недостаточно монет</span>', _cx - 100, _cy);
							_HX_hint('rud5');
							_WND_proc('buy');
							_DLG(proc, -1);
						}
					}
				});
			}else{
				_GM_action("", "upd", "pp_dd", "clan_"+ my_clan);
				_dlg = {
					"show"    : true,
					"dclass"  : "confirm-dlg",
					"btns"    : [[2,'Сменить',1],[1,'',2]],
					"focus"   : "prf_n_gender",
					"code"    : '<h1 style="text-align:center">Сменить пол на ' + (my_gender=='m' ? 'женский' : 'мужской') + '</h1>'+
						'<div style="text-align:center">'+
							'Вы уверены?<br/><br/>'+
							'<h3>Стоимость услуги 1000 монет</h3>'+
						'</div>'
				};
			}
			break;
		case "rst_pass_is":
			_dlg = {
				"show"    : true,
				"dclass"  : "confirm-dlg",
				"btns"    : [[1,'Закрыть',3]],
				"code"    : '<div style="text-align: center">Спасибо! Для дальнейших инструкций свяжитесь с представителем администрации: <a href="https://vk.com/ks.albi" target="_blank" style="font-weight: bold; display: block; margin: 5px 0 10px 0">https://vk.com/ks.albi</a> В письме укажите ваш игровой ник и тему обращения «сброс кода безопасности»</div>'
			};
			break;
		case "rst_pass":
			if (act){
				var _evt = (!evt ? window.event : evt);
				_DLG(proc, 1);
				_WND_proc("extras", "buy", {id: 229}, _evt);
			}else{	
				var _is = 0;
				$.ajax({
					async: false,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: proc},
					dataType: "json",
					success: function(data) {
						if (typeof data.ret != "undefined") _is = 1;
					}
				});
				if (!_is){
					_dlg = {
						"show"    : true,
						"dclass"  : "confirm-dlg",
						"btns"    : [[2,'Да',1],[1,'Нет',3]],
						"code"    : '<h1 style="text-align:center">Сброс кода безопасности</h1>'+
							'<div style="text-align: center">Вы можете запросить сброс кода безопасности. Внимание, сброс не произойдёт в автоматическом режиме! После оплаты, следуйте инструкциям.</div>'+
							'<div style="text-align: center">'+
								'<p style="font-size: 12px; font-weight: bold">Запросить сброс?</p>'+
								'<h3>Стоимость услуги 25000 монет</h3>'+
							'</div>'
					};
				}else{
					_DLG('rst_pass_is');
				}
			}
			break;
		case "new_pass":
		case "ch_pass":
			if (act){
				var _evt = (!evt ? window.event : evt);
				var _prf_pass = $("#prf_pass").val();
				var _prf_pass_re = $("#prf_pass_re").val();
				if (_prf_pass != _prf_pass_re){
					_WARN("default", 2500, '<span class="yellow">Код безопасности не совпадает</span>', _evt.clientX - 100, _evt.clientY);
					_DLG(proc, -1);
				}else{
					var _pass_arr = [];
					_pass_arr[0] = _prf_pass;
					if (proc == "ch_pass") _pass_arr[1] = $("#prf_pass_old").val().trim();
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: proc, val: _pass_arr},
						dataType: "json",
						success: function(data) {
							if (typeof data.ret != "undefined"){
								my_ispwd = 1;
								if (proc == "new_pass") $("#prf_pass_lnk").css("display", "none");
								_DLG(proc, 1);
							}
							if (typeof data.err != "undefined"){
								var _e = '';
								switch (data.err){
									case 1: _e = 'Код должен быть минимум 6 символов'; break;
									case 2: _e = 'Текущий код безопасности неверный'; break;
								}
								if (_e != ''){
									var _cx = (_evt.clientX ? _evt.clientX : parseInt(parseInt(document.body.clientWidth) / 2));
									var _cy = (_evt.clientY ? _evt.clientY : parseInt(parseInt(document.body.clientHeight) / 2));
									_WARN("default", 2500, '<span class="yellow">'+ _e +'</span>', _cx - 100, _cy);
								}
								_DLG(proc, -1);
							}
						}
					});
				}
			}else{
				_dlg = {
					"show"    : true,
					"dclass"  : "confirm-dlg",
					"btns"    : [[2,'Принять',1],[1,'',2]],
					"code"    : '<h1 style="text-align:center">Код безопасности!</h1>'+
						'<div style="text-align:center">'+
							'Код безопасности используется для дополнительной надёжности и особенно важен если злоумышленник получит доступ к вашему профилю.<br/><br/>'+
							'Код не позволит отнять у вас клан или распустить брак, поможет в восстановлении утерянного профиля.<br/></br>'+
							'<b>Сохраните этот код в тайне! Ни при каких обстоятельствах не передавайте его другим игрокам!</b><br/><br/>'+
							(proc == 'ch_pass' ? 'Введите текущий код<br/><br/>'+
							'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:150px;margin:0 auto">'+
								'<input type="password" id="prf_pass_old" maxlength="16" />'+
							'</div><br/>' : '')+
							'Введите новый код безопасности<br/><br/>'+
							'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:150px;margin:0 auto">'+
								'<input type="password" id="prf_pass" maxlength="16" />'+
							'</div><br/>'+
							'Введите новый код повторно<br/><br/>'+
							'<div class="popup-input-container" style="margin-top:10px;cursor:default;width:150px;margin:0 auto">'+
								'<input type="password" id="prf_pass_re" maxlength="16" />'+
							'</div><br/>'+
						'</div>'
				};
			}
			break;	
	}
	if (!_dlg) return;
	if (_dlg.show){
		if (!$("#pp_dlg_"+ proc).length){
			var _btns = [];
			_btns[0] = '';
			if (_dlg.btns){
				$.each(_dlg.btns, function(_i, _row) {
					var add_class = _row[3] || 'color1';
					var button_class = (_dlg.new_style ? 'newButton '+add_class : 'button');
					if (_row[2] & 2) _btns[1] = _row[0];
					if (_row[2] & 1) _btns[0] += '<button ondblclick="return false" onclick="if ($(this).parent().hasClass(\'not-active\')) return false; $(this).parent().addClass(\'not-active\');_DLG(\''+ proc +'\', '+ _row[0] +', event);return false" class="'+button_class+'" hidefocus="true">'+ _row[1] +'</button>' + "\n";
				});
			}
			$("#popup_container").append('<div id="pp_dlg_'+ proc +'" class="popup-move dlg-popup '+ (_dlg.dclass ? _dlg.dclass : '') +' not-displayed" '+ (_dlg.style ? 'style="'+ _dlg.style +'"' : '') +'>'+
				(_dlg.new_style ? '' : '<div class="popup-bg">')+
					(_dlg.req_txt ? '<h2>'+ _dlg.req_txt +'</h2>' : '') +
					(_dlg.inf_txt ? '<p>'+ _dlg.inf_txt +'</p>' : '') +
					(_dlg.price ? '<h3>Стоимость: <img src="/images/icons/coin.png" style="vertical-align: -4px; margin-right: 3px" /><em>'+ _dlg.price +'</em></h3>' : '') +
					(_dlg.code ? _dlg.code : '') +
					'<div class="'+(_dlg.new_style ? 'footerButtons' : 'footer-buttons')+'">'+ _btns[0] +'</div>'+
					(_btns[1] ? '<a href="#" onclick="_DLG(\''+ proc +'\', '+ _btns[1] +', event);return false" class="'+(_dlg.new_style ? 'popupClose' : 'popup-close')+'" hidefocus="true"></a>' : '')+
				(_dlg.new_style ? '' : '</div>')+
			'</div>');
			if (_dlg.run_function){
				_dlg.run_function();
			}
			if (_dlg.align && _dlg.align == "cc"){
				$("#pp_dlg_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").width()) - hdr_right_o) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_dlg_"+ proc).width())/2)) +"px");
			}else{
				$("#pp_dlg_"+ proc).css("left", (parseInt((parseInt($("#rootContainer").width()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#pp_dlg_"+ proc).width())/2)) +"px");
			}
			if (_dlg.fetch){
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "dlg_fetch", proc: proc},
					dataType: "json",
					success: function(data) {
						if (typeof data.ret != "undefined"){
							$("#"+ _dlg.fetch).val(data.ret);
						}
					}
				});
			}
			$("#pp_dlg_"+ proc).draggable({
				containment: "document",
				cancel: "button,select,.popup-input-container,textarea,input,.popup-close",
				zIndex: 100,
				stop: function(){
					$(this).mousedown();
				}
			}).mousedown(function(){
				var _i = $(this).attr("id");
				var _z = _POPUP_resort("popup-move", _i);
				$(this).css("z-index", _z);
				if (_dlg.focus && _dlg.focus != ""){
					var originalValue = $("#"+ _dlg.focus).val();
					$("#"+ _dlg.focus).val('');
					$("#"+ _dlg.focus).blur().focus().val(originalValue);
					//$("#"+ _dlg.focus).focus();
				}
			}).show("fade", 100, function(){
				$(this).removeClass("not-displayed");
				$(this).mousedown();
			});
		}else{
			$("#pp_dlg_"+ proc).mousedown();
		}
	}else if(_dlg.act){
		_DLG(proc, _dlg.act);
	}
}

var lll = 0;
function _DO_test(){

			
		
	}

function formatCountdownTimer(owner, twoDigits) {
	var d = parseInt($(owner).find('div#timerDiv span.days').html());
	var h = parseInt($(owner).find('div#timerDiv span.hours').html());
	var m = parseInt($(owner).find('div#timerDiv span.minutes').html());
	//var s = parseInt($(owner).find('div#timerDiv span.seconds').html());
	if (d > 0) {
		$(owner).find('div#timerDiv span.days').parent().removeClass('off');
		$(owner).find('div#timerDiv span.hours').parent().removeClass('off');
		if (twoDigits) {
			$(owner).find('div#timerDiv span.minutes').parent().addClass('off');
			$(owner).find('div#timerDiv span.seconds').parent().addClass('off');
		}
	} else
	if (h > 0) {
		$(owner).find('div#timerDiv span.days').parent().addClass('off');
		$(owner).find('div#timerDiv span.hours').parent().removeClass('off');
		$(owner).find('div#timerDiv span.minutes').parent().removeClass('off');
		if (twoDigits) {
			$(owner).find('div#timerDiv span.seconds').parent().addClass('off');
		}
	} else
	if (m > 0) {
		$(owner).find('div#timerDiv span.days').parent().addClass('off');
		$(owner).find('div#timerDiv span.hours').parent().addClass('off');
		$(owner).find('div#timerDiv span.minutes').parent().removeClass('off');
		$(owner).find('div#timerDiv span.seconds').parent().removeClass('off');
	} else {
		$(owner).find('div#timerDiv span.days').parent().addClass('off');
		$(owner).find('div#timerDiv span.hours').parent().addClass('off');
		$(owner).find('div#timerDiv span.minutes').parent().addClass('off');
		$(owner).find('div#timerDiv span.seconds').parent().removeClass('off');
	}
}

function show_offer_data(id) {
	for (var i = 0; i < my_offers.length; i ++) {
		var offer = my_offers[i];
		if (offer[0] == id) {
			$('#wnd_offers ul.offerMenu li').removeClass('active');
			$('#wnd_offers ul.offerMenu li#off_'+ id).addClass('active');

						var price_koef = 5.19;
			
						
			var _lnk = '_WND_proc(\'offers\', \''+ (offer[8] == 'billing' ? 'sa' : 'buy') +'\', [\''+ offer[0] +'\', \'\'], event);return false';
			var _btn = '';
			if (offer[8] == 'billing'){
				_btn = '<button class="buyButton button100px" ondblclick="return false" onclick="'+ _lnk +'">'+  offer[9][1]  +'</button>';
			}else{
				_btn = '<button class="buyButton button100px '+ (offer[8] == 'coins' ? 'coin' : 'ruby') +'" ondblclick="return false" onclick="'+ _lnk +'">'+ offer[9] +'</button>';
			}
			var price_old = offer[8] == 'billing' ? Math.round(offer[15] * price_koef) + (typeof offer[9][1] != 'undefined' ? ' ' + offer[9][1].split(' ')[1] : '') : offer[15];

			var items_list = '';
			var idx = 0;
			var time_left = 0;
			if (offer[11][4] != '') {
				var items_arr = offer[11][4].split(',');
				for (var i = 0; i < items_arr.length; i++) {
					var item = items_arr[i].split(':');
					time_left = parseInt(offer[4]) - Math.round((Date.now() - my_offers_upd) / 1000);
					if (item.length > 1) {
						switch (item[0]) {
							case 'coins':
								items_list += '<li class="num'+ idx +'" data-type="coins">'+
											'<div class="img asTable"><div class="asCell"><img src="/img/offers/ico/coins.png" class="coinsIco" /></div></div>'+
											'<div class="infoText">'+
												'<div class="name asTable"><div class="asCell">Монеты</div></div>'+
												'<div class="qty">'+ item[1] +'</div>'+
											'</div>'+
										'</li>';
								break;
							case 'ruby':
								items_list += '<li class="num'+ idx +'" data-type="ruby">'+
											'<div class="img asTable"><div class="asCell"><img src="/img/offers/ico/rubys.png" class="rubyIco" /></div></div>'+
											'<div class="infoText">'+
												'<div class="name asTable"><div class="asCell">Рубины</div></div>'+
												'<div class="qty">'+ item[1] +'</div>'+
											'</div>'+
										'</li>';
								break;
							case 'stars':
								items_list += '<li class="num'+ idx +'" data-type="stars">'+
											'<div class="img asTable"><div class="asCell"><img src="/img/offers/ico/stars.png" class="starsIco" /></div></div>'+
											'<div class="infoText">'+
												'<div class="name asTable"><div class="asCell">Звёзды достижений</div></div>'+
												'<div class="qty">'+ item[1] +'</div>'+
											'</div>'+
										'</li>';
								break;
							case 'extra':
								var _qty = parseInt(item[1]);
								//if (typeof __store[item[2]].qty != "undefined" && parseInt(__store[item[2]].qty) > 1) _qty = (_qty * __store[item[2]].qty);
								var _cnt = ($("#gxt_"+item[2]).length ? parseInt($("#gxt_"+item[2]).attr("label")) : '');
								items_list += '<li class="num'+ idx +'" data-type="extra">'+
											'<div class="img asTable"><div class="asCell">'+
												'<div class="extraContainer"><img src="/img/extras/'+ item[2] +'.png" class="extraIco hoverHint" data-tip="'+ __store[item[2]].descr +'" /><div class="extraQty alreadyBuyCount">'+_cnt+'</div></div>'+
											'</div></div>'+
											'<div class="infoText">'+
												'<div class="name asTable"><div class="asCell">'+ __store[item[2]].title +'</div></div>'+
												'<div class="qty'+ (parseInt(item[1]) > 1 ? '' : ' off') +'">'+ _qty +'</div>'+ //.buyCount
											'</div>'+
										'</li>';
								break;
							case 'figure':
								items_list += '<li class="num'+ idx +'" data-type="figure">'+
											'<div class="img asTable"><div class="asCell"><img src="/img/persons/big/'+ (item[11][3][1] > 0 ? k_persons[item[11][3][1]] : "unknown") + (item[11][3][2] > 0 ? item[11][3][2] : '') +'_'+ my_gender +'.png" class="talptsIco"/></div></div>'+
											'<div class="infoText">'+
												'<div class="name asTable"><div class="asCell">'+ (typeof __store[item[11][3][0]] != "undefined" ? __store[item[11][3][0]].title : '') +'</div></div>'+
												'<div class="qty">'+ (typeof __store[item[11][3][0]].interval != "undefined" ? 'на '+ __ext_interval_parse(__store[item[11][3][0]].interval) : '') +'</div>'+
											'</div>'+
										'</li>';

								break;
							case 'talpts':
								items_list += '<li class="num'+ idx +'" data-type="talpts">'+
											'<div class="img asTable"><div class="asCell"><img src="/img/offers/ico/token.png" class="talptsIco"/></div></div>'+
											'<div class="infoText">'+
												'<div class="name asTable"><div class="asCell">Очко таланта</div></div>'+
												'<div class="qty">'+ item[1] +'</div>'+
											'</div>'+
										'</li>';
								break;
							case 'talfrag':
								items_list += '<li class="num'+ idx +'" data-type="talfrag">'+
											'<div class="img asTable"><div class="asCell"><img src="/img/offers/ico/talent_frag_xx.png" class="talptsIco"/></div></div>'+
											'<div class="infoText">'+
												'<div class="name asTable"><div class="asCell">Осколок таланта</div></div>'+
												'<div class="qty">'+ item[1] +'</div>'+
											'</div>'+
										'</li>';
								break;
							case 'questchg':
								items_list += '<li class="num'+ idx +'" data-type="task_change">'+
											'<div class="img asTable"><div class="asCell"><img src="/img/offers/ico/task_change.png" class="talptsIco"/></div></div>'+
											'<div class="infoText">'+
												'<div class="name asTable"><div class="asCell">Смена квеста</div></div>'+
												'<div class="qty">'+ item[1] +'</div>'+
											'</div>'+
										'</li>';
								break;
							case 'questnew':
								items_list += '<li class="num'+ idx +'" data-type="task_add">'+
											'<div class="img asTable"><div class="asCell"><img src="/img/offers/ico/task_add.png" class="talptsIco"/></div></div>'+
											'<div class="infoText">'+
												'<div class="name asTable"><div class="asCell">Получение нового квеста</div></div>'+
												'<div class="qty">'+ item[1] +'</div>'+
											'</div>'+
										'</li>';
								break;
						}
						idx ++;
					}
				}
			}

			var html = 
				'<div class="banner">'+
					'<div class="h1 asTable"><h1 class="asCell">'+ (offer[5] != null ? offer[5] : '') +'</h1></div>'+
					'<ul class="itemList">'+
						items_list+
					'</ul>'+
				'</div>'+
				'<div class="footer">'+
					'<div class="timerBlock">'+
						'<div class="timerText">'+
							'До конца акции:'+
						'</div>'+
						'<div id="timerDiv" class="timerDiv">'+
							'<span class="unit"><span class="days">0</span>д</span> <span class="unit"><span class="hours">0</span>ч</span> <span class="unit"><span class="minutes">0</span>м</span> <span class="unit"><span class="seconds">0</span>c</span>'+
						'</div>'+
					'</div>'+
					'<div class="price asTable'+ (parseInt(offer[15]) == 0 ? ' off' : '') +'">'+
						'<div class="asCell">'+
							'<div class="infoText">'+
								'<div class="priceText">Обычная цена:</div>'+
								'<span class="strike">'+ price_old +'</span>'+
							'</div>'+
						'</div>'+
					'</div>'+
					_btn+
					'<div class="billings"></div>'+
				'</div>';
			$('#wnd_offers div.offerBlock').attr('id', 'oda_id_'+offer[0]).attr('class', 'offerBlock popupShadowNew '+ offer[7]).html(html);

			ptip.init('#wnd_offers .hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause'});

			$('#wnd_offers div.offerBlock div.timerDiv').countdown(time_left * 1000, function(event){
				switch(event.type){
					case "finished":
						break;
					default:
						formatCountdownTimer('#wnd_offers div.offerBlock', false);
						break;
				}
			});

			break;
		}
	}
}

function _HX_noob(id){

	if (my_play_c >= 100) return;
	if (typeof __hxda[id] != "undefined" && __hxda[id]) return false;
	if (_SOUND_err){
		setTimeout(function(){
			_HX_hint_x(id);
		}, 1000);
	}else{
		_HX_hint_x(id);
	}
}

function _HX_hint(id){

	if (!isNaN(id) && id <= 1000 && my_play_c >= 100) return;
	if (typeof __hxda[id] != "undefined" && __hxda[id]) return false;
	if (_SOUND_err){
		setTimeout(function(){
			_HX_hint_x(id);
		}, 1000);
	}else{
		_HX_hint_x(id);
	}
}

function _HX_hint_s(id){
	__hxda[id] = 1;
	$.ajax({
		async: true,
		cache: false,
		type: "POST",
		url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
		data: {method: "hxda_set", id: id},
		dataType: "json"
	});
}

function _HX_hint_x(id){

	if (doFlashHint(id)){
		_HX_hint_s(id);
	}
}

var _pl_no_tm = null;
var _pl_no_obj = null;
var _pl_no_ton = false;

function _PL_n_over(obj){

	if (_pl_no_tm != null){
		clearTimeout(_pl_no_tm);
		_pl_no_tm = null;
	}
	if (_pl_no_obj != null){
		var _oo = $(_pl_no_obj).find(".pl-nick-div");
		if (!$(_oo).hasClass("off")) $(_oo).addClass("off");
	}
	_pl_no_obj = obj;
	$(obj).find(".pl-nick-div").removeClass("off");
}

function _PL_n_out(){

	if (_pl_no_tm != null){
		clearTimeout(_pl_no_tm);
		_pl_no_tm = null;
	}
	if (_pl_no_obj != null){
		_pl_no_tm = setTimeout(function(){
			if (_pl_no_obj != null){
				var _oo = $(_pl_no_obj).find(".pl-nick-div");
				if (!$(_oo).hasClass("off")) $(_oo).addClass("off");
				_pl_no_obj = null;
			}
			_pl_no_tm = null;
		}, 100);
	}
}

function _PL_nick(id, n, s, p, z){

	var _n = (n !== false ? n : '');
	return '<a href="#" '+(id != my_id ? 'onclick="'+ (p ? '_PVT(event, \''+id+'\');' : 'var ot=this;setTimeout(function(){if(_pl_no_ton){_pl_no_ton=false;return};_TON(\'ich\', ot);}, 25);')+'return false"' : '')+' class="'+ (!s ? 'nick-from' : s) + (_n.replace(/&quot;/g, '"') == my_nick ? ' nick-my' : '')+'" hidefocus="true"'+ (z && id != my_id ? ' onmouseover="_PL_n_over(this);" onmouseout="_PL_n_out();"' : '') +'>'+ (z && id != my_id ? '<span class="pl-nick-div off"><span class="pl-nick-s-div"><img src="/images/icons/profile.png" ondblclick="return false" onclick="_pl_no_ton=true;_PRF('+ id +');return false" title="Смотреть профиль" alt=""></span></span>' : '') + _n +'</a>';
}

var _CHT_inp_f    = "ich";
var _CHT_c_tab    = "cco";
var _CHT_tm_s     = null;
var _CHT_bss      = [0, 30, 0, 0];

function _CHT_action(obj, mode, val, e){

	if (!e) var e = window.event;
	switch (mode){
		case "boss":
			if (val){
				var _bb = parseInt(val[0]);
				var _bf = false;
				if (_bb > 0){
					if (_bb == _CHT_bss[0]) _bf = true;
					_CHT_bss[0] = _bb;
					_CHT_bss[1] = parseInt(val[5]);
					var _bt = $("#bossBlock .bossBet span");
					if (!_bf){
						if (_bb == my_id){
							if (!$("#bossBlock button").hasClass("do-bet")) $("#bossBlock button").addClass("do-bet").html("Повысить ставку");
							
						}else{
							if ($("#bossBlock button").hasClass("do-bet")) $("#bossBlock button").removeClass("do-bet").html("Убить босса");
						}
						$("#bossBlock .bossPhoto").hide("fade", 250, function(){
							$(this).css("display", "").addClass("hidden");
							$(this).html('<img src="'+ (val[1] != '' ? val[1] : '/images/_.gif') +'" onmousedown="return false" onload="if(!$(\'#bossBlock\').is(\':visible\'))return;_PIX_crop(this, 76);$(\'#bossBlock .bossPhoto\').show(\'fade\', 250);" alt="" />');
							_CHT_bss[2] = parseInt(val[4]);
						});
						_CHT_action("boss", "marquee", val[6]);
					}else{
						$(_bt).stop().css("color", "#ea1100").animate({"color": ""}, 200, function(){
						});
					}
					$(_bt).html(Math.floor(_CHT_bss[1]));
					if ($("#bss_bet").length){
						$("#bss_bet").html(Math.floor(_CHT_bss[1]));
					}
				}
			}
			break;
		case "marquee":
			if (obj != "" && $("#mq_"+ obj).length){
				var _v;
				if (typeof val != "undefined"){
					_v = val;
					if (_v != "") _v += "&nbsp;";
					$("#mq_"+ obj).html(_v);
				}else{
					_v = $("#mq_"+ obj).html();
				}
				var _p = $("#mq_"+ obj).parent().parent();
				if (_v != "" && $(_p).hasClass("not-displayed")){
					$(_p).removeClass("not-displayed");
				}else if (_v == "" && !$(_p).hasClass("not-displayed")){
					$(_p).addClass("not-displayed");
				}
				if (!$("#mq_"+ obj).data("marquee")){
					/* ppOptimize
					$("#mq_"+ obj).bind("marquee", function(){
						if ($(this).is(":visible")){
							$(this).css({"right": -$(this).width()});
							$(this).animate({"right": $(this).parent().width()}, 15000, "linear", function(){
								$(this).trigger("marquee");
							});
						}
					}).data("marquee", true).trigger("marquee");
					*/
				}else{
					if (typeof val == "undefined"){
						if (ifc_mode == "chat") {
							$("#bossBlock .bossBet span").html(Math.floor(_CHT_bss[1]));
							if ($("#bss_bet").length){
								$("#bss_bet").html(Math.floor(_CHT_bss[1]));
							}
						}
						if ($("#mq_"+ obj).is(':animated'))return;
					}
					$("#mq_"+ obj).stop();
					if ($("#mq_"+ obj).is(":visible")){
						$("#mq_"+ obj).css({"right": -$(this).width()});
						$("#mq_"+ obj).trigger("marquee");
					}
				}
			}
			break;
		case "tab":
			if (val != "" && val != _CHT_c_tab){
				$("#"+ _CHT_c_tab +"_log").addClass("off");
				$("#"+ _CHT_c_tab +"_tab").removeClass("active");
				$("#"+ val +"_tab").addClass("active");
				$("#"+ val +"_log").removeClass("off");
				if (val == "cpv"){
					if (!$("#chatContainer").hasClass("pvt")){
						$("#chatContainer").addClass("pvt");
					}
					$("#"+ val +"_tab").removeClass("new-message");
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "msg_read"},
						dataType: "json"
					});
				}else{
					if (val == "cmf" || val == "ctn" || val == "ccl"){
						$("#"+ val +"_tab").removeClass("new-message");
					}
					if ($("#chatContainer").hasClass("pvt")){
						$("#chatContainer").removeClass("pvt");
					}
					setTimeout(function(){
						_CHT_focus("ich");
					}, 100);
					if (val == "cmf") {
						if (!pla_data['dead'] && pla_data['person'] == 2) _HX_noob('maf18');
						if (!pla_data['dead'] && pla_data['person'] == 9) _HX_noob('bos10');
						if (!pla_data['dead'] && pla_data['person'] == 26) _HX_noob('bif18');
					}else if (val == "ctn"){
						//if (!pla_data['dead'] && pla_data['person'] == 36) _HX_hint('yak30');
					}
				}
				$("#"+ val +"_log").divAutoScroll("bottomScrollPosition"); 
				_CHT_c_tab = val;
			}
			_GM_action("", "upd", "tabs");
			break;
		case "ton":
			if (val != ""){
				if ($("#"+ obj +"_txt").attr("disabled") == "disabled") return;
				if (_CHT_c_tab == "cpv" && obj == "ich"){
					_CHT_action("", "tab", "cco", e);
					_CHT_focus(obj);
				}else{
					_CHT_focus(obj);
				}
				var _v = $("#"+ obj +"_txt").val();
				$("#"+ obj +"_txt").val("[@"+ val +"] "+_v);
				_CHT_focus(obj);
			}
			break;
		case "write_to_input":
			if (val != ""){
				if ($("#"+ obj +"_txt").attr("disabled") == "disabled") return;
				if (_CHT_c_tab == "cpv" && obj == "ich"){
					_CHT_action("", "tab", "cco", e);
					_CHT_focus(obj);
				}else{
					_CHT_focus(obj);
				}
				var _v = $("#"+ obj +"_txt").val();
				$("#"+ obj +"_txt").val(val+_v);
				_CHT_focus(obj);
			}
			break;
		case "smile":
			if (val != ""){
				if ($("#"+ _CHT_inp_f +"_txt").attr("disabled") == "disabled") return;
				_CHT_focus();
				var _v = $("#"+ _CHT_inp_f +"_txt").val();
				$("#"+ _CHT_inp_f +"_txt").val(_v + val + " ");
				_CHT_focus();
			}
			break;
		case "smiles":
			if (_CHT_tm_s){
				clearTimeout(_CHT_tm_s);
				_CHT_tm_s = null;
			}
			switch (val){
				case "cnf_yes":
					var _c = $("#smiles_pp .confirm");
					if ($(_c).length){
						var _s = parseInt($(_c).attr("label"));
						if ($(".sml_"+ _s).length){
							$.ajax({
								async: true,
								cache: false,
								type: "POST",
								url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
								data: {method: "smile_buy", val: _s},
								dataType: "json",
								success: function(data) {
									if (typeof data.ret != "undefined"){
										if ($(".sml_"+ data.ret).hasClass("disabled")){
											$(".sml_"+ data.ret).removeClass("disabled");
											__smiles_dd[data.ret] = 1;
										}
										_CHT_action("", "smiles", "cnf_no", e);
									}
									if (typeof data.err != "undefined"){
										_WARN("default", 2500, '<span class="yellow">Недостаточно монет</span>', e.clientX - 100, e.clientY);
										_HX_hint('rud5');
										_WND_proc('buy');
									}
								}
							});
						}
					}
					break;
				case "cnf_no":
					var _c = $("#smiles_pp .confirm");
					if ($(_c).length){
						$(_c).attr("label", "");
						if (!$(_c).hasClass("not-displayed")){
							$(_c).addClass("not-displayed");
						}
					}
					var _ce = $("#smiles_pp .error");
					if ($(_ce).length){
						if (!$(_ce).hasClass("not-displayed")){
							$(_ce).addClass("not-displayed");
						}
					}
					break;
				case "click":
					if (obj != ''){
						var _s = parseInt(obj);
						if ($(".sml_"+ _s).hasClass("disabled")){
														var _c = $("#smiles_pp .confirm");
							if ($(_c).length){
								$(_c).attr("label", _s);
								$(_c).find("img").attr("src", '/images/smiles/'+ _s +'.gif?10');
								$.ajax({
									async: false,
									cache: false,
									type: "POST",
									url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
									data: {method: "get_cimp", id: 15},
									dataType: "json",
									success: function(data) {
										var _p = (_s == 130 ? 1000 : 150);
										if (typeof data.cimp != "undefined") _p -= parseInt(data.cimp);
										$("#smiles_am").html(_p);
									}
								});	
								if ($(_c).hasClass("not-displayed")){
									$(_c).removeClass("not-displayed");
								}
							}
						}else{
							if (_CHT_inp_f != "ich"){
								$("#smiles_pp").hide("fade", 100, function(){
									$(this).addClass("not-displayed");
								});
							}
							_CHT_action("", "smile", "(e"+ _s +")", e);
							if (!$("#sml_"+ _s).length){
								var _n = parseInt($("#smiles_content_l > td").length);
								var _c = '<td id="sml_'+ _s +'" align="center" onclick="_CHT_action(\''+ _s +'\', \'smiles\', \'click\', event);return false" class="sml_'+ _s + '"><img src="/images/smiles/'+ _s +'.gif?10" alt=""></td>';
								if (_n == 10){
									$("#smiles_content_l td:last").remove();
								}
								_c += $("#smiles_content_l").html();
								$("#smiles_content_l").html(_c);
								smiles_upd = true;
							}
						}
					}
					break;
				case "page":
					if (obj != ''){
						var _p = parseInt(obj);
						_CHT_action("", "smiles", "cnf_no", e);
						var _c = '<tbody><tr>';
						var _r = 0;
						var _s = 0;
						var _z = 0;
						for (_z = __smiles[_p][0]; _z <= __smiles[_p][1]; _z ++){
							//_s = (_z > 195 ? _z + 5 : _z);
							_s = _z;
							_c += '<td align="center" onclick="_CHT_action(\''+ _s +'\', \'smiles\', \'click\', event);return false" class="sml_'+ _s + (typeof __smiles_dd[_s] == "undefined" ? ' disabled' : '') +'"><img src="/images/smiles/'+ _s +'.gif?10" alt=""></td>' +"\r\n";
							_r ++;
							if (_r >= 10) {
								_c += '</tr>';
								if (_z != __smiles[_p][1]) _c += '<tr>';
								_r = 0;
							}
						}
						_c += '</tr></tbody>';
						if (_p != smiles_page){
							smiles_lck = true;
							var _l = smiles_page;
							smiles_page = _p;
							if ($("#smp_"+ _l).hasClass("current")){
								$("#smp_"+ _l).removeClass("current");
							}
							$("#smiles_content").hide(0, function(){
								$(this).html(_c);
								$(this).show(0, function(){
									if (!$("#smp_"+ _p).hasClass("current")){
										$("#smp_"+ _p).addClass("current");
									}
									smiles_lck = false;
								});
							});
						}else{
							if (!smiles_lck){
								$("#smiles_content").html(_c);
							}
						}
					}
					break;
				case "toggle":
					if (!$("#stickers_pp").hasClass("not-displayed")){
						$("#stickers_pp").hide("fade", 100, function(){
							$(this).addClass("not-displayed");
							_CHT_focus();
						});
					}
					if ($("#smiles_pp").hasClass("not-displayed")){
						_CHT_action("", "smiles", "cnf_no", e);
						var _c = '<tbody><tr>';
						var _r = 0;
						var _s = 0;
						var _z = 0;
						for (_z = __smiles[smiles_page][0]; _z <= __smiles[smiles_page][1]; _z ++){
							//_s = (_z > 195 ? _z + 5 : _z);
							_s = _z;
							_c += '<td align="center" onclick="_CHT_action(\''+ _s +'\', \'smiles\', \'click\', event);return false" class="sml_'+ _s + (typeof __smiles_dd[_s] == "undefined" ? ' disabled' : '') +'"><img src="/images/smiles/'+ _s +'.gif?10" alt=""></td>' +"\r\n";
							_r ++;
							if (_r >= 10) {
								_c += '</tr>';
								if (_z != __smiles[smiles_page][1]) _c += '<tr>';
								_r = 0;
							}
						}

						_c += '</tr></tbody>';
						$("#smiles_content").html(_c);
						_c = '<tbody><tr>';
						_r = 0;
						for (_s = __smiles_n[0]; _s <= __smiles_n[1]; _s ++){
							_c += '<td align="center" onclick="_CHT_action(\''+ _s +'\', \'smiles\', \'click\', event);return false" class="sml_'+ _s + (typeof __smiles_dd[_s] == "undefined" ? ' disabled' : '') +'"><img src="/images/smiles/'+ _s +'.gif?10" alt=""></td>' +"\r\n";
							_r ++;
							if (_r >= 10) {
								_c += '</tr>';
								if (_s != __smiles_n[1]) _c += '<tr>';
								_r = 0;
							}
						}
						_c += '</tr></tbody>';
						/*
						$("#smiles_content_n").html(_c);
						*/
						
						if (typeof my_tals[7] != "undefined" && parseInt(my_tals[7])){
							if ($("#smp_7").hasClass("not-displayed")) $("#smp_7").removeClass("not-displayed");
						}else{
							if (!$("#smp_7").hasClass("not-displayed")) $("#smp_7").addClass("not-displayed");
						}
						
						var _ow = parseInt($("#smiles_pp").outerWidth());
						var _oh = parseInt($("#smiles_pp").outerHeight());

						var _x = (416 - Math.floor(_ow / 2));

						$("#smiles_pp").css({left: _x +"px"});
						$("#smiles_pp").show("fade", 100, function(){
							$(this).removeClass("not-displayed");
						});
					}else{
						$("#smiles_pp").hide("fade", 100, function(){
							$(this).addClass("not-displayed");
							_CHT_focus();
							_CHT_action("", "smiles", "lu_safe", e);
						});
					}
					break;
				case "m_out":
					_CHT_tm_s = setTimeout(function(){
						if (!$("#smiles_pp").hasClass("not-displayed")){
							$("#smiles_pp").hide("fade", 100, function(){
								$(this).addClass("not-displayed");
								_CHT_focus();
								_CHT_action("", "smiles", "lu_safe", e);
							});
						}
					}, 750);
					break;
				case "lu_safe":
					if (smiles_upd){
						var _u = '';
						var _n = 0;
						var _l = parseInt($("#smiles_content_l > td").length);
						if (_l > 0){
							$("#smiles_content_l > td").each(function(){
								_u += $(this).attr("id").substring(4) + ((_n + 1) < _l ? ':' : '');
								_n ++;
							});
						}
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "smile_lu", val: _u},
							dataType: "json",
							success: function(data) {
								smiles_upd = false;
							}
						});
					}
					break;
			}
			break;
		case "stickers":
			if (_CHT_tm_s){
				clearTimeout(_CHT_tm_s);
				_CHT_tm_s = null;
			}
			switch (val){
				case "cnf_yes":
					var _c = $("#stickers_pp .confirmDialog");
					if ($(_c).length){
						_CHT_action("create", "stickers", "sub_do", e);
					}
					break;
				case "cnf_no":
					var _c = $("#stickers_pp .confirmDialog");
					if ($(_c).length){
						if (!$(_c).hasClass("not-displayed")) $(_c).addClass("not-displayed");
					}
					break;
				case "click":
					if (obj != ''){
						if (typeof stickers_sub == "undefined"){
							$("#stickers_pp .confirmDialog").removeClass("not-displayed");
						}else{
							var _s = parseInt(obj);
							if (_CHT_inp_f != "ich"){
								$("#smiles_pp").hide("fade", 100, function(){
									$(this).addClass("not-displayed");
								});
							}
							_CHT_action("", "smile", "[t"+ _s +"]", e);
							if (!$("#stickers_pp").hasClass("not-displayed")){
								$("#stickers_pp").hide("fade", 100, function(){
									$(this).addClass("not-displayed");
									_CHT_focus();
									//_CHT_action("", "smiles", "lu_safe", e);
								});
							}
						}
					}
					break;
				case "sub_do":
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "stickers_sub", act: obj},
						dataType: "json",
						success: function(data) {
							if (typeof data.ret != "undefined"){
								stickers_sub = data.ret;
							}else{
								stickers_sub = undefined;
							}
							_CHT_action("", "stickers", "sub_info");
							_CHT_action("", "stickers", "cnf_no", e);
							if (typeof data.err != "undefined"){
								_WARN("default", 2500, '<span class="yellow">Недостаточно рубинов</span>', e.clientX - 100, e.clientY);
								_WND_proc('ruby_buy');
							}
						}
					});
					break;	
				case "sub_info":
					var _c = '';
										_c = '';
					$("#stickers_pp .subscribeInfo").html(_c);
					break;
				case "toggle":
					if (!$("#smiles_pp").hasClass("not-displayed")){
						$("#smiles_pp").hide("fade", 100, function(){
							$(this).addClass("not-displayed");
							_CHT_focus();
							_CHT_action("", "smiles", "lu_safe", e);
						});
					}
					if ($("#stickers_pp").hasClass("not-displayed")){
						_CHT_action("", "stickers", "cnf_no", e);
						var _c = '';
						var _lg = '';
						$.each(__stickers, function(_st_g, _st_a) {
							if (_st_g == 'easter_') _st_g = 'easter';
							for (_s = _st_a[0]; _s <= _st_a[1]; _s ++) if ((_st_g == 'def' && typeof my_tals[3] != "undefined" && parseInt(my_tals[3])) || typeof __smiles_dd[parseInt(_s) + 1000] != "undefined"){
								_c += '<li '+ (_lg != _st_g ? ' class="st-grp-'+ _st_g +'"' : '') +' onclick="_CHT_action(\''+ _s +'\', \'stickers\', \'click\', event);return false"><div class="asCell"><img src="/images/stickers'+ my_lang_pfx +'/'+ _s +'.png?1" alt="" class="'+ _st_g +'" /></div></li>';
								_lg = _st_g;
								$("#stickers_pp .stickersMenu li.st-grp-"+ _lg).removeClass("off");
							}
						});
						if (_c == ''){
							_c = '<div class="asTable" style="width: 100%; font-size: 12px"><div class="asCell" style="height: 230px; text-align: center;">У вас пока нет уникальных стикеров!<br /> Получить стикеры можно, участвуя в игровых событиях.</div></div>';
						}
						$("#stickers_content").html(_c);
						var _ow = parseInt($("#stickers_pp").outerWidth());
						var _oh = parseInt($("#stickers_pp").outerHeight());
						var _x = (416 - Math.floor(_ow / 2));
						$("#stickers_pp").css({left: _x +"px"});
						$("#stickers_pp").show("fade", 100, function(){
							$(this).removeClass("not-displayed");
						});
												//_CHT_action("", "stickers", "sub_info");
					}else{
						$("#stickers_pp").hide("fade", 100, function(){
							$(this).addClass("not-displayed");
							_CHT_focus();
						});
					}
					break;
				case "to_grp":
					if (obj != '' && $("#stickers_pp .st-grp-"+ obj).length){
						var _top = $("#stickers_pp .st-grp-"+ obj).offset().top - $("#stickers_pp .scrollContainer").offset().top + $("#stickers_pp .scrollContainer").scrollTop();
						$("#stickers_pp .scrollContainer").stop().animate({
							scrollTop: _top
						}, 500, function(){
							$("#stickers_pp .stickersMenu").attr("label", obj);
							$("#stickers_pp .stickersMenu li.current").removeClass("current");
							$("#stickers_pp .stickersMenu li.st-grp-"+ obj).addClass("current");
						});
					}
					break;
				case "on_scroll":
					var _stop = parseInt($("#stickers_pp .scrollContainer").scrollTop());
					var _sofs = parseInt($("#stickers_pp .scrollContainer").offset().top);
					var _st_arr = {};
					$("#stickers_content li[class*='st-grp-']").each(function(){
						_st_arr[$(this).attr("class").substring(7)] = parseInt($(this).offset().top) - _sofs + _stop;
					});
					var _sg = '';
					$.each(_st_arr, function(_g, _v) {
						if (_stop >= _v){
							_sg = _g;
						}else{
							return false;
						}
					});
					if (_sg != ''){
						var _cg = $("#stickers_pp .stickersMenu").attr("label");
						if (_cg != _sg){
							$("#stickers_pp .stickersMenu").attr("label", _sg);
							$("#stickers_pp .stickersMenu li.current").removeClass("current");
							$("#stickers_pp .stickersMenu li.st-grp-"+ _sg).addClass("current");
						}
					}
					return true;
					break;
				case "m_out":
					_CHT_tm_s = setTimeout(function(){
						if (!$("#stickers_pp").hasClass("not-displayed")){
							$("#stickers_pp").hide("fade", 100, function(){
								$(this).addClass("not-displayed");
								_CHT_focus();
							});
						}
					}, 750);
					break;
			}
			break;	
		case "block":
			if (val == "disabled"){
				if ($("#"+ obj +"_txt").attr(val) != val){
					$("#"+ obj +"_txt").attr(val, val);
				}
			}else{
				if ($("#"+ obj +"_txt").attr("disabled") == "disabled"){
					$("#"+ obj +"_txt").removeAttr("disabled");
				}
			}
			break;
		case "key":
			if (obj != ""){
				switch (val){
					case "down":
					case "up":
						var _k = (navigator.appName.indexOf("Netscape") == -1 ? e.keyCode : (e.which ? e.which : null));
						var _ku = (val == "up" ? true : false);
						if (!_ku && e.altKey){
							switch (_k){
								case 65: _CHT_action("", "tab", "cpv", e); break;
							}
						}
						if (!_ku && _k in {13:1, 10:1, 27:1}){
							if (_k != 27){
								_CHT_action(obj, "send", (e.ctrlKey ? "close" : ""), e);
							}else{
								_CHT_action(obj, "close", "clear", e);
							}
							return false;
						}
						return true;
						break;
					case "press":
						break;
				}
			}
			break;
		case "scream":
		case "send":
			if (obj != ""){
				var current_chat_div = "#"+ _CHT_c_tab +"_log";
				$(current_chat_div).divAutoScroll("bottomScrollPosition");
				if ($("#"+ obj +"_txt").attr("disabled") == "disabled"){
					return;
				}
				var _v = $("#"+ obj +"_txt").val().trim();
				if (mode != "scream") $("#"+ obj +"_txt").val("");
				if (_v != ""){
					var _o = {};
					if ((!gam_id || gam_state == "def") && my_play_c < 1){
						_CHT_add("s", '<p class="ban-message">Для того чтобы писать в общий чат нужно сыграть 1 игру</p>');
						return;
					}
					if (gam_id && gam_state == "play" && !pla_data['dead'] && pla_data['person'] == 19){
						_CHT_add("s", '<p class="ban-message">Голем не может никому писать, ни в приват, ни в общий чат</p>');
						return;
					}
					if (_CHT_c_tab == "ccl" && obj == "ich"){
						_o["cl"] = (mode == "scream" ? 2 : 1);
					}else if (_CHT_c_tab == "cmf" && obj == "ich"){
						_o["mf"] = 1;
					}else if (_CHT_c_tab == "ctn" && obj == "ich"){
						_o["tf"] = 1;
					}else if (mode == "scream"){
						_o["sm"] = 1;
					}else if (obj.substring(0, 3) == "ipv"){
						_o["pv"] = obj.substring(4);
						if ($("#"+ obj).find(".mbk_set").hasClass("not-displayed")) {
							var _l = '<p class="my-message" style="color:red">Разблокировать игрока можно только из блок-листа в профиле</p>';
							var _oo = $("#"+ obj).find(".chat-history");
							if ($(_oo).length){
								$(_oo).append(_l);
								$(_oo).stop().animate({scrollTop: $(_oo).prop("scrollHeight")}, 400);
							}
							_CHT_focus(obj);
							return;
						}
					}
					if (gam_id && gam_state == "play" && !pla_data['dead'] && typeof pla_data['antichat'] != "undefined" && _CHT_c_tab == "cco" && typeof _o["pv"] == "undefined"){
						_CHT_add("s", '<p class="ban-message">Негативный эффект запрещает вам писать в чат до конца партии</p>');
						return;
					}
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "cht_send", val: _v, sd: 1, opt: _o},
						dataType: "json",
						success: function(data) {
							if (typeof data.rpx != "undefined"){
								RPX_data_arr.push(data.rpx);
			                			if (!RPX_event_done){
									RPX_event_done = true;
									RPX_event();
								}
							}
							if (mode == "scream"){
								if (typeof data.sm != "undefined"){
									_WARN("default", 2500, '<span class="yellow">Недостаточно монет</span>', e.clientX - 100, e.clientY);
									_HX_hint('rud5');
									_WND_proc('buy');
									_DLG(mode, -1);
								}else{
									$("#ich_txt").val("");
									_DLG(mode, 1);
								}
							}
						}
					});
					if (val == "close"){
						_CHT_action(obj, "close", "", e);
					}else{
						_CHT_focus(obj);
					}
				}else{
					if (val == "close"){
						_CHT_focus(obj);
					}
				}
			}
			break;
		case "close":
			if (obj != ""){
				if (val == "clear"){
					$("#"+ obj +"_txt").val("");
				}
				if (obj.substring(0, 3) == "ipv"){
					$("#"+ obj).hide("fade", 100, function(){
						$(this).remove();
						var _z = _POPUP_resort("popup-move", null, "private-popup");
						if (_z && $(_z).length){
							_CHT_focus($(_z).attr("id"));
						}else{
							if (_CHT_c_tab == "cpv" && val == "clear"){
								_CHT_action("", "tab", "cco", e);
							}else{
								_CHT_focus("ich");
							}
						}
					});
				}else{
					_CHT_focus(obj);
				}
			}
			break;
	}
}

function _CHT_focus(obj){
	if (!obj){
		var obj = _CHT_inp_f;
	}else{
		_CHT_inp_f = obj;
	}
	if(!isMobile){		
		$("#"+ obj +"_txt").focus();
	}
}


function _CHT_append(t, s){

	$("#"+ t +"_log").append(s).divAutoScroll("update");
}

function _CHT_add(type, arr){

	var _dt = _DT_format(new Date(), {fmt: 'hh:ii'});
	switch (type){
		case "pa":
			_dt = arr[6];
		case "pm":
			var _h = '';
			var _ii = 0;
			if (arr[0] != my_id){
				if (arr[5] == -1){
					_h = 'архив';
				}else if(arr[5] != gam_id){
					_h = (!arr[5] ? 'чат' : 'из игры');
				}
				_ii = arr[0];
			}else{
				_ii = arr[3];
			}
			if ($("#ipv_"+ _ii).length){
				var _l = '<p'+(arr[0] == my_id ? ' class="my-message"' : '')+'">'+(_h != '' ? '<span class="pvt-pfx">['+ _h +']</span> ' : '')+'<span class="time">'+ _dt +'</span> '+ _BB_smile(arr[2]) +'</p>';
				var _oo = $("#ipv_"+ _ii).find(".chat-history");
				if ($(_oo).length){
					$(_oo).append(_l);
					$(_oo).stop().animate({scrollTop: $(_oo).prop("scrollHeight")}, 400);
				}
			}
			if (type != "pa") {
				var _b = "cco";
				var _m = '<p class="'+(arr[0] == my_id ? 'message-from-me' : 'message-to-me')+' pvt-message">'+(_h != '' ? '<span class="pvt-pfx">['+ _h +']</span> ' : '')+(gam_id && gam_state != "play" && gam_state != "fin" || !gam_id ? '<span class="time-stamp">'+_dt+'</span> ' : '')+ _PL_nick(arr[0], arr[1], 'nick-from', true, true)+' <span class="to">&raquo;</span> <span class="pvt-hint">приватно</span> <span class="to">&raquo;</span> '+ _PL_nick(arr[3], arr[4], 'nick-to', true, true) +': '+ _BB_smile(arr[2]) +'</p>';
				_CHT_append(_b, _m);
				/*
				if (_CHT_c_tab == _b){
					$("#"+ _b +"_log").divAutoScroll("bottomScrollPosition"); 
				}
				*/
			}
			var _p = '<p class="'+(arr[0] == my_id ? 'message-from-me' : 'message-to-me')+' pvt-message">'+(_h != '' ? '<span class="pvt-pfx">['+ _h +']</span> ' : '')+'<span class="time-stamp">'+_dt+'</span> '+ _PL_nick(arr[0], arr[1], 'nick-from', true, true)+' <span class="to">&raquo;</span> <span class="pvt-hint">приватно</span> <span class="to">&raquo;</span> '+ _PL_nick(arr[3], arr[4], 'nick-to', true) +': '+ _BB_smile(arr[2]) +'</p>';
			_CHT_append("cpv", _p);
			if (arr[0] != my_id && _CHT_c_tab != "cpv"){
				if (!$("#cpv_tab").hasClass("new-message")){
					$("#cpv_tab").addClass("new-message");
				}
				if (!$("#ipv_"+arr[0]).length) {
					if (!_SOUND_err) _SOUND_arr['sfx']['new_message'].play();
				}
				if (typeof mobile != 'undefined' && typeof mobile.pushAndroidNotification != 'undefined') {
					mobile.pushAndroidNotification(1, "Мафия", arr[1] +" написал вам сообщение.", 0);
				}
			}
			break;
		case "mf":
			var _b = "cmf";
			var _t = (arr[2].indexOf("[@"+ my_nick.replace(/\"/g, '&quot;') +"]") != -1 ? true : false);
			var _i = (arr[2].split("[@").length - 1);
			var _n = 0;
			var _s = arr[2].replace(/\[\@(.*?)\]/ig, function($$, $1){ _n++; return '<span class="to">&raquo;</span> '+ _PL_nick(0, $1, 'nick-to') + (_n >= _i ? '<span class="semi">: </span>' : ''); });
			var _c = (arr[0] == my_id ? 'message-from-me' : (_t ? 'message-to-me' : ''));
			var _m = '<p'+(_c != '' ? ' class="'+_c+'"' : '')+'>'+_PL_nick(arr[0], arr[1]) + (_i < 1 ? '<span class="semi">: </span>' : ' ') + _BB_smile(_s) +'</p>';
			_CHT_append(_b, _m);
			if (arr[0] != my_id && !$("#cmf_tab").hasClass("new-message") && _CHT_c_tab != "cmf"){
				$("#cmf_tab").addClass("new-message");
			}
			break;
		case "tf":
			var _b = "ctn";
			var _t = (arr[2].indexOf("[@"+ my_nick.replace(/\"/g, '&quot;') +"]") != -1 ? true : false);
			var _i = (arr[2].split("[@").length - 1);
			var _n = 0;
			var _s = arr[2].replace(/\[\@(.*?)\]/ig, function($$, $1){ _n++; return '<span class="to">&raquo;</span> '+ _PL_nick(0, $1, 'nick-to') + (_n >= _i ? '<span class="semi">: </span>' : ''); });
			var _c = (arr[0] == my_id ? 'message-from-me' : (_t ? 'message-to-me' : ''));
			var _m = '<p'+(_c != '' ? ' class="'+_c+'"' : '')+'>'+_PL_nick(arr[0], arr[1]) + (_i < 1 ? '<span class="semi">: </span>' : ' ') + _BB_smile(_s) +'</p>';
			_CHT_append(_b, _m);
			if (arr[0] != my_id && !$("#ctn_tab").hasClass("new-message") && _CHT_c_tab != "ctn"){
				$("#ctn_tab").addClass("new-message");
			}
			break;
		case "cm":
			var _b = "ccl";
			var _t = (arr[2].indexOf("[@"+ my_nick.replace(/\"/g, '&quot;') +"]") != -1 ? true : false);
			var _i = (arr[2].split("[@").length - 1);
			var _n = 0;
			var _s = arr[2].replace(/\[\@(.*?)\]/ig, function($$, $1){ _n++; return '<span class="to">&raquo;</span> '+ _PL_nick(0, $1, 'nick-to') + (_n >= _i ? '<span class="semi">: </span>' : ''); });
			if (typeof arr[4] != "undefined"){
				switch (arr[4]){
					//case 'sm': _s = '<span class="scream'+(typeof arr[3][5][6] != "undefined" && parseInt(arr[3][5][6]) ? ' ach' : '') + (parseInt(arr[3][2]) == 1 ? ' screamEvent' : '')+'">'+ _s +'</span>'; break;
					case 'sm': _s = '<span class="scream'+(typeof arr[3][5][6] != "undefined" && parseInt(arr[3][5][6]) ? ' ach' : '') +'" '+ (arr[3][2] != '' ? 'style="background-color:#'+ arr[3][2] +';color:#fff"' : '')+'>'+ _s +'</span>'; break;
				}
			}
			var _c = (arr[0] == my_id ? 'message-from-me' : (_t ? 'message-to-me' : ''));
			if (arr[3][0] == 1){
				_c += ' gold-profile';
			}
			if (typeof arr[3][5][9] != "undefined" && parseInt(arr[3][5][9]) && type != "gm"){
				_c += ' ach-r24';
			}
						if (typeof arr[3][4] != "undefined" && ((type == "mm" && arr[3][4] == 1) || arr[3][4] >= 2)){
				_s = '<span class="boss">'+ _s +'</span>';
			}	
			var _ai = (typeof arr[3][5][8] != "undefined" && parseInt(arr[3][5][8]) ? '<img src="/images/icons/ai.png" width="14" height="11" hspace="2" style="vertical-align:-1px" title="Награда за звание в достижениях" />' : '');
			var _m = '<p'+(_c != '' ? ' class="'+_c+'"' : '')+'><span class="time-stamp">'+_dt+'</span> '+ (typeof arr[3][4] != "undefined" && (arr[3][4] == 1 || arr[3][4] == 3) ? '<img src="/images/icons/bss_c.png" onclick="_DLG(\'boss\', 0, event);return false" width="20" height="20" hspace="2" style="vertical-align:-5px;cursor:pointer" title="Босс мафии!" />' : '') + (typeof arr[3][3] != "undefined" && parseInt(arr[3][3]) == 1 ? '<img src="/images/icons/rings.png" onclick="_PRF('+ arr[0] +');return false" width="20" height="16" hspace="2" style="vertical-align:-4px;cursor:pointer" title="Игрок состоит в браке" />' : '') + _ai + _PL_nick(arr[0], arr[1], false, false, true) + (_i < 1 ? '<span class="semi">: </span>' : ' ') + _BB_smile(_s) +'</p>';
			_CHT_append(_b, _m);
			if (arr[0] != my_id && !$("#ccl_tab").hasClass("new-message") && _CHT_c_tab != "ccl"){
				$("#ccl_tab").addClass("new-message");
			}
			break;
		case "cl":
			var _t = '';
			var _p = '';
			switch (parseInt(arr[0])){
				case 0: _t = 'Игрок '+ _PL_nick(arr[1], arr[2], false, false, true) +' был принят в клан игроком '+ _PL_nick(arr[4], arr[5], false, false, true); break;
				case 1: _t = 'Игрок '+ _PL_nick(arr[1], arr[2], false, false, true) +' вступил в клан по приглашению игрока '+ _PL_nick(arr[4], arr[5], false, false, true); break;
				case 2: _t = 'Игрок '+ _PL_nick(arr[1], arr[2], false, false, true) +' покинул клан. Причина: '+ arr[6]; break;
				case 3: _t = 'Игрок '+ _PL_nick(arr[1], arr[2], false, false, true) +' был выгнан из клана игроком '+ _PL_nick(arr[4], arr[5], false, false, true) +'. Причина: '+ arr[6]; break;
				case 4:
					var __t = '';
					_p = '<img src="/images/icons/tops/top_duel.png" alt="" width="36" />';
					switch (parseInt(arr[1])){
						case 0: __t = 'Победа над кланом'; break;
						case 1: __t = 'Поражение от клана'; break;
						case 2: __t = 'Ничья с кланом'; break;
					}
					_t = 'Дуэль окончена! '+ __t +' <b>'+ arr[2] +'</b>. Рейтинг за дуэль: <b>'+ arr[3] +'</b>';
					break;
				case 5: 
					var __t = '';
					_p = '&nbsp;';
					switch (parseInt(arr[1])){
						case 0: __t = 'Топ <b>«Кланы по опыту»</b> окончен!'; _p = '<img src="/images/icons/tops/top_opit.png" alt="" width="36" />'; break;
						case 1: __t = 'Топ <b>«Казна кланов»</b> окончен!'; _p = '<img src="/images/icons/tops/top_kazna.png" alt="" width="36" />';break;
					}
					_t = __t +' Клан занял <b>'+ arr[2] +'</b> место';
					break;
				case 6: _t = 'Игрок '+ _PL_nick(arr[1], arr[2], false, false, true) +' занял '+ arr[4] +' место в '+ arr[5]; break;
				case 7:
					var __t = '';
					switch (parseInt(arr[4])){
						case 0: __t = 'Офицер'; break;
						case 1: __t = 'Казначей'; break;
						case 2: __t = 'Управляющий'; break;
					}
					_t = 'Игрок '+ _PL_nick(arr[1], arr[2], false, false, true) +'  был назначен на должность <b>'+ __t +'</b> игроком '+ _PL_nick(arr[5], arr[6], false, false, true); 
					break;	
				case 9: _t = 'Игрок '+ _PL_nick(arr[1], arr[2], false, false, true) +' передал лидерство клана игроку '+ _PL_nick(arr[4], arr[5], false, false, true); break;
					
			}
			if (_p == '') _p = '<div class="photo hidden" onclick="_PRF('+ arr[1] +');return false"><img src="'+ (arr[3] != '' ? arr[3] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 36);" alt="" /></div>';
			var _s = '<div class="giftRecieved table">'+
				'<div class="td phs">'+ _p +'</div>'+ "\n" +
				'<div class="td" style="padding-left:6px">'+ _t +'</div>'+
			'</div>';
			_CHT_append("ccl", _s);
			if (!$("#ccl_tab").hasClass("new-message") && _CHT_c_tab != "ccl"){
				$("#ccl_tab").addClass("new-message");
			}
			break;
		case "gm":
		case "mm":
			var __s = (!gam_id && spc_id && type == "gm" ? 1 : 0);
			var _b = (__s ? "spc" : "cco");
			var _t = (arr[2].indexOf("[@"+ my_nick.replace(/\"/g, '&quot;') +"]") != -1 ? true : false);
			var _i = (arr[2].split("[@").length - 1);
			var _n = 0;
			var _s = arr[2].replace(/\[\@(.*?)\]/ig, function($$, $1){ _n++; return '<span class="to">&raquo;</span> '+ _PL_nick(0, $1, 'nick-to') + (_n >= _i ? '<span class="semi">: </span>' : ''); });
			var _x = '';
			if (typeof arr[4] != "undefined"){
				switch (arr[4]){
					case 's': _DO_event([__ge['PL_SPK_WARN'], arr[0], 0]); break;
					case 'lw': _x = '<span class="pvt-pfx">[последнее слово]</span> '; _s = '<span class="scream">'+ _s +'</span>'; break;
					//case 'sm': _s = '<span class="scream'+(typeof arr[3][5][6] != "undefined" && parseInt(arr[3][5][6]) ? ' ach' : '') + (parseInt(arr[3][2]) == 1 ? ' screamEvent' : '')+'">'+ _s +'</span>'; break;
					case 'sm': _s = '<span class="scream'+(typeof arr[3][5][6] != "undefined" && parseInt(arr[3][5][6]) ? ' ach' : '') +'" '+ (arr[3][2] != '' ? 'style="background-color:#'+ arr[3][2] +';color:#fff"' : '')+'>'+ _s +'</span>'; break;
				}
			}
			var _c = (arr[0] == my_id ? 'message-from-me' : (_t ? 'message-to-me' : ''));
			if (arr[3][0] == 1){
				_c += ' gold-profile';
			}
			if (typeof arr[3][5][9] != "undefined" && parseInt(arr[3][5][9]) && type != "gm"){
				_c += ' ach-r24';
			}
						if (typeof arr[3][4] != "undefined" && ((type == "mm" && arr[3][4] == 1) || arr[3][4] >= 2)){
				_s = '<span class="boss">'+ _s +'</span>';
			}
			var _ai = (typeof arr[3][5][8] != "undefined" && parseInt(arr[3][5][8]) && ((gam_id && gam_state != "play" && gam_state != "fin") || !gam_id) && !__s ? '<img src="/images/icons/ai.png" width="14" height="11" hspace="2" style="vertical-align:-1px" title="Награда за звание в достижениях" />' : '');
			var _m = '<p'+(_c != '' ? ' class="'+_c+'"' : '')+'>'+ _x +((gam_id && gam_state != "play" && gam_state != "fin" || !gam_id) && !__s ? '<span class="time-stamp">'+_dt+'</span> ' : '') + 
				(type == "mm" && typeof arr[3][4] != "undefined" && (arr[3][4] == 1 || arr[3][4] == 3) ? '<img src="/images/icons/bss_c.png" onclick="_DLG(\'boss\', 0, event);return false" width="20" height="20" hspace="2" style="vertical-align:-5px;cursor:pointer" title="Босс мафии!" />' : '') + 
				(type == "mm" && typeof arr[3][3] != "undefined" && parseInt(arr[3][3]) == 1 ? '<img src="/images/icons/rings.png" onclick="_PRF('+ arr[0] +');return false" width="20" height="16" hspace="2" style="vertical-align:-4px;cursor:pointer" title="Игрок состоит в браке" />' : '') + 
				(type == "mm" && typeof arr[3][6] != "undefined" && parseInt(arr[3][6]) == 1 ? '<img src="/images/icons/grossm.png" onclick="_PRF('+ arr[0] +');return false" width="40" height="31" hspace="2" style="vertical-align:-4px;cursor:pointer" title="Гроссмейстер" />' : '') + 
				_ai + _PL_nick(arr[0], arr[1], false, false, (type != "gm" ? true : false)) + (_i < 1 ? '<span class="semi">: </span>' : ' ') + _BB_smile(_s) +'</p>';
			_CHT_append(_b, _m);
			if (!__s){
				if (_t){
					var _p = '<p'+(_c != '' ? ' class="'+_c+'"' : '')+'><span class="time-stamp">'+_dt+'</span> ' + (type == "mm" && typeof arr[3][3] != "undefined" && parseInt(arr[3][3]) == 1 ? '<img src="/images/icons/rings.png" onclick="_PRF('+ arr[0] +');return false" width="20" height="16" hspace="4" style="vertical-align:-4px;cursor:pointer" title="Игрок состоит в браке" />' : '') + _PL_nick(arr[0], arr[1], false, false, (type != "gm" ? true : false)) + (_i < 1 ? '<span class="semi">: </span>' : ' ') + _BB_smile(_s) +'</p>';
					_CHT_append("cpv", _p);
					if (!$("#cpv_tab").hasClass("new-message") && _CHT_c_tab != "cpv"){
						$("#cpv_tab").addClass("new-message");
					}
				}
			}
			break;
		case "im":
		case "dm":
			var _spc = (!gam_id && spc_id ? 1 : 0);
			if (arr[0] == my_id) return;
			var _m = '<p class="sys-hint">'+(gam_id && gam_state != "play" && gam_state != "fin" || !gam_id ? '<span class="time-stamp">'+_dt+'</span> ' : '')+_PL_nick(arr[0], arr[1], false, false, (type == "im" ? true : false))+' - '+(type == "im" ? (arr[2] == 'f' ? 'присоединилась к игре' : 'присоединился к игре') : (arr[2] == 'f' ? 'вышла из игры' : 'вышел из игры'))+'</p>';
			if (_spc){
				$("#spc_log").append(_m);
			}else{
				_CHT_append("cco", _m);
			}
			break;
		case "go":
			if (arr[0] == 0){
				if (arr[1] == my_id && !my_gold_prf){
					my_gold_prf = 1;
					var _pp = $("#myProfilePhoto").find(".border");
					if ($(_pp).length){
						if (!$(_pp).hasClass("gold-profile")){
							$(_pp).addClass("gold-profile");
						}
					}
				}
				_UL_action("uol", "gold_p", 1, arr[1]);
				_UL_action("ufv", "gold_p", 1, arr[1]);
			}
			var _m = '<p class="welcome-gold-profile">'+(gam_id && gam_state != "play" && gam_state != "fin" || !gam_id ? '<span class="time-stamp">'+_dt+'</span> ' : '')+ (arr[0] == 1 ? 'Золотой игрок ' : '') + _PL_nick(arr[1], arr[2], false, false, true)+' - '+ (arr[0] == 0 ? 'стал золотым игроком' : 'зашёл в чат') +'</p>';
			_CHT_append("cco", _m);
			break;
		case "gg":
			var _m = '<p class="welcome-gold-profile">'+(gam_id && gam_state != "play" && gam_state != "fin" || !gam_id ? '<span class="time-stamp">'+_dt+'</span> ' : '')+ 'Гроссмейстер '+ _PL_nick(arr[0], arr[1], false, false, true)+' - зашёл в чат</p>';
			_CHT_append("cco", _m);
			break;	
		case "aw":
			var _m = '<p class="ach-welcome">'+(gam_id && gam_state != "play" && gam_state != "fin" || !gam_id ? '<span class="time-stamp">'+_dt+'</span> ' : '')+ _PL_nick(arr[0], arr[1], false, false, true) +' - чемпион зашёл в чат</p>';
			_CHT_append("cco", _m);
			break;
		case "mr":
			var _m = '';
			switch (parseInt(arr[0])){
				case 0:
				case 2:
					_m = '<div class="wedding divorce"><div class="divorce-bg">'+
						'<div style="left: 33px; top: 23px" class="wedding-phs" onclick="_PRF('+ arr[1] +');return false"><img src="'+ (arr[4] != '' ? arr[4] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 68);" alt="" /></div>'+ "\n" +
						'<div style="left: 170px; top: 23px" class="wedding-phs" onclick="_PRF('+ arr[5] +');return false"><img src="'+ (arr[8] != '' ? arr[8] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 68);" alt="" /></div>'+ "\n" +
						'<div class="text">'+
						_PL_nick(arr[1], arr[2], 'nick', false, true) +' '+ (parseInt(arr[0]) == 2 ? (arr[3] == 'm' ? 'развелся с ' : 'развелась с ') : (arr[3] == 'm' ? 'получил' : 'получила') +' отказ от ')+ _PL_nick(arr[5], arr[6], 'nick', false, true) +
					'</div></div></div>';
					break;
				case 3:
					_m = '<div class="wedding divorce"><div class="divorce-bg">'+
						'<div style="left: 33px; top: 23px" class="wedding-phs" onclick="_PRF('+ arr[1] +');return false"><img src="'+ (arr[4] != '' ? arr[4] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 68);" alt="" /></div>'+ "\n" +
						'<div style="left: 170px; top: 23px" class="wedding-phs" onclick="_PRF('+ arr[5] +');return false"><img src="'+ (arr[8] != '' ? arr[8] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 68);" alt="" /></div>'+ "\n" +
						'<div class="text">'+
						_PL_nick(arr[1], arr[2], 'nick', false, true) +' и '+ _PL_nick(arr[5], arr[6], 'nick', false, true) +' разлюбили друг друга<br />&nbsp;'+
					'</div></div></div>';
					break;
				case 1:
					_m = '<div class="wedding"><div class="wedding-bg">'+
						'<div style="left: 33px; top: 23px" class="wedding-phs" onclick="_PRF('+ arr[1] +');return false"><img src="'+ (arr[4] != '' ? arr[4] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 56);" alt="" /></div>'+ "\n" +
						'<div style="left: 170px; top: 23px" class="wedding-phs" onclick="_PRF('+ arr[5] +');return false"><img src="'+ (arr[8] != '' ? arr[8] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 56);" alt="" /></div>'+ "\n" +
						'<div class="text">'+
						_PL_nick(arr[1], arr[2], 'nick', false, true) +' и '+ _PL_nick(arr[5], arr[6], 'nick', false, true) +'<br />сыграли свадьбу!'+
					'</div></div></div>';
					break;
			}
			if (_m != ''){
				_CHT_append("cco", _m);
			}
			break;
		case "zw":
			var _m = '<div class="lottery-winner stars"><div class="lottery-bg">'+
					'<div class="lott-winner-div" onclick="_PRF('+ arr[0] +');return false"><div class="lott-winner-phs"><img src="'+ (arr[2] != '' ? arr[2] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 72);" alt="" /></div></div>'+ "\n" +
					'<div class="lott-winner-nick">'+ _PL_nick(arr[0], arr[1], 'nick', false, true) +'</div>'+ "\n"+
					'<div class="text">Выигрыш в звёздную лотерею '+ arr[3] +' звёзд!</div>'+ "\n"+
				'</div></div>';
			_CHT_append("cco", _m);
			break;	
		case "ww":
			var _m = '<div class="lottery-winner"><div class="lottery-bg">'+
					'<div class="lott-winner-div" onclick="_PRF('+ arr[0] +');return false"><div class="lott-winner-phs"><img src="'+ (arr[2] != '' ? arr[2] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 72);" alt="" /></div></div>'+ "\n" +
					'<div class="lott-winner-nick">'+ _PL_nick(arr[0], arr[1], 'nick', false, true) +'</div>'+ "\n"+
					'<div class="text">Выигрыш в лотерею '+ arr[3] +' монет!</div>'+ "\n"+
				'</div></div>';
			_CHT_append("cco", _m);
			break;
		case "gw":
			var _m = '<div class="lottery-winner league"><div class="lottery-bg">'+
					'<div class="lott-winner-div" onclick="_PRF('+ arr[0] +');return false"><div class="lott-winner-phs"><img src="'+ (arr[2] != '' ? arr[2] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 72);" alt="" /></div></div>'+ "\n" +
					'<div class="lott-winner-nick">'+ _PL_nick(arr[0], arr[1], 'nick', false, true) +'</div>'+ "\n"+
					'<div class="text">Выигрыш в Золотую лотерею '+ arr[3] +' монет!</div>'+ "\n"+
				'</div></div>';
			_CHT_append("cco", _m);
			break;	
		case "sw":
			var _m = '<div class="lottery-winner"><div class="lottery-bg">'+
					'<div class="lott-winner-div" onclick="_PRF('+ arr[0] +');return false"><div class="lott-winner-phs"><img src="'+ (arr[2] != '' ? arr[2] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 72);" alt="" /></div></div>'+ "\n" +
					'<div class="lott-winner-nick">'+ _PL_nick(arr[0], arr[1], 'nick', false, true) +'</div>'+ "\n"+
					'<div class="text">Выигрыш в лотерею '+ arr[3] +' монет!</div>'+ "\n"+
				'</div></div>';
			_CHT_append("cco", _m);
			break;	
		case "ec":
			var _m = '<div class="banner eventComplete emblem'+arr[3]+'">'+
				'<div class="container">'+
					'<div class="phs"><img src="'+ (arr[2] != '' ? arr[2] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 64);" alt=""  onclick="_PRF('+ arr[0] +');return false" /></div>'+
					'<div class="nick">'+ _PL_nick(arr[0], arr[1], 'nick', false, true) +'</div>'+ "\n"+
					'<div class="text">Эмблема получена!</div>'+ "\n"+
				'</div>'+ "\n" +
			'</div>';
			_CHT_append("cco", _m);
			break;
																case "gft":
			var _t = 'Уникальный талант получен!';
			var _k = arr[3];
			var _m = '<div class="banner talentBanner id_'+ _k +'">'+
				'<div class="container">'+
					'<div class="phs"><img src="'+ (arr[2] != '' ? arr[2] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 64);" alt=""  onclick="_PRF('+ arr[0] +');return false" /></div>'+
					'<div class="nick">'+ _PL_nick(arr[0], arr[1], 'nick', false, true) +'</div>'+ "\n"+
					'<div class="text">'+ _t +'</div>'+ "\n"+
				'</div>'+ "\n" +
			'</div>';
			_CHT_append("cco", _m);
			break;
																case "an1":
			var _t = ''; 
			var _img = '/images/chat-ann/'+ (arr[3] >= 100 ? arr[3] - 100 : arr[3]) +'.png';
			switch (arr[3]){
				case 0: _t = '10000 монет в сундуке'; break;
				case 1: _t = '25 рубинов в сундуке'; break;
				case 2: _t = '250 звёзд достижений в сундуке'; break;
				case 3: _t = '+1 талант в сундуке'; break;
				case 4: _t = 'фрагмент таланта в сундуке'; break;
				case 5: _t = 'Осколки таланта в сундуке'; break;
				case 6: _t = '10 купонов на мега-подарки в сундуке'; break;
				case 7:
					_t = 'Мега экстру «Супер Маньяк» 5 шт. в сундуке';
					_img = '/img/extras/'+ arr[4] +'.png';
					break;
				case 8: _t = 'Уникальную акцию в сундуке'; break;
				case 9: _t = 'Случайные ивент экстры 20 шт.'; break;
				case 100: _t = '500 монет'; break;
				case 101: _t = '3 рубина'; break;
				case 102: _t = '50 звёзд достижений'; break;
				case 105: _t = '10 осколков таланта'; break;
				case 109: _t = '3 ивентовые экстры'; break;
			}
			var _m = '<div class="giftRecieved table swf">'+
				'<div class="td phs"><div class="photo hidden" onclick="_PRF('+ arr[0] +');return false"><img src="'+ (arr[2] != '' ? arr[2] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 52);" alt="" /></div></div>'+ "\n" +
				'<div class="td gift"><img src="'+ _img +'" width="52" /></div>'+
				'<div class="td">'+ _PL_nick(arr[0], arr[1], false, false, true) +(arr[3] >= 100 ? ' купил в магазине за Жетоны арены ' : ' нашёл ')+ _t +'!</div>'+
			'</div>';
			if (_t != '') _CHT_append("cco", _m);
			break;
				case "an2":
			var _m = '<div class="banner eventComplete sticker'+arr[3]+'">'+
				'<div class="container">'+
					'<div class="phs"><img src="'+ (arr[2] != '' ? arr[2] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 64);" alt=""  onclick="_PRF('+ arr[0] +');return false" /></div>'+
					'<div class="nick">'+ _PL_nick(arr[0], arr[1], 'nick', false, true) +'</div>'+ "\n"+
					'<div class="text">Стикер получен!</div>'+ "\n"+
				'</div>'+ "\n" +
			'</div>';
			_CHT_append("cco", _m);
			break;
			break;
		case "gr":
			var _m = '<div class="banner eventComplete bannerGrandmaster">'+
				'<div class="container">'+
					'<div class="phs"><img src="'+ (arr[2] != '' ? arr[2] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 64);" alt=""  onclick="_PRF('+ arr[0] +');return false" /></div>'+
					'<div class="nick">'+ _PL_nick(arr[0], arr[1], 'nick', false, true) +'</div>'+ "\n"+
					'<div class="text">Достижение лиги «Гроссмейстер»!</div>'+ "\n"+
				'</div>'+ "\n" +
			'</div>';
			_CHT_append("cco", _m);
			break;	
		case "gi":
			if (__store[arr[0]] && __store[arr[0]].type == "gift"){
				var _is_rr = (parseInt(arr[11]) ? true : false);
				var _m = '';
				if (_is_rr){
					var _x = (__store[arr[0]].ext == 'swf' ? _SWF_obj(arr[0], 40, 40) : '<img src="/images/gifts/'+ arr[0] +'.'+ __store[arr[0]].ext +'" alt="" />');
					_m = '<div class="giftsrow">'+
						'<div class="photo" onclick="_PRF('+ arr[1] +');return false"><img src="'+ (arr[4] != '' ? arr[4] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 80);" alt=""></div>'+
						'<div class="gifts">'+
							'<div class="left"><div>'+ _x +'</div></div>'+
							'<div class="left"><div>'+ _x +'</div></div>'+
							'<div class="left"><div>'+ _x +'</div></div>'+
							'<div class="right"><div>'+ _x +'</div></div>'+
							'<div class="right"><div>'+ _x +'</div></div>'+
							'<div class="right"><div>'+ _x +'</div></div>'+
						'</div>'+
						'<div class="banner-text">'+
							_PL_nick(arr[1], arr[2], 'nick', false, true) +' '+ (__store[arr[0]].silence ? (__store[arr[0]].silence == 1 ? (arr[3] == 'f' ? 'получила' : 'получил') +' молчанку на 10 минут' : ' сосёт соску '+ arr[13] +' '+ _postfix(['минут','минуту','минуты'], arr[13])) : (arr[3] == 'f' ? 'получила' : 'получил') +(arr[12] ? ' подарок' : ' подарок от '+ _PL_nick(arr[5], arr[6], 'nick', false, true)) +' - '+ __store[arr[0]].title) +'!'+
						'</div>'+
					'</div>';
				}else{
					_m = '<div class="giftRecieved'+ (__store[arr[0]].ext == 'swf' ? ' swf' : '') +'">'+
						'<div class="td phs"><div class="photo hidden" onclick="_PRF('+ arr[1] +');return false"><img src="'+ (arr[4] != '' ? arr[4] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, '+ (__store[arr[0]].ext == 'swf' ? '52' : '36') +');" alt="" /></div></div>'+ "\n" +
						'<div class="td gift">'+ (__store[arr[0]].ext == 'swf' ? _SWF_obj(arr[0], 40, 40) : '<img src="/images/gifts/'+ arr[0] +'.'+ __store[arr[0]].ext +'" />') + "</div>\n"+
						'<div class="td">'+ "\n" + _PL_nick(arr[1], arr[2], false, false, true) +' '+ (__store[arr[0]].silence ? (__store[arr[0]].silence == 1 ? (arr[3] == 'f' ? 'получила' : 'получил') +' молчанку на 10 минут' : ' сосёт соску '+ arr[13] +' '+ _postfix(['минут','минуту','минуты'], arr[13])) : (arr[3] == 'f' ? 'получила' : 'получил') +(arr[12] ? ' подарок' : ' подарок от '+ _PL_nick(arr[5], arr[6], false, false, true)) +' - '+ __store[arr[0]].title) +'!</div>'+
					'</div>';
				}
				_CHT_append("cco", _m);
				if (parseInt(arr[9]) != -1 && $("#prf_"+ arr[1] +" ul.gifts-bar").length){
					if (!_is_rr) $("#prf_"+ arr[1] +" ul.gifts-bar > li:gt(7)").remove();
					var _is_pvg = false;
					var _g = '<li '+ (!_is_pvg ? 'onmouseover="_GFTH(\''+ arr[0] +'\', \''+ arr[9] +'\', event);" onmouseout="_HINT(\'gfth_hint\', 500);"' : '') + (__store[arr[0]].ext == 'swf' ? '' : ' style="background-image:url(/images/gifts/'+ arr[0] +'.'+ __store[arr[0]].ext +')"') +'>'+ (__store[arr[0]].ext == 'swf' ? '<div class="swfGift">'+ _SWF_obj(arr[0], 40, 40) +'</div>' : '') +'сегодня</li>' + "\n";
					if (_is_rr){
						var _gg = '';
						for(var _i = 0; _i < 9; _i++) _gg += _g;
						$("#prf_"+ arr[1] +" ul.gifts-bar").html(_gg);
					}else{
						$("#prf_"+ arr[1] +" ul.gifts-bar").html(_g + $("#prf_"+ arr[1] +" ul.gifts-bar").html());
					}
				}
				if ($("#prf_"+ arr[1] +" .mega-gift").length && __store[arr[0]].ext == 'swf'){
					$("#prf_"+ arr[1] +" .mega-gift").html(_SWF_obj(arr[0], 96, 96));
				}
												_UL_action("uol", "gift", arr[0], arr[1]);
				_UL_action("ufv", "gift", arr[0], arr[1]);
				if (gam_id) _UL_action("upl", "p_gift", arr[0], arr[1]);
				if (arr[1] == my_id) {
					_GM_action("", "upd", "my_gift", arr[0]);
					_GM_action("", "upd", "gift", arr);
				}
			}
			break;
		case "si":
			var _t = '';
			var _tn = '';
						var _m = '<div class="giftRecieved table'+ (arr[6] == 1 ? ' swf' : '') +'">'+
				'<div class="td phs"><div class="photo hidden" onclick="_PRF('+ arr[0] +');return false"><img src="'+ (arr[3] != '' ? arr[3] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, '+ (arr[6] == 1 ? 52 : 36) +');" alt="" /></div></div>'+ "\n" +
				'<div class="td gift"><img src="/images/events/'+ evt_prefix +'/eraser/c'+ arr[6] +'.png" /></div>'+
				'<div class="td">'+ _PL_nick(arr[0], arr[1], false, false, true) +' '+ _t +' '+ _PL_nick(arr[4], arr[5], false, false, true)+' '+(arr[4] != my_id ? '<a href="#" onclick="ers_uid=\''+ arr[4] +'\';_DLG(\'eraser\');return false" class="reply">'+ _tn +'!</a>' : '')+'</div>'+
			'</div>';
			_CHT_append("cco", _m);
			break;
		case "fl":
			var _t = '';
			var _html = '';
			var _class = '';
			switch (arr[0]){
				case 1: 
					_t = 'Выигрыш в Колесе фортуны: '+ arr[5] +' монет'; 
					_class ='fortuneWin';
					_html = '<button style="position: absolute; right: 35px; top: 35px" class="spin" onclick="_EventScene();return false;" ondblclick="return false" hidefocus="true">Крутить колесо</button>';
					break;
				case 2: 
					_t = 'Сундук фортуны получен';
					_class ='fortuneChestOpen';
					_html = '<button style="position: absolute; right: 35px; top: 35px" class="spin" onclick="_EventScene();return false;" ondblclick="return false" hidefocus="true">Колесо фортуны</button>';					
					break;
			}
			var _m = '<div class="banner eventComplete '+ _class +'">'+
				_html +
				'<div class="container">'+
					'<div class="phs"><img src="'+ (arr[4] != '' ? arr[4] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 64);" alt=""  onclick="_PRF('+ arr[1] +');return false" /></div>'+
					'<div class="nick">'+ _PL_nick(arr[1], arr[2], 'nick', false, true) +'</div>'+ "\n"+
					'<div class="text">'+ _t +'</div>'+ "\n"+
				'</div>'+ "\n" +
			'</div>';
			_CHT_append("cco", _m);
			break;
		case "fo":
			var _t = '';
			switch (arr[0]){
				case 1: _t = 'выиграл супер-приз: '+ arr[5] +' монет в «Колесе Фортуны»'; break;
				case 2: _t = 'получил «Сундук Фортуны»'; break;
			}
			var _m = '<div class="extra"><div class="img"><img src="/images/icons/tops/top_kazna.png" alt="" /></div><div class="text">'+_PL_nick(arr[1], arr[2], 'nick')+' '+ _t +'!<button class="cssGreenButton" ondblclick="return false" onclick="_EventScene();return false" hidefocus="true">Крутить колесо</button></div></div>';
			_CHT_append("cco", _m);
			break;
		case "s":
			_CHT_append("cco", arr);
			break;
		case "sp":
			_CHT_append("spc", arr);
			break;
		case "ee":
			var _e = '';
			switch (arr[0]){
				case "bn":
					_e = '<b>БАН</b>: '+ _PL_nick(arr[1], arr[2], false, false, true) +' - '+ ban_data[0][arr[3]] +' - '+ ban_data[1][arr[4]][0];
					break;
				case "ban":
					var _b = parseInt(arr[1][1]);
					if (_b > 60){
						var _t = Math.floor(_b / 60) +' мин.';
					}else{
						var _t = _b +' сек.';
					}
					switch(arr[1][0]){
						case "silence1": var _r = 'Вам зашили рот на'; break;
						case "silence2": var _r = 'Сосите соску'; break;
						case "auto_abuse": var _r = 'Анти-мат'; break;
						case "auto_griefing": var _r = 'Вы забанены за открытие роли'; break;
						case "flood": var _r = 'Анти-флуд'; break;
						default: var _r = 'Чат-бан'+(typeof ban_data[0][arr[1][0]] != "undefined" && ban_data[0][arr[1][0]] ? ' за '+ban_data[0][arr[1][0]] : ''); break;
					}
					_e = _r +' '+ _t;
					break;
				case "abu":
					_e = 'Мат и оскорбления запрещены! При повторе Вы будете забанены';
					break;
				case "mbk":
					_e = 'Сообщение не доставлено, пользователь вас заблокировал';
					break;
			}
			if (_e != ''){
				var _m = '<p class="ban-message">'+ _e +'</p>';
				_CHT_append("cco", _m);
			}
			break;
	}
}

var PPC_save = [];

function _POPUP_resort(cc, p, l){

	var _za = new Array();
	var _zmin = 10;
	var _zmax = _zmin;
	
	$("."+ cc).each(function(){		
		_z = parseInt($(this).css("z-index"));
		if (_z >= _zmin && _z < 100){
			_za[_z] = $(this);
			if (_z > _zmax) _zmax = _z;
		}
	});
	var _zn = _zmin;
	var _zp = null;
	for (_z = _zmin; _z <= _zmax; _z ++){
		if (typeof _za[_z] != "undefined"){
			var _zz = _za[_z];
			if ($(_zz).attr("id") != p){
				$(_zz).css("z-index", _zn);
				_zn ++;
			}
			if (l && $(_zz).hasClass(l)){
				_zp = _zz;
			}
		}
	}
	return (l ? _zp : _zn);
}

function _POPUP_size(gg, x, y, obj, b, s, r){
	if (x != null) {
		x -= hdr_offset_x;
		if (gg) x -= ppp_offset_x;
	}
	if (y != null) y -= hdr_offset_y;
	var _cw = parseInt(document.body.clientWidth);
	var _ch = (parseInt(document.body.clientHeight) - (hdr_offset_y * 2));
	var _ww = parseInt($("#"+ obj).outerWidth());
	var _hh = parseInt($("#"+ obj).outerHeight());
	var _b = (!b || b < 0 ? 0 : b);
	if (x == null) x = parseInt($("#"+ obj).position().left);
	if (y == null) y = parseInt($("#"+ obj).position().top);
	if (s) { x += s; y += s; }
	if (r) { y -= _hh; }
	if (x > (_cw - _ww)) x = (_cw - _ww) - _b; else if (!gg && x < 0) x = _b;
	if (y > (_ch - _hh)) y = (_ch - _hh) - _b; else if (y < 0) y = _b;
	$("#"+ obj).css({left: x +"px", top: y +"px"});
}

function _POPUP_size_r(gg, x, y, obj, b, s, r){
	var _ofsX = parseInt($("#rootContainer").offset().left);
	var _ofsY = parseInt($("#rootContainer").offset().top);
	if (x != null) x -= _ofsX;
	if (y != null) y -= _ofsY;
	var _cw = parseInt($("#rootContainer").outerWidth());
	var _ch = parseInt($("#rootContainer").outerHeight());
	var _ww = parseInt($("#"+ obj).outerWidth());
	var _hh = parseInt($("#"+ obj).outerHeight());
	var _b = (!b || b < 0 ? 0 : b);
	if (x == null) x = parseInt($("#"+ obj).position().left);
	if (y == null) y = parseInt($("#"+ obj).position().top);
	if (s) { x += s; y += s; }
	if (r) { y -= _hh; }
	if (x > (_cw - _ww)) x = (_cw - _ww) - _b; else if (!gg && x < 0) x = _b;
	if (y > (_ch - _hh)) y = (_ch - _hh) - _b; else if (y < 0) y = _b;
	$("#"+ obj).css({left: x +"px", top: y +"px"});
}

function _POPUP_position(obj, elem_pos_by){
	var w = parseInt($("#"+ obj).outerWidth());
	var x = parseInt($(elem_pos_by).offset().left) - w;
	var y = parseInt($(elem_pos_by).offset().top);
	_POPUP_size_r(true, x, y, obj, 10, 0);
}


function _HNTS(cmd, val, evt){

	var _evt = (!evt ? window.event : evt);
	switch(cmd){
		case "apts":
			_HINT('hnts_'+ cmd +'_hint', 250, 0, 'За выполнение достижений вы получаете звёзды. Чем больше звёзд, тем выше звание!', _evt.clientX - 60, _evt.clientY + 60, {w: 220, a: 'left', r: 1, v: 1});
			break;
		case "d1reward":
			return '<em>'+ (val[0] <= 11 ? 'Золотой' : (val[0] > 25 ? 'Бронзовый' : 'Серебряный')) +' чемпион первого сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "d2reward":
			return '<em>'+ (val[0] <= 11 ? 'Золотой' : (val[0] > 25 ? 'Бронзовый' : 'Серебряный')) +' чемпион второго сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;	
		case "d3reward":
			return '<em>'+ (val[0] <= 11 ? 'Золотой' : (val[0] > 25 ? 'Бронзовый' : 'Серебряный')) +' чемпион третьего сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "d4reward":
			return '<em>'+ (val[0] <= 13 ? 'Золотой' : (val[0] > 27 ? 'Бронзовый' : 'Серебряный')) +' чемпион четвертого сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "d5reward":
			return '<em>'+ (val[0] <= 12 ? 'Золотой' : (val[0] > 25 ? 'Бронзовый' : 'Серебряный')) +' чемпион пятого сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "d6reward":
			return '<em>'+ (val[0] <= 3 ? 'Бриллиантовый' : (val[0] <= 10 ? 'Золотой' : (val[0] > 26 ? 'Бронзовый' : 'Серебряный'))) +' чемпион шестого сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;	
		case "d7reward":
			return '<em>'+ (val[0] <= 4 ? 'Бриллиантовый' : (val[0] <= 10 ? 'Золотой' : (val[0] > 27 ? 'Бронзовый' : 'Серебряный'))) +' чемпион седьмого сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "d8reward":
			return '<em>'+ (val[0] <= 3 ? 'Бриллиантовый' : (val[0] <= 10 ? 'Золотой' : (val[0] > 27 ? 'Бронзовый' : 'Серебряный'))) +' чемпион восьмого сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;	
		case "d9reward":
			return '<em>'+ (val[0] <= 4 ? 'Бриллиантовый' : (val[0] <= 10 ? 'Золотой' : (val[0] > 27 ? 'Бронзовый' : 'Серебряный'))) +' чемпион девятого сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;	
		case "d10reward":
			return '<em>'+ (val[0] <= 3 ? 'Бриллиантовый' : (val[0] <= 10 ? 'Золотой' : (val[0] > 29 ? 'Бронзовый' : 'Серебряный'))) +' чемпион десятого сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;		
		case "d11reward":
			return '<em>'+ (val[0] <= 3 ? 'Бриллиантовый' : (val[0] <= 11 ? 'Золотой' : (val[0] > 25 ? 'Бронзовый' : 'Серебряный'))) +' чемпион одиннадцатого сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "d12reward":
			return '<em>'+ (val[0] <= 3 ? 'Бриллиантовый' : (val[0] <= 11 ? 'Золотой' : (val[0] > 26 ? 'Бронзовый' : 'Серебряный'))) +' чемпион двенадцатого сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "d13reward":
			return '<em>'+ (val[0] <= 3 ? 'Бриллиантовый' : (val[0] <= 14 ? 'Золотой' : (val[0] > 26 ? 'Бронзовый' : 'Серебряный'))) +' чемпион тринадцатого сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;	
		case "d14reward":
			return '<em>'+ (val[0] <= 4 ? 'Бриллиантовый' : (val[0] <= 12 ? 'Золотой' : (val[0] > 27 ? 'Бронзовый' : 'Серебряный'))) +' чемпион 14 сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "d15reward":
			return '<em>'+ (val[0] <= 3 ? 'Бриллиантовый' : (val[0] <= 12 ? 'Золотой' : (val[0] > 26 ? 'Бронзовый' : 'Серебряный'))) +' чемпион 15 сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "d16reward":
			return '<em>'+ (val[0] <= 3 ? 'Бриллиантовый' : (val[0] <= 11 ? 'Золотой' : (val[0] > 25 ? 'Бронзовый' : 'Серебряный'))) +' чемпион 16 сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "d17reward":
			return '<em>'+ (val[0] <= 3 ? 'Бриллиантовый' : (val[0] <= 11 ? 'Золотой' : (val[0] > 28 ? 'Бронзовый' : 'Серебряный'))) +' чемпион 17 сезона клановых дуэлей</em><br/><br/>Клан: '+ val[2] +'<br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;	
		case "s1reward":
			return '<em>'+ (val[0] <= 100 ? 'Золотой' : (val[0] > 250 ? 'Бронзовый' : 'Серебряный')) +' чемпион первого сезона игр в Мафию</em><br/><br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "s2reward":
			return '<em>'+ (val[0] <= 100 ? 'Золотой' : (val[0] > 250 ? 'Бронзовый' : 'Серебряный')) +' чемпион второго сезона игр в Мафию</em><br/><br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "s3reward":
			return '<em>'+ (val[0] <= 100 ? 'Золотой' : (val[0] > 250 ? 'Бронзовый' : 'Серебряный')) +' чемпион третьего сезона игр в Мафию</em><br/><br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "s4reward":
			return '<em>'+ (val[0] <= 100 ? 'Золотой' : (val[0] > 250 ? 'Бронзовый' : 'Серебряный')) +' чемпион четвертого сезона игр в Мафию</em><br/><br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "s5reward":
			return '<em>'+ (val[0] <= 100 ? 'Золотой' : (val[0] > 250 ? 'Бронзовый' : 'Серебряный')) +' чемпион пятого сезона игр в Мафию</em><br/><br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;	
		case "s6reward":
			return '<em>'+ (val[0] <= 100 ? 'Золотой' : (val[0] > 250 ? 'Бронзовый' : 'Серебряный')) +' чемпион шестого сезона игр в Мафию</em><br/><br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;
		case "s7reward":
			return '<em>'+ (val[0] <= 100 ? 'Золотой' : (val[0] > 250 ? 'Бронзовый' : 'Серебряный')) +' чемпион седьмого сезона игр в Мафию</em><br/><br/>Место: '+ val[0] +' / Рейтинг: '+ val[1];
			break;	
		case "level":
			_HINT('hnts_'+ cmd +'_hint', 500, 0, '<span class="yellow">Уровень игрока</span><br/>Чем выше уровень, тем опытнее игрок!', _evt.clientX - 60, _evt.clientY + 60, {w: 220, a: 'left', r: 1, v: 1});
			break;
		case "r_place":
			_HINT('hnts_'+ cmd +'_hint', 500, 0, '<span class="yellow">Место в топе по рейтингу: '+(val > 0 ? val : '--')+'</span><br/>По окончанию сезона первые 500 мест получают награду', _evt.clientX - 60, _evt.clientY + 80, {w: 220, a: 'left', r: 1, v: 1});
			break;
		case "whois":
			_HINT('hnts_'+ cmd +'_hint', 250, 0, 'Кликните сюда, чтобы увидеть реальный профиль этого игрока в его соц. сети', _evt.clientX - 60, _evt.clientY + 100, {w: 220, a: 'left', r: 1, v: 1});
			break;
		case "newyear":
			return '<em>Новый год '+ val +'!</em><br/><br />Счастливого Рождества и Нового года! Пусть сбудутся все ваши мечты!';
			break;
		case "hearts":
			return '<em>Любовные деньки '+ val +'!</em><br/><br />Желаем вам здоровья, любви и счастья! Любите и будьте любимы!';
			break;
		case "valentin":
			return '<em>Валентин '+ val +'!</em><br/><br />Желаем вам здоровья, любви и счастья! Любите и будьте любимы!';
			break;
		case "eggs":
			return '<em>Пасха '+ val +'!</em><br/><br />Желаем вам всего самого светлого! Здоровья, любви и счастья!';
			break;
		case "tony":
			return '<em>Семья Жирного Тони '+ val +'!</em><br/><br />Награда за участие в захвате города!';
			break;
		case "ripper":
			return '<em>Потрошитель '+ val +'!</em><br/><br />Награда за погружение города в хаос!';
			break;
		case "beard":
			return '<em>Чёрная Борода '+ val +'!</em><br/><br />Награда за участие в событии Чёрная Борода 2017!';
			break;
		case "zombie":
			return '<em>Чокнутый Профессор '+ val +'!</em><br/><br />Награда за помощь Чокнутому Профессору!';
			break;
		case "prof":
			return '<em>Чокнутый Профессор '+ val +'!</em><br/><br />Награда за помощь Чокнутому Профессору!';
			break;	
		case "yakuza":
			return '<em>Якудза '+ val +'!</em><br/><br />Награда за участие в мафиозных разборках';
			break;
		case "arena_winter":
			return '<em>Эпическая Арена '+ val +'!</em><br/><br />Эмблема за участие в событии «Эпическая Арена»';
			break;	
		case "arena_summer":
			return '<em>Эпическая Арена '+ val +'!</em><br/><br />Эмблема за участие в событии «Эпическая Арена»';
			break;
		case "gems":
			return '<em>Самоцветы '+ val +'!</em><br/><br />'+ (_evt[0] == 3 ? 'Красная' : (_evt[0] == 2 ? 'Синяя' : 'Зелёная')) +' эмблема за участие в событии «Самоцветы» '+ val;
			break;
		case "carnival":
			if (parseInt(val) < 2019){
				return '<em>Карнавал '+ val +'!</em><br/><br />Награда за участие в Карнавале';
			} else if (parseInt(val) == 2020){
				return '<em>Карнавал '+ val +'!</em><br/><br />'+ (_evt[0] == 2 ? 'Эмблема' : 'Особая эмблема') +'  за участие в событии «Карнавал» 2020!';
			}else{
				return '<em>Карнавал '+ val +'!</em><br/><br />'+ (_evt[0] == 3 ? 'Бриллиантовая' : (_evt[0] == 2 ? 'Золотая' : 'Уникальная')) +' эмблема за выполнение квестов в Карнавале!';
			}
			break;
		case "hwn":
			return '<em>Хэллоуин '+ val +'!</em><br/><br />Награда за участие в празднике Хэллоуин';
			break;
		case "lili":
			return '<em>Взрывная Лили '+ val +'!</em><br/><br />Награда за уничтожение города!';
			break;	
		case "cl_expa":
			_HINT('hnts_'+ cmd +'_hint', 250, 0, 'Весь полученный кланом опыт делится на кол-во мест в клане', _evt.clientX - 100, _evt.clientY + 60, {w: 200, r: 1, v: 1});
			break;
		case "wedding":
			//_HINT('hnts_'+ cmd +'_hint', 250, 0, '<span class="yellow">Чем крепче брак, тем ярче сердечко!</span><br/><br/>Дарите своей половинке подарки чтобы заполнить сердечко.<br/>При 100% и больше пара получает иконку у ника в чате.<br/>При 0% брак распадается от недостатка внимания друг к другу!'+ (val ? '<br/><br/><a href="#" onclick="_DLG(\'divorce\');return false" hidefocus="true" style="color:gray">Развестись</a>' : ''), _evt.clientX + 20, _evt.clientY + 60, {w: 240, a: 'left', r: 1, v: 1});
			return '<em>Чем крепче брак, тем ярче сердечко!</em><br/><br/>Дарите своей половинке подарки чтобы заполнить сердечко.При 100% и больше пара получает иконку у ника в чате.При 0% брак распадается от недостатка внимания друг к другу!'+ (val ? '<br/><br/><a href=&quot;#&quot; onclick=&quot;_DLG(\'divorce\');return false&quot;>Развестись</a>' : '');
			break;
		case "gft_row":
			_HINT('hnts_'+ cmd +'_hint', 250, 0, 'Вы можете подарить сразу 9 подарков, заполнив весь ряд в профиле игрока, который нельзя сдвинуть в течение часа. Подарки будут украшены мега-оповещением в чат.<br/>Цена: <b>'+val[0]+'</b>', _evt.clientX - 100, _evt.clientY + 110, {w: 240, r: 1, a: 'left', v: 1});
			break;
		case "gft_hid":
			_HINT('hnts_'+ cmd +'_hint', 250, 0, 'Ваш ник и комментарий увидит только получатель подарка', _evt.clientX - 100, _evt.clientY + 90, {w: 240, r: 1, a: 'left', v: 1});
			break;
		case "clnorm":
			_HINT('hnts_'+ cmd +'_hint', 250, 0, 'Минимальное кол-во опыта за неделю, которое вам необходимо получить. Норму устанавливает лидер клана.', _evt.clientX - 100, _evt.clientY + 60, {w: 220, a: 'left', r: 1, v: 1});
			break;
		case "league2":
			return '<em>Награда за достижение Серебряной лиги<br/> '+ _evt[0] +' сезон '+ val +'</em>'+ ((_evt[0] == 1 || _evt[0] == 2) && val == 2018 || val == 2019 ? '' : '<br/><br />Место: '+ (_evt[1] > 0 ? _evt[1] : '1000+'));
			break;
		case "league3":
			return '<em>Награда за достижение Золотой лиги<br/> '+ _evt[0] +' сезон '+ val +'</em>'+ ((_evt[0] == 1 || _evt[0] == 2) && val == 2018 || val == 2019 ? '' : '<br/><br />Место: '+ (_evt[1] > 0 ? _evt[1] : '1000+'));
			break;
		case "league4":
			return '<em>Награда за достижение Платиновой лиги<br/> '+ _evt[0] +' сезон '+ val +'</em>'+ ((_evt[0] == 1 || _evt[0] == 2) && val == 2018 || val == 2019 ? '' : '<br/><br />Место: '+ (_evt[1] > 0 ? _evt[1] : '1000+'));
			break;
		case "league5":
			return '<em>Награда за достижение Бриллиантовой лиги<br/> '+ _evt[0] +' сезон '+ val +'</em>'+ ((_evt[0] == 1 || _evt[0] == 2) && val == 2018 || val == 2019 ? '' : '<br/><br />Место: '+ (_evt[1] > 0 ? _evt[1] : '1000+'));
			break;
		case "league6":
			return '<em>Награда за достижение Лиги Чемпионов<br/> '+ _evt[0] +' сезон '+ val +'</em>'+ ((_evt[0] == 1 || _evt[0] == 2) && val == 2018 || val == 2019 ? '' : '<br/><br />Место: '+ (_evt[1] > 0 ? _evt[1] : '1000+') +' / Рейтинг: '+ _evt[2]);
			break;
		case "league7":
			return '<em>Награда за достижение Гроссмейстерской лиги<br/> '+ _evt[0] +' сезон '+ val +'</em>';
			break;	
		case "banditos":
			if (parseInt(val) < 2019){
				return '<em>Братья Бандитос '+ val +'!</em><br/><br />'+ (_evt[0] == 3 ? 'Бриллиантовая' : (_evt[0] == 2 ? 'Золотая' : 'Уникальная')) +' эмблема за выполнение квестов от Братьев Бандитос!';
			} else {
				return '<em>Братья Бандитос '+ val +'!</em><br/><br />'+ (_evt[0] == 2 ? 'Эмблема' : 'Особая эмблема') +'  за участие в событии «Братья Бандитос» 2020!';
			}
			break;
	}
}

var _AHT_tm = [];
var _ACH_pg = [];

function _rank_by_id(_id){
	
	var _ret = {'ttl': 'Нет звания', 'pic': 'norank', 'lev': 0, 'pts': 0, 'amount': 0};
	var _lev = 0;
	var _last_pic = 'norank';
	$.each(__ark['ttls'], function(_r, _a) {
		if (parseInt(_id) >= parseInt(_r)){
			if (_a['pic'] != _last_pic){
				_last_pic = _a['pic'];
				_lev = 0;
			}else{
				_lev ++;
			}
			_ret['ttl'] = _a['ttl'];
			_ret['pic'] = _a['pic'];
			_ret['lev'] = _lev;
		}else{
			return false;
		}
	});
	var _last = 0;
	$.each(__ark['lims'], function(_r, _a) {
		if (typeof _a['last'] != "undefined" && _a['last']) _last = parseInt(_r);
		if (typeof _a['next'] != "undefined"){
			var _pts = parseInt(_a['pts']);
			for(var _i = parseInt(_r); _i < parseInt(_a['next']); _i ++){
				if (parseInt(_id) >= _i){
					_ret['pts'] = _pts;
					_ret['amount'] = parseInt(_a['amount']);
				}
				_pts += parseInt(_a['step']);
			}
		}else{
			if (parseInt(_id) >= parseInt(_r)){
				_ret['pts'] = parseInt(_a['pts']);
				_ret['amount'] = parseInt(_a['amount']);
			}else{
				return false;
			}
		}
	});
	if (_last > 0 && typeof __ark['lims'][_last] != "undefined" && parseInt(_id) > _last){
		_ret['pts'] = (parseInt(__ark['lims'][_last]['pts']) + (parseInt(__ark['lims'][_last]['step']) * (parseInt(_id) - _last)));
		_ret['amount'] = parseInt(__ark['lims'][_last]['amount']);
	}
	return _ret;
}

function _postfix(_pfxs, _cnt){

	var _p = 0;
	var _s = ''+_cnt;
	if (_s.length > 2){
		_s = _s.substring((_s.length-2));
	}
	_s = parseInt(_s);
	if (_s < 11 || _s > 14){
		var _m = (_cnt % 10);
		if (_m == 1){
			_p = 1;
	 	}else if (_m > 1 && _m < 5){
	 		_p = 2;
	 	}
	}
	return _pfxs[_p];
}

function _PRF_AwardsToggle(obj){

	var c_obj = $(obj).parent().parent().find(".scrollBarContainer");
	if ($(c_obj).attr("label") == "small"){
		$(obj).addClass("on");
		$(c_obj).css("height", "223px");
		$(c_obj).children("div.viewport").css("height", "223px");
		$(c_obj).children("div.bar").css("visibility", "visible");
		$(c_obj).attr("label", "");
		if (!isMobile) $(c_obj).tinyscrollbar_update(0);
	}else{
		$(c_obj).children("div.bar").css("visibility", "hidden");
		$(c_obj).children("div.viewport").css("height", "116px");
		$(c_obj).css("height", "116px");
		$(obj).removeClass("on");
		$(c_obj).attr("label", "small");
		if (!isMobile) $(c_obj).tinyscrollbar_update(0);
	}
}

var _event_last_prize_id = 0;

function _Event(id, cmd, args){

	var _id = (!id || id == '' ? my_id : id);
	var _is_my = (_id == my_id ? true : false);
	var _cmd = (!cmd || cmd == '' ? 'def' : cmd);
	switch (_cmd){
		case 'scene_click':
						if (typeof __hxda['arw_arena_winter_2020'] == "undefined") {
				_HX_hint_s('arw_arena_winter_2020');
			}
						break;
		case 'sel_uniq':
			if (_is_my){
				var _s = '<p style="padding: 0; margin: 0 0 5px 0">Сменить эмблему:</p><div class="changeEmblem">';
				$.ajax({
					async: false,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "evt_sel_uniq", etype: args[0]},
					dataType: "json",
					success: function(data) {
						if (typeof data.arr != "undefined"){
							$.each(data.arr, function(_k, _v){
								_s += '<div ondblclick="return false" onclick="_Event(\''+ _id +'\', \'chg_uniq\', ['+ _v +', \''+ args[0] +'\']);return false" hidefocus="true"><img src="/images/events/'+ args[0] +'_' +_v +'.png" alt="" /></div>'+"\n";
							});
						}else{
							_s += '<br /><div>У вас нет других эмблем на смену</div>';
						}
					}
				});
				_s += '</div><a href="#" onclick="_GM_action(\'f\', \'upd\', \'pp_dh\', \'sel_uniq\');return false;" class="popup-small-close" hidefocus="true"></a>';
				if (!$("#pp_sel_uniq").length){
					$("#popup_container").append('<div id="pp_sel_uniq" class="popup-move extras-popup not-displayed" style="width:198px">'+ _s +'</div>');
					$("#pp_sel_uniq").draggable({
						containment: "document",
						cancel: ".popup-small-close",
						zIndex: 100,
						stop: function(){
							$(this).mousedown();
						}
					}).mousedown(function(){
						var _i = $(this).attr("id");
						var _z = _POPUP_resort("popup-move", _i);
						$(this).css("z-index", _z);
					}).show("fade", 100, function(){
						$(this).removeClass("not-displayed");
						_POPUP_position("pp_sel_uniq", args[1]);
						$(this).mousedown();
					});
				}else{
					$("#pp_sel_uniq").html(_s).attr("class", "popup-move extras-popup").css({"width": "188px", "height": "auto"});
					_POPUP_position("pp_sel_uniq", args[1]);
					$("#pp_sel_uniq").mousedown();
				}
			}
			break;	
		case 'chg_uniq':
			if (_is_my){
				var _eidx = parseInt(args[0]);
				var _etype = (typeof args[1] != "undefined" ? args[1] : '');
				$("#event_"+ _id +" ul.emblemList li").removeClass("active");
				$("#event_"+ _id +" ul.emblemList li:nth-child("+ _eidx +")").addClass("active");
				$("#event_scene_"+ _id +" ul.emblemList li").removeClass("active");
				$("#event_scene_"+ _id +" ul.emblemList li:nth-child("+ _eidx +")").addClass("active");
				_GM_action("", "upd", "pp_dh", "sel_uniq");
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "evt_chg_uniq", eidx: _eidx, etype: _etype},
					dataType: "json",
					success: function(data) {
						if ($("#prf_"+ _id).length) {
							_PRF(_id, '', false, true);
						}
					}
				});
			}
			break;
	}
}

function _Duels(cid, cmd, args){

	var _cid = (!cid || cid == '' ? 0 : cid);
	var _cmd = (!cmd || cmd == '' ? 'def' : cmd);
	switch (_cmd){
		case 'low_l':
		case 'nxt_m':
			if (!$("#duels_err").length){
				$("#popup_container").append('<div id="duels_err" class="popup-move popupShadowNew duelsPopup not-displayed" style="top:120px;cursor:default">'+
					'<div class="headerImage clanLowLevel">'+
					'<h2>'+ (_cmd == 'nxt_m' ? 'Ваши соперники определятся в следующий понедельник' : 'Для участия в клановых дуэлях вашему клану требуется <em>5 уровень</em>') +'!</h2>'+
					'</div>'+
					'<div class="footerButtons">'+
						'<button ondblclick="return false" onclick="$(\'#duels_err\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" class="newButton" hidefocus="true">Закрыть</button>'+
					'</div>'+
					'<a href="#" onclick="$(\'#duels_err\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" hidefocus="true" class="popupClose"></a>'+
				'</div>');
				$("#duels_err").css("left", (parseInt(parseInt($("#rootContainer").outerWidth()) / 2) - parseInt(parseInt($("#duels_err").outerWidth()) / 2)) +"px");
				$("#duels_err").mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
				});
				if (_cmd == 'low_l') _HX_hint('joh15');
			}else{
				$("#duels_err").mousedown();
			}
			break;
		case 'far':
			if (!$("#duels_far").length){
				var _s = '<div class="headerImage" style="background-image:url(/img/popups/duels/header-coming.jpg)"></div>'+
					'<div class="info">Соревнуйтесь с другим кланом, кто больше наберёт очков в случайных заданиях!<br />Побеждает клан, который по окончанию дуэли будет лидировать в большем кол-ве заданий</div>'+
					'<div class="headerBlock">'+
						'<div class="timerText">До начала дуэли</div>'+
						'<div class="headerText bigTimer">'+
							'<div class="cdn-container">'+
								'<div id="cdn_duels_far" class="cdn2 design noMargin" style="z-index: 90;">'+
									'<p class="dayMargin"> <span class="days"></span> <em>дней</em></p>'+
									'<p> <span class="hours"></span> <em>часов</em></p>'+
									'<b>:</b>'+
									'<p> <span class="minutes"></span> <em>минут</em></p>'+
									'<b>:</b>'+
									'<p> <span class="seconds"></span> <em>секунд</em></p>'+
								'</div>'+
							'</div>'+
						'</div>'+
					'</div>'+
					'<div class="content">'+
						'<div class="tableHeaderText">Соперники</div>'+
						'<table class="duel">';
				var _cdn_t = 0;		
				$.each(args, function(_i, _row) {
					if (!_cdn_t) _cdn_t = _row[6];
					_s += '<tr>'+
						'<td class="achCount"><span class="clanRating">'+ _row[2] +'</span><span class="clanName">'+ _row[1] +'</span></td>'+
						'<td>'+ (_row[8] == 5 ? 'Суббота' : 'Воскресенье') +', '+ _row[7] +'</td>'+
						'<td class="achCount"><span class="clanRating">'+ _row[5] +'</span><span class="clanName">'+ _row[4] +'</span></td>'+
					'</tr>';
				});
				_s += '</table></div>';
				$("#popup_container").append('<div id="duels_far" class="popup-move popupShadowNew duelsPopup not-displayed" style="top:120px;cursor:default">'+
					_s +
					(!_cid ? '<a href="#" onclick="_Duels(0, \'hlist\');return false" hidefocus="true" class="historyLink">Смотреть историю дуэлей</a>' : '')+
					'<a href="#" onclick="$(\'#duels_far\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" hidefocus="true" class="popupClose"></a>'+
				'</div>');
				$("#duels_far").css("left", (parseInt(parseInt($("#rootContainer").outerWidth()) / 2) - parseInt(parseInt($("#duels_far").outerWidth()) / 2)) +"px");
				$("#duels_far").mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
				});
				_HX_hint('joh16');
				$('div#cdn_duels_far').countdown(_cdn_t * 1000, function(event) {
					if(event.type == "days" && event.value == 0){
						$(this).find('span.'+event.type).parent().remove();
					}
					switch(event.type) {
						case "days":
							event.value == 0 ? $(this).find('span.'+event.type).parent().remove() :  '';
							break;
						case "finished":
							setTimeout(function(){
								$("#duels_far").hide('fade', 100, function(){ $(this).remove(); _CHT_focus(); });
							}, 1000);
							break;
					}
				});
			}else{
				$("#duels_far").mousedown();
			}
			break;
		case 'fin':
			var _pwnd = '';
			if (typeof args != "undefined" && typeof args[0] != "undefined"){
				_pwnd = args[0];
			}
			if ($("#duels"+ _pwnd).length){
				var _l = $("#duels"+ _pwnd +" .duelHeader").attr("label");
				$("#duels"+ _pwnd +" .stateText div").html((_pwnd != '' ? 'История дуэли: '+ args[1] : 'Дуэль окончена') +'!'+ (_l == 'draw' ? '<div class="draw">Ничья!</div>' : ''));
				$("#duels"+ _pwnd +" .duelBar .clanName.team1 span.title").html('Победитель');
				$("#duels"+ _pwnd +" .duelBar .clanName.team2 span.title").html('Победитель');
			}
			if (_pwnd == '') {
				$("#bt_duel").attr("data-shine", "false");
				$("#duels ul.tasksListCln").html('<li class="qslot_1 empty" label="1"></li><li class="qslot_2 empty" label="2"></li><li class="qslot_3 empty" label="3"></li>');
				$("#duels .lotteryBar div.progressText").html('');
			}
			break;
		case 'collect':
			var _obj = args[0];
			if ($(_obj).length){
				if (!_SOUND_err) _SOUND_arr['sfx']['collect_gift'].play();
				$(_obj).find("div.name").remove();
				$(_obj).removeClass("show").addClass("hide").animate({
					left: 825,
					top: 700
				}, 500, function() {
					$(this).remove();
					var _o = $("#duels .chestProgressBar .progressText .current");
					if ($(_o).length){
						var _c = parseInt($(_o).html());
						_c += args[1];
						$(_o).html(_c);
					}
					if (!$("#duels .itemContainer").length) {
						_Duels(_cid);
					}
				});
			}
			break;
		case 'onscreen_t':
			var _frameSizeX = 100;
			var _frameSizeY = 120;
			var _randomRangeX = 1000 - Math.floor(_frameSizeX * 1.5);
			var _randomRangeY = 750 - Math.floor(_frameSizeY * 1.5);
			function isPositionValid(randomX, randomY) {
				var isValid = true;
				$("#duels .itemContainer").each(function() {
					var targetX = parseInt($(this).attr("targetX"));
					var targetY = parseInt($(this).attr("targetY"));
					if ((randomX > (targetX - _frameSizeX) && randomX < targetX + _frameSizeX) && (randomY > (targetY - _frameSizeY) && randomY < targetY + _frameSizeY)){
						isValid = false;
						return false;
					}
				});
				return isValid;
			}
			var item_cnt = parseInt($("#duels .itemContainer").length);
			var random_X = Math.floor(Math.random() * _randomRangeX + (_frameSizeX / 2));
			var random_Y = Math.floor(Math.random() * _randomRangeY + (_frameSizeY / 2));
			while (!isPositionValid(random_X, random_Y) && item_cnt < 8){
				random_X = Math.floor(Math.random() * _randomRangeX + (_frameSizeX / 2)); 
				random_Y = Math.floor(Math.random() * _randomRangeY + (_frameSizeY / 2));
			}	
			var start_X = args[0] + 60;
			var start_Y = args[1] + 60;
			var elem = '<div class="itemContainer" targetX="'+ random_X +'" targetY="'+ random_Y +'" style="left: '+ start_X +'px; top: '+ start_Y +'px" onclick="_Duels(\''+ _cid +'\', \'collect\', [this, 5])"><div class="borderContainer" style="padding:0 0 10px 0"><img src="/images/icons/duel_tokens.png" /><div class="name"><span>5 Жетонов</span></div></div>';
			$(elem).appendTo("#duels").addClass("show").animate({
				top: random_Y,
				left: random_X
			}, 500, "swing", function() {
				$(this).find(".name").fadeIn();
			});
			break;	
		case 'take_award':
			var _slot = parseInt(args);
			$.ajax({
				async: true,
				cache: false,
				type: "POST",
				url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
				data: {method: "duel_takeaw", slot: _slot},
				dataType: "json",
				success: function(data) {
					if (typeof data.ret != "undefined"){
						if (!_SOUND_err) _SOUND_arr['sfx']['bag_open'].play();
						var _eobj = $("#duels .qslot_"+ _slot);
						if ($(_eobj).length){
							$(_eobj).replaceWith(_Duels(_cid, 'draw_q', [_slot, data.ret[0], (_slot - 1), 0]));
						}
						if (parseInt(data.ret[1]) > 0){
							var _v = parseInt($("#cdd_slot_"+ _slot).html());
							_v ++;
							$("#cdd_slot_"+ _slot).html(_v);
							for (var _c = 0; _c < Math.round(parseInt(data.ret[1]) / 5); _c ++){
								_Duels(_cid, 'onscreen_t', [parseInt($(_eobj).offset().left), parseInt($(_eobj).offset().top)]);
							}
						}
						if (parseInt(data.ret[2]) > 0){
							var _ltt_warr = [];
							var _cc = 10;
							switch (parseInt(data.ret[2])){
								case 250: _cc = 5; break;
								case 50000:
								case 100000: _cc = 20; break;
							}
							for (_c = 0; _c < _cc; _c++) _ltt_warr.push(["coins", parseInt(parseInt(data.ret[2]) / _cc)]);
							leagueProc("chest", 'lottery', _ltt_warr);
						}
						var _ltt_c = parseInt(data.ret[3]);
						var _lt_lim = 15;
						var _lt_prc = Math.ceil(_ltt_c * 100 / _lt_lim);
						if (_lt_prc > 100) _lt_prc = 100;
						$("#duels .lotteryBar div.progress").css("width", _lt_prc +"%");
						$("#duels .lotteryBar div.progressText").html('<em class="current">'+ _ltt_c +'</em><span class="separator">/</span><em class="need">'+ _lt_lim +'</em>');
					}
					if (typeof data.err != "undefined"){
						_OHINT('Вы не можете забрать награду из партии.');
						$("#duels .qslot_"+ _slot +" .takeAward").removeClass("off");
					}
				}
			});
			break;	
		case 'chg_task':
			var _slot = parseInt(args[0]);
			var _mode = parseInt(args[1]);
			if (!_mode){
				var _flag = parseInt($("#duels ul.tasksListCln").attr("data-f0"));
				if (_flag < 3){
					var _txt = 'Бесплатно: '+ (3 - _flag);
				}else if (_flag < 13){
					var _txt = '<img src="/images/icons/coin.png" style="vertical-align: -3px" alt="" /> 100';
				}else{
					var _txt = '<img src="/images/icons/ruby-micro.png" alt="" style="vertical-align: -3px"/> 1';
				}
				$("#duels .chgTaskPopup").html('<h2>Сменить квест?<span>'+ _txt +'</span></h2>'+
					'<div class="footerButtons"><button ondblclick="return false" onclick="$(this).parent().parent().addClass(\'not-displayed\');_Duels(\''+ _cid +'\', \'chg_task\', ['+ _slot +', 1]);return false" hidefocus="true" class="newButton">Сменить</button>'+
					'<button ondblclick="return false" onclick="$(this).parent().parent().addClass(\'not-displayed\');return false" class="newButton color3" hidefocus="true">Закрыть</button></div>'+
					'<a href="#" onclick="$(this).parent().addClass(\'not-displayed\');return false" class="popupClose" hidefocus="true"></a>'
				).removeClass("not-displayed");
			}else{
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "duel_chg_task", slot: _slot},
					dataType: "json",
					success: function(data) {
						if (typeof data.ret != "undefined"){
							var _obj = $("#duels ul.tasksListCln");
							if ($(_obj).length){
								$(_obj).attr("data-f0", (parseInt($("#duels ul.tasksListCln").attr("data-f0")) + 1));
								var _eobj = $("#duels .qslot_"+ _slot);
								if ($(_eobj).length){
									$(_eobj).replaceWith(_Duels(_cid, 'draw_q', [_slot, data.ret, (_slot - 1), 0]));
								}
							}
						}
						if (typeof data.err != "undefined"){
							switch (data.err){
								case 1: _OHINT('Недостаточно монет'); _HX_hint('rud5'); _WND_proc('buy'); break;
								case 2: _OHINT('Недостаточно рубинов'); _WND_proc('ruby_buy'); break;
							}
						}
					}
				});
			}
			break;
		case 'chest_hint':
			var _out = '<h2>Награды в сундуке:</h2><ul class="awardsList2row">';
			if (typeof __d_chest_aws[args] != "undefined"){
				$.each(__d_chest_aws[args], function(_i, _a) {
					var _k = '';
					var _t = '';
					switch(_a[0]){
						case 'coins': _k = _a[0]; _t = _a[1] +' монет'; break;
						case 'ruby': _k = 'rubys'; _t = _a[1] +' '+ _postfix(['рубинов','рубин','рубина'], _a[1]); break;
						case 'stars': _k = _a[0]; _t = _a[1] +' звёзд'; break;
						case 'tal_pcs': _k = _a[0]; _t = _a[1] +' осколков таланта'; break;
						case 'extras': _k = 'extra'; _t = _a[1] +' '+ _postfix(['экстр','экстра','экстры'], _a[1]); break;
						case 'extras_cln': _k = 'extra_clan'; _t = _a[1] +' '+ _postfix(['клановых экстр','клановая экстра','клановые экстры'], _a[1]); break;
						case 'extras_evt': _k = 'extra_event'; _t = _a[1] +' '+ _postfix(['ивент экстр','ивент экстра','ивент экстры'], _a[1]); break;
					}
					_out += '<li><div class="ico"><img src="/img/extras/'+ _k +'.png"></div><p class="name asTable"><span class="asCell">'+ _t +'</span></p></li>';
				});
			}
			_out += '</ul>';
			return _out;
		case 'draw_q':
			var _types = ['Обычный квест', 'Золотой квест', 'Бриллиантовый квест'];
			var _t_cnts = [5, 10, 15];
			var _qid = parseInt(args[1]);
			var _qtype = parseInt(args[2]);
			var _qcnt = parseInt(args[3]);
			var _out = '';
			if (_qid > 0){
				var _qlim = 0;
				var _pprc = 0;
				var _ttl = '';
				var _txt = '';
				if (typeof __dqs[_qid] != "undefined"){
					_qlim = parseInt(__dqs[_qid]['limits'][_qtype]);
					var _t = __dqs[_qid]['text'];
					var _x0 = _t.indexOf('[');
					if (_x0 != -1){
						var _g = _t.substring(_x0 + 1, _t.indexOf(']')).split(',');
						_t = _t.substr(0, _x0) + _postfix(_g, _qlim) + _t.substr(_t.indexOf(']') + 1);
					}
					_ttl = __dqs[_qid]['title'];
					_txt = _t.replace(/%s/g, _qlim);
					_pprc = Math.ceil(_qcnt * 100 / _qlim);
					if (_pprc > 100) _pprc = 100;
				}
				var _qcomp = (_qcnt != -1 && _qcnt >= _qlim ? 1 : 0);
				_out = '<li class="qslot_'+ args[0] +' level'+ _qtype + (_qcomp ? ' complete' : '') +'">'+
					'<div class="icoContainer" title="'+ _types[_qtype] +'">'+
						'<div class="ico"><img src="/images/dquests/'+ _qid +'.png" alt="" /></div>'+
						'<div class="frame"></div>'+
					'</div>'+
					'<div class="textBlock">'+
						'<h2>'+ _ttl +'</h2>'+
						'<p class="taskText">'+ _txt +'</p>'+
					'</div>'+
					'<p class="qty"><em>'+ _t_cnts[_qtype] +'</em> жетонов</p>'+
					'<p class="completeText">Выполнено!</p>'+
					'<button class="takeAward button100px" hidefocus="true" ondblclick="return false" onclick="$(this).addClass(\'off\');_Duels(\''+ _cid +'\', \'take_award\', '+ args[0] +');return false">Забрать награду</button>'+
					(_qcnt != -1 ? '<div class="progressBar">'+
						'<div class="progress" style="width:'+ _pprc +'%"></div>'+
						'<span class="progressText"><em class="current">'+ _qcnt +'</em> / <em class="need">'+ _qlim +'</em></span>'+
					'</div>' : '')+
					(!_qcomp ? '<button class="changeTask" hidefocus="true" ondblclick="return false" onclick="_Duels(\''+ _cid +'\', \'chg_task\', ['+ args[0] +', 0]);return false" title="Сменить квест"></button>' : '')+
				'</li>';
			}else{
				_out = '<li class="qslot_'+ args[0] +' empty" label="'+ args[0] +'"></li>';
			}
			return _out;
		case 'hlist':
			if (!$("#duels_hlist").length){
				$("#popup_container").append('<div id="duels_hlist" class="popup-move popupShadowNew duelHistoryPopup not-displayed">'+
						'<div style="padding: 8px 0 18px 0; text-align: center">Здесь вы можете следить за всей историей клановых дуэлей</div>'+
						'<table cellspacing="0" cellpadding="0" class="table td-centered">'+
							'<tr>'+
								'<th>Дата</th>'+
								'<th>Соперник</th>'+
								'<th>Итог</th>'+
								'<th>Рейтинг</th>'+
								'<th></th>'+
							'</tr>'+
						'</table>'+
						'<a href="#" onclick="$(\'#duels_hlist\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" class="popupClose" hidefocus="true"></a>'+
				'</div>');
				$("#duels_hlist").css("left", (parseInt(parseInt($("#rootContainer").outerWidth()) / 2) - parseInt(parseInt($("#duels_hlist").outerWidth()) / 2)) +"px");
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "duels_hlist"},
					dataType: "json",
					success: function(data) {
						if (typeof data.arr != "undefined"){
							$.each(data.arr, function(_i, _row) {
								var __c = '#a3a3a3';
								var __t = 'ничья';
								switch (parseInt(_row[4])){
									case 1: __c = '#00da1a'; __t = 'победа'; break;
									case 2: __c = '#d20000'; __t = 'поражение'; break;
								}
								var _s = '<tr>'+
									'<td>'+ _row[2] +'</td>'+
									'<td style="color:#fff48a">'+ _row[1] +'</td>'+
									'<td><span style="color:'+ __c +'">'+ __t +'</span></td>'+
									'<td>'+ (parseInt(_row[3]) > 0 ? '+'+ parseInt(_row[3]) : 0) +'</td>'+
									'<td>'+ (_row[5] == 1 ? '<a href="#" onclick="_Duels(0, \'hist\', \''+ _row[0] +'\');return false" hidefocus="true">подробнее</a>' : '') +'</td>'+
								'</tr>';
								$("#duels_hlist table").append(_s);
							});
						}
					}
				});
				$("#duels_hlist").mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
					$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
				});
			}else{
				$("#duels_hlist").mousedown();
			}
			break;	
		case 'hist':
		case 'def':
			var _pwnd = '';
			if (cmd == 'hist'){
				if (args && args > 0){
					_pwnd += '_hist_'+ args;
					var _mth = {method: "duels_hist", hid: args, cid: _cid};
				}else{
					break;
				}
			}else{
				var _mth = {method: "duels", cid: _cid};
			}
			$.ajax({
				async: false,
				cache: false,
				type: "POST",
				url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
				data: _mth,
				dataType: "json",
				success: function(data) {
					if (typeof data.err != "undefined"){
						_Duels(_cid, 'low_l');
					}else if (typeof data.hid != "undefined"){
						_Duels(_cid, 'hist', data.hid);
					}else if (typeof data.farr != "undefined"){
						_Duels(_cid, 'far', data.farr);
					}else if (typeof data.arr != "undefined"){
						var _init = false;
						if (!$("#duels"+ _pwnd).length){
							$("#popup_container").append('<div id="duels'+ _pwnd +'" class="popup-move fullScreenPopup duelsScene not-displayed"></div>');
							$("#duels"+ _pwnd).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							});
							_init = true;
						}
						var _vstr = '<table class="duelTable">';
						var _vttls = ['Бронзовых квестов', 'Золотых квестов', 'Бриллиантовых квестов'];
						var _vwinc = [0, 0];
						$.each(data.arr[5], function(_i, _v) {
							if (parseInt(_v[0]) > parseInt(_v[1])){
								_vwinc[0] ++;
							}else if (parseInt(_v[1]) > parseInt(_v[0])){
								_vwinc[1] ++;
							}
							_vstr += '<tr>'+
								'<td class="left"><div id="cdd_slot_'+ _i +'" class="score'+ (parseInt(_v[0]) > parseInt(_v[1]) ? ' active' : '') +'">'+ _v[0] +'</div></td>'+
								'<td class="center">Выполнено '+ _vttls[_i - 1] +'</td>'+
								'<td class="right"><div class="score'+ (parseInt(_v[1]) > parseInt(_v[0]) ? ' active' : '') +'">'+ _v[1] +'</div></td>'+
							'</tr>';
						});
						_vstr += '</table>';
						var _cdn_t = parseInt(data.arr[4]);
						var _vwinl = (_vwinc[0] > _vwinc[1] ? 'win1' : (_vwinc[1] > _vwinc[0] ? 'win2' : 'draw'));
						var _tops = '';
						var _in_top = false;
						$.each(data.arr[9], function(_i, _v) {
							_tops += '<tr'+ (_v[0] == my_id ? ' class="my"' : '') +'>'+
								'<td>'+ (_i + 1) +'</td>'+
								'<td style="padding:0"><img src="/images/icons/on-line.gif" style="vertical-align:-1px" alt="" class="on-line'+(_v[4] > 0 ? '' : ' off')+'" /></td>'+
								'<td style="text-align:left"><a href="#" onclick="_PRF('+ _v[0] +');return false">'+ _v[1] +'</a><span class="clan">'+(clx_data[_v[3]] ? ' '+(clx_data[_v[3]][0] != '' ? '<img src="'+ cln_url + clx_data[_v[3]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[_v[3]][1] : '')+'</span></td>'+
								'<td>'+ _v[2] +'</td>'+
							'</tr>';
							if (_v[0] == my_id) _in_top = true;
						});
						var _ch_prc = 100;
						if (parseInt(data.arr[6]) < 10){
							var _ch_prc = Math.ceil(parseInt(data.arr[7][0]) * 100 / parseInt(data.arr[7][1]));
							if (_ch_prc > 100) _ch_prc = 100;
						}
						var _lt_lim = 15;
						var _lt_prc = -1;
						if (typeof data.arr[8][3] != "undefined" && data.arr[8][0][0] != 0 && data.arr[8][0][1] != 0 && data.arr[8][0][2] != 0){
							var _lt_prc = Math.ceil(parseInt(data.arr[8][3]) * 100 / _lt_lim);
							if (_lt_prc > 100) _lt_prc = 100;
						}
						var _html = '<div class="duelBlock">'+
								'<div class="duelHeader" data-mode="'+ (_cdn_t > 0 ? 'process' : _vwinl) +'" label="'+ _vwinl +'">'+
									'<div class="duelBar">'+
										'<div class="clanName team1'+ (_vwinl == 'win1' ? ' leader' : '') +'">'+ data.arr[1] + (_vwinl == 'win1' ? '<span class="title">Лидер</span>' : '') +'</div>'+
										'<div class="asTable stateText">'+
											'<div class="asCell">'+
												(_cdn_t > 0 ? '<div class="cdn-container">'+
													'<div id="cdn_duels" class="cdn2 design noMargin" style="z-index: 90;">'+
														'<p> <span class="hours"></span> <em>часов</em></p>'+
														'<b>:</b>'+
														'<p> <span class="minutes"></span> <em>минут</em></p>'+
														'<b>:</b>'+
														'<p> <span class="seconds"></span> <em>секунд</em></p>'+
													'</div>'+
												'</div>' : '')+
											'</div>'+
										'</div>'+
										'<div class="clanName team2'+ (_vwinl == 'win2' ? ' leader' : '') +'">'+ data.arr[3] + (_vwinl == 'win2' ? '<span class="title">Лидер</span>' : '') +'</div>'+
									'</div>'+
								'</div>'+
								_vstr +
							'</div>'+
							'<div class="duelTopBlock">'+
								'<h2 class="blockHeader">Топ жетонов</h2>'+
								'<div class="topInfoBlock">'+
									'<h4 class="yellow"><img src="/img/popups/duels/duel_rating_xx.png" style="vertical-align: -8px; margin-right: 5px" alt="" />Клан рейтинг за места</h4>'+
									'<ul class="placeAwardInfo">'+
										'<li>'+
											'1 место'+
											'<em class="qty">+3</em>'+
										'</li>'+
										'<li>'+
											'2 место'+
											'<em class="qty">+2</em>'+					
										'</li>'+
										'<li>'+
											'3 место'+
											'<em class="qty">+1</em>'+							
										'</li>'+
									'</ul>'+
								'</div>'+
								'<div class="scrollContainer">'+
								'<table class="table td-centered tops" cellpadding="0" cellspacing="0" style="width:100%">'+
								'<tbody>'+
									'<tr>'+
										'<th style="width:26px">#</th><th style="width:4px"></th>'+
										'<th style="text-align:left">Игрок</th>'+
										'<th>Жетоны</th>'+
									'</tr>'+
									_tops +
								'</tbody>'+
								'</table>'+
								'</div>'+
							'</div>'+
							'<div class="duelChestBlock" data-chest="'+ (!parseInt(data.arr[6]) || !_in_top ? 'off' : 'on') +'" data-limit="'+ (parseInt(data.arr[6]) < 10 ? 'off' : 'on') +'">'+
								'<h2 class="blockHeader">Сундук клана</h2>'+
								'<div class="duelChestImg">'+
									'<div class="switch chestOff">'+
										'<div><img src="/img/popups/duels/chest_none.png" alt="" style="margin-top: 10px" /></div>'+
										'<div class="asTable text">'+
											'<div class="asCell">'+
												(_in_top ? 'Набирайте всем кланом жетоны, чтобы в конце дуэли открыть сундук.' : 'Вы не участвуете в клановом сундуке!<br/><br/>Получите жетоны для участия в сундуке.')+
											'</div>'+
										'</div>'+
									'</div>'+
									'<div id="cdd_chest" class="switch hoverHint chestOn leftHint'+ (_pwnd != '' ? ' check' : '') +'" data-tip=\''+ _Duels(_cid, 'chest_hint', parseInt(data.arr[6])) +'\'>'+
										'<div>'+
											'<img src="/img/popups/duels/chest.png" alt="" />'+
											'<em class="qty">'+ data.arr[6] +'</em>'+
										'</div>'+
									'</div>'+
								'</div>'+
								'<div class="infoBlock">'+
									'<h5 class="switch limitOff">Прогресс до следующего сундука</h5>'+
									'<h5 class="switch limitOn">Клан достиг максимального сундука!</h5>'+
									'<div class="chestProgressBar duelProgressBar">'+
										'<div class="progress" style="width:'+ _ch_prc +'%"></div>'+
										'<div class="progressText"><em class="current">'+ data.arr[7][0] +'</em><span class="separator">/</span><em class="need">'+ data.arr[7][1] +'</em></div>'+
										'<div class="icoStart"></div>'+
										'<div class="icoEnd hoverHint leftHint" data-tip=\''+ (parseInt(data.arr[6]) < 10 ? _Duels(_cid, 'chest_hint', (parseInt(data.arr[6]) + 1)) : '') +'\'><em class="qty">'+ (parseInt(data.arr[6]) < 10 ? (parseInt(data.arr[6]) + 1) : '') +'</em></div>'+
									'</div>'+
								'</div>'+
							'</div>'+
							'<ul class="tasksListCln" data-f0="'+ data.arr[8][2] +'">'+
								_Duels(_cid, 'draw_q', [1, data.arr[8][0][0], 0, data.arr[8][1][0]])+
								_Duels(_cid, 'draw_q', [2, data.arr[8][0][1], 1, data.arr[8][1][1]])+
								_Duels(_cid, 'draw_q', [3, data.arr[8][0][2], 2, data.arr[8][1][2]])+
							'</ul>'+
							'<div class="chgTaskPopup donatePopup popupShadowNew not-displayed"></div>'+
							'<div class="lotteryBarBlock">'+
								'<h5>Собирай жетоны для участия в лотерее! Шанс выиграть до 100 000 монет!</h5>'+
								'<div class="lotteryBar duelProgressBar">'+
									'<div class="progress" style="width:'+ (_lt_prc != -1 ? _lt_prc : 0) +'%"></div>'+
									'<div class="progressText">'+ (_lt_prc != -1 ? '<em class="current">'+ parseInt(data.arr[8][3]) +'</em><span class="separator">/</span><em class="need">'+ _lt_lim +'</em>' : '') +'</div>'+
									'<div class="icoStart"></div>'+
									'<div class="icoEnd leftHint"></div>'+
								'</div>'+
							'</div>'+
							'<a href="#" onclick="duel_rf_flag = -1;$(\'#duels'+ _pwnd +'\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" hidefocus="true" class="popupClose2"></a>';	
						$("#duels"+ _pwnd).html(_html);	
						if (_init){
							$("#duels"+ _pwnd).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
							});
						}
						ptip.init('.hoverHint.leftHint', {preset:'tooltip_left', cls:'brown'}); 
						if (_cdn_t > 0){
							duel_rf_flag = _cid;
							$('div#cdn_duels').countdown(_cdn_t * 1000, function(event){
								switch(event.type) {
									case "finished":
										duel_rf_flag = -1;
										setTimeout(function(){
											_Duels(_cid, "fin");
										}, 1000);
										break;
								}
							});
						}else{
							_Duels(_cid, "fin", [_pwnd, (typeof data.arr[11] != "undefined" ? data.arr[11] : '')]);
						}
					}else{
						_Duels(_cid, 'nxt_m');
					}
					if (typeof data.dch_ret != "undefined"){
						leagueProc("chest", "duels", data.dch_ret);
					}
				}
			});
			break;	
	}
}

function _PRF(id, tab, args, no_focus){

	var _id = (!id || id == '' ? my_id : id);
	var _is_my = (_id == my_id ? true : false);
	var _tab = (!tab || tab == '' ? 'profile' : tab);
	var _args = (args && args.length ? args : false);
	var _render = false;
	var _sbar = false;
	var _tb_pfx = '';
	if (_tab == 'stats' || _tab == 'guests') _tb_pfx = '_'+ _tab;
	if (!$("#prf_"+ _id + _tb_pfx).length){
		$("#popup_container").append('<div id="prf_'+ _id + _tb_pfx +'" class="popup-move '+ _tab +'Popup popupShadowNew not-displayed">'+
			'<a href="#" onclick="$(\'#prf_'+ _id + _tb_pfx +'\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false" hidefocus="true" class="popupClose"></a>'+
			'<div class="profile-page">'+
			'</div>'+
		'</div>');
		$("#prf_"+ _id + _tb_pfx).draggable({
			containment: "document",
			cancel: ".profile-top-menu li,.close-popup,.popupClose,button",
			zIndex: 100,
			/*helper: function(e){
				return $('<div class="popup-outline" style="width:'+$(this).width()+'px;height:'+$(this).height()+'px;"></div>');
			},*/
			stop: function(e, ui){
				//$(this).css({left: ui.position.left +"px", top: ui.position.top +"px"});
				$(this).mousedown();
			}
		}).mousedown(function(){
			var _i = $(this).attr("id");
			var _z = _POPUP_resort("popup-move", _i);
			$(this).css("z-index", _z);
		});
		_render = true;
	}else if (typeof no_focus == "undefined"){
		$("#prf_"+ _id + _tb_pfx).mousedown();
	}
	$.ajax({
		async: false,
		cache: false,
		type: "POST",
		url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
		data: {method: "prf", id: _id, tab: _tab, args: _args},
		dataType: "json",
		success: function(data) {
			$("#prf_"+ _id + _tb_pfx +" .profile-page").removeClass().addClass("profile-page "+_tab);
			var _pp = '';
			var _rw = true;
			if (typeof data.gold != "undefined" && data.gold && !$("#prf_"+ _id + _tb_pfx).hasClass("gold")) $("#prf_"+ _id + _tb_pfx).addClass("gold");
			if (typeof data.err != "undefined"){
				switch (data.err){
					case 'blocked':
						_pp = '<div style="font-size:14px;padding-top:140px;position:relative;text-align:center;margin:auto 0px">'+
							'<h3 style="color:#ff2a2a">Вы не можете просмотреть раздел, игрок вас заблокировал!</h3>'+
						'</div>';
						break;
					case 'hidden':
						_pp = '<div style="font-size:14px;padding-top:140px;position:relative;text-align:center;margin:auto 0px">'+
							'<h3 style="color:#ff2a2a">Вы не можете смотреть этот раздел пока игрок в партии!</h3>'+
						'</div>';
						break;
					case 'no_gstx':
						_pp = '<div style="padding-top:120px;position:relative;text-align:center;margin:auto 0px">'+
							'<p style="font-size: 14px">В этом разделе вы можете просматривать всех, кто посещал ваш профиль</p>'+
							'<p style="font-size: 12px">Стоимость (7 дн.): <img src="/images/icons/coin.png" style="vertical-align: -3px" /> <span style="color: #ffe13d">'+ data.err_o +'</span></p>'+
							'<button ondblclick="return false" onclick="$(this).addClass(\'not-displayed\');_WND_proc(\'extras\', \'guests\', {id: 160}, event);return false" class="newButton" style="margin-top: 10px" hidefocus="true">Смотреть гостей</button>'+
						'</div>';
						break;
				}
			}else if (typeof data.arr != "undefined"){
				switch (_tab){
					case 'guests':
						var __lss = (_args && _args[0] ? parseInt(_args[0]) : 0);
						var __glist = '';
						var __gss = 0;
						if (data.arr[1] !== false){
							__gss = parseInt(data.arr[1]);
							$(".myGuests").attr("label", 0);
							$(".guests-count").html(0);
							if ($(".myGuests").hasClass("new")) $(".myGuests").removeClass("new");
							if (!$(".guests-count").hasClass("not-displayed")) $(".guests-count").addClass("not-displayed");
						}
						if (data.arr[0] !== false){
							if (__lss > 0) __gss = parseInt($("#gst_list").attr("label"));
							$.each(data.arr[0], function(_i, _row) {
								__glist += '<li label="'+ _row[1] +'" onclick="_PRF('+ _row[0] +');return false" class="one-guest'+ (parseInt(_row[1]) > __gss ? ' new' : '') +'">'+
									'<div class="photo"><img src="'+ (_row[4] != '' ? _row[4] : '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 72);" alt="" /></div>'+
									'<div class="name">'+ _row[3] +'</div>'+
									'<div class="time">'+ _row[2] +'</div>'+
								'</li>'+"\n";
							});
						}
						if (__lss > 0) {
							_rw = false;
							$(".guests-list").append(__glist);
							$(".guests-list").attr("label", "");
							if (!isMobile) $("#prf_"+ _id + _tb_pfx +" .profile-page .scrollBarContainer").tinyscrollbar_update("relative");
						}else{
							_pp = '<div style="clear:both"></div>'+
								'<div class="scrollBarContainer " style="height:440px;position:relative">'+
									'<div class="bar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>'+
									'<div id="gst_list" class="viewport" lebel="'+ __gss +'">'+
										'<div class="overview">'+
											'<ul class="guests-list" label="">'+
											__glist +
											'</ul>'+
										'</div>'+
									'</div>'+
								'</div>';
							_sbar = true;
						}
						break;
					case 'stats':
						_pp = '<div style="clear:both"></div>'+
							'<h1>Статистика игрока <em>'+ data.arr['nick'] +'</em></h1>'+
							'<div class="scrollBarContainer" style="height:402px;position:relative">'+
								'<div style="height:412px" class="bar"><div style="height:412px" class="track"><div style="height:28px;top:0px;" class="thumb"><div class="end"></div></div></div></div>'+
								'<div class="viewport" style="height:412px">'+
									'<div class="overview" style="width:440px;top:0px">'+
										'<ul class="stats-list">'+
											'<li>Макс. полученый рейтинг:<div class="param">'+data.arr["rating_max"]+'</div></li>'+
											(parseFloat(data.arr["rating_s1"]) > 0 ? '<li>Рейтинг первого сезона:<div class="param">'+data.arr["rating_s1"]+'</div></li>' : '')+
											(parseFloat(data.arr["rating_s2"]) > 0 ? '<li>Рейтинг второго сезона:<div class="param">'+data.arr["rating_s2"]+'</div></li>' : '')+
											(parseFloat(data.arr["rating_s3"]) > 0 ? '<li>Рейтинг третьего сезона:<div class="param">'+data.arr["rating_s3"]+'</div></li>' : '')+
											(parseFloat(data.arr["rating_s4"]) > 0 ? '<li>Рейтинг четвертого сезона:<div class="param">'+data.arr["rating_s4"]+'</div></li>' : '')+
											(parseFloat(data.arr["rating_s5"]) > 0 ? '<li>Рейтинг пятого сезона:<div class="param">'+data.arr["rating_s5"]+'</div></li>' : '')+
											(parseFloat(data.arr["rating_s6"]) > 0 ? '<li>Рейтинг шестого сезона:<div class="param">'+data.arr["rating_s6"]+'</div></li>' : '')+
											'<li class="space">Рейтинг седьмого сезона:<div class="param">'+data.arr["rating_s7"]+'</div></li>'+
											'<li>Всего игр:<div class="param">'+data.arr["play_c"]+'</div></li>'+
											'<li>Выиграно игр:<div class="param">'+data.arr["win_c"]+'</div></li>'+
											'<li>КПД:<div class="param">'+data.arr["eff"]+'%</div></li>'+
											'<li>Макс. кол-во побед подряд:<div class="param">'+data.arr["win_c_imax"]+'</div></li>'+
											'<li>Макс. кол-во игр подряд без смертей:<div class="param">'+data.arr["play_c_aimax"]+'</div></li>'+
											'<li>Создано игр:<div class="param">'+data.arr["create_c"]+'</div></li>'+
											'<li class="space">Досрочных выходов из игры:<div class="param">'+data.arr["exit_c"]+'</div></li>'+

											'<li>Выиграно монет:<div class="param">'+data.arr["money_in"]+'</div></li>'+
											'<li>Макс. кол-во монет за игру:<div class="param">'+data.arr["money_game_max"]+'</div></li>'+
											'<li>Всего потрачено монет:<div class="param">'+data.arr["money_out"]+'</div></li>'+
											'<li class="space">Всего использовано экстр:<div class="param">'+data.arr["extra_c"]+'</div></li>'+

											'<li>Посажено мафиози на голосовании:<div class="param">'+data.arr["jail_c_maf"]+'</div></li>'+
											'<li>Посажено маньяков на голосовании:<div class="param">'+data.arr["jail_c_man"]+'</div></li>'+
											'<li>Посажено из семьи Тони на голосовании:<div class="param">'+data.arr["jail_c_ton"]+'</div></li>'+
											'<li>Убито граждан ночью за мафиози:<div class="param">'+data.arr["kill_c_def"]+'</div></li>'+
											'<li>Убито граждан ночью за маньяка:<div class="param">'+data.arr["cut_c_def"]+'</div></li>'+
											'<li>Убито граждан ночью за семью Тони:<div class="param">'+data.arr["y_kill_c_def"]+'</div></li>'+
											'<li>Макс. получено монет смертником:<div class="param">'+data.arr["dm_m_max"]+'</div></li>'+
											'<li>Раскрыто мафиози за комиссара:<div class="param">'+data.arr["check_c_maf"]+'</div></li>'+
											'<li>Раскрыто из семьи Тони за комиссара:<div class="param">'+data.arr["check_c_ton"]+'</div></li>'+
											'<li>Спасено граждан за доктора:<div class="param">'+data.arr["heal_c_def"]+'</div></li>'+
											'<li>Установлено ролей за свидетеля:<div class="param">'+data.arr["witres_c"]+'</div></li>'+
											'<li>Заморожено игроков боссом мафии:<div class="param">'+data.arr["freeze_c"]+'</div></li>'+
											'<li>Заморожено игроков Жирным Тони:<div class="param">'+data.arr["y_freeze_c"]+'</div></li>'+
											'<li class="space">Смертей от шальной пули:<div class="param">'+data.arr["rnd_c"]+'</div></li>'+

											'<li>Дата создания профиля:<div class="param">'+data.arr["cdate"]+'</div></li>'+
											'<li>Последний визит:<div class="param">'+data.arr["udate"]+'</div></li>'+
											'<li>Отправлено подарков:<div class="param">'+data.arr["gifts_out"]+'</div></li>'+
											'<li>Получено подарков:<div class="param">'+data.arr["gifts_in"]+'</div></li>'+
											'<li class="space">Проведено времени в игре:<div class="param">'+_DT_format(data.arr["lifetime"], {uts: true})+'</div></li>'+

											'<li>Игр за гражданина:<div class="param">'+data.arr["play_c_citizen"]+'</div></li>'+
											'<li>Игр за мафиози:<div class="param">'+data.arr["play_c_mafiosos"]+'</div></li>'+
											'<li>Игр за маньяка:<div class="param">'+data.arr["play_c_maniac"]+'</div></li>'+
											'<li>Игр за свидетеля:<div class="param">'+data.arr["play_c_witness"]+'</div></li>'+
											'<li>Игр за доктора/медработника:<div class="param">'+(parseInt(data.arr["play_c_doctor"])+parseInt(data.arr["play_c_medic"]))+'</div></li>'+
											'<li>Игр за комиссара/сержанта:<div class="param">'+(parseInt(data.arr["play_c_commisar"])+parseInt(data.arr["play_c_sergeant"]))+'</div></li>'+
											'<li>Игр за смертника:<div class="param">'+data.arr["play_c_deadman"]+'</div></li>'+
											'<li>Игр за вора/стерву:<div class="param">'+(parseInt(data.arr["play_c_thief"])+parseInt(data.arr["play_c_bitch"]))+'</div></li>'+
											'<li>Игр за босса мафии:<div class="param">'+data.arr["play_c_boss"]+'</div></li>'+
											'<li>Игр за двуликого:<div class="param">'+data.arr["play_c_bifacial"]+'</div></li>'+
											
											'<li class="space">Игр за особые роли:<div class="param">'+data.arr["play_c_ripper"]+'</div></li>'+
										'</ul>'+
									'</div>'+
								'</div>'+
							'</div>';
						_sbar = true;
						break;
					case 'profile':
					default:
						var __onl = (data.arr[6] && data.arr[6][3] ? ' banned'+ my_lang_pfx : '');
						if (__onl == '') __onl = (data.arr[7][0] ? (data.arr[7][1] == 1 ? ' bestmafia' : (data.arr[7][1] == 2 ? ' android' : (data.arr[7][1] == 3 ? ' ios' : ' online'+ my_lang_pfx))) : '');
						var __cln = ['', ''];
						if (data.arr[5] !== false && data.arr[5][0]){
							var clan_tip = '<div style=&quot;text-align: left&quot;><img src=&quot;/images/icons/users.png&quot; style=&quot;vertical-align:-4px&quot; title=&quot;Игроков в клане&quot; /> '+ data.arr[5][4] +' / '+ data.arr[5][5] +
								'<div class=&quot;level&quot; style=&quot;position:absolute; top:19px; right:12px;&quot;>'+ data.arr[5][3] +'</div>'+
								'<table class=&quot;clan-roster&quot;><tr>'+
								'<td>Лидер клана:</td><td>'+ (data.arr[5][6][0] > 0 ? '<a href=&quot;#&quot; onclick=&quot;_PRF(\''+ data.arr[5][6][0]+ '\');return false&quot;>'+ data.arr[5][7][0] +'</a>' : '--') +'</td></tr>'+
								'<td>Управляющий 1:</td><td>'+ (data.arr[5][6][4] > 0 ? '<a href=&quot;#&quot; onclick=&quot;_PRF(\''+ data.arr[5][6][4]+ '\');return false&quot;>'+ data.arr[5][7][4] +'</a>' : '--') +'</td></tr>'+
								'<td>Управляющий 2:</td><td>'+ (data.arr[5][6][6] > 0 ? '<a href=&quot;#&quot; onclick=&quot;_PRF(\''+ data.arr[5][6][6]+ '\');return false&quot;>'+ data.arr[5][7][6] +'</a>' : '--') +'</td></tr>'+
								'<td>Офицер 1:</td><td>'+ (data.arr[5][6][2] > 0 ? '<a href=&quot;#&quot; onclick=&quot;_PRF(\''+ data.arr[5][6][2]+ '\');return false&quot;>'+ data.arr[5][7][2] +'</a>' : '--') +'</td></tr>'+
								'<td>Офицер 2:</td><td>'+ (data.arr[5][6][3] > 0 ? '<a href=&quot;#&quot; onclick=&quot;_PRF(\''+ data.arr[5][6][3]+ '\');return false&quot;>'+ data.arr[5][7][3] +'</a>' : '--') +'</td></tr>'+
								'<td>Офицер 3:</td><td>'+ (data.arr[5][6][5] > 0 ? '<a href=&quot;#&quot; onclick=&quot;_PRF(\''+ data.arr[5][6][5]+ '\');return false&quot;>'+ data.arr[5][7][5] +'</a>' : '--') +'</td></tr></table></div>';
							__cln[0] = (clx_data[data.arr[5][0]] ? ' '+ (clx_data[data.arr[5][0]][0] != '' ? '<img src="'+ cln_url + clx_data[data.arr[5][0]][0] +'.gif" style="max-width:20px;max-height:16px" height="16" alt="" />' : '') + clx_data[data.arr[5][0]][1] : '');
							__cln[1] = 'Клан: <a href="#" onclick="return false" class="hoverHint" data-tip="'+ clan_tip +'">'+ data.arr[5][1] +'</a>';
						}
						var __rnk_d = [parseInt(data.arr[8][0]), parseInt(data.arr[8][1]), parseInt(data.arr[8][2]), false];
						__rnk_d[3] = _rank_by_id(__rnk_d[0]);
						var __gifts = '';
						if (data.arr[9] && data.arr[9].length){
							$.each(data.arr[9], function(_i, _row) {
								if (__store[_row[0]] && __store[_row[0]].type == "gift"){
									var _is_pvg = false;
									__gifts += '<li '+(!_is_pvg ? 'onmouseover="_GFTH(\''+ _row[0] +'\', \''+ _row[2] +'\', event);" onmouseout="_HINT(\'gfth_hint\', 500);"' : '')+(__store[_row[0]].ext == 'swf' ? '' : ' style="background-image:url(/images/gifts/'+ _row[0] +'.'+ __store[_row[0]].ext +')"') +'>'+ (__store[_row[0]].ext == 'swf' ? '<div class="swfGift">'+ _SWF_obj(_row[0], 40, 40) +'</div>' : '') + (_row[1] == 0 ? 'сегодня' : (_row[1] == -1 ? 'вчера' : _row[1])) +'</li>' + "\n";
								}
							});
						}
						var __awards = '';
						var __aw_cnt = 0;
						var __evt_d = [parseInt(data.arr[3][3]), 300, 0];
						__evt_d[2] = Math.floor(__evt_d[0] * 100 / __evt_d[1]);
						if (__evt_d[2] >= 100) __evt_d[2] = 100;
												if (data.arr[4][2].length){
							$.each(data.arr[4][2], function(_i, _v) {
								__awards += '<li class="hoverHint" data-tip="'+ _HNTS(_v[0], _v[1], [_v[2], _v[3], _v[4]]) +'" '+ (_is_my && typeof _v[5] != "undefined" ? 'onclick="_Event(\''+ _id +'\', \'sel_uniq\', [\''+ _v[0] +'_'+ _v[1] +'\', this]);return false;" style="cursor:pointer"' : '') +'><div class="clip"></div><img src="/images/events/'+ _v[0] +'_'+ _v[1] +(parseInt(_v[2]) > 0 ? '_'+ _v[2] : '')+ '.png?33"  alt="" /></li>'+ "\n";
								__aw_cnt ++;
							});
						}
						var __aw_tmp = '';
						$.each(data.arr[4][0], function(_i, _v) {
							var __i = (parseInt(_i) + 1);
							var __v = (_v ? parseInt(_v) : 0);
							var __r = (data.arr[4][1][_i] ? data.arr[4][1][_i] : 0);
							if (__v > 0) {
								__aw_tmp = '<li class="hoverHint" data-tip="'+ _HNTS('s'+ __i +'reward' , [__v, __r], 'event' )+'"><div class="clip"></div><img src="/images/icons/s0'+ __i +'_'+ (__v <= 100 ? 'gold' : (__v > 250 ? 'bronze' : 'silver')) +'.png?33" alt="" /></li>' + "\n" + __aw_tmp;
								__aw_cnt ++;
							}
						});
						__awards += __aw_tmp;
						__aw_tmp = '';
						if (data.arr[4][4].length){
							$.each(data.arr[4][4], function(_i, _v) {
								var __i = _v[0];
								var __v = parseInt(_v[3]);
								var __r = parseInt(_v[4]);
								var _grs = [11,25];
								if (__i == 4) _grs = [13,27];
								if (__i == 5) _grs = [12,25];
								if (__i == 6) _grs = [3,10,26];
								if (__i == 7) _grs = [4,10,27];
								if (__i == 8) _grs = [3,10,27];
								if (__i == 9) _grs = [4,10,27];
								if (__i == 10) _grs = [3,10,29];
								if (__i == 11) _grs = [3,11,25];
								if (__i == 12) _grs = [3,11,26];
								if (__i == 13) _grs = [3,14,26];
								if (__i == 14) _grs = [4,12,27];
								if (__i == 15) _grs = [3,12,26];
								if (__i == 16) _grs = [3,11,25];
								if (__i == 17) _grs = [3,11,28];
								if (__v > 0) {
									if (__i == 6 || __i == 7 || __i == 8 || __i == 9 || __i == 10 || __i == 11 || __i == 12 || __i == 13 || __i == 14 || __i == 15 || __i == 16 || __i == 17){
										__aw_tmp = '<li class="hoverHint" data-tip="'+ _HNTS('d'+ __i +'reward', [__v, __r, _v[2]], 'event') +'"><div class="clip"></div><img src="/images/icons/d'+ (__i < 10 ? '0' : '') + __i +'_'+ (__v <= _grs[0] ? 'brill' : (__v <= _grs[1] ? 'gold' : (__v > _grs[2] ? 'bronze' : 'silver'))) +'.png?33" alt="" /></li>' + "\n" + __aw_tmp;
									}else{
										__aw_tmp = '<li class="hoverHint" data-tip="'+ _HNTS('d'+ __i +'reward', [__v, __r, _v[2]], 'event') +'"><div class="clip"></div><img src="/images/icons/d0'+ __i +'_'+ (__v <= _grs[0] ? 'gold' : (__v > _grs[1] ? 'bronze' : 'silver')) +'.png?33" alt="" /></li>' + "\n" + __aw_tmp;
									}
									__aw_cnt ++;
								}
							});
						}
						__awards += __aw_tmp;
						if (data.arr[4][3] >= 100) {
							__awards += '<li class="hoverHint" data-tip="Босс старой закалки"><div class="clip"></div><img src="/images/icons/bss_p.png?33"  alt="" /></li>' + "\n";
							__aw_cnt ++;
						}
						__wedding = (data.arr[10] !== false ?
							'<div class="wedding on'+ (data.arr[10][4] ? ' brilliant' : '') +'"><div class="text">'+(data.arr[1] == 'm' ? 'Женат<br /> '+ data.arr[10][1] +' дн. на' : 'Замужем<br /> '+ data.arr[10][1] +' дн. за') +':<br/>'+
							'<a href="#" class="yellow" hidefocus="true" onclick="_PRF('+ data.arr[10][0] +');return false">'+ data.arr[10][3] +'</a></div>'+
							'<div class="img hoverHint" data-tip="'+ _HNTS('wedding', (_is_my ? true : false) , 'event') +'" ><div style="height:'+ data.arr[10][2] +'%"></div><span>'+ data.arr[10][2] +'%</span></div></div>'
							:
							(!_is_my ? '<div class="wedding"><a href="#" onclick="_WND_proc(\'gifts\', \'marriage\', {uid: \''+ _id +'\'}, event);return false" ondblclick="return false" hidefocus="true" class="doWedding">Предложить<br /> свадьбу</a></div>' : '')
						);
						var __mgft = (data.arr[13] && __store[data.arr[13]] && __store[data.arr[13]].type == "gift" && __store[data.arr[13]].ext == 'swf' ? _SWF_obj(data.arr[13], 96, 96) : '');
						var __ers = '';
						if (data.arr[14].length){
							$.each(data.arr[14], function(_i, _v) {
								__ers += '<img id="prf_'+ _id +'_er_'+ _v[0] +'" src="/images/events/'+evt_prefix+'/eraser/'+Math.floor((Math.random() * 6) + 1)+'.png?1" alt="" style="position:absolute;width:112px;height:113px;z-index:5;left:'+ _v[1] +'px;top:'+ _v[2] +'px" />'+ "\n";
							});
							
						}
						var _gcnt = (_is_my ? parseInt($(".myGuests").attr("label")) : 0);
						var _t = '';
												_pp = '<div class="user-name">'+
							(!gam_id || _is_my ? '<div data-tip="<em>Уровень игрока</em><br />Чем выше уровень, тем опытнее игрок!" class="level inline hoverHint">'+ data.arr[3][1] +'</div>' : '')+'<span class="nick">'+
							data.arr[0] + '</span> <span class="clan">'+ __cln[0] +'</span> <span class="clan-link">'+ __cln[1] +'</span>'+
							'</div>'+
							'<div class="left-column">'+
							'<div class="photo-frame hoverHintRight" data-tip="'+ (data.arr[2][1] != '' ? '<img src=&quot;'+data.arr[2][1]+'&quot; class=&quot;profilePhotoImg&quot; />' : '') +'">'+
								'<div id="prf_'+ _id +'_er">'+ __ers +'</div>'+
								'<div class="profile-photo hidden">'+
									'<img src="'+ (data.arr[2][0] != '' ? data.arr[2][0]: '/images/_.gif') +'" onmousedown="return false" onload="_PIX_crop(this, 150);" alt="" />'+
								'</div>'+
								'<div class="player-status'+ __onl +'"></div>'+
								'<div class="big-photo not-displayed"><img src="'+ (data.arr[2][1] != '' ? data.arr[2][1] : '/images/_.gif') +'" style="max-width:480px" alt="" /></div>'+
								(__mgft ? '<div class="mega-gift">'+ __mgft +'</div>' : '')+
								'<div class="frame" style="background-image: url(/img/profile/frame/league'+ (data.arr[12] > 0 ? data.arr[12] : '') +'.png)"></div>'+
							'</div>'+
							'<div class="action-links'+(_is_my ? " my" : "")+'">'+
								(_is_my ?
								'<a href="#" onclick="_DLG(\'ch_nick\');return false" hidefocus="true"><img src="/images/_.gif" style="background-image:url(/images/icons/nick-change.png);" alt="">Сменить ник</a>'+
																'<a href="#" onclick="_WND_proc(\'blocks\');return false" hidefocus="true"><img src="/images/_.gif" style="background-image:url(/images/icons/msg-blocks.png);" alt="">Черный список</a>'+
								'<a href="#" onclick="_WND_proc(\'money\');return false" hidefocus="true"><img src="/images/_.gif" style="background-image:url(/images/icons/coin-micro.png);" alt="">История монет</a>'+
								'<a href="#" id="prf_pass_lnk" onclick="_DLG(\''+ (typeof data.no_pass != "undefined" ? 'new_pass' : 'ch_pass') +'\');return false" hidefocus="true"><img src="/images/_.gif" style="background-image:url(/images/icons/pass.png);" alt="">'+ (typeof data.no_pass != "undefined" ? 'Код безопасности' : 'Изменить код') +'</a>'+
								(typeof data.no_pass == "undefined" ? '<a href="#" onclick="_DLG(\'rst_pass\');return false" hidefocus="true"><img src="/images/_.gif" style="background-image:url(/images/icons/rst_pass.png);" alt="">Сброс кода</a>' : '')+
																'<a href="#" onclick="$(this).find(\'em\').remove();_PRF(false, \'guests\');return false" hidefocus="true"><img src="/images/_.gif" style="background-image:url(/images/icons/eye.png);" alt="">Гости'+ (_gcnt > 0 ? ' <em>('+ (_gcnt > 100 ? '100+' : _gcnt) +')</em>' : '') +'</a>'+
								''
								:
								'<button onclick="_PVT(event, \''+ _id +'\');return false" class="button50px">Написать сообщение</button>'+
								'<a href="#" onclick="_FAV(\''+ _id +'\');return false" hidefocus="true" class="fav_add'+(data.arr[6][0] ? ' off' : '')+'"><img src="/images/_.gif" style="background-image:url(/images/icons/fav-add.png);" alt="" />Добавить в фавориты</a>'+
								'<a href="#" onclick="_FAV(\''+ _id +'\');return false" hidefocus="true" class="fav_del'+(!data.arr[6][0] ? ' off' : '')+'"><img src="/images/_.gif" style="background-image:url(/images/icons/fav-del.png);" alt="" />Удалить из фаворитов</a>'+
								'<a href="#" onclick="_MBK(\''+ _id +'\');return false" hidefocus="true" class="mbk_set'+(data.arr[6][1] ? ' off' : '')+'"><img src="/images/_.gif" style="background-image:url(/images/icons/mbk-set.png);" alt="" />Заблокировать</a>'+
								'<a href="#" onclick="_MBK(\''+ _id +'\');return false" hidefocus="true" class="mbk_del'+(!data.arr[6][1] ? ' off' : '')+'"><img src="/images/_.gif" style="background-image:url(/images/icons/mbk-del.png);" alt="" />Разблокировать</a>'+
																''
								)+
								'<a href="#" onclick="_PRF(\''+ _id +'\', \'stats\');return false" hidefocus="true"><img src="/images/_.gif" style="background-image:url(/images/icons/log.png);" alt="" />Статистика</a>'+
							'</div>'+
							__wedding +
													'</div>'+
						'<div class="right-column">'+
							(!data.arr[7][0] ? '<div class="lastVisit">Последний визит: '+ data.arr[11] +'</div>' : '')+
							'<ul class="progressBlock">'+
								'<li class="currentLeagueBlock hoverHint light" onclick="'+(data.arr[15] > 0 ? '_WND_proc(\'league\', \'close\');_WND_proc(\'league\', \'\', \''+ (!_is_my ? _id : 0) +'\');' : '') +'return false" data-tip="'+ (data.arr[15] > 0 ? 'Рейтинг: '+ Math.floor(data.arr[3][0]) : '')+ '">'+
									'<div class="leagueIco" style="background-image: url(/img/profile/league/l'+data.arr[15]+'.png)"></div>'+
									'<h5>'+ league_ttls_w[data.arr[15]] +'</h5>'+
									(data.arr[15] > 0 ? '<button class="greenButton2 button50px" ondblclick="return false" onclick="return false" hidefocus="true">Смотреть лигу</button>' : '')+
								'</li>'+
								'<li class="achBlock hoverHint" data-tip="<div style=&quot;text-align: left&quot;><p><em>За выполнение достижений игрок получает звания и награды</em></p><br /><img src=&quot;/images/icons/achievement-star.png&quot; style=&quot;vertical-align: -2px&quot; /> <b>'+ __rnk_d[1] +'</b><br/>'+ (parseInt(__rnk_d[2]) > 0 ? 'Место в топе: '+ __rnk_d[2] + '<br/>' : '') +'</div>">'+
									'<div class="rankEmblem level'+ __rnk_d[3]['lev'] +' x">'+
										(__rnk_d[0] > 0 ? '<em'+ (__rnk_d[0] >= 100 ? ' class="digit3"' : '') +'>'+ __rnk_d[0] +'</em>' : '')+
										'<img src="/images/ark/x/'+ __rnk_d[3]['pic'] +'_'+ __rnk_d[3]['lev'] +'.png" />'+
									'</div>'+
									'<h5 class="level'+ __rnk_d[3]['lev'] +'">'+ __rnk_d[3]['ttl'] +'</h5>'+
									'<button class="greenButton2 button50px" hidefocus="true" ondblclick="return false" onclick="_Achievements(\''+ _id +'\');return false">Достижения</button>'+
								'</li>'+
																'<li class="eventBlock light" data-emblem-done="false">'+
									'<div class="ico"><img src="/images/events/arena_winter_2020/event.png" /></div>'+
									'<h5>Эпическая Арена</h5>'+
									'<button class="greenButton2 button50px" hidefocus="true" ondblclick="return false" onclick="_EventScene(\''+ _id +'\');return false">Смотреть</button>'+
								'</li>'+
															'</ul>'+
							'<div class="playerAwards">'+
								'<p class="awardsHeader">'+ (_is_my ? 'Мои эмблемы' : 'Эмблемы') + (__aw_cnt > 7 ? ': <em>'+ __aw_cnt +'</em><a href="#" onclick="_PRF_AwardsToggle(this);return false" class="awardsMore" hidefocus="true"></a>' : '') +'</p>'+
								'<div class="scrollBarContainer" label="small">'+
									'<div style="height:223px;visibility:hidden" class="bar"><div style="height:223px" class="track"><div style="height:28px;top:0px;" class="thumb"><div class="end"></div></div></div></div>'+
									'<div class="viewport" style="height:116px;">'+
										'<div class="overview" style="width:100%;top:0px">'+
											(__aw_cnt > 0 ? '<ul class="awards">'+
												__awards +
											'</ul>' : '<div style="text-align: center; line-height: 116px;">Участвуй в событиях Мафии для получения эмблем!</div>')+
										'</div>'+
									'</div>'+
								'</div>'+
								'<div style="clear:both"></div>'+
							'</div>'+
						'</div>'+
						'<div style="clear:both"></div>'+
						'<div class="giftsBlock">'+
							'<ul class="gifts-bar'+(_is_my ? ' my' : '')+'">'+
								__gifts +
							'</ul>'+
							(!_is_my ? '<button class="doGift" ondblclick="return false" onclick="_WND_proc(\'gifts\', \'\', {uid: '+ _id +'}, event);return false" hidefocus="true">Подарить подарок</button>' : '')+
						'</div>';
						_sbar = true;
						break;
				}
			}
			if (_rw) {
				$("#prf_"+ _id + _tb_pfx +" .profile-page").html(_pp);
				ptip.init('.hoverHint', {preset:'tooltip', cls:'brown', show: 'hover_pause'});
				ptip.init('.hoverHintRight', {preset:'tooltip_right', cls:'brown profilePhoto', show: 'hover_pause'});
			}
			if (_sbar){
				if (!isMobile){
					$("#prf_"+ _id + _tb_pfx +" .profile-page .scrollBarContainer").tinyscrollbar({
						sizethumb: 46,
						change: function(pos){
							gstSmartScroll();
						}
					}).tinyscrollbar_update(0);
				}else{
					$("#prf_"+ _id + _tb_pfx +" .profile-page .scrollBarContainer .viewport").scroll(function() {
						gstSmartScroll();
					});
				}
			}
			
			function gstSmartScroll(){
				if (_tab == 'guests' && $("#gst_list").length) {
					if ($(".guests-list").attr("label") != "lock" && ((parseInt($("#gst_list").scrollTop()) + parseInt($("#gst_list").height())) >= $("#gst_list").prop("scrollHeight")) && $(".guests-list li:last").length){
						var __l = $(".guests-list li:last").attr("label");
						if (__l && parseInt(__l) > 0){
							$(".guests-list").attr("label", "lock");
							setTimeout(function(){
								return _PRF(_id, 'guests', [__l]);
							}, 250);
						}
					}else{
						return true;
					}
				}
			}
		}
	});
	if (_render){
		_left = parseInt(($("#rootContainer").width() - $("#prf_"+ _id + _tb_pfx).width()) /2 ) +"px";
		_top  = parseInt(($("#rootContainer").height() - $("#prf_"+ _id + _tb_pfx).height()) /2 ) +"px";
		$("#prf_"+ _id + _tb_pfx).css({"top": _top, "left": _left});
		$("#prf_"+ _id + _tb_pfx).show("fade", 100, function(){
			$(this).removeClass("not-displayed");
			$(this).mousedown();
			if (_sbar && !isMobile) $("#prf_"+ _id + _tb_pfx +" .profile-page .scrollBarContainer").tinyscrollbar_update(0);
		});
	}
	return true;
}

function _Achievements(id, cmd, args){
	
	var _id = (!id || id == '' ? my_id : id);
	var _is_my = (_id == my_id ? true : false);
	var _cmd = (!cmd || cmd == '' ? 'def' : cmd);
	switch (_cmd){
		case 'hint':
			if ($("#achievements_"+ _id).length){
				var _aid = (args && typeof args[0] != "undefined" ? parseInt(args[0]) : 0);
				if (_aid){
					if (_AHT_tm[id] != null) clearTimeout(_AHT_tm[id]);
					var _last_a = parseInt($("#achievements_"+ _id +" div.progressBlock").attr("label"));
					if (_aid != _last_a && typeof __ach[_aid] != "undefined"){
						var _lims = __ach[_aid]['limits'].split(',');
						var _pnts = __ach[_aid]['points'].split(',');
						var _max_l = _lims.length;
						var _itr = parseInt(args[1]);
						var _l = (_itr < _max_l ? _itr : (_max_l - 1));
						var _txt = __ach[_aid]['text'];
						var _x0 = _txt.indexOf('[');
						if (_x0 != -1){
							var _g = _txt.substring(_x0 + 1, _txt.indexOf(']')).split(',');
							_txt = _txt.substr(0, _x0) + _postfix(_g, _lims[_l]) + _txt.substr(_txt.indexOf(']') + 1);
						}
						var _txt = _txt.replace(/%s/g, _lims[_l]);
						var _prc = (_itr < _max_l ? Math.ceil(parseInt(args[2]) * 100 / _lims[_itr]) : 100);
						if (_prc > 100) _prc = 100;
						var _ttl = __ach[_aid]['title'];
												var _html = '<div class="achReview">'+
							'<h5>'+ _ttl +'</h5>'+
							'<p id="review">'+ _txt +'</p>'+
						'</div>'+
						'<div style="width:602px" id="achProgressBar" class="standartProgressBar star'+ _max_l +' step'+ _l +'">'+
							'<div class="bar"></div>'+
							'<div class="stepStar star num1">'+ _pnts[0] +'</div>'+
							(_max_l >= 2 ? '<div class="stepStar star num2">'+ _pnts[1] +'</div>' : '')+
							(_max_l >= 3 ? '<div class="stepStar star num3">'+ _pnts[2] +'</div>' : '')+
							(_max_l >= 4 ? '<div class="stepStar star num4">'+ _pnts[3] +'</div>' : '')+
							(_max_l >= 5 ? '<div class="stepStar star num5">'+ _pnts[4] +'</div>' : '')+
							'<div class="progressContainer">'+
								'<div class="progress" style="width:'+ _prc +'%;"></div>'+
							'</div>'+
							(_itr < _max_l && !parseInt(__ach[_aid]['flag']) ? '<span class="progressText"><em class="current">'+ args[2] +'</em>/<em class="need">'+ _lims[_itr] +'</em></span>' : '')+
						'</div>';
						$("#achievements_"+ _id +" div.progressBlock").attr("label", _aid).html(_html);
					}
				}else{
					_AHT_tm[id] = setTimeout(function(){
						$("#achievements_"+ _id +" div.progressBlock").html('<p class="achDescription">За каждое выполненное достижение вы получаете звезды</p>').attr("label", 0);
					}, 200);
				}
			}
			break;
		case 'filter':
			if ($("#achievements_"+ _id).length){
				var _filter = $("#achievements_"+ _id +" div.searchBar").attr("label").split('');
				_filter[parseInt(args[0])] = parseInt(args[1]);
				$("#achievements_"+ _id +" div.searchBar").attr("label", _filter.join(''));
				_Achievements(_id, 'def', [2, 0, _filter.join('')]);
			}
			break;
		case 'ranks':
			if (!$("#ranks_"+ _id).length){
				var _html = '';
				var _rnk = parseInt(args);
				var _lev = 0;
				var _last_pic = '';
				var _last_ttl = '';
				var _last_cc = 0;
				var _s = '';
				var _lls = ['Бронза', 'Серебро', 'Золото', 'Бриллиант'];
				$.each(__ark['ttls'], function(_r, _a) {
					if (_a['pic'] != _last_pic){
						if (_s != ''){
							_html = '<li'+ (_last_cc == 2 ? ' class="current"' : '') +'>'+ 
								'<h2'+ (_last_cc == 1 ? ' class="complete"' : '') +'>'+ _last_ttl +'</h2>'+
								'<div class="asTable">'+
									_s +
								'</div>'+
							'</li>'+ _html;
						}
						_lev = 0;
						_last_pic = _a['pic'];
						_last_ttl = _a['ttl'];
						_last_cc = 0;
						_s = '';
					}else{
						_lev ++;
					}
					var _cc = 'close';
					if (_a['lr'] != -1 && _rnk > _a['lr']){
						_cc = 'complete';
						_last_cc = 1;
					}else if (_rnk >= _r){
						_cc = 'current';
						_last_cc = 2;
					}
					var _rr = parseInt(_cc == 'current' ? _rnk : _r);
					_s += '<div class="asCell '+ _cc +'"><div class="rankEmblem level'+ _lev +' x"'+(_cc == 'current' ? 'id="currentRank"' :'')+'><em'+ (_rr >= 100 ? ' class="digit3"' : '') +'>'+ _rr +'</em><img src="/images/ark/x/'+ _a['pic'] +'_'+ _lev +'.png"></div><h5>'+ (_cc == 'current' ? (_is_my ? 'Ваше звание' : _a['ttl']) : _lls[_lev] +' ('+ _r + (_a['lr'] != -1 ? '-'+ _a['lr'] : '+') +')') +'</h5></div>';
				});
				if (_s != ''){
					_html = '<li'+ (_last_cc == 2 ? ' class="current"' : '') +'>'+ 
						'<h2'+ (_last_cc == 1 ? ' class="complete"' : '') +'>'+ _last_ttl +'</h2>'+
						'<div class="asTable">'+
							_s +
						'</div>'+
					'</li>'+ _html;
				}
				$("#popup_container").append('<div id="ranks_'+ _id +'" class="ranksInfoScreen fullScreenPopup not-displayed">'+
					'<div class="scrollContainer">'+
						'<ul class="ranksList">'+ _html +'</ul>'+
					'</div>'+
					'<div class="container"></div>'+
					'<button class="popupClose2" hidefocus="true" ondblclick="return false" onclick="$(\'#ranks_'+ _id +'\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false"></button>'+
				'</div>');

				$("#ranks_"+ _id).mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();

					if ($("#currentRank").length){
						$("#ranks_"+ _id +" .scrollContainer").animate({
							scrollTop: $("#currentRank").offset().top - 200
						}, 1000);
					}

				});
			}else{
				$("#ranks_"+ _id).mousedown();
			}
			break;
		case 'def':
			$.ajax({
				async: false,
				cache: false,
				type: "POST",
				url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
				data: {method: "achievements", id: _id, args: args},
				dataType: "json",
				success: function(data) {
					if (typeof data.err != "undefined"){
						switch (data.err){
							case 'blocked':
								_OHINT('Вы не можете просмотреть раздел, игрок вас заблокировал!');
								break;
						}
						$("#achievements_"+ _id).remove();
					}else if (typeof data.ret != "undefined"){
						var _page = (args && typeof args[1] != "undefined" ? parseInt(args[1]) : 0);
						if (typeof data.tarr != "undefined"){
							$.each(data.tarr, function(_a, _arow){
								__ach[_a] = _arow;
							});
						}
						var _a_list = '';
						$.each(data.ret[1][0], function(_a, _arow){
							_a_list += '<li onmouseover="_Achievements(\''+ _id +'\', \'hint\', ['+ _arow[0] +', '+ _arow[1] +', '+ _arow[2] +']);" onmouseout="_Achievements(\''+ _id +'\', \'hint\');" '+ (_arow[1] > 0 || _arow[2] > 0 ? 'style="background-image:url(/images/ach/'+ _arow[0] +'.png)"' : '') + (_arow[2] > 0 && _arow[1] == 0 ? ' class="uncomplete"' : '') +'>'+
								'<div class="star-'+ _arow[1] +'x max'+ _arow[3] +'"></div>'+
							'</li>';
						});
						var _a_pgs = '';
						if (parseInt(data.ret[1][1]) != -1){
							var _filter = $("#achievements_"+ _id +" div.searchBar").attr("label");
							if (typeof _filter == "undefined") _filter = data.ret[2][3];
							for (var _p = 0; _p < parseInt(data.ret[1][1]); _p ++){
								_a_pgs += '<li'+ (_p == _page ? ' class="current"' : '') +' ondblclick="return false" onclick="$(this).parent().find(\'li.current\').removeClass(\'current\');$(this).addClass(\'current\');_Achievements(\''+ _id +'\', \'def\', [1, '+ _p +', \''+ _filter +'\']);return false">'+ (_p + 1) +'</li>';
							}
						}
						var _mode = parseInt(data.ret[0]);
						if (!_mode){
							_ACH_pg[_id] = _page;
							var _init = false;
							if (!$("#achievements_"+ _id).length){
								$("#popup_container").append('<div id="achievements_'+ _id +'" class="achScreen fullScreenPopup not-displayed">'+
									'<div class="container"></div>'+
									'<button class="popupClose2" hidefocus="true" ondblclick="return false" onclick="$(\'#achievements_'+ _id +'\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false"></button>'+	
								'</div>');
								$("#achievements_"+ _id).mousedown(function(){
									var _i = $(this).attr("id");
									var _z = _POPUP_resort("popup-move", _i);
									$(this).css("z-index", _z);
								});
								_init = true;
							}else{
								$("#achievements_"+ _id).mousedown();
							}
							var _rnk = parseInt(data.ret[2][0]);
							var _pts = parseInt(data.ret[2][1]);
							var _tpts_total = parseInt(data.ret[2][2]);
							var _tpts_used = parseInt(data.ret[2][4]);
							var _tpts_left = (_tpts_total - _tpts_used);
							if (_tpts_left < 0) _tpts_left = 0;
							var _rarr = _rank_by_id(_rnk);
							var _rarr_to = _rank_by_id(_rnk + 1);
							var _rp_left = (_rarr_to['pts'] - _pts);
							if (_rp_left < 0) _rp_left = 0;
							var _rp_prog = (_pts - _rarr['pts']);
							if (_rp_prog < 0) _rp_prog = 0;
							var _rp_lim = (_rarr_to['pts'] - _rarr['pts']);
							var _rprc = Math.round(100 - ((_rp_left / _rp_lim) * 100));
							if (_rprc > 100) { _rprc = 100; }else if (_rprc < 0) { _rprc = 0; }
							var _fltr = data.ret[2][3].split('');
							var _html = '<div class="leftBlock">'+
								(_rnk > 0 ? '<h1 class="level'+ _rarr['lev'] +'">'+ _rarr['ttl'] +'</h1>' : '')+
								'<div class="rankEmblem level'+ _rarr['lev'] +'" onclick="_Achievements(\''+ _id +'\', \'ranks\', '+ _rnk +');return false">'+
									(_rnk > 0 ? '<em'+ (_rnk >= 100 ? ' class="digit3"' : '') +'>'+ _rnk +'</em>' : '')+
									'<img src="/images/ark/'+ _rarr['pic'] +'_'+ _rarr['lev'] +'.png" />'+
									'<a href="#" onclick="_Achievements(\''+ _id +'\', \'ranks\', '+ _rnk +');return false" class="ranksListLink">Смотреть звания</a>'+
								'</div>'+
								'<div class="rankProgressBar">'+
									'<div class="progress" style="width:'+ _rprc +'%"></div>'+
									'<div class="progressText"><em class="current">'+ _rp_prog +'</em>/'+ _rp_lim +'</div>'+
									'<div class="nextLevel">'+ (_rnk + 1) +'</div>'+
								'</div>'+
								'<div class="awardsBlock">'+
									'<h3>Награда за следующий уровень:</h3>'+
									'<p class="talentPoint">Очко таланта</p>'+
									'<p class="coins">'+ _rarr_to['amount'] +' монет</p>'+
								'</div>'+
								'<div class="talentsBlock" data-upgrade="'+ (_tpts_left > 0 && _is_my ? 'true' : 'false') +'">'+
									'<div class="switch true">'+
										'<p>У вас есть нераспределённые очки талантов</p>'+
										'<em class="tpts_left">'+ _tpts_left +'</em>'+
										'<button class="greenButton1 button50px" ondblclick="return false" onclick="_Talents(\''+ _id +'\');return false" hidefocus="true">Смотреть таланты</button>'+
									'</div>'+
									'<div class="switch false">'+
										'<p>Вкладывайте очки в развитие талантов</p>'+
										'<img src="/img/screens/ach/talents.png" alt="" />'+
										'<button class="greenButton1 button50px" ondblclick="return false" onclick="_Talents(\''+ _id +'\');return false" hidefocus="true">Смотреть таланты</button>'+
									'</div>'+
								'</div>'+
							'</div>'+
							'<div class="rightBlock">'+
								'<h2>достижения</h2>'+
								'<div class="searchBar" label="'+ data.ret[2][3] +'">'+
									'<label class="container">Неначатые <input type="checkbox" '+ (parseInt(_fltr[0]) ? 'checked="checked"' : '') +' onchange="_Achievements(\''+ _id +'\', \'filter\', [0, ($(this).is(\':checked\') ? 1 : 0)]);return false"><span class="checkmark"></span></label>'+
									'<label class="container">Начатые <input type="checkbox" '+ (parseInt(_fltr[1]) ? 'checked="checked"' : '') +' onchange="_Achievements(\''+ _id +'\', \'filter\', [1, ($(this).is(\':checked\') ? 1 : 0)]);return false"><span class="checkmark"></span></label>'+
									'<label class="container">Выполненные <input type="checkbox" '+ (parseInt(_fltr[2]) ? 'checked="checked"' : '') +' onchange="_Achievements(\''+ _id +'\', \'filter\', [2, ($(this).is(\':checked\') ? 1 : 0)]);return false"><span class="checkmark"></span></label>'+
									'<button label="'+ parseInt(_fltr[3]) +'" class="button50px filterButton" ondblclick="return false" onclick="if(!parseInt($(this).attr(\'label\'))){$(this).html(\'Новые в конце\');$(this).attr(\'label\',1);}else{$(this).html(\'Новые в начале\');$(this).attr(\'label\',0);};_Achievements(\''+ _id +'\', \'filter\', [3, $(this).attr(\'label\')]);return false" hidefocus="true">'+ (!parseInt(_fltr[3]) ? 'Новые в начале' : 'Новые в конце') +'</button>'+
								'</div>'+
								'<ul class="achievements-list">'+
									_a_list +
								'</ul>'+
								'<ul class="paging">'+ 
									_a_pgs +
								'</ul>'+
								'<div class="progressBlock" label="0">'+
									'<p class="achDescription">За каждое выполненное достижение вы получаете звезды</p>'+
								'</div>'+
							'</div>';
							$("#achievements_"+ _id +" div.container").html(_html);
							if (_init){
								$("#achievements_"+ _id).show("fade", 100, function(){
									$(this).removeClass("not-displayed");
									$(this).mousedown();
								});
								_HX_hint('joh12');
							}
						}else{
							_Achievements(_id, 'hint');
							if (_mode == 2 || _page == _ACH_pg[_id]){
								_ACH_pg[_id] = _page;
								if (_mode == 2) {
									$("#achievements_"+ _id +" ul.achievements-list").fadeOut(75, function(){
										$(this).html(_a_list);
										$(this).show("fade", 100, function(){ });
									});
									$("#achievements_"+ _id +" ul.paging").html(_a_pgs);
								}else{
									$("#achievements_"+ _id +" ul.achievements-list").html(_a_list);
								}
							}else{
								var _dr = (_page > _ACH_pg[_id] ? "right" : "left");
								_ACH_pg[_id] = _page;
								$("#achievements_"+ _id +" ul.achievements-list").fadeOut(125, function(){
									$(this).html(_a_list);
									$(this).show("slide", {direction: _dr}, 125, function(){ });
								});
							}
						}
					}
				}
			});
			break;
	}
}

function _Talents(id, cmd, args){

	var _id = (!id || id == '' ? my_id : id);
	var _is_my = (_id == my_id ? true : false);
	var _cmd = (!cmd || cmd == '' ? 'def' : cmd);
	switch (_cmd){
		case 'reset':
			if (_is_my){
				if (parseInt(args)){
					var _pts_used = parseInt($("#talents_"+ _id +" div.talentsPointQty").attr("data-pts-used"));
					if (_pts_used == 0){
						_OHINT('Вы еще не распределили таланты!');
						return false;
					}
					$.ajax({
						async: true,
						cache: false,
						type: "POST",
						url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
						data: {method: "tal_rst"},
						dataType: "json",
						success: function(data) {
							if (typeof data.err != "undefined"){
								_OHINT('Недостаточно рубинов'); 
								_WND_proc('ruby_buy');
							}
							if (typeof data.ret != "undefined"){
								$.each(my_tals, function(_t){
									my_tals[_t] = 0;
								});
								_Talents(_id);
								_OHINT('Таланты сброшены!');
								$("#stickers_pp .stickersMenu li.st-grp-def").addClass("off");
								if (!isMobile) $("#talents_scrollbar").tinyscrollbar().tinyscrollbar_update();
							}
						}
					});
				}else{
					var _flag = parseInt($("#talents_"+ _id +" button.resetTalents").attr("label"));
					$("#talents_"+ _id +" .resetPopup").html('<h2>Сбросить таланты?<br /> '+ (_flag ? '<img src="/images/icons/ruby-micro.png" alt="" style="vertical-align: -3px"/> 10' : '<span>Вы можете сбросить таланты бесплатно только один раз</span>') +'</h2>'+
						'<div class="footerButtons">'+
							'<button ondblclick="return false" onclick="$(this).parent().parent().addClass(\'not-displayed\');_Talents(\''+ _id +'\', \'reset\', 1);return false" hidefocus="true" class="newButton">Сбросить</button>'+
							'<button ondblclick="return false" onclick="$(this).parent().parent().addClass(\'not-displayed\');return false" class="newButton color3" hidefocus="true">Закрыть</button>'+
						'</div>'+
						'<a href="#" onclick="$(this).parent().addClass(\'not-displayed\');return false" class="popupClose" hidefocus="true"></a>'
					).removeClass("not-displayed");
				}
			}
			break;
		case 'upgrade':
			var _tid = parseInt(args);
			if (_is_my && _tid && typeof __tal['id'+_tid] != "undefined"){
				var _pts_total = parseInt($("#talents_"+ _id +" div.talentsPointQty").attr("data-pts-total"));
				var _pts_used = parseInt($("#talents_"+ _id +" div.talentsPointQty").attr("data-pts-used"));
				var _pts_left = (_pts_total - _pts_used);
				if (_pts_left < 0) _pts_left = 0;
				var _lvl = parseInt($("#talents_"+ _id +" li.tal_"+ _tid).attr("label"));
				var _max_lvl = parseInt(__tal['id'+_tid]['max_lvl']);
				if (_lvl < _max_lvl){
					var _ll = (_lvl + 1);
					var _pnts = __tal['id'+_tid]['points'].split(',');
					var _pts = (typeof _pnts[(_ll - 1)] != "undefined" ? parseInt(_pnts[(_ll - 1)]) : 1);
					if (_pts <= _pts_left){
						$.ajax({
							async: true,
							cache: false,
							type: "POST",
							url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
							data: {method: "tal_upgr", tid: _tid},
							dataType: "json",
							success: function(data) {
								if (typeof data.ret != "undefined"){
									_pts_used = parseInt(data.ret[0]);
									var _new_l = parseInt(data.ret[1]);
									var _pts_left = (_pts_total - _pts_used);
									if (_pts_left < 0) _pts_left = 0;
									$("#talents_"+ _id +" div.talentsPointQty").attr("data-pts-used", _pts_used);
									$("#talents_"+ _id +" div.talentsPointQty em").html(_pts_left);
									if ($("#achievements_"+ _id).length){
										$("#achievements_"+ _id +" div.talentsBlock .tpts_left").html(_pts_left); 
										$("#achievements_"+ _id +" div.talentsBlock").attr("data-upgrade", (_pts_left > 0 && _is_my ? 'true' : 'false'));
									}
									if (typeof my_tals[_tid] != "undefined"){
										var _vals = __tal['id'+_tid]['values'].split(',');
										my_tals[_tid] = (typeof _vals[(_new_l - 1)] != "undefined" ? parseInt(_vals[(_new_l - 1)]) : 1);
									}
									$("#talents_"+ _id +" li.tal_"+ _tid).attr("label", _new_l);
									$("#talents_"+ _id +" li.tal_"+ _tid +" .talentIco").removeClass("notActive");
									$("#talents_"+ _id +" li.tal_"+ _tid +" div.talentProgress").attr("data-done", _new_l);
									_Talents(_id, 'select', _tid);
									$("#talents_"+ _id +" ul.talentsList li div.talentIco.disabled").each(function(){
										var __tid = parseInt($(this).parent().attr("class").substr(4));
										if (__tid && typeof __tal['id'+__tid] != "undefined"){
											var __opts = parseInt(__tal['id'+__tid]['open_pts']);
											if (_pts_used >= __opts) $(this).removeClass("disabled");
										}
									});
								}
							}
						});
					}else{
						_OHINT('Недостаточно очков талантов!');
					}
				}
			}
			break;
		case 'select':
			var _tid = parseInt(args);
			if (_tid && typeof __tal['id'+_tid] != "undefined"){
				$("#talents_"+ _id +" ul.talentsList li.active").removeClass("active");
				$("#talents_"+ _id +" li.tal_"+ _tid).addClass("active");
				var _pts_total = parseInt($("#talents_"+ _id +" div.talentsPointQty").attr("data-pts-total"));
				var _pts_used = parseInt($("#talents_"+ _id +" div.talentsPointQty").attr("data-pts-used"));
				var _pts_left = (_pts_total - _pts_used);
				if (_pts_left < 0) _pts_left = 0;
				var _lvl = parseInt($("#talents_"+ _id +" li.tal_"+ _tid).attr("label"));
				var _max_lvl = parseInt(__tal['id'+_tid]['max_lvl']);
				var _open_pts = parseInt(__tal['id'+_tid]['open_pts']);
				if (_lvl > _max_lvl) _lvl = _max_lvl;
				var _vals = __tal['id'+_tid]['values'].split(',');
				var _l = (!_lvl ? 1 : _lvl);
				var _val = (typeof _vals[(_l - 1)] != "undefined" ? parseInt(_vals[(_l - 1)]) : 1);
				var _txt = __tal['id'+_tid]['text'];
				var _is_v = (_txt.indexOf('%s') != -1 ? 1 : 0);
				var _is_vp = false;
				var _is_pfx = '';
				if (_is_v) {
					_is_vp = (_txt.indexOf('%s%') != -1 ? 1 : 0);
					_is_pfx = (_txt.indexOf('+%s') != -1 ? '+' : (_txt.indexOf('-%s') != -1 ? '-' : ''));
				}
				var _x0 = _txt.indexOf('[');
				if (_x0 != -1){
					var _g = _txt.substring(_x0 + 1, _txt.indexOf(']')).split(',');
					_txt = _txt.substr(0, _x0) + _postfix(_g, _val) + _txt.substr(_txt.indexOf(']') + 1);
				}
				var _txt = _txt.replace(/%s/g, '<em>'+_val+'</em>');
				var _uhtml = '';
				if (_open_pts > _pts_used){
					_uhtml = '<div class="upgradeBlock" data-upgrade="false">'+
						'<div class="needPoints switch">'+
							'Чтобы открыть, осталось вложить в другие таланты:'+
							'<em class="talentPoint">'+ (_open_pts - _pts_used) +'</em>'+
						'</div>'+
					'</div>';
				}else if (_lvl < _max_lvl){
					var _ll = (_lvl + 1);
					var _pnts = __tal['id'+_tid]['points'].split(',');
					var _pts = (typeof _pnts[(_ll - 1)] != "undefined" ? parseInt(_pnts[(_ll - 1)]) : 1);
					var _v0 = (_lvl > 0 ? (typeof _vals[(_lvl - 1)] != "undefined" ? parseInt(_vals[(_lvl - 1)]) : 1) : -1);
					var _v1 = (typeof _vals[(_ll - 1)] != "undefined" ? parseInt(_vals[(_ll - 1)]) : 1);
					_uhtml = '<div class="upgradeBlock" data-upgrade="true">'+
						'<div class="upgrade switch">'+
							(_is_my && _is_v && _v0 != -1 ? '<em class="before">'+ _is_pfx + _v0 +'</em>'+ (_is_vp ? '%' : '') +' <em class="after">'+ _is_pfx + _v1 +'</em>'+ (_is_vp ? '%' : '') : '&nbsp;')+
							(_is_my ? '<div class="upgradeButton">'+
								'<button class="upgradeTalent button100px'+
								(_pts_left < _pts ? ' grayscale' : '')+
								'" ondblclick="return false" onclick="_Talents(\''+ _id +'\', \'upgrade\', \''+ _tid +'\');return false" hidefocus="true">Развить талант <em class="talentPoint">'+ _pts +'</em></button>'+
							'</div>' : '')+
						'</div>'+
					'</div>';
				}
				var _html = '<div class="talentReview">'+
					'<h1>'+ __tal['id'+_tid]['title'] +'</h1>'+
					'<div class="talentIco xx'+ 
						(_open_pts > _pts_used && _lvl == 0 ? ' disabled' : '') +
						(!_lvl ? ' notActive' : '') +
					'">'+
						'<img src="/images/tal/'+ _tid +'.png" alt="" />'+
						'<div class="talentProgress total'+ _max_lvl +'" data-done="'+ _lvl +'"></div>'+
					'</div>'+
					'<div class="text">'+ 
						_txt +
						'<div class="talentIsActive'+ (!_lvl ? ' off' : '') +'">Талант активен</div>'+
					'</div>'+
				'</div>'+ _uhtml;
				$("#talents_"+ _id +" div.leftBlock").html(_html).attr("data-talent-selected","true");
			}
			break;
		case 'def':
			$.ajax({
				async: false,
				cache: false,
				type: "POST",
				url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
				data: {method: "talents", id: _id},
				dataType: "json",
				success: function(data) {
					if (typeof data.err != "undefined"){
						switch (data.err){
							case 'blocked':
								_OHINT('Вы не можете просмотреть раздел, игрок вас заблокировал!');
								break;
							case 'tal63':
								_OHINT('Талант «Инкогнито» запрещает вам смотреть таланты этого игрока');
								break;	
						}
						$("#talents_"+ _id).remove();
					}else if (typeof data.ret != "undefined"){
						var _init = false;
						if (!$("#talents_"+ _id).length){
							$("#popup_container").append('<div id="talents_'+ _id +'" class="talentsScreen fullScreenPopup not-displayed">'+
								(_is_my ? '<div class="resetPopup popupShadowNew not-displayed"></div>' : '')+
								'<div class="container"></div>'+
								'<button class="popupClose2" hidefocus="true" ondblclick="return false" onclick="$(\'#talents_'+ _id +'\').hide(\'fade\', 100, function(){ $(this).remove(); _CHT_focus(); });return false"></button>'+	
							'</div>');
							$("#talents_"+ _id).mousedown(function(){
								var _i = $(this).attr("id");
								var _z = _POPUP_resort("popup-move", _i);
								$(this).css("z-index", _z);
							});
							_init = true;
						}else{
							$("#talents_"+ _id).mousedown();
						}
						var _pts_total = parseInt(data.ret[0]);
						var _pts_used = parseInt(data.ret[1]);
						var _pts_left = (_pts_total - _pts_used);
						if (_pts_left < 0) _pts_left = 0;
						if ($("#achievements_"+ _id).length){
							$("#achievements_"+ _id +" div.talentsBlock .tpts_left").html(_pts_left); 
							$("#achievements_"+ _id +" div.talentsBlock").attr("data-upgrade", (_pts_left > 0 && _is_my ? 'true' : 'false'));
						}
						var _t_list = '';
						$.each(__tal, function(_t, _trow) {
							var _l = 0;
							var _tid = parseInt(_t.substr(2));
							if (parseInt(_trow['hidden']) > 0 && typeof data.ret[4][_tid] == "undefined") return true;
							if (typeof data.ret[2][_tid] != "undefined") _l = parseInt(data.ret[2][_tid]);
							_t_list += '<li class="tal_'+ _tid +'" label="'+ _l +'" ondblclick="return false" onclick="_Talents(\''+ _id +'\', \'select\', \''+ _tid +'\');return false">'+
								'<div class="talentIco hover'+ 
									(parseInt(_trow['open_pts']) > _pts_used && _l == 0 ? ' disabled' : '') +
									(_l == 0 ? ' notActive' : '') +
								'"><img src="/images/tal/x/'+ _tid +'.png" alt=""><div class="talentProgress total'+ _trow['max_lvl'] +'" data-done="'+ _l +'"></div></div>'+
							'</li>';
						});
						if (_is_my && data.ret[5] != -1){
							var _tpcs_p = Math.ceil(parseInt(data.ret[5]) * 100 / 100);
							if (_tpcs_p > 100) _tpcs_p = 100;
						}
						var _html = '<div class="talentsPointQty" data-pts-total="'+ _pts_total +'" data-pts-used="'+ _pts_used +'">Доступно очков таланта:<em>'+ _pts_left +'</em></div>'+
							(_is_my ? '<button class="newButton1 button50px resetTalents" label="'+ data.ret[3] +'" ondblclick="return false" onclick="_Talents(\''+ _id +'\', \'reset\', 0);return false" hidefocus="true">Сбросить таланты</button>' : '')+
							'<div class="leftBlock" data-talent-selected="false">'+
								'<div class="infoBlock">'+
									'<h2>Развитие талантов</h2>'+
									'Выполняйте достижения для повышения звания, за новый уровень звания вы получаете <strong>+1</strong><img src="/img/screens/talents/talent_point_x.png" style="vertical-align: -7px" /> очко таланта, которое можно вложить в любой доступный талант.'+
									(_is_my && data.ret[5] != -1 ? '<div class="talentsBarBlock"><div class="text">Собери 100 осколков таланта, чтобы получить +1 очко таланта</div><div class="talentsBar"><div class="progressText"><em class="current">'+ data.ret[5] +'</em><span class="separator">/</span><em class="need">100</em></div><div class="progress" style="width:'+ _tpcs_p +'%"></div></div></div>' : '')+
								'</div>'+
							'</div>'+
							'<div class="rightBlock">'+
								'<h2>Таланты</h2>'+
								'<div id="talents_scrollbar" class="scrollContainer scrollBarContainer">'+
									'<div class="bar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>'+
									'<div class="viewport">'+
										'<div class="overview">'+
											'<ul class="talentsList">'+ _t_list +'</ul>'+
										'</div>'+
									'</div>'+
								'</div>'+
							'</div>';
						$("#talents_"+ _id +" div.container").html(_html);
						if (_init){
							$("#talents_"+ _id).show("fade", 100, function(){
								$(this).removeClass("not-displayed");
								$(this).mousedown();
								if (!isMobile) $("#talents_scrollbar").tinyscrollbar().tinyscrollbar_update();
								//if (!isMobile) $("#talents_scrollbar").tinyscrollbar_update();
							});
						}
					}
				}
			});
			break;
	}
}

</script>
<script type="text/javascript">

function _MBK(id){

	if (id == '' || id == my_id) return;
	$.ajax({
		async: true,
		cache: false,
		type: "POST",
		url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
		data: {method: "mbk_do", id: id},
		dataType: "json",
		success: function(data) {
			if (typeof data.ret != "undefined"){
				$("#ipv_"+ id).find(".mbk_set").toggleClass("not-displayed");
				$("#ipv_"+ id).find(".mbk_del").toggleClass("not-displayed");
				$("#prf_"+ id).find(".mbk_set").toggleClass("off");
				$("#prf_"+ id).find(".mbk_del").toggleClass("off");
				if (!data.ret) $("#blk_"+ id).remove();
			}
		}
	});
}


function _FAV(id){

	if (id == '' || id == my_id) return;
	$.ajax({
		async: true,
		cache: false,
		type: "POST",
		url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
		data: {method: "fav_do", id: id},
		dataType: "json",
		success: function(data) {
			if (typeof data.ret != "undefined"){
				$("#ipv_"+ id).find(".fav_add").toggleClass("off");
				$("#ipv_"+ id).find(".fav_del").toggleClass("off");
				$("#prf_"+ id).find(".fav_add").toggleClass("off");
				$("#prf_"+ id).find(".fav_del").toggleClass("off");
				if (!data.ret[0]){
					$("#ufv_" + id).remove();
					_UL_action("ufv", "scroll");
					_UL_action("ufv", "count");
				}else{
					_UL_add("ufv", data.ret);
					_UL_action("ufv", "osort", {alpha: 1});
					_UL_action("ufv", "scroll");
					_UL_action("ufv", "count");
					if (data.ret[2]) _UL_action("uol", "gift", data.ret[3], data.ret[0]);
				}
			}
			if (typeof data.err != "undefined"){
				var _cx = parseInt(parseInt(document.body.clientWidth) / 2);
				var _cy = parseInt(parseInt(document.body.clientHeight) / 2);
				_WARN("default", 2500, '<span class="yellow">Слишком много фаворитов</span>', _cx - 100, _cy);
			}
		}
	});
}

function _PVT(e, id){

	if (!e) var e = window.event;
	if (id == '' || id == my_id) return;
	if (!$("#ipv_"+ id).length){
		$("#popup_container").append('<div id="ipv_'+ id +'" class="popup-move private-popup not-displayed" label="0"></div>');
		$("#ipv_"+ id).draggable({
			containment: "document",
			cancel: ".nick,.block-user-href,.chat-history,.popup-input-container,.break.links,.popup-small-close",
			zIndex: 100,
			stop: function(){
				$(this).mousedown();
				var __x = parseInt(this.offsetLeft - this.parentNode.scrollLeft);
				var __y = parseInt(this.offsetTop - this.parentNode.scrollTop);
				PPC_save[$(this).attr("id")] = {x: __x, y: __y};
			}
		}).mousedown(function(){
			var _id = $(this).attr("id");
			var _z = _POPUP_resort("popup-move", _id);
			$(this).css("z-index", _z);
			_CHT_focus(_id);
		});
		var _x, _y;
		var _k = "ipv_"+ id;
		if (PPC_save[_k]){
			_x = PPC_save[_k].x + ppp_offset_x;
			_y = PPC_save[_k].y;
		}else{
			_x = parseInt(document.body.clientWidth) - hdr_offset_x - ppp_offset_x - 682;
			_y = parseInt(e.clientY);
			if (_y > 425) _y = 425;
		}
		$.ajax({
			async: true,
			cache: false,
			type: "POST",
			url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
			data: {method: "pvt_chk", id: id},
			dataType: "json",
			success: function(data) {
				if (typeof data.arr != "undefined"){
					var _dis = (data.arr[3] || pla_data['kvt'] || pla_data['freeze'] == 1 || pla_data['freeze'] == 3 || pla_data['freeze'] == 4 || pla_data['freeze'] == 6  || pla_data['freeze'] == 7 || pla_data['freeze'] == 8 || pla_data['freeze'] == 9 || pla_data['freeze'] == 10 || pla_data['freeze'] == 11 || pla_data['freeze'] == 12 || pla_data['freeze'] == 13 || pla_data['freeze'] == 14 ? 0 : 1);
					$("#ipv_"+ data.arr[0]).html('<p class="title">'+
							'<img src="/images/icons/on-line.gif" alt="" class="on-line'+(!parseInt(data.arr[6]) ? ' off' : '')+'" />'+
							'<span class="nick" onclick="_TON(\'ich\', this);return false">'+data.arr[1]+'</span>'+
							'<span class="block-user-href">'+
								'<a href="#" onclick="_MBK(\''+ data.arr[0] +'\');return false" hidefocus="true" class="mbk_set'+(data.arr[5] ? ' not-displayed' : '')+'"><img src="/images/icons/mbk-set.png" width="12" height="12" style="vertical-align:-3px;margin-right:5px;" alt="" />заблокировать</a>'+
								'<span style="color:red" class="mbk_del'+(!data.arr[5] ? ' not-displayed' : '')+'">Игрок заблокирован<img src="/images/_.gif" width="12" height="12" style="vertical-align:-3px;margin-right:5px;" alt="" /></span>'+
							'</span>'+
						'</p>'+
						'<div>'+
							'<div class="photo">'+
								'<div class="border">'+
									'<img src="'+(data.arr[2] != '' ? data.arr[2] : '/images/_.gif')+'" alt="" onload="_PIX_crop(this, 72);" onclick="_PRF('+ data.arr[0] +');return false" />'+
								'</div>'+
							'</div>'+
							'<div class="chat-history">'+
							'</div>'+
						'</div>'+
						'<div class="break"></div>'+
						'<div class="popup-input-container">'+
							'<textarea id="ipv_'+data.arr[0]+'_txt" '+(!_dis ? 'disabled="disabled"' : '')+' onkeydown="return _CHT_action(\'ipv_'+data.arr[0]+'\', \'key\', \'down\', event);" onkeypress="_CHT_action(\'ipv_'+data.arr[0]+'\', \'key\', \'press\', event);"></textarea>'+
						'</div>'+
						'<div class="break links">'+
							'<div>'+
								'<a href="#" onclick="_FAV(\''+data.arr[0]+'\');return false" class="write-message-link fav_add'+(data.arr[4] ? ' off' : '')+'" hidefocus="true"><img src="/images/_.gif" width="16" height="16" style="background:url(/images/icons/fav-add.png) no-repeat center center" alt="" />Добавить в фавориты</a>'+
								'<a href="#" onclick="_FAV(\''+data.arr[0]+'\');return false" class="write-message-link fav_del'+(!data.arr[4] ? ' off' : '')+'" hidefocus="true"><img src="/images/_.gif" width="16" height="16" style="background:url(/images/icons/fav-del.png) no-repeat center center" alt="" />Удалить из фаворитов</a>'+
								'<a href="#" onclick="_WND_proc(\'gifts\', \'\', {uid: '+ data.arr[0] +'});return false" class="write-message-link" hidefocus="true"><img src="/images/_.gif" width="16" height="16" style="background:url(/images/icons/gift.png) no-repeat center center" alt="" />Подарить подарок</a>'+
							'</div>'+
							'<button ondblclick="return false" onclick="_CHT_action(\'ipv_'+data.arr[0]+'\', \'send\', \'\', event);return false" class="newButton" hidefocus="true">Отправить</button>'+
						'</div>'+
						'<a href="#" onclick="_CHT_action(\'ipv_'+data.arr[0]+'\', \'close\', \'\', event);return false" class="popup-small-close"  hidefocus="true"></a>');
					_POPUP_size(true, _x, _y, "ipv_"+ data.arr[0], 4);
					$("#ipv_"+ data.arr[0]).show("fade", 100, function(){
						$(this).removeClass("not-displayed");
						$(this).mousedown();
					});
				}
			}
		});
	}else{
		$("#ipv_"+ id).mousedown();
	}
}

function _TON(obj, e){
	if (obj == "") return;
	var _n = (e.innerText ? e.innerText : e.textContent);
	if (_n == "") return;

	if (_n == my_nick){
		_PRF(my_id, 'profile');
		return false;
	}
		_CHT_action(obj, "ton", _n, e);
	}

function _DT_format(v, f){

	var _v, _s = "";
	if (f.ext){
		if (v >= 86400){
			var _c = Math.floor((v % 86400) / 3600);
			_s += Math.floor(v / 86400) + 'д'+ (_c > 0 ? '&nbsp;'+ _c +'ч' : '');
		}else if (v >= 3600){
			_s += Math.floor(v / 3600) + 'ч&nbsp;' + Math.floor((v % 3600) / 60) + 'м';
		}else{
			_s += Math.floor(v / 60) + 'м';
		}
	}else if (f.fmt && f.fmt != ""){
		var _datetime = (f.uts ? new Date(v * 1000) : v);
		_s = f.fmt;
		if (_s.indexOf("yyyy") != -1){ _s = _s.replace("yyyy", _datetime.getFullYear().toString()); }
		if (_s.indexOf("mm") != -1){ _v = _datetime.getMonth().toString(); _s = _s.replace("mm", (_v.length < 2 ? "0" : "") + _v); }
		if (_s.indexOf("m") != -1){ _s = _s.replace("m", _datetime.getMonth().toString()); }
		if (_s.indexOf("dd") != -1){ _v = _datetime.getDate().toString(); _s = _s.replace("dd", (_v.length < 2 ? "0" : "") + _v); }
		if (_s.indexOf("d") != -1){ _s = _s.replace("d", _datetime.getDate().toString()); }
		if (_s.indexOf("hh") != -1){ _v = _datetime.getHours().toString(); _s = _s.replace("hh", (_v.length < 2 ? "0" : "") + _v); }
		if (_s.indexOf("h") != -1){ _s = _s.replace("h", _datetime.getHours().toString()); }
		if (_s.indexOf("ii") != -1){ _v = _datetime.getMinutes().toString(); _s = _s.replace("ii", (_v.length < 2 ? "0" : "") + _v); }
		if (_s.indexOf("i") != -1){ _s = _s.replace("i", _datetime.getMinutes().toString()); }
		if (_s.indexOf("ss") != -1){ _v = _datetime.getSeconds().toString(); _s = _s.replace("ss", (_v.length < 2 ? "0" : "") + _v); }
		if (_s.indexOf("s") != -1){ _s = _s.replace("s", _datetime.getSeconds().toString()); }
	}else{
		var _stamp = (f.uts ? v : Math.floor(v.getTime() / 1000));
		if (_stamp >= 86400){
			_s += Math.floor(_stamp / 86400) + ' дн';
		}else if (_stamp >= 3600){
			_s += Math.floor(_stamp / 3600) + ' ч' + (!f.nmm ? ' ' + Math.floor((_stamp % 3600) / 60) + ' м' : '');
		}else{
			_v = Math.floor(_stamp / 60).toString();
			_s += (f.zero_f && _v.length < 2 ? "0" : "") + _v + ":";
			_v = Math.ceil(_stamp % 60).toString();
			_s += (_v.length < 2 ? "0" : "") + _v;
		}
	}
	return _s;
}

function _BB_smile(txt){

	if (typeof txt == "undefined" || txt == null){
		return "";
	}
	var _out = "";
	var _tag = "";
	var _in_tag = false;
	var _il = txt.length;
	for (var _i = 0; _i < _il; _i++){
		switch (txt.charAt(_i)){
			case "[":
				_out += _tag;
				_tag = "";
				_tag += "[";
				_in_tag = true;
				break;
			case "]":
				_in_tag = false;
				_tag += "]";
				if (_tag.indexOf("[e") == 0){
					_tag = _tag.substr(2, _tag.length - 3);
					if (parseFloat(_tag) > 0){
						_out += '<wbr><img src="/images/smiles/'+ _tag +'.gif?10" style="vertical-align:-5px" alt="">';
					}
				}else if (_tag.indexOf("[t") == 0){
					_tag = _tag.substr(2, _tag.length - 3);
					if (parseFloat(_tag) > 0){
						_out += '<wbr><img src="/images/stickers'+ my_lang_pfx +'/'+ _tag +'.png?1" style="vertical-align:-5px" alt="">';
					}
				}else{
					_out += _tag;
				}
				_tag = "";
				break;
			default:
				if (!_in_tag){
					_out += txt.charAt(_i);
				}else{
					_tag += txt.charAt(_i);
				}
		}
	}
	if (_in_tag){
		_out += _tag;
	}
	return _out;
}

function _PIX_crop(obj, s){

	setTimeout(function(){
		try{
			var _w = $(obj).width();
			var _h = $(obj).height();
			if (_w >= _h){
				var _m = (s / 100 * (100 - (_h / _w * 100)) / 2);
				$(obj).height(s);
				$(obj).css({"margin": "0 0 0 -" + _m + "px"});
			}else{
				var _m = (s / 100 * (100 - (_w / _h * 100)) / 2);
				$(obj).width(s);
				$(obj).height();
				$(obj).css({"margin": "-" + _m + "px 0 0 0"});
			}
			if ($(obj).parent().hasClass("hidden")) $(obj).parent().removeClass("hidden");
			if ($(obj).hasClass("hidden")) $(obj).removeClass("hidden");
		}catch(e){
		}
	}, 150);
}

function _EXP(mode, data, evt){

	var _evt = (!evt ? window.event : evt);
	var _k = 'exp'+ mode +'_hint';
	if (!mode){
		var _lim0 = (((my_level - 1) * 25) * my_level);
		var _lim1 = ((my_level * 25) * (my_level + 1));
		var _ofs = (my_expa - _lim0);
	}else{
		var _lim0 = (((data[0] - 1) * 25) * data[0]);
		var _lim1 = ((data[0] * 25) * (data[0] + 1));
		var _ofs = (data[1] - _lim0);
	}
	var _intv = (_lim1 - _lim0);
	var _prc = parseInt((_ofs / _intv) * 100);
	var _lft = parseInt(_intv - _ofs);
	if (_prc > 100) _prc = 100;
	if (_lft < 0) _lft = 0;
	var _h = '<div style="text-align:center;margin-bottom:12px;">До следущего уровня: '+ _lft +' опыта</div>'+
		'<div class="experience-bar"><div class="bar" style="width:'+ _prc +'%"></div><div class="txt">'+ _prc +'%</div></div>';
	_HINT(_k, 500, 0, _h, _evt.clientX - 60, _evt.clientY + 40, {w: 210, a: 'center', r: 1, v: 1});
}

function _GFTH(gid, id, evt){

	var _evt = (!evt ? window.event : evt);
	$.ajax({
		async: false,
		cache: false,
		type: "POST",
		url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
		data: {method: "gfth", id: id},
		dataType: "json",
		success: function(data) {
			if (typeof data.arr != "undefined"){
				var _h = '<em>'+ __store[gid].title +'</em>'+ (__store[gid].silence ? '' : '<em> от игрока </em><span onclick="_PRF('+ data.arr[0] +');return false" class="yellow-l">'+ data.arr[1] +'</span>')+'<br/>'+ (data.arr[2] && data.arr[2] != '' ? data.arr[2] : '&nbsp;');
				_HINT('gfth_hint', 500, 0, _h, _evt.clientX - 60, _evt.clientY + 60, {w: 210, a: 'left', r: 1, v: 1});
			}
		}
	});
}

function _SHARE(_tp){

	
	
	}

function _EXT_put(id){
	var _mx0 = hdr_offset_x; var _mx1 = hdr_offset_x + 700;
	var _my0 = hdr_offset_y; var _my1 = hdr_offset_y + 450;
	var _x = Math.floor(Math.random() * (_mx1 - _mx0 + 1)) + _mx0;
	var _y = Math.floor(Math.random() * (_my1 - _my0 + 1)) + _my0 + 150;
	$("#snt_gifts").append('<div class="itemContainer" style="top:'+ _y +'px;left:'+ _x +'px;" onclick="_SGF(this, 0, event);return false"><div class="borderContainer"><img src="/img/extras/'+ id +'.png" class="extraIco" /><div class="border"></div></div><div class="name"><span>'+ __store[id].title +'</span></div></div>');
}

function _SGF_put(cat, item){
	
	var _mx0 = hdr_offset_x; var _mx1 = hdr_offset_x + 700;
	var _my0 = hdr_offset_y; var _my1 = hdr_offset_y + 450;
	var _x = Math.floor(Math.random() * (_mx1 - _mx0 + 1)) + _mx0;
	var _y = Math.floor(Math.random() * (_my1 - _my0 + 1)) + _my0 + 50;
	var _item = (item == '' ? (Math.floor(Math.random() * 5) + 1) : item);
	var _idx = '';
	var _tp = 0;
	$("#snt_gifts").append('<div '+ (_idx != '' ? 'id="'+ _idx +'"' : '') +' onclick="_SGF(this, '+ _tp +', event);return false" style="position:absolute;width:200px;height:200px;cursor:pointer;z-index:100;top:'+ _y +'px;left:'+ _x +'px;background: url(/images/events/'+ cat +'/gifts/'+ _item +'.png) no-repeat 0 0;"></div>');
}

function _SGF(oo, tp, evt){

	var _evt = (!evt ? window.event : evt);
	if ($(oo).length && typeof _evt.clientX != "undefined"){
		if (!_SOUND_err) _SOUND_arr['sfx']['collect_gift'].play();
		if (tp == 1) {
			$(oo).remove();
		}else{
			$(oo).stop().animate({left: (hdr_offset_x + 15)+ "px", top: (hdr_offset_y + 20) +"px", opacity: 0.05}, 250, function() { $(this).remove(); removeBlur()});
		}
		function removeBlur(){
			if (!$(".itemContainer").length){
				$(".blurDiv").fadeOut("slow", function() {$(this).remove()});
			}
		}

	}
}


function leagueProc(cmd, val, args){
	
	switch (cmd){
		case "update":
			if (my_league > 0){
				$("#leagueBlock").attr("data-noleague", "false");
				$("#leagueBlock .img").css('background-image', 'url(/img/profile/league/l'+ my_league +'.png)').css("cursor", (my_league > 0 ? 'pointer' : 'default'));
				setMainProgress(my_rating, my_lea_rating);	
			}else{
				$("#leagueBlock").attr("data-noleague", "true");
				/*if (!$("#bt_arena").hasClass("lock")){
					$("#bt_arena").addClass("lock hoverHint updatedTip").attr("data-tip", 'Для открытия, сыграй игру');
				}*/
			}
			$("#leagueBlock").removeClass("off");
			break;
		case "collect_all":
			if ($(".openChestScreen .itemContainer").length){
				$(".openChestScreen .itemContainer").each(function(){
					leagueProc("collect", $(this));
				});
			}
			break;
		case "collect":
			if ($(val).length){
				if (!_SOUND_err) _SOUND_arr['sfx']['collect_gift'].play();
				$(val).stop().animate({left: (hdr_offset_x + 15)+ "px", top: (hdr_offset_y + 20) +"px", opacity: 0.05}, 250, function() { 
					$(this).remove(); 
					if (!$(".openChestScreen .itemContainer").length && $("#wnd_lea_chest").length) {
						var _l = $("#wnd_lea_chest").attr("label");
						$("#wnd_lea_chest").remove();
						if (_l != 'duels' && _l != 'lottery' && _l != 'newyear' && _l != 'easter1' && _l != 'easter2' && _l != 'carnival'){
							if (my_league == 7) leagueProc("popup", "gross");
						}
					}
				});
			}
			break;
		case "chest":
			if (!$("#wnd_lea_chest").length){
				$("#popup_container").append('<div id="wnd_lea_chest" class="popup-move openChestScreen not-displayed" style="" label="'+ val +'">'+
					'<div class="smokeLeft"><img src="/img/popups/chest/cloud_1.png" /></div>'+
					'<div class="smokeRight"><img src="/img/popups/chest/cloud_2.png" /></div>'+
					'<div class="smokeRight"></div>'+
					'<div class="shine"></div>'+
					'<div class="chest">'+
						'<div class="light">'+
							'<img src="/img/popups/chest/light_bg.png" />'+
						'</div>'+
						'<img src="/img/popups/chest/chest_'+ val +'.png" />'+
					'</div>'+
					'<button onclick="leagueProc(\'collect_all\');return false" ondblclick="return false" hidefocus="true" class="cssGreenButton2 collectAll" style="display:none">Собрать всё</button>'+
				'</div>');
				$("#wnd_lea_chest").mousedown(function(){
					var _i = $(this).attr("id");
					var _z = _POPUP_resort("popup-move", _i);
					$(this).css("z-index", _z);
				}).show("fade", 100, function(){
					$(this).removeClass("not-displayed");
					$(this).mousedown();
				});
			}else{
				$("#wnd_lea_chest").mousedown();
			}
			switch (val){
				case 2: _HX_hint('lea3'); break;
				case 3: _HX_hint('lea4'); break;
				case 4: _HX_hint('lea5'); break;
				case 5: _HX_hint('lea6'); break;
				case 6: _HX_hint('lea7'); break;
				case 7: _HX_hint('lea8'); break;
			}
			if (val == 'duels') $("#cdd_chest").addClass("check");
			openChestScreen(function(){
				$.each(args, function(_i, _v) {
					openChestItem(_v);
				});
				if (!_SOUND_err) _SOUND_arr['sfx']['bag_open'].play();
				function openChestItem(arr){
					var _mx0 = hdr_offset_x + 50; var _mx1 = hdr_offset_x + 940;
					var _my0 = hdr_offset_y; var _my1 = hdr_offset_y + 600;
					var random_X = Math.floor(Math.random() * (_mx1 - _mx0 + 1)) + _mx0;
					var random_Y = Math.floor(Math.random() * (_my1 - _my0 + 1)) + _my0 + 50;
					var item_cnt = parseInt($(".itemContainer").length);
					while (!isPositionValid(random_X, random_Y) && item_cnt < 20){
						random_X = Math.floor(Math.random() * (_mx1 - _mx0 + 1)) + _mx0;
						random_Y = Math.floor(Math.random() * (_my1 - _my0 + 1)) + _my0 + 50;
					}	
					function isPositionValid(randomX, randomY) {
						var isValid = true;
						$(".itemContainer").each(function() {
							var targetX = parseInt($(this).attr("targetX"));
							var targetY = parseInt($(this).attr("targetY"));
							if ((randomX > (targetX - 100) && randomX < targetX + 100) && (randomY > (targetY - 120) && randomY < targetY + 120)){
								isValid = false;
								return false;
							}	
						});
						return isValid;
					}
					var start_X = 0;
					var start_Y = 0;
					var _ttl = '';
					var _pix = '';
					var _brd = true;
					switch (arr[0]){
						case 'talent_pts':
							_ttl = '+'+ arr[1] +' очков таланта';
							_pix = '/img/popups/league/top/awards/talants_points.png';
							break;
						case 'tal_pcs':
							_ttl = '+'+ arr[1] +' осколков таланта';
							_pix = '/img/extras/onscreen/splinters.png';
							_brd = false;
							if (typeof arr[2] != "undefined") _WND_proc("are_inf", "tal_pcs");
							break;
						case 'stars':
							_ttl = '+'+ arr[1] +' звёзд';
							_pix = '/img/extras/onscreen/stars.png';
							_brd = false;
							break;
						case 'league':
							_ttl = league_ttls_e[arr[1]];
							_pix = '/img/popups/league/top/awards/emblema_'+ arr[1] +'.png';
							break;
						case 'border':
							_ttl = league_ttls_b[arr[1]];
							_pix = '/img/popups/league/top/awards/frame_'+ arr[1] +'.png';
							break;
						case 'chat_ico':
							_ttl = 'Эмблема в чат';
							_pix = '/img/popups/league/top/awards/emblema_chat.png';
							break;
						case 'chat_announce':
							_ttl = 'Анонс при входе в игру';
							_pix = '/img/popups/league/top/awards/announcement_enter.png';
							break;
						case 'gross_announce':
							_ttl = 'Анонс при получении звания';
							_pix = '/img/popups/league/top/awards/announcement_rank.png';
							break;
						case 'hall_of_fame':
							_ttl = 'Зал славы';
							_pix = '/img/popups/league/top/awards/hall_of_fame.png';
							break;	
						case 'coins':
							_ttl = arr[1] +' монет';
							_pix = '/img/popups/league/coins'+ (parseInt(arr[1]) >= 1000 ? '_more' : '') +'.png';
							_brd = false;
							break;
						case 'ruby':
							_ttl = arr[1] +' рубин';
							_pix = '/img/popups/league/ruby.png';
							_brd = false;
							break;
						case 'figure_pers':
							_ttl = 'Персональный образ / Стикер';
							_pix = '/img/popups/league/top/awards/personal_role_sticker.png';
							break;	
						case 'figure':
							_ttl = 'Уникальный образ: '+ t_persons[arr[1]];
							_pix = '/img/persons/big/'+ k_persons[arr[1]] + arr[2] +'_'+ my_gender +'.png';
							break;
						case 'figure_old':
							_ttl = 'Случайный образ: '+ t_persons[arr[1]];
							_pix = '/img/persons/big/'+ k_persons[arr[1]] + arr[2] +'_'+ my_gender +'.png';
							break;
						case 'extra':
							_ttl = __store[arr[1]].title;
							_pix = '/img/extras/'+ arr[1] +'.png';
							_GM_action("gxt", "exts", (!$("#gxt_"+ arr[1]).length ? "add" : "set"), [arr[1], arr[2]]);
							_GM_action("exl", "exts", "upd", [arr[1]]);
							break;
						case 'amp':
							_ttl = __store[arr[1]].descr;
							_pix = '/img/extras/'+ arr[1] +'.png';
							_GM_action("gxt", "exts", (!$("#gxt_"+ arr[1]).length ? "add" : "set"), [arr[1], arr[2]]);
							_GM_action("exl", "exts", "upd", [arr[1]]);
							break;
						case 'card':
							var r = parseInt(arr[1][1]);
							_ttl = 'Карта '+ ev_card_types[r];
							_pix = '/images/events/'+evt_prefix+'/scene/cards/'+ arr[1] +'.png';
							_brd = false;
							break;
						case 'keys':
							var cl = arr[1];
							var cnt = parseInt(arr[2]);
							var _ttl = '';
							switch(cl){
								case 'green': _ttl += 'Пасхальный'; break;
								case 'blue': _ttl += 'Золотой'; break;
								case 'red': _ttl += 'Нефритовый'; break;
							}
							_ttl += ' ключ';
							if (cnt > 1) _ttl += ' '+ cnt +' шт.';
							_pix = '/images/events/easter_2020/gifts/'+ cl +'.png';
							_brd = false;
							break;
					}
					var elem = '<div class="itemContainer" targetX="'+ random_X +'" targetY="'+ random_Y +'" style="left: '+ start_X +'px; top: '+ start_Y +'px" onclick="leagueProc(\'collect\', this);return false"><div class="borderContainer"'+ (!_brd ? ' style="padding:0 0 10px 0"' : '') +'><img src="'+ _pix +'" '+ (_brd ? ' class="extraIco"' : '') +' />'+ (_brd ? '<div class="border"></div></div>' : '') +'<div class="name"><span>'+ _ttl +'</span></div></div>';
					$(elem).appendTo(".openChestScreen").addClass("show").animate({
							top: random_Y,
							left: random_X
						}, 500, "swing", function() {
						$(this).find(".name").fadeIn();
					});
				}
			}, val);
			break;	
		case "popup":
			var _popup = {
				is: false,
				key: '',
				tmpl: '',
				body: '',
				bt_close: true,
				bt_tm: 0,
				bt_ttl: 'Продолжить',
				bt_act: '',
				bt_hide: false,
				align: false,
				cdn_t: 0
			};
			switch (val){
				case "start":
					_popup.key = '_s';
					_popup.tmpl = 'newLeaguePopup leagueStart baseSettings league1';
					_popup.body = '<h1>Добро пожаловать в Лигу!</h1><div class="infoText">Набирай рейтинг для получения наград</div> ';
					_popup.bt_act = '_WND_proc(\'league\');';
					_popup.is = true;
					_HX_hint('lea10');
					break;
				case "gross":
					_popup.key = '_g';
					_popup.tmpl = 'gloryHallPopup standartPopup';
					_popup.body = '<h1>Поздравляем!</h1><div class="info">Вы вошли в «Зал славы» лучших игроков Мафии!</div>';
					_popup.bt_ttl = 'Смотреть';
					_popup.bt_act = '_WND_proc(\'league\');';
					_popup.is = true;
					_HX_hint('lea9');
					break;	
				case "time_left":
					_popup.key = '_tl';
					_popup.tmpl = 'leagueEnd';
					_popup.body = '<h2>Текущий сезон завершится 21 июня!</h2>'+
						'<p class="cdnText">До окончания сезона</p>'+
						'<div class="cdnOverlay">'+
							'<div class="cdn-container">'+
								'<div id="cdn_leagueEnd" class="cdn2 design noMargin">'+
								'<p class="dayMargin"> <span class="days"></span> <em>дней</em></p>'+
								'<p> <span class="hours"></span> <em>часов</em></p>'+
								'<b>:</b>'+
								'<p> <span class="minutes"></span> <em>минут</em></p>'+
								'<b>:</b>'+
								'<p> <span class="seconds"></span> <em>секунд</em></p>'+
								'</div>'+
								'<div class="cdnEndText">Сезон скоро завершится!</div>'+
							'</div>'+
						'</div>';
					_popup.cdn_t = parseInt(args);
					if (_popup.cdn_t > 0) {
						_popup.is = true;
						_HX_hint('lig14');
					}
					break;
				case "booster":
					var _cnt = ($("#gxt_117").length ? parseInt($("#gxt_117").attr("label")) : '');
					_popup.key = '_bo';
					_popup.tmpl = 'leagueBoosterPopup';
					_popup.body = '<h2>Получай дополнительно +15 рейтинга при победе!</h2>'+
						'<div class="extraIco hoverGlow" ondblclick="return false" onclick="_WND_proc(\'extras\', \'buy\', {id: 117}, event);return false"  hidefocus="true"><div id="lea_booster_c" class="count">'+ _cnt +'</div><div class="hover-hint">Прибавляет +15 рейтинга при победе в своей лиге<br>10 шт.<div class="arrow"></div></div></div>'+
						'<div class="infoText">'+
							'<p class="extraName">Лига бустер</p>'+
														'<p class="price"><img src="/images/icons/ruby-micro.png" class="ico" alt="">3</p>'+
													'</div>';
					_popup.bt_hide = true;
					_popup.align = true;
					_popup.is = true;
					_HX_hint('lig12');
					break;
			}
			if (_popup.is){
				if (!$("#wnd_lea_inf"+ _popup.key).length){
					$("#popup_container").append('<div id="wnd_lea_inf'+ _popup.key +'" class="'+ _popup.tmpl +' popup-move popupShadowNew not-displayed">'+
						_popup.body +
						(!_popup.bt_hide ? '<div class="footerButtons">'+
							'<button onclick="if ($(this).hasClass(\'not-active\')) return false;'+ _popup.bt_act +'_WND_proc(\'\', \'close\', \'lea_inf'+ _popup.key +'\');return false" ondblclick="return false" class="newButton'+ (_popup.bt_tm > 0 ? ' not-active' : '') +'" hidefocus="true">'+ _popup.bt_ttl +'</button>'+
						'</div>' : '')+
						(_popup.bt_close ? '<a href="#" class="popupClose" onclick="'+ _popup.bt_act +'_WND_proc(\'\', \'close\', \'lea_inf'+ _popup.key +'\');return false"></a>' : '')+
					'</div>');
					if (!_popup.align){
						$("#wnd_lea_inf"+ _popup.key).css("left", (parseInt((parseInt($("#rootContainer").outerWidth()) - hdr_right_o) / 2) - parseInt(parseInt($("#wnd_lea_inf"+ _popup.key).outerWidth()) / 2)) +"px");
					}else{
						$("#wnd_lea_inf"+ _popup.key).css("left", (parseInt((parseInt($("#rootContainer").outerWidth()) - 20) / 2) - hdr_offset_x - parseInt(parseInt($("#wnd_lea_inf"+ _popup.key).outerWidth())/2)) +"px");
					}
					$("#wnd_lea_inf"+ _popup.key).draggable({
						containment: "document",
						cancel: "button,.popupClose",
						zIndex: 100,
						stop: function(){
							$(this).mousedown();
						}
					}).mousedown(function(){
						var _i = $(this).attr("id");
						var _z = _POPUP_resort("popup-move", _i);
						$(this).css("z-index", _z);
					}).show("fade", 100, function(){
						$(this).removeClass("not-displayed");
						$(this).mousedown();
						$(this).css("top", (parseInt(parseInt($("#rootContainer").outerHeight()) / 2) - parseInt(parseInt($(this).outerHeight()) / 2)) +"px");
					});
					if (_popup.bt_tm > 0){
						setTimeout(function(){
							$("#wnd_lea_inf"+ _popup.key).find("button").removeClass("not-active");
						}, _popup.bt_tm);	
					}
					if (_popup.cdn_t > 0){
						$('div#cdn_leagueEnd').countdown(_popup.cdn_t * 1000, function(event) {
							if (event.type == "days" && event.value == 0) $(this).find('span.'+event.type).parent().remove();
							if (event.type == "finished"){
								$('div#cdn_leagueEnd').hide();
								$('.cdn-container div.cdnEndText').show();
							}
						});
					}
				}else{
					$("#wnd_lea_inf"+ _popup.key).mousedown();
				}
			}
			break;
	}
}

function offersRecount(){
		var _cnt = 0;
	var allowed_ofers = [];
	var current_offer_id = $("#bt_offers").attr('label');
	var curent_offer = null;
	var resetPage = false;
	$.each(offers_data, function(_i, _row) {
		if (parseInt(_row[2]) > 0){
			_cnt ++;
			allowed_ofers.push(_row);
			if (parseInt(current_offer_id) == _row[6]) {
				curent_offer = _row;
			}
		}else{
			if ($("#oda_id_"+ _row[6]).length){
				resetPage = true;
			}
			$("#oda_id_"+ _i).remove();
			delete offers_data[_i];
		}	
	});

	$("#bt_offers").find(".count").html(_cnt);
	if (_cnt == 1) {
		$("#bt_offers").find(".count").addClass('off');
	} else {
		$("#bt_offers").find(".count").removeClass('off');
	}
	if (_cnt){
		if ($("#bt_offers").hasClass("not-displayed")) $("#bt_offers").removeClass("not-displayed");
	}else{
		if (!$("#bt_offers").hasClass("not-displayed")) $("#bt_offers").addClass("not-displayed");
	}
	if (!_cnt && $("#wnd_offers").length) $("#wnd_offers").remove();

	if (allowed_ofers.length) {
		if (curent_offer == null) {
			var rnd = Math.round(Math.random() * (allowed_ofers.length - 1));
			curent_offer = allowed_ofers[rnd];
			$("#bt_offers").attr('label', curent_offer[6]);
			$("#bt_offers img").attr('src', curent_offer[4] == 'extras' || curent_offer[4] == 'extra' ? '/img/extras/'+ curent_offer[5] +'.png' : '/img/offers/preview/'+ curent_offer[5] +'.png');
			$('#bt_offers div.offerTimer').countdown((parseInt(curent_offer[1]) - uts) * 1000, function(event){
				switch(event.type){
					case "finished":
						offersRecount();
						break;
					default:
						formatCountdownTimer('#bt_offers', true);
						break;
				}
			});
		}
		if (resetPage && $("#wnd_offers").length) {
			show_offer_data(allowed_ofers[0][6]);
		}
	}
	}

function offersMiniBanner(row){
	
	$(".offerMiniBanner").attr("class", "offerMiniBanner not-displayed").attr("label", row[0]);
	var _price = (row[4] == 'billing' ? row[5][1] : (row[4] == 'coins' ? row[5] +' монет'+ _postfix(['','а','ы'], parseInt(row[5])) : row[5] +' рубин'+ _postfix(['ов','','а'], parseInt(row[5]))));
	var _exts = '';
	if (row[8] != ''){
		var _xx = row[8].split(",");
		if (_xx.length){
			$.each(_xx, function(_i, _v) {
				var _ee = _v.split(":");
				if (_ee.length == 2){
					_exts += '<li class="num'+ _i +'"><img src="/img/extras/'+ _ee[0] +'.png" title="'+ __store[_ee[0]].title +'" class="extraIco" /><div class="extraName">'+ __store[_ee[0]].title +'</div><div class="extraQty">x<em>'+ _ee[1] +'</em></div></li>'+ "\n";
				}
			});
		}
	}
	var _figr = '';
	if (typeof row[9] != "undefined" && row[9] != ''){
		var _ff = row[9].split(":");
		if (_ff.length == 3){
			_figr = '<div class="figure"><img src="/img/persons/big/'+ (_ff[1] > 0 ? k_persons[_ff[1]] : "unknown") + (_ff[2] > 0 ? _ff[2] : '') +'_'+ my_gender +'.png" alt="" /><div class="figureDescr">'+ (typeof __store[_ff[0]] != "undefined" ? __store[_ff[0]].title + (typeof __store[_ff[0]].interval != "undefined" ? ' на '+ __ext_interval_parse(__store[_ff[0]].interval) : '') : '') +'</div></div>';
		}
	}
	var _cnt = (typeof offers_data[row[0]] != "undefined" ? offers_data[row[0]][2] : 1);
	$(".offerMiniBanner").html(
		'<div class="title">'+ row[1] +'</div>'+
		'<div class="descr">'+ row[2] +'</div>'+
		'<div class="buyCount">'+ _cnt +'</div>'+
		(row[6] > 0 ? '<div class="coins">'+ row[6] +' <span class="annotation">монет'+ _postfix(['','а','ы'], parseInt(row[6])) +'</span></div>' : '')+
		(row[7] > 0 ? '<div class="ruby">'+ row[7] +' <span class="annotation">рубин'+ _postfix(['ов','','а'], parseInt(row[7])) +'</span></div>' : '')+
		(_exts != '' ? '<ul class="extrasList">'+ _exts +'</ul>' : '')+
		_figr+
		'<button class="price">'+ _price +'</button>'+
		'<div class="timer">'+
			'<div class="t_countdown cdn2">'+
			'<p><span class="days"></span>д</p>'+
			'<p><span class="hours"></span>ч</p>'+
			'<p><span class="minutes"></span>м</p>'+
			'<p><span class="seconds"></span>с</p>'+
			'</div>'+
		'</div>');
	if (row[3] != '') $(".offerMiniBanner").addClass('template-'+ row[3]);
	$(".offerMiniBanner").removeClass("not-displayed");
	if (typeof offers_data[row[0]] != "undefined"){
		var _tt = parseInt(offers_data[row[0]][1] - uts);
		if (_tt > 0){
			$(".offerMiniBanner .timer div.t_countdown").countdown(_tt * 1000, function(event) {
				if (event.type == "finished"){
					$(".offerMiniBanner").attr("class", "offerMiniBanner not-displayed").attr("label", "0").html('');
					$("#oda_id_"+ row[0]).remove();
					if (typeof offers_data[row[0]] != "undefined"){
						delete offers_data[row[0]];
						offersRecount();
					}
				}
			});
		}
	}
	}

$(window).bind("beforeunload", function(e) {
	try{
		RPX_shutdown();
	}catch(e){
	}
});

$(document).ready(function(){
	soundManager.debugMode = false;
	soundManager.url = '/sfx/';
	soundManager.onerror = function(status) {
		if (!_SOUND_err){
			_SOUND_err = true;
			if (!$(".footerPanel .sound").hasClass("off")) $(".footerPanel .sound").addClass("off");
		}
	}
	soundManager.onready(function(){
		_SOUND_arr['sfx']['do']               = soundManager.createSound({id: 'do',               volume: _SOUND_vol['sfx'], url: '/sfx/events/easter/do.mp3'});
		_SOUND_arr['sfx']['do_my']            = soundManager.createSound({id: 'do_my',            volume: _SOUND_vol['sfx'], url: '/sfx/events/easter/do_my.mp3'});
		_SOUND_arr['sfx']['part_collect']     = soundManager.createSound({id: 'part_collect',     volume: _SOUND_vol['sfx'], url: '/sfx/events/easter/part_collect.mp3'});
		_SOUND_arr['sfx']['cup_fly']          = soundManager.createSound({id: 'cup_fly',        volume: _SOUND_vol['sfx'], url: '/sfx/cup_fly.mp3'});
		_SOUND_arr['sfx']['extra_chest_open'] = soundManager.createSound({id: 'extra_chest_open', volume: _SOUND_vol['sfx'], url: '/sfx/events/easter/extra_chest_open.mp3'});
		_SOUND_arr['sfx']['buy_extra']        = soundManager.createSound({id: 'buy_extra',        volume: _SOUND_vol['sfx'], url: '/sfx/buy-extra.mp3'});
		_SOUND_arr['sfx']['game_invite']      = soundManager.createSound({id: 'game_invite',      volume: _SOUND_vol['sfx'], url: '/sfx/game-invite.mp3'});
		_SOUND_arr['sfx']['play']             = soundManager.createSound({id: 'play',             volume: _SOUND_vol['sfx'], url: '/sfx/play.mp3'});
		_SOUND_arr['sfx']['nospk']            = soundManager.createSound({id: 'nospk',            volume: _SOUND_vol['sfx'], url: '/sfx/nospk.mp3'});
		_SOUND_arr['sfx']['mafiosos']         = soundManager.createSound({id: 'mafiosos',         volume: _SOUND_vol['sfx'], url: '/sfx/mafiosos.mp3'});
		_SOUND_arr['sfx']['maniac']           = soundManager.createSound({id: 'maniac',           volume: _SOUND_vol['sfx'], url: '/sfx/maniac.mp3'});
		_SOUND_arr['sfx']['mask']             = soundManager.createSound({id: 'mask',             volume: _SOUND_vol['sfx'], url: '/sfx/mask.mp3'});
		_SOUND_arr['sfx']['mine']             = soundManager.createSound({id: 'mine',             volume: _SOUND_vol['sfx'], url: '/sfx/mine.mp3'});
		_SOUND_arr['sfx']['active_role']      = soundManager.createSound({id: 'active_role',      volume: _SOUND_vol['sfx'], url: '/sfx/active-role.mp3'});
		_SOUND_arr['sfx']['auto']             = soundManager.createSound({id: 'auto',             volume: _SOUND_vol['sfx'], url: '/sfx/auto.mp3'});
		_SOUND_arr['sfx']['turn_boss']        = soundManager.createSound({id: 'turn_boss',        volume: _SOUND_vol['sfx'], url: '/sfx/turn_boss.mp3'});
		_SOUND_arr['sfx']['bug']              = soundManager.createSound({id: 'bug',              volume: _SOUND_vol['sfx'], url: '/sfx/bug.mp3'});
		_SOUND_arr['sfx']['bug_result']       = soundManager.createSound({id: 'bug_result',       volume: _SOUND_vol['sfx'], url: '/sfx/bug-result.mp3'});
		_SOUND_arr['sfx']['commisar']         = soundManager.createSound({id: 'commisar',         volume: _SOUND_vol['sfx'], url: '/sfx/commisar.mp3'});
		_SOUND_arr['sfx']['doctor']           = soundManager.createSound({id: 'doctor',           volume: _SOUND_vol['sfx'], url: '/sfx/doctor.mp3'});
		_SOUND_arr['sfx']['gift']             = soundManager.createSound({id: 'gift',             volume: _SOUND_vol['sfx'], url: '/sfx/gift.mp3'});
		_SOUND_arr['sfx']['killer']           = soundManager.createSound({id: 'killer',           volume: _SOUND_vol['sfx'], url: '/sfx/killer.mp3'});
		_SOUND_arr['sfx']['lie_detector']     = soundManager.createSound({id: 'lie_detector',     volume: _SOUND_vol['sfx'], url: '/sfx/lie-detector.mp3'});
		_SOUND_arr['sfx']['lie_d_result']     = soundManager.createSound({id: 'lie_d_result',     volume: _SOUND_vol['sfx'], url: '/sfx/lie-detector-result.mp3'});
		_SOUND_arr['sfx']['mine_detector']    = soundManager.createSound({id: 'mine_detector',    volume: _SOUND_vol['sfx'], url: '/sfx/mine-detector.mp3'});
		_SOUND_arr['sfx']['pasport']          = soundManager.createSound({id: 'pasport',          volume: _SOUND_vol['sfx'], url: '/sfx/pasport.mp3'});
		_SOUND_arr['sfx']['box']              = soundManager.createSound({id: 'box',              volume: _SOUND_vol['sfx'], url: '/sfx/box.mp3'});
		_SOUND_arr['sfx']['psyho']            = soundManager.createSound({id: 'psyho',            volume: _SOUND_vol['sfx'], url: '/sfx/psyho.mp3'});
		_SOUND_arr['sfx']['radio']            = soundManager.createSound({id: 'radio',            volume: _SOUND_vol['sfx'], url: '/sfx/radio.mp3'});
		_SOUND_arr['sfx']['revolver']         = soundManager.createSound({id: 'revolver',         volume: _SOUND_vol['sfx'], url: '/sfx/revolver.mp3'});
		_SOUND_arr['sfx']['taro']             = soundManager.createSound({id: 'taro',             volume: _SOUND_vol['sfx'], url: '/sfx/taro.mp3'});
		_SOUND_arr['sfx']['ak47']             = soundManager.createSound({id: 'ak47',             volume: _SOUND_vol['sfx'], url: '/sfx/ak47.mp3'});
		_SOUND_arr['sfx']['double_vote']      = soundManager.createSound({id: 'double_vote',      volume: _SOUND_vol['sfx'], url: '/sfx/double-vote.mp3'});
		_SOUND_arr['sfx']['body_armour']      = soundManager.createSound({id: 'body_armour',      volume: _SOUND_vol['sfx'], url: '/sfx/body-armour.mp3'});
		_SOUND_arr['sfx']['bifacial']         = soundManager.createSound({id: 'bifacial',         volume: _SOUND_vol['sfx'], url: '/sfx/bifacial.mp3'});
		_SOUND_arr['sfx']['bodyguard']        = soundManager.createSound({id: 'bodyguard',        volume: _SOUND_vol['sfx'], url: '/sfx/bodyguard.mp3'});
		_SOUND_arr['sfx']['bureaucrat']       = soundManager.createSound({id: 'bureaucrat',       volume: _SOUND_vol['sfx'], url: '/sfx/bureaucrat.mp3'});
		_SOUND_arr['sfx']['confession']       = soundManager.createSound({id: 'confession',       volume: _SOUND_vol['sfx'], url: '/sfx/confession.mp3'});
		_SOUND_arr['sfx']['antifreeze']       = soundManager.createSound({id: 'antifreeze',       volume: _SOUND_vol['sfx'], url: '/sfx/antifreeze.mp3'});
		_SOUND_arr['sfx']['sleep_pills']      = soundManager.createSound({id: 'sleep_pills',      volume: _SOUND_vol['sfx'], url: '/sfx/sleep-pills.mp3'});
		_SOUND_arr['sfx']['bitch']            = soundManager.createSound({id: 'bitch',            volume: _SOUND_vol['sfx'], url: '/sfx/bitch.mp3'});
		_SOUND_arr['sfx']['witness']          = soundManager.createSound({id: 'witness',          volume: _SOUND_vol['sfx'], url: '/sfx/witness.mp3'});
		_SOUND_arr['sfx']['bifacial_maf']     = soundManager.createSound({id: 'bifacial_maf',     volume: _SOUND_vol['sfx'], url: '/sfx/bifacial-maf.mp3'});
		_SOUND_arr['sfx']['thief']            = soundManager.createSound({id: 'thief',            volume: _SOUND_vol['sfx'], url: '/sfx/thief.mp3'});		
		_SOUND_arr['sfx']['copper']           = soundManager.createSound({id: 'copper',           volume: _SOUND_vol['sfx'], url: '/sfx/copper.mp3'});
		_SOUND_arr['sfx']['ded_moroz']        = soundManager.createSound({id: 'ded_moroz',        volume: _SOUND_vol['sfx'], url: '/sfx/ded-moroz.mp3'});
		_SOUND_arr['sfx']['fetters']          = soundManager.createSound({id: 'fetters',          volume: _SOUND_vol['sfx'], url: '/sfx/fetters.mp3'});
		_SOUND_arr['sfx']['gift_bag']         = soundManager.createSound({id: 'gift_bag',         volume: _SOUND_vol['sfx'], url: '/sfx/gift-bag.mp3'});
		_SOUND_arr['sfx']['grinch']           = soundManager.createSound({id: 'grinch',           volume: _SOUND_vol['sfx'], url: '/sfx/grinch.mp3'});
		_SOUND_arr['sfx']['invisible']        = soundManager.createSound({id: 'invisible',        volume: _SOUND_vol['sfx'], url: '/sfx/invisible.mp3'});
		_SOUND_arr['sfx']['iron_skin']        = soundManager.createSound({id: 'iron_skin',        volume: _SOUND_vol['sfx'], url: '/sfx/iron-skin.mp3'});
		_SOUND_arr['sfx']['magnet']           = soundManager.createSound({id: 'magnet',           volume: _SOUND_vol['sfx'], url: '/sfx/magnet.mp3'});
		_SOUND_arr['sfx']['magnet_use']       = soundManager.createSound({id: 'magnet_use',       volume: _SOUND_vol['sfx'], url: '/sfx/magnet-use.mp3'});
		_SOUND_arr['sfx']['megashocker']      = soundManager.createSound({id: 'megashocker',      volume: _SOUND_vol['sfx'], url: '/sfx/megashocker.mp3'});
		_SOUND_arr['sfx']['paralyzing_trap']  = soundManager.createSound({id: 'paralyzing_trap',  volume: _SOUND_vol['sfx'], url: '/sfx/paralyzing-trap.mp3'});
		_SOUND_arr['sfx']['passport_maf']     = soundManager.createSound({id: 'passport_maf',     volume: _SOUND_vol['sfx'], url: '/sfx/passport-maf.mp3'});
		_SOUND_arr['sfx']['poison']           = soundManager.createSound({id: 'poison',           volume: _SOUND_vol['sfx'], url: '/sfx/poison.mp3'});
		_SOUND_arr['sfx']['poison_kill']      = soundManager.createSound({id: 'poison_kill',      volume: _SOUND_vol['sfx'], url: '/sfx/poison-kill.mp3'});
		_SOUND_arr['sfx']['reanimator']       = soundManager.createSound({id: 'reanimator',       volume: _SOUND_vol['sfx'], url: '/sfx/reanimator.mp3'});
		_SOUND_arr['sfx']['shocker']          = soundManager.createSound({id: 'shocker',          volume: _SOUND_vol['sfx'], url: '/sfx/shocker.mp3'});
		_SOUND_arr['sfx']['sniper_rifle']     = soundManager.createSound({id: 'sniper_rifle',     volume: _SOUND_vol['sfx'], url: '/sfx/sniper-rifle.mp3'});
		_SOUND_arr['sfx']['surprise_box']     = soundManager.createSound({id: 'surprise_box',     volume: _SOUND_vol['sfx'], url: '/sfx/surprise-box.mp3'});
		_SOUND_arr['sfx']['trip_wire']        = soundManager.createSound({id: 'trip_wire',        volume: _SOUND_vol['sfx'], url: '/sfx/trip-wire.mp3'});
		_SOUND_arr['sfx']['virus_die']        = soundManager.createSound({id: 'virus_die',        volume: _SOUND_vol['sfx'], url: '/sfx/virus-die.mp3'});
		_SOUND_arr['sfx']['virus_zombie']     = soundManager.createSound({id: 'virus_zombie',     volume: _SOUND_vol['sfx'], url: '/sfx/virus-zombie.mp3'});
		_SOUND_arr['sfx']['buy_gift']         = soundManager.createSound({id: 'buy_gift',         volume: _SOUND_vol['sfx'], url: '/sfx/buy-gift.mp3'});
		_SOUND_arr['sfx']['clan_bank']        = soundManager.createSound({id: 'clan_bank',        volume: _SOUND_vol['sfx'], url: '/sfx/clan-bank.mp3'});
		_SOUND_arr['sfx']['click_button']     = soundManager.createSound({id: 'click_button',     volume: _SOUND_vol['sfx'], url: '/sfx/click-button.mp3'});
		_SOUND_arr['sfx']['close_window']     = soundManager.createSound({id: 'close_window',     volume: _SOUND_vol['sfx'], url: '/sfx/close-window.mp3'});
		_SOUND_arr['sfx']['get_bonus']        = soundManager.createSound({id: 'get_bonus',        volume: _SOUND_vol['sfx'], url: '/sfx/get-bonus.mp3'});
		_SOUND_arr['sfx']['get_lottery']      = soundManager.createSound({id: 'get_lottery',      volume: _SOUND_vol['sfx'], url: '/sfx/get-lottery.mp3'});
		_SOUND_arr['sfx']['hour_bonus']       = soundManager.createSound({id: 'hour_bonus',       volume: _SOUND_vol['sfx'], url: '/sfx/hour-bonus.mp3'});
		_SOUND_arr['sfx']['new_message']      = soundManager.createSound({id: 'new_message',      volume: _SOUND_vol['sfx'], url: '/sfx/new-message.mp3'});
		_SOUND_arr['sfx']['vote_kill']        = soundManager.createSound({id: 'vote_kill',        volume: _SOUND_vol['sfx'], url: '/sfx/vote-kill.mp3'});
		_SOUND_arr['sfx']['rozario']          = soundManager.createSound({id: 'rozario',          volume: _SOUND_vol['sfx'], url: '/sfx/rozario.mp3'});
		_SOUND_arr['sfx']['marko']            = soundManager.createSound({id: 'marko',            volume: _SOUND_vol['sfx'], url: '/sfx/marko.mp3'});

		_SOUND_arr['sfx']['prof_turn']        = soundManager.createSound({id: 'prof_turn',        volume: _SOUND_vol['sfx'], url: '/sfx/prof-turn.mp3'});
		_SOUND_arr['sfx']['suitcase_use']     = soundManager.createSound({id: 'suitcase_use',     volume: _SOUND_vol['sfx'], url: '/sfx/suitcase-use.mp3'});
		_SOUND_arr['sfx']['zombie_convert']   = soundManager.createSound({id: 'zombie_convert',   volume: _SOUND_vol['sfx'], url: '/sfx/zombie-convert.mp3'});
		_SOUND_arr['sfx']['zombie_turn']      = soundManager.createSound({id: 'zombie_turn',      volume: _SOUND_vol['sfx'], url: '/sfx/zombie-turn.mp3'});
		
		_SOUND_arr['sfx']['stone_egg_do']     = soundManager.createSound({id: 'stone_egg_do',      volume: _SOUND_vol['sfx'], url: '/sfx/events/easter/stone_egg_do.mp3'});
		_SOUND_arr['sfx']['stone_egg_fail']   = soundManager.createSound({id: 'stone_egg_fail',    volume: _SOUND_vol['sfx'], url: '/sfx/events/easter/stone_egg_fail.mp3'});
		_SOUND_arr['sfx']['stone_egg_success']= soundManager.createSound({id: 'stone_egg_success', volume: _SOUND_vol['sfx'], url: '/sfx/events/easter/stone_egg_success.mp3'});
		_SOUND_arr['sfx']['bonus_play_use']=    soundManager.createSound({id: 'bonus_play_use',    volume: _SOUND_vol['sfx'], url: '/sfx/events/easter/bonus_play_use.mp3'});
				
		_SOUND_arr['sfx']['role_turn']        = soundManager.createSound({id: 'role_turn',        volume: _SOUND_vol['sfx'], url: '/sfx/events/easter2/role-turn.mp3'});
		_SOUND_arr['sfx']['item_click']       = soundManager.createSound({id: 'item_click',       volume: _SOUND_vol['sfx'], url: '/sfx/events/easter2/item-click.mp3'});
		_SOUND_arr['sfx']['event_extra']      = soundManager.createSound({id: 'event_extra',      volume: _SOUND_vol['sfx'], url: '/sfx/events/easter2/event-extra.mp3'});
		_SOUND_arr['sfx']['arms_box']         = soundManager.createSound({id: 'arms_box',         volume: _SOUND_vol['sfx'], url: '/sfx/arms-box.mp3'});
		//banditos extras
		_SOUND_arr['sfx']['latchkey']         = soundManager.createSound({id: 'latchkey',         volume: _SOUND_vol['sfx'], url: '/sfx/extra/latchkey.mp3'});
		_SOUND_arr['sfx']['punishment_use']   = soundManager.createSound({id: 'punishment_use',   volume: _SOUND_vol['sfx'], url: '/sfx/extra/punishment_use.mp3'});
		// extra carnival2
		_SOUND_arr['sfx']['crystal_ball_use'] = soundManager.createSound({id: 'crystal_ball_use',         volume: _SOUND_vol['sfx'], url: '/sfx/extra/crystal_ball_use.mp3'});
		_SOUND_arr['sfx']['luck_clover']      = soundManager.createSound({id: 'luck_clover',   volume: _SOUND_vol['sfx'], url: '/sfx/extra/luck_clover.mp3'});		
		_SOUND_arr['sfx']['magic_fetter_use'] = soundManager.createSound({id: 'punishment_use',   volume: _SOUND_vol['sfx'], url: '/sfx/extra/magic_fetter_use.mp3'});
		
		// banditos
		_SOUND_arr['sfx']['tnt_explode']= soundManager.createSound({id: 'tnt_explode',volume: _SOUND_vol['sfx'], url: '/sfx/events/banditos/tnt_explode.mp3'});
		_SOUND_arr['sfx']['tnt_sacrifice']        = soundManager.createSound({id: 'tnt_sacrifice',        volume: _SOUND_vol['sfx'], url: '/sfx/events/banditos/tnt_sacrifice.mp3'});
		_SOUND_arr['sfx']['tnt_use']       = soundManager.createSound({id: 'tnt_use',       volume: _SOUND_vol['sfx'], url: '/sfx/events/banditos/tnt_use.mp3'});
		_SOUND_arr['sfx']['ricochet'] = soundManager.createSound({id: 'ricochet', volume: _SOUND_vol['sfx'], url: '/sfx/events/banditos/ricochet.mp3'});
		_SOUND_arr['sfx']['mark_use']        = soundManager.createSound({id: 'mark_use',        volume: _SOUND_vol['sfx'], url: '/sfx/events/banditos/mark_use.mp3'});
		_SOUND_arr['sfx']['eagle_eye']     = soundManager.createSound({id: 'eagle_eye',     volume: _SOUND_vol['sfx'], url: '/sfx/events/banditos/eagle_eye.mp3'});
		_SOUND_arr['sfx']['napalm']       = soundManager.createSound({id: 'napalm',       volume: _SOUND_vol['sfx'], url: '/sfx/events/banditos/napalm.mp3'});
		_SOUND_arr['sfx']['miss']        = soundManager.createSound({id: 'miss',        volume: _SOUND_vol['sfx'], url: '/sfx/events/banditos/miss.mp3'});

		// lili
		_SOUND_arr['sfx']['bomb_atom_deactivate']= soundManager.createSound({id: 'bomb_atom_deactivate',volume: _SOUND_vol['sfx'], url: '/sfx/events/lili/bomb_atom_deactivate.mp3'});
		_SOUND_arr['sfx']['bomb_atom_do']        = soundManager.createSound({id: 'bomb_atom_do',        volume: _SOUND_vol['sfx'], url: '/sfx/events/lili/bomb_atom_do.mp3'});
		_SOUND_arr['sfx']['bomb_atom_use']       = soundManager.createSound({id: 'bomb_atom_use',       volume: _SOUND_vol['sfx'], url: '/sfx/events/lili/bomb_atom_use.mp3'});
		_SOUND_arr['sfx']['bomb_chainfreeze_do'] = soundManager.createSound({id: 'bomb_chainfreeze_do', volume: _SOUND_vol['sfx'], url: '/sfx/events/lili/bomb_chainfreeze_do.mp3'});
		_SOUND_arr['sfx']['bomb_linking']        = soundManager.createSound({id: 'bomb_linking',        volume: _SOUND_vol['sfx'], url: '/sfx/events/lili/bomb_linking.mp3'});
		_SOUND_arr['sfx']['bomb_revenge_do']     = soundManager.createSound({id: 'bomb_revenge_do',     volume: _SOUND_vol['sfx'], url: '/sfx/events/lili/bomb_revenge_do.mp3'});
		_SOUND_arr['sfx']['bomb_sleep_do']       = soundManager.createSound({id: 'bomb_sleep_do',       volume: _SOUND_vol['sfx'], url: '/sfx/events/lili/bomb_sleep_do.mp3'});
		_SOUND_arr['sfx']['bomb_vile_do']        = soundManager.createSound({id: 'bomb_vile_do',        volume: _SOUND_vol['sfx'], url: '/sfx/events/lili/bomb_vile_do.mp3'});
		_SOUND_arr['sfx']['lili_turn']           = soundManager.createSound({id: 'lili_turn',           volume: _SOUND_vol['sfx'], url: '/sfx/events/lili/lili_turn.mp3'});

		// !!!!! NEWTONY
		_SOUND_arr['sfx']['extra_megaextra']     = soundManager.createSound({id: 'extra_megaextra',     volume: _SOUND_vol['sfx'], url: '/sfx/extra_megaextra.mp3'});
		_SOUND_arr['sfx']['extra_flamethrower']  = soundManager.createSound({id: 'extra_flamethrower',  volume: _SOUND_vol['sfx'], url: '/sfx/extra_flamethrower.mp3'});
		_SOUND_arr['sfx']['extra_iron']          = soundManager.createSound({id: 'extra_iron',          volume: _SOUND_vol['sfx'], url: '/sfx/extra_iron.mp3'});
		_SOUND_arr['sfx']['extra_shockgrenade']  = soundManager.createSound({id: 'extra_shockgrenade',  volume: _SOUND_vol['sfx'], url: '/sfx/extra_shockgrenade.mp3'});
		
		_SOUND_arr['sfx']['extra_safetonyfail']   = soundManager.createSound({id: 'extra_safetonyfail',     volume: _SOUND_vol['sfx'], url: '/sfx/extra_safetonyfail.mp3'});
		_SOUND_arr['sfx']['extra_safetonysuccess']= soundManager.createSound({id: 'extra_safetonysuccess',  volume: _SOUND_vol['sfx'], url: '/sfx/extra_safetonysuccess.mp3'});
		_SOUND_arr['sfx']['extra_safetonyuse']   = soundManager.createSound({id: 'extra_safetonyuse',     volume: _SOUND_vol['sfx'], url: '/sfx/extra_safetonyuse.mp3'});
		_SOUND_arr['sfx']['extra_markohammer']   = soundManager.createSound({id: 'extra_markohammer',     volume: _SOUND_vol['sfx'], url: '/sfx/extra_markohammer.mp3'});
		
		_SOUND_arr['sfx']['turn_peppi']   = soundManager.createSound({id: 'turn_peppi',     volume: _SOUND_vol['sfx'], url: '/sfx/events/newtony/turn_peppi.mp3'});
		_SOUND_arr['sfx']['peppi_bomb']   = soundManager.createSound({id: 'peppi_bomb',     volume: _SOUND_vol['sfx'], url: '/sfx/events/newtony/peppi_bomb.mp3'});
		//_SOUND_arr['sfx']['dummy_b']
		
		// Fortune
		_SOUND_arr['sfx']['fortune_spin']  = soundManager.createSound({id: 'fortune_spin',  volume: _SOUND_vol['sfx'], url: '/sfx/events/fortune/fortune_spin.mp3'});
		_SOUND_arr['sfx']['fortune_coins'] = soundManager.createSound({id: 'fortune_coins', volume: _SOUND_vol['sfx'], url: '/sfx/events/fortune/fortune_coins.mp3'});
		_SOUND_arr['sfx']['fortune_extra'] = soundManager.createSound({id: 'fortune_extra', volume: _SOUND_vol['sfx'], url: '/sfx/events/fortune/fortune_extra.mp3'});
		_SOUND_arr['sfx']['fortune_key']   = soundManager.createSound({id: 'fortune_key',   volume: _SOUND_vol['sfx'], url: '/sfx/events/fortune/fortune_key.mp3'});
		_SOUND_arr['sfx']['fortune_chest_get']   = soundManager.createSound({id: 'fortune_chest_get',   volume: _SOUND_vol['sfx'], url: '/sfx/events/fortune/fortune_chest_get.mp3'});

		// Professor
		_SOUND_arr['sfx']['mutant_turn']  = soundManager.createSound({id: 'mutant_turn',  volume: _SOUND_vol['sfx'], url: '/sfx/events/prof/mutant_turn.mp3'});
		_SOUND_arr['sfx']['golem_turn'] = soundManager.createSound({id: 'golem_turn', volume: _SOUND_vol['sfx'], url: '/sfx/events/prof/golem_turn.mp3'});
		_SOUND_arr['sfx']['mutant_hit'] = soundManager.createSound({id: 'mutant_hit', volume: _SOUND_vol['sfx'], url: '/sfx/events/prof/mutant_hit.mp3'});
		_SOUND_arr['sfx']['mutant_morph']   = soundManager.createSound({id: 'mutant_morph',   volume: _SOUND_vol['sfx'], url: '/sfx/events/prof/mutant_morph.mp3'});
		_SOUND_arr['sfx']['golem_morph']   = soundManager.createSound({id: 'golem_morph',   volume: _SOUND_vol['sfx'], url: '/sfx/events/prof/golem_morph.mp3'});
		_SOUND_arr['sfx']['escape']   = soundManager.createSound({id: 'fortune_key',   volume: _SOUND_vol['sfx'], url: '/sfx/events/prof/escape.mp3'});
		_SOUND_arr['sfx']['unstable_explode']   = soundManager.createSound({id: 'unstable_explode',   volume: _SOUND_vol['sfx'], url: '/sfx/events/prof/unstable_explode.mp3'});
		_SOUND_arr['sfx']['unstable_throw']   = soundManager.createSound({id: 'unstable_throw',   volume: _SOUND_vol['sfx'], url: '/sfx/events/prof/unstable_throw.mp3'});
		_SOUND_arr['sfx']['resurrect']   = soundManager.createSound({id: 'resurrect',   volume: _SOUND_vol['sfx'], url: '/sfx/events/prof/resurrect.mp3'});
		_SOUND_arr['sfx']['virus_rage']   = soundManager.createSound({id: 'virus_rage',   volume: _SOUND_vol['sfx'], url: '/sfx/events/prof/virus_rage.mp3'});
		_SOUND_arr['sfx']['virus_plague']   = soundManager.createSound({id: 'virus_plague',   volume: _SOUND_vol['sfx'], url: '/sfx/events/prof/virus_plague.mp3'});
		_SOUND_arr['sfx']['virus_sleep']   = soundManager.createSound({id: 'virus_sleep',   volume: _SOUND_vol['sfx'], url: '/sfx/events/prof/virus_sleep.mp3'});
		
		// Yakuza sfx
		_SOUND_arr['sfx']['yak_token']        = soundManager.createSound({id: 'yak_token',        volume: _SOUND_vol['sfx'], url: '/sfx/extra/yak_token.mp3'});
		_SOUND_arr['sfx']['carnival_token']   = soundManager.createSound({id: 'carnival_token',   volume: _SOUND_vol['sfx'], url: '/sfx/extra/carnival_token.mp3'});
		_SOUND_arr['sfx']['powder_b_use']     = soundManager.createSound({id: 'powder_b_use',     volume: _SOUND_vol['sfx'], url: '/sfx/powder_b_use.mp3'});
		_SOUND_arr['sfx']['powder_b_explode'] = soundManager.createSound({id: 'powder_b_explode', volume: _SOUND_vol['sfx'], url: '/sfx/powder_b_explode.mp3'});
		_SOUND_arr['sfx']['powder_b_lose']    = soundManager.createSound({id: 'powder_b_lose',    volume: _SOUND_vol['sfx'], url: '/sfx/powder_b_lose.mp3'});
		_SOUND_arr['sfx']['katana']           = soundManager.createSound({id: 'katana',           volume: _SOUND_vol['sfx'], url: '/sfx/katana.mp3'});
		_SOUND_arr['sfx']['dummy_b']          = soundManager.createSound({id: 'dummy_b',          volume: _SOUND_vol['sfx'], url: '/sfx/dummy_b.mp3'});
		// Valentine
		_SOUND_arr['sfx']['joker']            = soundManager.createSound({id: 'joker',            volume: _SOUND_vol['sfx'], url: '/sfx/joker.mp3'});
		_SOUND_arr['sfx']['molotov_c_use']    = soundManager.createSound({id: 'molotov_c_use',    volume: _SOUND_vol['sfx'], url: '/sfx/molotov_c_use.mp3'});
		_SOUND_arr['sfx']['molotov_c_fire']   = soundManager.createSound({id: 'molotov_c_fire',   volume: _SOUND_vol['sfx'], url: '/sfx/molotov_c_fire.mp3'});
		_SOUND_arr['sfx']['vl_case_use']      = soundManager.createSound({id: 'vl_case_use',      volume: _SOUND_vol['sfx'], url: '/sfx/vl_case_use.mp3'});
		_SOUND_arr['sfx']['shot_bronebojnij'] = soundManager.createSound({id: 'shot_bronebojnij', volume: _SOUND_vol['sfx'], url: '/sfx/events/love/shot-bronebojnij.mp3'});
		_SOUND_arr['sfx']['shot_dvojnoj']     = soundManager.createSound({id: 'shot_dvojnoj',     volume: _SOUND_vol['sfx'], url: '/sfx/events/love/shot-dvojnoj.mp3'});
		_SOUND_arr['sfx']['shot_holostoj']    = soundManager.createSound({id: 'shot_holostoj',    volume: _SOUND_vol['sfx'], url: '/sfx/events/love/shot-holostoj.mp3'});
		_SOUND_arr['sfx']['shot_jadovitij']   = soundManager.createSound({id: 'shot_jadovitij',   volume: _SOUND_vol['sfx'], url: '/sfx/events/love/shot-jadovitij.mp3'});
		_SOUND_arr['sfx']['shot_kontuzija']   = soundManager.createSound({id: 'shot_kontuzija',   volume: _SOUND_vol['sfx'], url: '/sfx/events/love/shot-kontuzija.mp3'});
		_SOUND_arr['sfx']['shot_priceljnij']  = soundManager.createSound({id: 'shot_priceljnij',  volume: _SOUND_vol['sfx'], url: '/sfx/events/love/shot-priceljnij.mp3'});
		_SOUND_arr['sfx']['turn_valentine']   = soundManager.createSound({id: 'turn_valentine',   volume: _SOUND_vol['sfx'], url: '/sfx/events/love/turn-valentine.mp3'});
		_SOUND_arr['sfx']['extra_theft']      = soundManager.createSound({id: 'extra_theft',      volume: _SOUND_vol['sfx'], url: '/sfx/extra-theft.mp3'});
		_SOUND_arr['sfx']['extra_backpunch']  = soundManager.createSound({id: 'extra_backpunch',  volume: _SOUND_vol['sfx'], url: '/sfx/extra-backpunch.mp3'});
		// Vln
		_SOUND_arr['sfx']['box_installation']  = soundManager.createSound({id: 'box_installation',  volume: _SOUND_vol['sfx'], url: '/sfx/events/vln/box_installation.mp3'});
		_SOUND_arr['sfx']['positive_effect']   = soundManager.createSound({id: 'positive_effect',   volume: _SOUND_vol['sfx'], url: '/sfx/events/vln/positive_effect.mp3'});
		_SOUND_arr['sfx']['negative_effect']   = soundManager.createSound({id: 'negative_effect',   volume: _SOUND_vol['sfx'], url: '/sfx/events/vln/negative_effect.mp3'});
		_SOUND_arr['sfx']['opening_box_chocolates'] = soundManager.createSound({id: 'opening_box_chocolates', volume: _SOUND_vol['sfx'], url: '/sfx/events/vln/opening_box_chocolates.mp3'});
		// Pirates
		_SOUND_arr['sfx']['blackmark_set']  = soundManager.createSound({id: 'blackmark_set',  volume: _SOUND_vol['sfx'], url: '/sfx/blackmark_set.mp3'});
		_SOUND_arr['sfx']['blackmark_kill']  = soundManager.createSound({id: 'blackmark_kill',  volume: _SOUND_vol['sfx'], url: '/sfx/blackmark_kill.mp3'});
		_SOUND_arr['sfx']['rum_set']  = soundManager.createSound({id: 'rum_set',  volume: _SOUND_vol['sfx'], url: '/sfx/rum_set.mp3'});
		_SOUND_arr['sfx']['rum_target']  = soundManager.createSound({id: 'rum_target',  volume: _SOUND_vol['sfx'], url: '/sfx/rum_target.mp3'});
		_SOUND_arr['sfx']['ship_cannon_fire']  = soundManager.createSound({id: 'ship_cannon_fire',  volume: _SOUND_vol['sfx'], url: '/sfx/ship_cannon_fire.mp3'});
		_SOUND_arr['sfx']['ship_cannon_hide']  = soundManager.createSound({id: 'ship_cannon_hide',  volume: _SOUND_vol['sfx'], url: '/sfx/ship_cannon_hide.mp3'});
		_SOUND_arr['sfx']['ship_cannon_kill']  = soundManager.createSound({id: 'ship_cannon_kill',  volume: _SOUND_vol['sfx'], url: '/sfx/ship_cannon_kill.mp3'});
		// Lin
		_SOUND_arr['sfx']['yak_turn']         = soundManager.createSound({id: 'yak_turn',         volume: _SOUND_vol['sfx'], url: '/sfx/events/yakuza/yak-turn.mp3'});
		_SOUND_arr['sfx']['shadow_turn']      = soundManager.createSound({id: 'shadow_turn',      volume: _SOUND_vol['sfx'], url: '/sfx/events/yakuza/shadow-turn.mp3'});
		_SOUND_arr['sfx']['open_yakuza_chest']= soundManager.createSound({id: 'open_yakuza_chest',volume: _SOUND_vol['sfx'], url: '/sfx/events/yakuza/open-yakuza-chest.mp3'});
		_SOUND_arr['sfx']['night_vision']     = soundManager.createSound({id: 'night_vision',     volume: _SOUND_vol['sfx'], url: '/sfx/events/yakuza/night-vision.mp3'});
		_SOUND_arr['sfx']['mountain_turn']    = soundManager.createSound({id: 'mountain_turn',    volume: _SOUND_vol['sfx'], url: '/sfx/events/yakuza/mountain-turn.mp3'});
		_SOUND_arr['sfx']['lin_turn_pass']    = soundManager.createSound({id: 'lin_turn_pass',    volume: _SOUND_vol['sfx'], url: '/sfx/events/yakuza/lin-turn-pass.mp3'});
		_SOUND_arr['sfx']['lin_kill']         = soundManager.createSound({id: 'lin_kill',         volume: _SOUND_vol['sfx'], url: '/sfx/events/yakuza/lin-kill.mp3'});
		_SOUND_arr['sfx']['lin_amulet_use']   = soundManager.createSound({id: 'lin_amulet_use',  volume: _SOUND_vol['sfx'], url: '/sfx/events/yakuza/lin-amulet-use.mp3'});
		_SOUND_arr['sfx']['lin_amulet_ressurect']= soundManager.createSound({id: 'lin_amulet_ressurect',  volume: _SOUND_vol['sfx'], url: '/sfx/events/yakuza/lin-amulet-ressurect.mp3'});
		//
		_SOUND_arr['sfx']['immortality']      = soundManager.createSound({id: 'immortality',      volume: _SOUND_vol['sfx'], url: '/sfx/events/ripper/immortality.mp3'});
		_SOUND_arr['sfx']['double_punch']     = soundManager.createSound({id: 'double_punch',     volume: _SOUND_vol['sfx'], url: '/sfx/events/ripper/double-punch.mp3'});
		_SOUND_arr['sfx']['murder']           = soundManager.createSound({id: 'murder',           volume: _SOUND_vol['sfx'], url: '/sfx/events/ripper/murder.mp3'});
		_SOUND_arr['sfx']['intuition']        = soundManager.createSound({id: 'intuition',        volume: _SOUND_vol['sfx'], url: '/sfx/events/ripper/intuition.mp3'});
		_SOUND_arr['sfx']['nightmare']        = soundManager.createSound({id: 'nightmare',        volume: _SOUND_vol['sfx'], url: '/sfx/events/ripper/nightmare.mp3'});
		_SOUND_arr['sfx']['open_chest']       = soundManager.createSound({id: 'open_chest',       volume: _SOUND_vol['sfx'], url: '/sfx/events/ripper/open-chest.mp3'});
		_SOUND_arr['sfx']['super_strength']   = soundManager.createSound({id: 'super_strength',   volume: _SOUND_vol['sfx'], url: '/sfx/events/ripper/super-strength.mp3'});
		_SOUND_arr['sfx']['ripper_turn']      = soundManager.createSound({id: 'ripper_turn',      volume: _SOUND_vol['sfx'], url: '/sfx/events/ripper/ripper-turn.mp3'});
		//ny
		_SOUND_arr['sfx']['ice_extra']    = soundManager.createSound({id: 'ice_extra',   volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/ice_extra.mp3'});
		_SOUND_arr['sfx']['ice_extra_fail']    = soundManager.createSound({id: 'ice_extra_fail',   volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/ice_extra_fail.mp3'});
		_SOUND_arr['sfx']['ny_token']    = soundManager.createSound({id: 'ny_token',   volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/ny_token.mp3'});
		_SOUND_arr['sfx']['ny_mega_token']    = soundManager.createSound({id: 'ny_mega_token',   volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/ny_mega_token.mp3'});
		_SOUND_arr['sfx']['ny_taro_use']    = soundManager.createSound({id: 'ny_taro_use',   volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/ny_taro_use.mp3'});
		_SOUND_arr['sfx']['grinch_bag_open']    = soundManager.createSound({id: 'grinch_bag_open',   volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/grinch_bag_open.mp3'});
		_SOUND_arr['sfx']['ny_extra_box']    = soundManager.createSound({id: 'ny_extra_box',   volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/ny_extra_box.mp3'});
		_SOUND_arr['sfx']['grinch_turn']    = soundManager.createSound({id: 'grinch_turn',   volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/grinch_turn.mp3'});
		_SOUND_arr['sfx']['ny_tony_turn']    = soundManager.createSound({id: 'ny_tony_turn',   volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/ny_tony_turn.mp3'});


		_SOUND_arr['sfx']['collect_gift']    = soundManager.createSound({id: 'collect_gift',   volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/collect-gift.mp3'});
		_SOUND_arr['sfx']['bag_open']        = soundManager.createSound({id: 'bag_open',       volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/bag-open.mp3'});
		_SOUND_arr['sfx']['bag_timer']       = soundManager.createSound({id: 'bag_timer',      volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/bag-timer.mp3'});
		_SOUND_arr['sfx']['lottery']         = soundManager.createSound({id: 'lottery',        volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/lottery.mp3'});
		_SOUND_arr['sfx']['snow_bomb']         = soundManager.createSound({id: 'snow_bomb',        volume: _SOUND_vol['sfx'], url: '/sfx/events/ny/snow-bomb.mp3'});
		// BEARD
		_SOUND_arr['sfx']['beard_turn']        = soundManager.createSound({id: 'beard_turn',        volume: _SOUND_vol['sfx'], url: '/sfx/events/beard/beard_turn.mp3'});
		_SOUND_arr['sfx']['beard_bag_open']    = soundManager.createSound({id: 'beard_bag_open',    volume: _SOUND_vol['sfx'], url: '/sfx/events/beard/beard_bag_open.mp3'});
		_SOUND_arr['sfx']['beard_bag_collect'] = soundManager.createSound({id: 'beard_bag_collect', volume: _SOUND_vol['sfx'], url: '/sfx/events/beard/beard_bag_collect.mp3'});
		_SOUND_arr['sfx']['beard_immortality'] = soundManager.createSound({id: 'beard_immortality', volume: _SOUND_vol['sfx'], url: '/sfx/events/beard/immortality.mp3'});
		_SOUND_arr['sfx']['live_bomb']         = soundManager.createSound({id: 'live_bomb',         volume: _SOUND_vol['sfx'], url: '/sfx/events/beard/live_bomb.mp3'});
		_SOUND_arr['sfx']['fright']            = soundManager.createSound({id: 'fright',            volume: _SOUND_vol['sfx'], url: '/sfx/events/beard/fright.mp3'});
		_SOUND_arr['sfx']['ghost']             = soundManager.createSound({id: 'ghost',             volume: _SOUND_vol['sfx'], url: '/sfx/events/beard/ghost.mp3'});
		_SOUND_arr['sfx']['telepat']           = soundManager.createSound({id: 'telepat',           volume: _SOUND_vol['sfx'], url: '/sfx/events/beard/telepat.mp3'});
		_SOUND_arr['sfx']['sixth_sense']       = soundManager.createSound({id: 'sixth_sense',       volume: _SOUND_vol['sfx'], url: '/sfx/events/beard/sixth_sense.mp3'});
		_SOUND_arr['sfx']['beard_poison']      = soundManager.createSound({id: 'beard_poison',      volume: _SOUND_vol['sfx'], url: '/sfx/events/beard/poison.mp3'});
		//
		_SOUND_arr['music']['ach_complete'] = soundManager.createSound({id: 'ach_complete',  volume: _SOUND_vol['music'], url: '/music/ach-complete.mp3'});
		_SOUND_arr['music']['lose']         = soundManager.createSound({id: 'lose',          volume: _SOUND_vol['music'], url: '/music/lose.mp3'});
		_SOUND_arr['music']['win']          = soundManager.createSound({id: 'win',           volume: _SOUND_vol['music'], url: '/music/win.mp3'});
		_SOUND_arr['music']['new_clan_level'] = soundManager.createSound({id: 'new_clan_level', volume: _SOUND_vol['music'], url: '/music/new-clan-level.mp3'});
		_SOUND_arr['music']['new_personal_level'] = soundManager.createSound({id: 'new_personal_level', volume: _SOUND_vol['music'], url: '/music/new-personal-level.mp3'});
		_SOUND_arr['music']['new_rank']     = soundManager.createSound({id: 'new_rank',      volume: _SOUND_vol['music'], url: '/music/new-rank.mp3'});
		_SOUND_arr['music']['game1']        = soundManager.createSound({id: 'game1',        volume: _SOUND_vol['music'], url: '/music/game1.mp3'});
		_SOUND_arr['music']['game2']        = soundManager.createSound({id: 'game2',        volume: _SOUND_vol['music'], url: '/music/game2.mp3'});
		_SOUND_arr['music']['game3']        = soundManager.createSound({id: 'game3',        volume: _SOUND_vol['music'], url: '/music/game3.mp3'});
		_SOUND_arr['music']['game4']        = soundManager.createSound({id: 'game4',        volume: _SOUND_vol['music'], url: '/music/game4.mp3'});
		// DRESSER
		_SOUND_arr['sfx']['dresser_turn']    = soundManager.createSound({id: 'dresser_turn',     volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival/dresser_turn.mp3'});
		_SOUND_arr['sfx']['material_collect']= soundManager.createSound({id: 'material_collect', volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival/material_collect.mp3'});
		_SOUND_arr['sfx']['dresser_chest']   = soundManager.createSound({id: 'dresser_chest',    volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival/dresser_chest.mp3'});
		_SOUND_arr['sfx']['dice_use']   = soundManager.createSound({id: 'dice_use',    volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival/dice_use.mp3'});
		_SOUND_arr['sfx']['dice_win']   = soundManager.createSound({id: 'dice_win',    volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival/dice_win.mp3'});
		_SOUND_arr['sfx']['fortune_chest_open']   = soundManager.createSound({id: 'fortune_chest_open',    volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival/fortune_chest_open.mp3'});
		_SOUND_arr['sfx']['huge_bug_open']   = soundManager.createSound({id: 'huge_bug_open',    volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival/huge_bug_open.mp3'});
		_SOUND_arr['sfx']['pinjata_fail']   = soundManager.createSound({id: 'pinjata_fail',    volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival/pinjata_fail.mp3'});
		_SOUND_arr['sfx']['pinjata_use']   = soundManager.createSound({id: 'pinjata_use',    volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival/pinjata_use.mp3'});
		_SOUND_arr['sfx']['pinjata_win']   = soundManager.createSound({id: 'pinjata_win',    volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival/pinjata_win.mp3'});
		_SOUND_arr['sfx']['carnival_pack_open']   = soundManager.createSound({id: 'carnival_pack_open',    volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival/carnival_pack_open.mp3'});
		_SOUND_arr['sfx']['car_taro_use']    = soundManager.createSound({id: 'car_taro_use',     volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival/car_taro_use.mp3'});
		// CARNIVAL2
		_SOUND_arr['sfx']['teller_turn']        = soundManager.createSound({id: 'teller_turn',        volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival2/teller_turn.mp3'});
		_SOUND_arr['sfx']['open_card_negative'] = soundManager.createSound({id: 'open_card_negative', volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival2/open_card_negative.mp3'});
		_SOUND_arr['sfx']['open_card_positive'] = soundManager.createSound({id: 'open_card_positive', volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival2/open_card_positive.mp3'});
		_SOUND_arr['sfx']['show_card']          = soundManager.createSound({id: 'show_card',          volume: _SOUND_vol['sfx'], url: '/sfx/events/carnival2/show_card.mp3'});
				//
		setTimeout(function(){
			_SOUND_err = false;
		}, 100);
	});

	
	ppp_offset_x = parseInt((parseInt(document.body.clientWidth) - parseInt($("#rootContainer").width())) / 2);

	var _mode = _IFACE_do("init");
	if (_mode != false){
		_IFACE_do("mode", {m: _mode, id: gam_id});

		var _ufv_aa = [];
				var _uol_rows;
		var _uol_u = '';
				var _ufv_rows;
		var _ufv_u = '';
				_ufv_rows = [["2395170","2"],["6257330","1"],["241787","2"],["7724706","2"],["7993769","2"],["10271002","1"],["1722401","1"],["2082126","2"],["9534628","0"],["9946278","0"],["9534757","0"],["9946279","0"],["6409215","0"],["9606811","0"],["9946287","0"],["7304351","0"],["9846264","0"],["9946292","0"],["0","0"],["7357364","0"],["9846284","0"],["9946296","0"],["135828","0"],["7676399","0"],["9849444","0"],["9946310","0"],["9849457","0"],["10213813","0"],["692923","0"],["9849472","0"],["1102452","0"],["8394657","0"],["9849484","0"],["10535202","0"],["1189089","0"],["8600371","0"],["9946186","0"],["10649896","0"],["1613081","0"],["8796988","0"],["9946191","0"],["1637492","0"],["8844329","0"],["9946196","0"],["9009738","0"],["9946206","0"],["9315610","0"],["9946223","0"],["2194163","0"],["9534530","0"],["9946276","0"],["2310349","0"],["9534618","0"],["9946277","0"]];
		$.each(_ufv_rows, function(_i, _row) {
			_ufv_aa[_row[0]] = 1;
			_ufv_u += _UL_add("ufv", _row, true);
		});
				setTimeout(function(){
						if (_ufv_u != ''){
				$("#ufv_list").append(_ufv_u);
				_UL_action("ufv", "scroll");
				_UL_action("ufv", "count");
			}
		}, 1500);
				_UL_action("uol", "scroll");
		_UL_action("uol", "count", true);
		
				var _exts = [["104","110"],["180","0"],["226","0"],["156","1859"],["154","285"],["181","0"],["155","93"],["182","0"],["162","0"],["183","0"],["171","64"],["223","0"],["163",-102344426],["184","0"],["246",-87807672],["232",-83913174],["170","116"],["263","0"],["271","0"],["274",-66608356],["275",-66598489],["273","0"],["113","0"],["189","18"],["186","0"],["112",-61376291],["187","0"],["218",-61239338],["278","0"],["277",-61160079],["217",-61109648],["210",-35363461],["253","69"],["245","0"],["227",-56347976],["239","0"],["168",-56336789],["228",-56269726],["255","0"],["209","0"],["238","0"],["248","0"],["159","23"],["249","0"],["247","0"],["166",-52167786],["233",-48322986],["250","0"],["279","0"],["230",-51168720],["251","48"],["252","20"],["301","0"],["283","0"],["256","0"],["276","0"],["204","16"],["285",-47592336],["282","0"],["207","15"],["287","0"],["260",-45371610],["286","0"],["241","41"],["292","6"],["295","0"],["290","0"],["240","6"],["291","0"],["264","0"],["261","0"],["196","1"],["197","3"],["195","0"],["192","0"],["117","0"],["288","0"],["225","6"],["191","1"],["164",-39526931],["243","2"],["165","0"],["167","0"],["211",-35678531],["224","7"],["193","0"],["203","0"],["185","0"],["244","0"],["262","0"],["194","0"],["116",-39465847],["272",-39423554],["206","0"],["219",-39154064],["298",-39067574],["297",-39067574],["222","0"],["169",-19352231],["141","0"],["128","0"],["280","0"],["281","0"],["231",-19256256],["259",-18116912],["318","0"],["190","0"],["205","2"],["202","0"],["265",-12560603],["266",-12507631],["161","5"],["322","0"],["323","1"],["267",-11890295],["106","0"],["270","0"],["201","0"],["157","0"],["111","5"],["220","0"],["114","6"],["115","0"],["208","0"],["188","0"],["153","0"],["257","0"],["103","0"],["158","15"],["221","3"],["127","0"],["125","1"],["332","0"],["333","0"],["108","0"],["109","0"],["160",-91701],["107","0"],["110","1"],["200","1"],["105","0"],["242","0"],["101","1"],["102","0"]];
		$.each(_exts, function(_i, _row) {
			_GM_action("gxt", "exts", "add", _row);
		});
		
		
				var _gmls = [["5860727","Reqviem","9064233","8","2","20",144,4,"0",["9064233","9305293","10539369","2004602"],0,0],["5861094","Nic\u043elas","2872509","8","3","20",1005,6,"0",["2872509","10215574","1369151","8646662","7724706","758107"],0,0],["5861139","\u041f\u0435\u0440\u0434\u043e\u0441 \u0422\u0432_102","10049891","8","1","20",1110,8,"0",["10049891","11004863","10965786","10805579","11524841","9624299","11525493","10060993"],0,0],["5861151","\u041f\u043e\u0433\u043e\u0432\u043e\u0440\u0438 \u043c\u043d\u0435 \u0435\u0449\u0451","755320","12","1","20",1137,7,"0",["755320","11518091","11491324","10474972","3069616","11525880","9837994"],0,0],["5861171","\u0413\u043e\u043b\u043e\u0434\u043d\u044b\u0439\u041a\u0440\u043e\u043b\u0438\u043a\u0410\u0442\u0430\u043a\u0443\u0435\u0442","10882680","16","1","20",1199,1,"0",["10882680"],0,0]];
		$.each(_gmls, function(_i, _row) {
			_GM_action("gml", "list", "add", _row);
			var _ff = $("#gml_"+ _row[0] +":not(.favoriteDetected)");
			if ($(_ff).length){
				var _ll = 0;
				$.each(_row[9], function(_ii, _rr) {
					//if ($("#ufv_"+ _rr).length) _ll ++;
					if (typeof _ufv_aa[_rr] != "undefined") _ll ++;
				});
				if (_ll) $(_ff).addClass("favoriteDetected");
			}
		});
				
		
		
		/*if (_COOKIE_get("CCM_sfx") != null && !_SFX_mute){
			_SFX_mute = true;
			if (!$(".footerPanel .sound").hasClass("off")) $(".footerPanel .sound").addClass("off");
		}*/
		/*var _lbc = _COOKIE_get("CCM_lobybook_n");
		if (_lbc != null){
			switch(parseInt(_lbc)){
				case 1: switchLobyBookmark('onlineBlock', true); break;
				case 2: switchLobyBookmark('favoritesBlock', true); break;
			}
		}*/
				
				var _bssa = [2616346,"https:\/\/sun9-52.userapi.com\/c855236\/v855236142\/17b1ad\/UAA6eTgZmEg.jpg",0,1,0,15434,"",1578330140,1578330140];
		_CHT_action("", "boss", _bssa);
		
		SMU = new smartupdater({
			url: "/standalone/03525d06750e70f0da2b28177935f26e/SMU/",
			uqw: UQWF_ID,
			type: "GET",
			dataType: "json",
			minTimeout: SMU_timeout,
			maxTimeout: 15000,
			multiplier: 1,
			maxFailedRequests: 1000
		},
		function(data){
			if (!SMU_event_done){
				SMU_event_done = true;
				setTimeout(function(){
					SMU_event(data);
				}, 1);
			}
		});

		setInterval(function(){
			SMU_seconds ++;
			if (!SMU_update){
				SMU_update = -1;
				if (SMU_check_tf){
					clearTimeout(SMU_check_tm);
					SMU_check_tm = null;
					SMU_check_tf = false;
				}
				if (SMU_seconds < 10){
					SMU.set_timeout(SMU_timeout);
				}
			}else if (SMU_update > 0){
				SMU_update --;
			}
			if (_CHT_bss[3] >= 10){
				if (_CHT_bss[1] > 100){
					_CHT_bss[1] -= 10;
					if (_CHT_bss[1] < 100) _CHT_bss[1] = 100;
					if (ifc_mode == "chat"){
						$("#bossBlock .bossBet span").html(Math.floor(_CHT_bss[1]));
						if ($("#bss_bet").length){
							$("#bss_bet").html(Math.floor(_CHT_bss[1]));
						}
					}
				}
				_CHT_bss[3] = 0;
			}
			_CHT_bss[3] ++;
			if (ifc_mode == "chat"){
				var _tt = Math.floor(new Date().getTime() / 1000);
				$("#gml_list > li:not(.leagueSort)").each(function(){
					if ($(this).hasClass("not-displayed")){
						var _hh = parseInt($(this).attr("label"));
						if (_hh < _tt) $(this).removeClass("not-displayed");
					}
				});
				if (spc_id && spc_state != "fin"){
					spc_data['v_time'] ++;
					_GM_action("", "upd", "timer");
				}
			}else if (ifc_mode == "room"){
				if (gam_state == "def" && typeof gam_data['sstamp'] != "undefined"){
					var _sstamp = gam_data['sstamp'];
					gam_data['sstamp'] --;
					if (_sstamp < 1){
						_sstamp = 0;
					}
					if (_sstamp < 30 && !$("#gpl_timer_b").hasClass("time-low")){
						$("#gpl_timer_b").addClass("time-low");
					}
					if (_sstamp > 0 && _sstamp < 120 && gam_data['owner'] == my_id){
						if ($("#gpl_start").hasClass("not-displayed")){
							if (parseInt($("#gpl_cnt").attr("label")) >= 7){
								$("#gpl_start").removeClass("not-displayed");
							}
						}else{
							if (parseInt($("#gpl_cnt").attr("label")) < 7){
								$("#gpl_start").addClass("not-displayed");
							}
						}
					}
					var _ss = _DT_format(_sstamp, {uts: true});
					$("#gpl_timer").html(_ss);
					if (gam_iscripter && SMU_update == -1){
						if (!_sstamp){
							SMU_update = 1;
						}
						if (parseInt($("#gpl_cnt").attr("label")) >= gam_data['players']){
							SMU_update = 5;
						}
					}
				}else if (gam_state == "init"){
					if (typeof gam_data['sale_t'] != "undefined"){
						gam_data['sale_t'] --;
						var _sale_t = gam_data['sale_t'];
						if (_sale_t < 1){
							_sale_t = 0;
							if ($("#gsl_btn").length && $("#gsl_btn").hasClass("off")){
								$("#gsl_btn").addClass("off");
							}
						}
						$("#gsl_timer").html(_sale_t);
						if (_sale_t < 5 && $("#gsl_lnk").length && !$("#gsl_lnk").hasClass("not-displayed")){
							$("#gsl_lnk").addClass("not-displayed");
						}
					}
					if (gam_iscripter && SMU_update == -1){
						SMU_update = 2;
					}
				}
			}else if (ifc_mode == "game"){
				if (gam_state != "fin"){
					if (typeof gam_data['punish'] != "undefined"){
						var _ps = parseInt(gam_data['punish'][0]);
						if (_ps > 0){
							_ps --;
							if (typeof gam_data['punish'] != "undefined") gam_data['punish'][0] = _ps;
							if ($("#pp_punish").length){
								$("#pp_punish").find("div.timer em").html(_ps);
							}
						}
						if (_ps <= 0) _GM_action("", "punish", "remove");
					}
					if (typeof gam_data['atm_bomb'] != "undefined"){
						var _bs = parseInt(gam_data['atm_bomb'][0]);
						if (_bs > 0){
							_bs --;
							if (typeof gam_data['atm_bomb'] != "undefined") gam_data['atm_bomb'][0] = _bs;
							_GM_action("", "atm_bomb", "upd");
						}
						if (_bs <= 0) _GM_action("", "atm_bomb", "remove");
					}
					if (typeof pla_data['mab'] != "undefined"){
						var _ps = parseInt(pla_data['mab']);
						if (_ps > 0){
							_ps --;
							if (typeof pla_data['mab'] != "undefined") pla_data['mab'] = _ps;
							if ($("#pp_man_abomb").length){
								$("#pp_man_abomb").find("div.countdown").html(_ps);
							}
						}
						if (_ps <= 0) _GM_action("", "man_abomb", "remove");
					}
					if (typeof pla_data['pwa3'] != "undefined"){
						var _ps = parseInt(pla_data['pwa3'][0]);
						if (_ps > 0){
							_ps --;
							if (typeof pla_data['pwa3'] != "undefined") pla_data['pwa3'][0] = _ps;
							if ($("#pp_lil_bomb").length){
								$("#pp_lil_bomb").find("div.countdown").html(_ps);
							}
						}
						if (_ps <= 0) _GM_action("", "lil_bomb", "remove");
					}
					gam_data['v_time'] ++;
					_t_left = _GM_action("", "upd", "timer");
					if (gam_iscripter && SMU_update == -1 && !_t_left && !SMU_check_tf){
						SMU_update = 1;
					}
				}
			}
		}, 1000);

		setInterval(function(){
			if (_UL_scrl_uptime("ufv") > 0){
				_UL_action("ufv", "osort", {alpha: 1});
				_UL_action("ufv", "scroll");
			}
			if (ifc_mode != "game"){
				if (_UL_scrl_uptime("uol") > 0){
					_UL_action("uol", "scroll");
				}
			}else{
				$("#gxt_list > li:not(.only-chat)").each(function(){
					var _eid = parseInt($(this).attr("id").substr(4));
					if (_eid > 0 && __store[_eid] && __store[_eid].type == "extra" && __store[_eid].value == "expire"){
						_GM_action("gxt", "exts", "set", [_eid]);
						_GM_action("exl", "exts", "upd", [_eid]);
					}
				});
			}
			var _ppa = [];
			$(".private-popup").each(function(){
				var _id = $(this).attr("id");
				var _ii = _id.substr(4);
				_ppa.push(_ii);
			});
			if (_ppa.length > 0){
				$.ajax({
					async: true,
					cache: false,
					type: "POST",
					url: "/standalone/03525d06750e70f0da2b28177935f26e/DO/" + Math.random(),
					data: {method: "onl_req", ids: _ppa},
					dataType: "json",
					success: function(data) {
						$.each(_ppa, function(_i, _id) {
							var _o = $("#ipv_"+ _id).find(".on-line");
							if ($(_o).length){
								if (typeof data.arr[_id] != "undefined"){
									if ($(_o).hasClass("off")) $(_o).removeClass("off");
								}else{
									if (!$(_o).hasClass("off")) $(_o).addClass("off");
								}
							}
						});
					}
				});
			}
			if (duel_rf_flag != -1){
				if ($("#duels").length && $("#duels .chgTaskPopup").hasClass("not-displayed") && !$("#duels .itemContainer").length){
					_Duels(duel_rf_flag);
				}
			}
		}, 30000);

		
		
		
		
		if (parseInt(buy_dd - uts) > 0){
			setTimeout(function(){
				_GM_action("", "upd", "discounts");
			}, 5000);
		}

		
					
	
		if (my_play_c < 9){
			if (!$("body").hasClass("newbie")) $("body").addClass("newbie");
			if (!gam_id || gam_state == "def") {
				setTimeout(function(){
					$("#roomsListContainer").questMap("init", my_play_c, function(){
						if (!my_play_c) _HX_hint('joh21');
					});
				}, 500);
			}	
		}
		
						
					var _xx = 2;
			var _xx_ttls = ['Мешок с мега-экстрами','Мешок с экстрами на рейтинг','Жетоны Арены'];
			$("#extraDiscountBlock").prepend('<div class="text">Сегодня в продаже:<br/><span>&quot;'+ _xx_ttls[_xx] +'&quot;</span></div><img src="/images/events/epic_arena/mini/'+ _xx +'.png" class="extra" />').removeClass("not-displayed");			
		
		if (my_play_c >= 12) {
								}
		MainMenu.update(my_play_c);
		
		leagueProc("update");	
						
				
				
				
		offersRecount();
						if (!$("#bt_offers").hasClass("not-displayed")){
					}
				
				$('#bt_events div.offerTimer').countdown((parseInt(1580118900) - uts) * 1000, function(event){
			switch(event.type){
				case "finished":
					if (!is_dev) $('#bt_events').remove();
					break;
				default:
					formatCountdownTimer('#bt_events', true);
					break;
			}
		});
		if (my_play_c >= 12 && typeof __hxda['arw_arena_winter_2020'] == "undefined") {
			var arrowTemplate = {
				direction: "rightTop",
				obj: "li.event",
				objPoint: "left bottom",
				showTime: 3,
				startTime: 2,
				objOffset: 24
			}
			Arrows.runTemplate(arrowTemplate);
		}
			}
	if (isMobile) $("body").addClass("mobile");
	
	inputDefValue();	
	ptip.init('.hoverHint', {preset:'tooltip', cls:'brown'});
	_MAF_init();

		
		
	
});

</script>

<div id="rootContainer">
	<!-- Popups -->
	<div id="popup_container">
	</div>

	<div id="smiles_pp" class="popup-smiles not-displayed" onmouseover="_CHT_action('', 'smiles', 'm_over', event);" onmouseout="_CHT_action('', 'smiles', 'm_out', event)" style="width:620px">
		<h1>Все смайлы</h1>
		<div style="height:246px">
		<table id="smiles_content" cellpadding="0" cellspacing="4" class="smiles" align="center">
			<tbody>
			</tbody>
		</table>
		</div>
		<ul class="paging">
			<li id="smp_0" onclick="_CHT_action('0', 'smiles', 'page', event);return false" ondblclick="return false" class="current">1</li>
			<li id="smp_1" onclick="_CHT_action('1', 'smiles', 'page', event);return false" ondblclick="return false">2</li>
			<li id="smp_2" onclick="_CHT_action('2', 'smiles', 'page', event);return false" ondblclick="return false">3</li>
			<li id="smp_3" onclick="_CHT_action('3', 'smiles', 'page', event);return false" ondblclick="return false">4</li>
			<li id="smp_4" onclick="_CHT_action('4', 'smiles', 'page', event);return false" ondblclick="return false">5</li>
			<li id="smp_5" onclick="_CHT_action('5', 'smiles', 'page', event);return false" ondblclick="return false">6</li>
			<li id="smp_6" onclick="_CHT_action('6', 'smiles', 'page', event);return false" ondblclick="return false">7</li>
			<li id="smp_7" class="not-displayed" onclick="_CHT_action('7', 'smiles', 'page', event);return false" ondblclick="return false">8</li>
		</ul>
		
		<h1 style="padding-top:6px;">Последние смайлы</h1>
		<table cellpadding="0" cellspacing="4" class="smiles" align="center">
			<tbody>
				<tr id="smiles_content_l">
									</tr>
			</tbody>
		</table>

		<div class="confirm not-displayed" label="0">
			<div class="area">
				<h1 style="text-align:center">Открыть смайлик?</h1><div style="height:40px"><img src="/images/_.gif" alt="" /></div>Стоимость услуги <b id="smiles_am">150</b> монет<br /><br />
				<button ondblclick="return false" onclick="_CHT_action('', 'smiles', 'cnf_yes', event);return false" hidefocus="true" class="green">Да</button>
				<button ondblclick="return false" onclick="_CHT_action('', 'smiles', 'cnf_no', event);return false" hidefocus="true" class="green">Нет</button>
			</div>
		</div>
		<div class="error not-displayed">
			<div class="area">
				<b>Купить экстру можно только через наш сайт www.bestmafia.com</b>
			</div>
		</div>
		<div class="arrow"></div>
	</div>
	<div id="stickers_pp" class="stickersDialog not-displayed" onmouseover="_CHT_action('', 'stickers', 'm_over', event);" onmouseout="_CHT_action('', 'stickers', 'm_out', event)" style="width:620px">
		<div class="contentContainer">
			<div class="subscribeInfo"></div>
			<div class="scrollContainer">
				<ul id="stickers_content" class="stickersList">
				</ul>
			</div>
					</div>
		<div class="confirmDialog not-displayed">
			<div class="area">
				<h1 style="text-align:center">Оформить подписку?</h1>Вы сможете использовать все доступные вам стикеры. Срок: 7 дн.<p style="margin: 14px 0 0 0; padding:0">Стоимость услуги:</p><p style="margin: 8px 0 0 0; padding: 0"><img src="/images/icons/ruby-micro.png" style="vertical-align: -5px" /><b>10</b></p><br /><br />
				<button ondblclick="return false" onclick="_CHT_action('', 'stickers', 'cnf_yes', event);return false" hidefocus="true" class="green">Да</button>
				<button ondblclick="return false" onclick="_CHT_action('', 'stickers', 'cnf_no', event);return false" hidefocus="true" class="green">Нет</button>
			</div>
		</div>
		<div class="arrow"></div>
	</div>
	<!-- Popups end -->

	<div id="snt_gifts">
	</div>
	<div id="evt_onscreen">
		<button onclick="_EvtCollectOnScreenAll();return false" ondblclick="return false" hidefocus="true" class="cssGreenButton2 collectAll off">Собрать всё</button>
	</div>
	
	<div id="mainPage">
		<div id="mainBody">
			<div class="profileBlock ruby">
				
				<div id="myProfilePhoto" ondblclick="return false" onclick="_PRF();return false" class="button" hidefocus="true">
					<div class="border"></div>
					<div class="level" onmouseover="_EXP(0, null, event);" onmouseout="_HINT('exp0_hint', 250);"></div>
					<div class="image hidden"></div>
					<div class="gifts"></div>
				</div>
				
				<button class="button size1 myProfile" ondblclick="return false" onclick="_PRF();return false" class="button" hidefocus="true">Профиль</button>
				<button class="myGuests" ondblclick="return false" onclick="_PRF(false, 'guests');return false" hidefocus="true" label="0"></button>
				
				<div class="name" onclick="_DO_test();return false">
					<span class="my_nickname">Игopь</span> <span class="clan-rank"></span><span class="clan"></span>
				</div>
				
				<div class="coinsCount" onclick="_WND_proc('buy');return false">
					<span class="moneyBalance">1003464</span>
					<button class="plus" hidefocus="true"></button>
				</div>	
								<div class="rubyCount" onclick="_WND_proc('ruby_buy');return false">
					<span class="rubyBalance">0</span>
					<button class="plus" hidefocus="true"></button>
				</div>
							</div>				
		
			<ul id="mainMenu">
								<li class="offers not-displayed" id="bt_offers" ondblclick="return false" onclick="_WND_proc('offers');return false;">
					<div class="offerIco">
						<img src="/img/offers/preview/0.png" />
					</div>
					<div class="timerDiv textTimer">
						<div id="timerDiv" class="offerTimer">
							<span class="unit"><span class="days">0</span>д</span> <span class="unit"><span class="hours">0</span>ч</span> <span class="unit"><span class="minutes">0</span>м</span> <span class="unit"><span class="seconds">0</span>c</span>
						</div>
					</div>
					<span><em class="count">0</em></span>
				</li>
																<li class="event arena_winter_2020" data-tip="Сыграйте 12 игр для открытия раздела!" data-shine="true" id="bt_events" ondblclick="return false" onclick="_Event(0, 'scene_click');_EventScene();return false;">
					<a href="#"></a>
					<div style="width: 100%; position: absolute; bottom: 5px; left: 0">
						<div class="timerDiv textTimer">
							<div id="timerDiv" class="offerTimer">
								<span class="unit"><span class="days">0</span>д</span> <span class="unit"><span class="hours">0</span>ч</span> <span class="unit"><span class="minutes">0</span>м</span> <span class="unit"><span class="seconds">0</span>c</span>
							</div>
						</div>
						<span><em class="count off">0</em></span>
					</div>
					<div class="lock"></div>
				</li>
																<li class="arena lock hoverHint updatedTip" data-tip="Арена закрыта, пока идёт событие<br>«Эпическая Арена»" ondblclick="return false" onclick="return false;"><a href="#"><span>Арена</span></a><div class="lock"></div></li>
								<li class="extras" data-tip="Сыграйте 5 игр для открытия раздела!" id="bt_extras" onclick="_WND_proc('extras');return false;"><a href="#" ondblclick="return false"><span>Экстры</span></a><div class="lock"></div></li>
				<li class="tops"><a href="#" hidefocus="true" ondblclick="return false" onclick="_WND_proc('top');return false"><span>Топы</span></a></li>
				<li class="achievements"><a href="#" ondblclick="return false" onclick="_Achievements();return false;"><span>Достижения</span></a></li>
				<li class="clan" data-tip="Сыграйте 30 игр для открытия раздела!" id="bt_clan"><a href="#" ondblclick="return false" onclick="_WND_proc('clans');return false"><span id="btt_clan">Мой Клан</span></a><div class="lock"></div></li>
				<li class="duels" id="bt_duel" ><a href="#" ondblclick="return false" onclick="_Duels();return false"><span>Дуэли</span></a></li>
			</ul>
			
			<div id="roomsListContainer" class="switch current">
				<div class="playButtonContainer">
					<button id="buttonPlay" ondblclick="return false" hidefocus="true" onclick="_GM_action('buttonPlay', 'play', '', event);return false"></button>
					<button id="buttonCreateGame" ondblclick="return false" onclick="_GM_action('', 'create', 0, event); return false" hidefocus="true"></button>
					<div id="playBonus" class="playBonus bg">
						<div class="bonusAviable">
							<div class="ptip top brown"><div class="ptip-inner">Сыграйте следующую партию чтобы получить монетный бонус!</div><div class="ptip-arrow"></div></div>
							<div class="star anim1"></div>
							<div class="star anim2"></div>
							<div class="star anim3"></div>
							<div class="coinGlow"></div>
						</div>
						
						<div class="playBonusInfo"></div>				
						<div id="cnd_hour_bonuss">
							до бонуса <span class="minutes"></span><b>:</b><span class="seconds"></span>
						</div>
					</div>
				</div>
				<div class="roomsList" data-arena="false">
					<div class="arenaRoom off">
						<div class="container">
							<div class="textInfo">
								<div class="gamesQty">Игр на арене: <span></span></div>
								<div class="arenaExpire">До окончания: 
									<div id="cdn_atour_timer" class="">
										<p class="off"><span class="hours"></span><em>ч</em></p>
										<p><span class="minutes"></span><em>м</em></p>
										<p><span class="seconds"></span><em>с</em></p>
									</div>
								</div>
							</div>
							<div class="coins" title="Ставка">20</div>
							<div class="players" title="Игроков" style="cursor:default"><span></span></div>
							<div class="button"><button id="buttonPlayAt" class="button50px" ondblclick="return false" hidefocus="true" onclick="_GM_action('buttonPlayAt', 'play_at', '', event);return false">Войти</button></div>
						</div>
					</div>
					<div class="scrollContainer">
						<ul id="gml_list">
						</ul>
					</div>
				</div>
				<div id="leagueBlock" class="off" ondblclick="return false" onclick="_WND_proc('league');return false;" data-noleague="true">
					<div class="timer off">
						<div id="cdn_league_end" class="cdnText noMargin white">
							<p><span class="hours"></span>ч</p>
							<p><span class="minutes"></span>м</p>
							<p><span class="seconds"></span>с</p>
						</div>
					</div>
					<div class="progressBar">
						<div class="progress"></div>
						<div class="progressText">
							<em class="current">0</em>
							<span class="separator">/</span>
							<em class="need">0</em>
						</div>
						<div class="nextAwardIco"></div>
					</div>
					<div class="noLeagueText">Сыграйте игру для участия в Лиге</div>
					<button class="showLeaguesAwards cssGreenButton2">смотреть награды</button>
					<div class="img"></div>
				</div>
			</div>
			
			<div id="playersQueueBlock" class="switch">
				<div class="roomSettingsBlock">
					<ul id="roomSettings">
						<li class="rating"><div id="gpl_rating" class="rating"></div></li>
						<li class="playersCount" title="Список игроков"><img src="/img/main-page/players-count.png" style="vertical-align: -8px" alt="" /><span id="gpl_cnt" label="0"></span></li>
						<li class="coins" title="Ставка"><img src="/img/main-page/game-list-coin.png" style="vertical-align: -4px" alt="" /> <span id="gpl_bet"></span></li>
						<li class="time" title="До начала игры" id="gpl_timer_b"><img src="/img/main-page/game-list-time.png" style="vertical-align: -6px" alt="" /> <span id="gpl_timer"></span></li>
					</ul>
					<div class="buttons">
						
						<span id="gpl_title"></span>
						
						<button class="redButton size3 not-displayed" id="gpl_start" ondblclick="return false" onclick="_GM_action('', 'start');return false" hidefocus="true">Начать досрочно</button>
						<button class="greenButton size1" id="gpl_btn_exit" ondblclick="return false" onclick="_GM_action('', 'exit');return false" hidefocus="true">Покинуть</button>
					</div>
				</div>
				
				<ul id="gpl_list" class="playersQueue">
				</ul>
			</div>
			
			<div class="rightBlockContainer">
				<ul class="lobyBookmarks">
					<li class="main current" rel="mainBlock"><div class="hint"><div class="hint-content">Активность</div><div class="arrow"></div></div></li>
					<li class="online" rel="onlineBlock"><div class="cnt"><span id="uol_cnt">0</span></div><div class="hint"><div class="hint-content">Игроки</div><div class="arrow"></div></div></li>
					<li class="favorites" rel="favoritesBlock"><div class="cnt"><span class="online" id="ufv_cnt" class="ufv_cnt"></span></div><div class="hint"><div class="hint-content">Фавориты</div><div class="arrow"></div></div></li>	
				</ul>				
				<div class="mainBlock switch current">
					<div id="bossBlock">
						<div class="bossPhoto hidden"></div>
						<div class="bossFrame" onclick="_PRF(_CHT_bss[0]);return false"></div>
						<div class="bossTalk"><div class="area"><span id="mq_boss" class="marquee"></span></div></div>
						<button class="bossButton pos cssGreenButton2" onclick="_DLG('boss', 0, event);return false" ondblclick="return false" hidefocus="true">Убить босса</button>
						<div class="bossBet">ставка: <span>0</span></div>
					</div>
					<hr />
					<div class="offerMiniBanner not-displayed" label="0" onclick="_WND_proc('offers');return false">
					</div>
					<div id="extraDiscountBlock">
						<button ondblclick="return false" onclick="_WND_proc('extras');return false;" class="button size2" hidefocus="true">Посмотреть</button>
					</div>
					<hr />
					<div class="inviteBlock">
						<button ondblclick="return false" onclick="_WND_proc('invite');return false;">Пригласи друга</button>
					</div>
				</div>
				
				<div class="onlineBlock switch">
					<div class="usersSearch">
						<input id="uol_find" def_value="Введите ник для поиска" type="text" value="Введите ник для поиска" maxlength="21" onkeydown="_UL_action('uol', 'find', {keystate: 'down'}, event);" onkeyup="_UL_action('uol', 'find', {keystate: 'up'}, event);" class="defValue" />
					</div>
					<div id="uol_scrollbar" class="scrollBarContainer" style="height:298px;position:relative">
						<div class="bar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>
						<div class="viewport" style="height:298px">
							<div class="overview">
								<ul id="uol_list" class="users-list">
								</ul>
							</div>
						</div>
					</div>				

				</div>
				
				<div class="favoritesBlock switch">
				
					<div id="ufv_scrollbar" class="scrollBarContainer">
						<div class="bar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>
						<div class="viewport">
							<div class="overview">
								<ul id="ufv_list" class="users-list">
								</ul>
							</div>
						</div>
					</div>
						
				</div>


			</div>
	
		</div>

		
		<ul class="footerPanel">
			<li class="sound off"><div class="cat"></div><img src="/img/_.png" />Звук</li>
			<li onclick="_WND_proc('help');return false" hidefocus="true">Правила игры</li>
			<li id="fullscreen" class="fullscreen" onclick="toggleFullScreen(this)"><div></div></li>
			<li class="lastChild"></li>
		</ul>

	</div>
	
	<div id="gamePage">		
		<div id="gameBody">
			<div id="myExtras">
				<ul id="gxt_list">
				</ul>
				<button id="buyExtras" ondblclick="return false" onclick="_WND_proc('extras');return false;" hidefocus="true" ></button>
								
				<div id="time">
					<span id="gmv_timer" class="time"></span>
				</div>		
			</div>

			<div id="gameContent">
				<ul id="whoIsLife" class="whoIsLife">
				</ul>
				
				<div id="gameRightColumn">

					<div id="favoritesBlockGame">
						<a href="#" class="ufv_bar nobar favoritesLink" onclick="_UL_action('ufv', 'toggle', {use_cookie: true, root_scroll: true});_UL_action('ufv', 'osort', {alpha: 1});return false">Фавориты<div class="state off">выкл</div></a>
						<div class="favoritesList">
						</div>
					</div>
					
					<div id="playersListBlock">
						<div class="upl_bar players-in-game nobar" style="display:none">
							Игроков: <span class="online" id="upl_cnt"></span>
						</div>
			
			
						<div id="upl_scrollbar" class="scrollBarContainer" style="position:relative;display:none">
							<div class="bar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>
							<div class="viewport">
								<div class="overview">
									<ul id="upl_list" class="playersList maxMode">
									</ul>
								</div>
							</div>
						</div>
					</div>


				</div>
			</div>
		</div>

		<div id="footer">
			<ul class="footerPanel">
				<li class="sound off"><div class="cat"></div><img src="/img/_.png" />Звук</li>
				<li id="gmv_exit" onclick="_DLG('exit', 0, event);return false" hidefocus="true"></li>
				<li class="lastChild"></li>
			</ul>
		</div>		

		<span class="game-time-indicator"></span>
		<div id="gameHeader"><div class="day"></div></div>
		<div id="gameFooter"><div class="day"></div></div>	

	</div>
	
	<div id="chatContainer">
		<div id="cco_log" class="chat">
		</div>
		<div id="cpv_log" class="chat pvt off">
		</div>
		<div id="cmf_log" class="chat off">
		</div>
		<div id="ctn_log" class="chat off">
		</div>
		<div id="ccl_log" class="chat off">
		</div>
		
		<div class="chatControl">
			<div class="chatInput">
				<textarea id="ich_txt" onclick="_CHT_focus('ich');return false" onkeydown="return _CHT_action('ich', 'key', 'down', event);" onkeypress="_CHT_action('ich', 'key', 'press', event);"></textarea>
				<button onclick="_CHT_action('ich', 'send', 'close', event);return false" ondblclick="return false" hidefocus="true"></button>
			</div>
	
			<ul class="smiles">
												<li><img onclick="_CHT_action('', 'smile', ':)', event);return false" src="/images/smiles/01.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', ';)', event);return false" src="/images/smiles/02.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', ':P', event);return false" src="/images/smiles/03.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', ':]', event);return false" src="/images/smiles/04.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', ':D', event);return false" src="/images/smiles/05.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', '8-)', event);return false" src="/images/smiles/06.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', '8}', event);return false" src="/images/smiles/07.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', ':`(', event);return false" src="/images/smiles/08.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', ':|', event);return false" src="/images/smiles/09.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', ':(', event);return false" src="/images/smiles/10.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', ':{', event);return false" src="/images/smiles/11.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', '}:', event);return false" src="/images/smiles/12.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', 'x)', event);return false" src="/images/smiles/13.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', '=0', event);return false" src="/images/smiles/14.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', 'B)', event);return false" src="/images/smiles/15.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', ':`)', event);return false" src="/images/smiles/16.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', '(h)', event);return false" src="/images/smiles/17.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', '(b)', event);return false" src="/images/smiles/18.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', '(k)', event);return false" src="/images/smiles/19.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', '(c)', event);return false" src="/images/smiles/20.gif?10" alt=""></li>
								<li><img onclick="_CHT_action('', 'smile', '(f)', event);return false" src="/images/smiles/21.gif?10" alt=""></li>
								<li class="smiles"><button class="smiles" ondblclick="return false" onclick="_CHT_action('', 'smiles', 'toggle', event);return false" hidefocus="true" title="Дополнительные смайлы"></button></li>
				<li class="stickers"><button class="stickers" ondblclick="return false" onclick="_CHT_action('', 'stickers', 'toggle', event);return false" hidefocus="true" title="Стикеры"></button></li>
				<li class="scream"><button ondblclick="return false" onclick="_DLG('scream', 0, event);return false" hidefocus="true">Крикнуть</button></li>
				<li class="last-word not-displayed"><button ondblclick="return false" onclick="_DLG('lword');return false" hidefocus="true">Последнее слово</button></li>
			</ul>
		</div>
	</div>
	
		<ul class="bookmarks">
			<li onclick="_CHT_action('', 'tab', 'cco', event);return false" class="bookmark active" id="cco_tab">Общий чат</li>
			<li onclick="_CHT_action('', 'tab', 'cpv', event);return false" class="bookmark" id="cpv_tab">Личные сообщения <img src="/img/_.png" /></li>
			<li style="display:none" onclick="_CHT_action('', 'tab', 'cmf', event);return false" class="bookmark maf" id="cmf_tab">Чат мафии <img src="/img/_.png" /></li>
			<li style="display:none" onclick="_CHT_action('', 'tab', 'ctn', event);return false" class="bookmark ton" id="ctn_tab">Чат Бандитос <img src="/img/_.png" /></li>
						<li onclick="_CHT_action('', 'tab', 'ccl', event);return false" class="bookmark" id="ccl_tab">Мой Клан <img src="/img/_.png" /></li>
						<li class="lastChild"></li>
		</ul>

		<div class="volumeContainer">
			<div class="volumeControl" style="display:none">
				<div class="volumeSlider" style="float:left">
					<h5>Звуки</h5>
					<div id="sfx" class="sliderVertical" style="height:80px;margin-left:20px">
						<div class="amount"></div>
					</div>
				</div>
				<div class="volumeSlider border" style="float: left">
					<h5>Музыка</h5>
					<div id="music" class="sliderVertical" style="height:80px;margin-left:20px">
						<div class="amount"></div>
					</div>
				</div>
			</div>
		</div>

	
	</div>

<div id="warn_container">
</div>




</body>
</html>